function B6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function od(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var XP={exports:{}},Wg={},JP={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ad=Symbol.for("react.element"),U6=Symbol.for("react.portal"),z6=Symbol.for("react.fragment"),q6=Symbol.for("react.strict_mode"),W6=Symbol.for("react.profiler"),K6=Symbol.for("react.provider"),H6=Symbol.for("react.context"),G6=Symbol.for("react.forward_ref"),Q6=Symbol.for("react.suspense"),Y6=Symbol.for("react.memo"),X6=Symbol.for("react.lazy"),PR=Symbol.iterator;function J6(t){return t===null||typeof t!="object"?null:(t=PR&&t[PR]||t["@@iterator"],typeof t=="function"?t:null)}var ZP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eO=Object.assign,tO={};function Ec(t,e,n){this.props=t,this.context=e,this.refs=tO,this.updater=n||ZP}Ec.prototype.isReactComponent={};Ec.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ec.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nO(){}nO.prototype=Ec.prototype;function KE(t,e,n){this.props=t,this.context=e,this.refs=tO,this.updater=n||ZP}var HE=KE.prototype=new nO;HE.constructor=KE;eO(HE,Ec.prototype);HE.isPureReactComponent=!0;var OR=Array.isArray,rO=Object.prototype.hasOwnProperty,GE={current:null},iO={key:!0,ref:!0,__self:!0,__source:!0};function sO(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)rO.call(e,r)&&!iO.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ad,type:t,key:s,ref:o,props:i,_owner:GE.current}}function Z6(t,e){return{$$typeof:ad,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function QE(t){return typeof t=="object"&&t!==null&&t.$$typeof===ad}function e9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var DR=/\/+/g;function x_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e9(""+t.key):e.toString(36)}function cm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ad:case U6:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+x_(o,0):r,OR(i)?(n="",t!=null&&(n=t.replace(DR,"$&/")+"/"),cm(i,e,n,"",function(h){return h})):i!=null&&(QE(i)&&(i=Z6(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(DR,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",OR(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+x_(s,l);o+=cm(s,e,n,c,i)}else if(c=J6(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+x_(s,l++),o+=cm(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Pp(t,e,n){if(t==null)return t;var r=[],i=0;return cm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function t9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cr={current:null},hm={transition:null},n9={ReactCurrentDispatcher:Cr,ReactCurrentBatchConfig:hm,ReactCurrentOwner:GE};dt.Children={map:Pp,forEach:function(t,e,n){Pp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pp(t,function(){e++}),e},toArray:function(t){return Pp(t,function(e){return e})||[]},only:function(t){if(!QE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};dt.Component=Ec;dt.Fragment=z6;dt.Profiler=W6;dt.PureComponent=KE;dt.StrictMode=q6;dt.Suspense=Q6;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n9;dt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=eO({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=GE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)rO.call(e,c)&&!iO.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:ad,type:t.type,key:i,ref:s,props:r,_owner:o}};dt.createContext=function(t){return t={$$typeof:H6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:K6,_context:t},t.Consumer=t};dt.createElement=sO;dt.createFactory=function(t){var e=sO.bind(null,t);return e.type=t,e};dt.createRef=function(){return{current:null}};dt.forwardRef=function(t){return{$$typeof:G6,render:t}};dt.isValidElement=QE;dt.lazy=function(t){return{$$typeof:X6,_payload:{_status:-1,_result:t},_init:t9}};dt.memo=function(t,e){return{$$typeof:Y6,type:t,compare:e===void 0?null:e}};dt.startTransition=function(t){var e=hm.transition;hm.transition={};try{t()}finally{hm.transition=e}};dt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};dt.useCallback=function(t,e){return Cr.current.useCallback(t,e)};dt.useContext=function(t){return Cr.current.useContext(t)};dt.useDebugValue=function(){};dt.useDeferredValue=function(t){return Cr.current.useDeferredValue(t)};dt.useEffect=function(t,e){return Cr.current.useEffect(t,e)};dt.useId=function(){return Cr.current.useId()};dt.useImperativeHandle=function(t,e,n){return Cr.current.useImperativeHandle(t,e,n)};dt.useInsertionEffect=function(t,e){return Cr.current.useInsertionEffect(t,e)};dt.useLayoutEffect=function(t,e){return Cr.current.useLayoutEffect(t,e)};dt.useMemo=function(t,e){return Cr.current.useMemo(t,e)};dt.useReducer=function(t,e,n){return Cr.current.useReducer(t,e,n)};dt.useRef=function(t){return Cr.current.useRef(t)};dt.useState=function(t){return Cr.current.useState(t)};dt.useSyncExternalStore=function(t,e,n){return Cr.current.useSyncExternalStore(t,e,n)};dt.useTransition=function(){return Cr.current.useTransition()};dt.version="18.2.0";JP.exports=dt;var x=JP.exports;const Qt=od(x),r9=B6({__proto__:null,default:Qt},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i9=x,s9=Symbol.for("react.element"),o9=Symbol.for("react.fragment"),a9=Object.prototype.hasOwnProperty,l9=i9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u9={key:!0,ref:!0,__self:!0,__source:!0};function oO(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)a9.call(e,r)&&!u9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:s9,type:t,key:s,ref:o,props:i,_owner:l9.current}}Wg.Fragment=o9;Wg.jsx=oO;Wg.jsxs=oO;XP.exports=Wg;var b=XP.exports,V0={},aO={exports:{}},li={},lO={exports:{}},uO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,ue){var oe=G.length;G.push(ue);e:for(;0<oe;){var Ee=oe-1>>>1,Re=G[Ee];if(0<i(Re,ue))G[Ee]=ue,G[oe]=Re,oe=Ee;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ue=G[0],oe=G.pop();if(oe!==ue){G[0]=oe;e:for(var Ee=0,Re=G.length,Fe=Re>>>1;Ee<Fe;){var Ve=2*(Ee+1)-1,Oe=G[Ve],Ze=Ve+1,Jt=G[Ze];if(0>i(Oe,oe))Ze<Re&&0>i(Jt,Oe)?(G[Ee]=Jt,G[Ze]=oe,Ee=Ze):(G[Ee]=Oe,G[Ve]=oe,Ee=Ve);else if(Ze<Re&&0>i(Jt,oe))G[Ee]=Jt,G[Ze]=oe,Ee=Ze;else break e}}return ue}function i(G,ue){var oe=G.sortIndex-ue.sortIndex;return oe!==0?oe:G.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],h=[],f=1,p=null,m=3,y=!1,v=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(G){for(var ue=n(h);ue!==null;){if(ue.callback===null)r(h);else if(ue.startTime<=G)r(h),ue.sortIndex=ue.expirationTime,e(c,ue);else break;ue=n(h)}}function w(G){if(E=!1,S(G),!v)if(n(c)!==null)v=!0,Me(P);else{var ue=n(h);ue!==null&&Ne(w,ue.startTime-G)}}function P(G,ue){v=!1,E&&(E=!1,T(N),N=-1),y=!0;var oe=m;try{for(S(ue),p=n(c);p!==null&&(!(p.expirationTime>ue)||G&&!ie());){var Ee=p.callback;if(typeof Ee=="function"){p.callback=null,m=p.priorityLevel;var Re=Ee(p.expirationTime<=ue);ue=t.unstable_now(),typeof Re=="function"?p.callback=Re:p===n(c)&&r(c),S(ue)}else r(c);p=n(c)}if(p!==null)var Fe=!0;else{var Ve=n(h);Ve!==null&&Ne(w,Ve.startTime-ue),Fe=!1}return Fe}finally{p=null,m=oe,y=!1}}var O=!1,D=null,N=-1,K=5,Y=-1;function ie(){return!(t.unstable_now()-Y<K)}function he(){if(D!==null){var G=t.unstable_now();Y=G;var ue=!0;try{ue=D(!0,G)}finally{ue?we():(O=!1,D=null)}}else O=!1}var we;if(typeof I=="function")we=function(){I(he)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,be=Le.port2;Le.port1.onmessage=he,we=function(){be.postMessage(null)}}else we=function(){R(he,0)};function Me(G){D=G,O||(O=!0,we())}function Ne(G,ue){N=R(function(){G(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,Me(P))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(G){switch(m){case 1:case 2:case 3:var ue=3;break;default:ue=m}var oe=m;m=ue;try{return G()}finally{m=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,ue){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var oe=m;m=G;try{return ue()}finally{m=oe}},t.unstable_scheduleCallback=function(G,ue,oe){var Ee=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ee+oe:Ee):oe=Ee,G){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=oe+Re,G={id:f++,callback:ue,priorityLevel:G,startTime:oe,expirationTime:Re,sortIndex:-1},oe>Ee?(G.sortIndex=oe,e(h,G),n(c)===null&&G===n(h)&&(E?(T(N),N=-1):E=!0,Ne(w,oe-Ee))):(G.sortIndex=Re,e(c,G),v||y||(v=!0,Me(P))),G},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(G){var ue=m;return function(){var oe=m;m=ue;try{return G.apply(this,arguments)}finally{m=oe}}}})(uO);lO.exports=uO;var c9=lO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cO=x,ii=c9;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hO=new Set,ff={};function Ol(t,e){Qu(t,e),Qu(t+"Capture",e)}function Qu(t,e){for(ff[t]=e,t=0;t<e.length;t++)hO.add(e[t])}var Js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$0=Object.prototype.hasOwnProperty,h9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kR={},NR={};function f9(t){return $0.call(NR,t)?!0:$0.call(kR,t)?!1:h9.test(t)?NR[t]=!0:(kR[t]=!0,!1)}function d9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function p9(t,e,n,r){if(e===null||typeof e>"u"||d9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ir[t]=new Pr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ir[e]=new Pr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ir[t]=new Pr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ir[t]=new Pr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ir[t]=new Pr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ir[t]=new Pr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ir[t]=new Pr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ir[t]=new Pr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ir[t]=new Pr(t,5,!1,t.toLowerCase(),null,!1,!1)});var YE=/[\-:]([a-z])/g;function XE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(YE,XE);ir[e]=new Pr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(YE,XE);ir[e]=new Pr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(YE,XE);ir[e]=new Pr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ir[t]=new Pr(t,1,!1,t.toLowerCase(),null,!1,!1)});ir.xlinkHref=new Pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ir[t]=new Pr(t,1,!1,t.toLowerCase(),null,!0,!0)});function JE(t,e,n,r){var i=ir.hasOwnProperty(e)?ir[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(p9(e,n,i,r)&&(n=null),r||i===null?f9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ao=cO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Op=Symbol.for("react.element"),wu=Symbol.for("react.portal"),Eu=Symbol.for("react.fragment"),ZE=Symbol.for("react.strict_mode"),j0=Symbol.for("react.profiler"),fO=Symbol.for("react.provider"),dO=Symbol.for("react.context"),e1=Symbol.for("react.forward_ref"),B0=Symbol.for("react.suspense"),U0=Symbol.for("react.suspense_list"),t1=Symbol.for("react.memo"),Oo=Symbol.for("react.lazy"),pO=Symbol.for("react.offscreen"),LR=Symbol.iterator;function ah(t){return t===null||typeof t!="object"?null:(t=LR&&t[LR]||t["@@iterator"],typeof t=="function"?t:null)}var fn=Object.assign,R_;function Oh(t){if(R_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);R_=e&&e[1]||""}return`
`+R_+t}var b_=!1;function A_(t,e){if(!t||b_)return"";b_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{b_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oh(t):""}function m9(t){switch(t.tag){case 5:return Oh(t.type);case 16:return Oh("Lazy");case 13:return Oh("Suspense");case 19:return Oh("SuspenseList");case 0:case 2:case 15:return t=A_(t.type,!1),t;case 11:return t=A_(t.type.render,!1),t;case 1:return t=A_(t.type,!0),t;default:return""}}function z0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Eu:return"Fragment";case wu:return"Portal";case j0:return"Profiler";case ZE:return"StrictMode";case B0:return"Suspense";case U0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dO:return(t.displayName||"Context")+".Consumer";case fO:return(t._context.displayName||"Context")+".Provider";case e1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case t1:return e=t.displayName||null,e!==null?e:z0(t.type)||"Memo";case Oo:e=t._payload,t=t._init;try{return z0(t(e))}catch{}}return null}function g9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z0(e);case 8:return e===ZE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ea(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function y9(t){var e=mO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dp(t){t._valueTracker||(t._valueTracker=y9(t))}function gO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function q0(t,e){var n=e.checked;return fn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function MR(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ea(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yO(t,e){e=e.checked,e!=null&&JE(t,"checked",e,!1)}function W0(t,e){yO(t,e);var n=ea(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?K0(t,e.type,n):e.hasOwnProperty("defaultValue")&&K0(t,e.type,ea(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function FR(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function K0(t,e,n){(e!=="number"||Lm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Dh=Array.isArray;function Lu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ea(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function H0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return fn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function VR(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(le(92));if(Dh(n)){if(1<n.length)throw Error(le(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ea(n)}}function vO(t,e){var n=ea(e.value),r=ea(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $R(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _O(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function G0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_O(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kp,wO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kp=kp||document.createElement("div"),kp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function df(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v9=["Webkit","ms","Moz","O"];Object.keys(zh).forEach(function(t){v9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zh[e]=zh[t]})});function EO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zh.hasOwnProperty(t)&&zh[t]?(""+e).trim():e+"px"}function TO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=EO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _9=fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Q0(t,e){if(e){if(_9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function Y0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var X0=null;function n1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var J0=null,Mu=null,Fu=null;function jR(t){if(t=cd(t)){if(typeof J0!="function")throw Error(le(280));var e=t.stateNode;e&&(e=Yg(e),J0(t.stateNode,t.type,e))}}function IO(t){Mu?Fu?Fu.push(t):Fu=[t]:Mu=t}function SO(){if(Mu){var t=Mu,e=Fu;if(Fu=Mu=null,jR(t),e)for(t=0;t<e.length;t++)jR(e[t])}}function xO(t,e){return t(e)}function RO(){}var C_=!1;function bO(t,e,n){if(C_)return t(e,n);C_=!0;try{return xO(t,e,n)}finally{C_=!1,(Mu!==null||Fu!==null)&&(RO(),SO())}}function pf(t,e){var n=t.stateNode;if(n===null)return null;var r=Yg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(le(231,e,typeof n));return n}var Z0=!1;if(Js)try{var lh={};Object.defineProperty(lh,"passive",{get:function(){Z0=!0}}),window.addEventListener("test",lh,lh),window.removeEventListener("test",lh,lh)}catch{Z0=!1}function w9(t,e,n,r,i,s,o,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var qh=!1,Mm=null,Fm=!1,ew=null,E9={onError:function(t){qh=!0,Mm=t}};function T9(t,e,n,r,i,s,o,l,c){qh=!1,Mm=null,w9.apply(E9,arguments)}function I9(t,e,n,r,i,s,o,l,c){if(T9.apply(this,arguments),qh){if(qh){var h=Mm;qh=!1,Mm=null}else throw Error(le(198));Fm||(Fm=!0,ew=h)}}function Dl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function AO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function BR(t){if(Dl(t)!==t)throw Error(le(188))}function S9(t){var e=t.alternate;if(!e){if(e=Dl(t),e===null)throw Error(le(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return BR(i),t;if(s===r)return BR(i),e;s=s.sibling}throw Error(le(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?t:e}function CO(t){return t=S9(t),t!==null?PO(t):null}function PO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=PO(t);if(e!==null)return e;t=t.sibling}return null}var OO=ii.unstable_scheduleCallback,UR=ii.unstable_cancelCallback,x9=ii.unstable_shouldYield,R9=ii.unstable_requestPaint,bn=ii.unstable_now,b9=ii.unstable_getCurrentPriorityLevel,r1=ii.unstable_ImmediatePriority,DO=ii.unstable_UserBlockingPriority,Vm=ii.unstable_NormalPriority,A9=ii.unstable_LowPriority,kO=ii.unstable_IdlePriority,Kg=null,ps=null;function C9(t){if(ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(Kg,t,void 0,(t.current.flags&128)===128)}catch{}}var Wi=Math.clz32?Math.clz32:D9,P9=Math.log,O9=Math.LN2;function D9(t){return t>>>=0,t===0?32:31-(P9(t)/O9|0)|0}var Np=64,Lp=4194304;function kh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $m(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=kh(l):(s&=o,s!==0&&(r=kh(s)))}else o=n&~i,o!==0?r=kh(o):s!==0&&(r=kh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wi(e),i=1<<n,r|=t[n],e&=~i;return r}function k9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N9(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Wi(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=k9(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function tw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NO(){var t=Np;return Np<<=1,!(Np&4194240)&&(Np=64),t}function P_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ld(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wi(e),t[e]=n}function L9(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function i1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ot=0;function LO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var MO,s1,FO,VO,$O,nw=!1,Mp=[],zo=null,qo=null,Wo=null,mf=new Map,gf=new Map,Lo=[],M9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zR(t,e){switch(t){case"focusin":case"focusout":zo=null;break;case"dragenter":case"dragleave":qo=null;break;case"mouseover":case"mouseout":Wo=null;break;case"pointerover":case"pointerout":mf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(e.pointerId)}}function uh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=cd(e),e!==null&&s1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function F9(t,e,n,r,i){switch(e){case"focusin":return zo=uh(zo,t,e,n,r,i),!0;case"dragenter":return qo=uh(qo,t,e,n,r,i),!0;case"mouseover":return Wo=uh(Wo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return mf.set(s,uh(mf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gf.set(s,uh(gf.get(s)||null,t,e,n,r,i)),!0}return!1}function jO(t){var e=Qa(t.target);if(e!==null){var n=Dl(e);if(n!==null){if(e=n.tag,e===13){if(e=AO(n),e!==null){t.blockedOn=e,$O(t.priority,function(){FO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);X0=r,n.target.dispatchEvent(r),X0=null}else return e=cd(n),e!==null&&s1(e),t.blockedOn=n,!1;e.shift()}return!0}function qR(t,e,n){fm(t)&&n.delete(e)}function V9(){nw=!1,zo!==null&&fm(zo)&&(zo=null),qo!==null&&fm(qo)&&(qo=null),Wo!==null&&fm(Wo)&&(Wo=null),mf.forEach(qR),gf.forEach(qR)}function ch(t,e){t.blockedOn===e&&(t.blockedOn=null,nw||(nw=!0,ii.unstable_scheduleCallback(ii.unstable_NormalPriority,V9)))}function yf(t){function e(i){return ch(i,t)}if(0<Mp.length){ch(Mp[0],t);for(var n=1;n<Mp.length;n++){var r=Mp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zo!==null&&ch(zo,t),qo!==null&&ch(qo,t),Wo!==null&&ch(Wo,t),mf.forEach(e),gf.forEach(e),n=0;n<Lo.length;n++)r=Lo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Lo.length&&(n=Lo[0],n.blockedOn===null);)jO(n),n.blockedOn===null&&Lo.shift()}var Vu=ao.ReactCurrentBatchConfig,jm=!0;function $9(t,e,n,r){var i=Ot,s=Vu.transition;Vu.transition=null;try{Ot=1,o1(t,e,n,r)}finally{Ot=i,Vu.transition=s}}function j9(t,e,n,r){var i=Ot,s=Vu.transition;Vu.transition=null;try{Ot=4,o1(t,e,n,r)}finally{Ot=i,Vu.transition=s}}function o1(t,e,n,r){if(jm){var i=rw(t,e,n,r);if(i===null)j_(t,e,r,Bm,n),zR(t,r);else if(F9(i,t,e,n,r))r.stopPropagation();else if(zR(t,r),e&4&&-1<M9.indexOf(t)){for(;i!==null;){var s=cd(i);if(s!==null&&MO(s),s=rw(t,e,n,r),s===null&&j_(t,e,r,Bm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else j_(t,e,r,null,n)}}var Bm=null;function rw(t,e,n,r){if(Bm=null,t=n1(r),t=Qa(t),t!==null)if(e=Dl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=AO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bm=t,null}function BO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b9()){case r1:return 1;case DO:return 4;case Vm:case A9:return 16;case kO:return 536870912;default:return 16}default:return 16}}var $o=null,a1=null,dm=null;function UO(){if(dm)return dm;var t,e=a1,n=e.length,r,i="value"in $o?$o.value:$o.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return dm=i.slice(t,1<r?1-r:void 0)}function pm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fp(){return!0}function WR(){return!1}function ui(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fp:WR,this.isPropagationStopped=WR,this}return fn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fp)},persist:function(){},isPersistent:Fp}),e}var Tc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},l1=ui(Tc),ud=fn({},Tc,{view:0,detail:0}),B9=ui(ud),O_,D_,hh,Hg=fn({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:u1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hh&&(hh&&t.type==="mousemove"?(O_=t.screenX-hh.screenX,D_=t.screenY-hh.screenY):D_=O_=0,hh=t),O_)},movementY:function(t){return"movementY"in t?t.movementY:D_}}),KR=ui(Hg),U9=fn({},Hg,{dataTransfer:0}),z9=ui(U9),q9=fn({},ud,{relatedTarget:0}),k_=ui(q9),W9=fn({},Tc,{animationName:0,elapsedTime:0,pseudoElement:0}),K9=ui(W9),H9=fn({},Tc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),G9=ui(H9),Q9=fn({},Tc,{data:0}),HR=ui(Q9),Y9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=J9[t])?!!e[t]:!1}function u1(){return Z9}var ez=fn({},ud,{key:function(t){if(t.key){var e=Y9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?X9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:u1,charCode:function(t){return t.type==="keypress"?pm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tz=ui(ez),nz=fn({},Hg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GR=ui(nz),rz=fn({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:u1}),iz=ui(rz),sz=fn({},Tc,{propertyName:0,elapsedTime:0,pseudoElement:0}),oz=ui(sz),az=fn({},Hg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lz=ui(az),uz=[9,13,27,32],c1=Js&&"CompositionEvent"in window,Wh=null;Js&&"documentMode"in document&&(Wh=document.documentMode);var cz=Js&&"TextEvent"in window&&!Wh,zO=Js&&(!c1||Wh&&8<Wh&&11>=Wh),QR=String.fromCharCode(32),YR=!1;function qO(t,e){switch(t){case"keyup":return uz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tu=!1;function hz(t,e){switch(t){case"compositionend":return WO(e);case"keypress":return e.which!==32?null:(YR=!0,QR);case"textInput":return t=e.data,t===QR&&YR?null:t;default:return null}}function fz(t,e){if(Tu)return t==="compositionend"||!c1&&qO(t,e)?(t=UO(),dm=a1=$o=null,Tu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zO&&e.locale!=="ko"?null:e.data;default:return null}}var dz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dz[t.type]:e==="textarea"}function KO(t,e,n,r){IO(r),e=Um(e,"onChange"),0<e.length&&(n=new l1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kh=null,vf=null;function pz(t){rD(t,0)}function Gg(t){var e=xu(t);if(gO(e))return t}function mz(t,e){if(t==="change")return e}var HO=!1;if(Js){var N_;if(Js){var L_="oninput"in document;if(!L_){var JR=document.createElement("div");JR.setAttribute("oninput","return;"),L_=typeof JR.oninput=="function"}N_=L_}else N_=!1;HO=N_&&(!document.documentMode||9<document.documentMode)}function ZR(){Kh&&(Kh.detachEvent("onpropertychange",GO),vf=Kh=null)}function GO(t){if(t.propertyName==="value"&&Gg(vf)){var e=[];KO(e,vf,t,n1(t)),bO(pz,e)}}function gz(t,e,n){t==="focusin"?(ZR(),Kh=e,vf=n,Kh.attachEvent("onpropertychange",GO)):t==="focusout"&&ZR()}function yz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gg(vf)}function vz(t,e){if(t==="click")return Gg(e)}function _z(t,e){if(t==="input"||t==="change")return Gg(e)}function wz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qi=typeof Object.is=="function"?Object.is:wz;function _f(t,e){if(Qi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$0.call(e,i)||!Qi(t[i],e[i]))return!1}return!0}function eb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tb(t,e){var n=eb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eb(n)}}function QO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YO(){for(var t=window,e=Lm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lm(t.document)}return e}function h1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ez(t){var e=YO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&QO(n.ownerDocument.documentElement,n)){if(r!==null&&h1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=tb(n,s);var o=tb(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Tz=Js&&"documentMode"in document&&11>=document.documentMode,Iu=null,iw=null,Hh=null,sw=!1;function nb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sw||Iu==null||Iu!==Lm(r)||(r=Iu,"selectionStart"in r&&h1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hh&&_f(Hh,r)||(Hh=r,r=Um(iw,"onSelect"),0<r.length&&(e=new l1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Iu)))}function Vp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Su={animationend:Vp("Animation","AnimationEnd"),animationiteration:Vp("Animation","AnimationIteration"),animationstart:Vp("Animation","AnimationStart"),transitionend:Vp("Transition","TransitionEnd")},M_={},XO={};Js&&(XO=document.createElement("div").style,"AnimationEvent"in window||(delete Su.animationend.animation,delete Su.animationiteration.animation,delete Su.animationstart.animation),"TransitionEvent"in window||delete Su.transitionend.transition);function Qg(t){if(M_[t])return M_[t];if(!Su[t])return t;var e=Su[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in XO)return M_[t]=e[n];return t}var JO=Qg("animationend"),ZO=Qg("animationiteration"),eD=Qg("animationstart"),tD=Qg("transitionend"),nD=new Map,rb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pa(t,e){nD.set(t,e),Ol(e,[t])}for(var F_=0;F_<rb.length;F_++){var V_=rb[F_],Iz=V_.toLowerCase(),Sz=V_[0].toUpperCase()+V_.slice(1);pa(Iz,"on"+Sz)}pa(JO,"onAnimationEnd");pa(ZO,"onAnimationIteration");pa(eD,"onAnimationStart");pa("dblclick","onDoubleClick");pa("focusin","onFocus");pa("focusout","onBlur");pa(tD,"onTransitionEnd");Qu("onMouseEnter",["mouseout","mouseover"]);Qu("onMouseLeave",["mouseout","mouseover"]);Qu("onPointerEnter",["pointerout","pointerover"]);Qu("onPointerLeave",["pointerout","pointerover"]);Ol("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ol("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ol("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ol("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ol("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ol("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nh));function ib(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,I9(r,e,void 0,t),t.currentTarget=null}function rD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;ib(i,l,h),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;ib(i,l,h),s=c}}}if(Fm)throw t=ew,Fm=!1,ew=null,t}function Kt(t,e){var n=e[cw];n===void 0&&(n=e[cw]=new Set);var r=t+"__bubble";n.has(r)||(iD(e,t,2,!1),n.add(r))}function $_(t,e,n){var r=0;e&&(r|=4),iD(n,t,r,e)}var $p="_reactListening"+Math.random().toString(36).slice(2);function wf(t){if(!t[$p]){t[$p]=!0,hO.forEach(function(n){n!=="selectionchange"&&(xz.has(n)||$_(n,!1,t),$_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$p]||(e[$p]=!0,$_("selectionchange",!1,e))}}function iD(t,e,n,r){switch(BO(e)){case 1:var i=$9;break;case 4:i=j9;break;default:i=o1}n=i.bind(null,e,n,t),i=void 0,!Z0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function j_(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Qa(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}bO(function(){var h=s,f=n1(n),p=[];e:{var m=nD.get(t);if(m!==void 0){var y=l1,v=t;switch(t){case"keypress":if(pm(n)===0)break e;case"keydown":case"keyup":y=tz;break;case"focusin":v="focus",y=k_;break;case"focusout":v="blur",y=k_;break;case"beforeblur":case"afterblur":y=k_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=KR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=z9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=iz;break;case JO:case ZO:case eD:y=K9;break;case tD:y=oz;break;case"scroll":y=B9;break;case"wheel":y=lz;break;case"copy":case"cut":case"paste":y=G9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=GR}var E=(e&4)!==0,R=!E&&t==="scroll",T=E?m!==null?m+"Capture":null:m;E=[];for(var I=h,S;I!==null;){S=I;var w=S.stateNode;if(S.tag===5&&w!==null&&(S=w,T!==null&&(w=pf(I,T),w!=null&&E.push(Ef(I,w,S)))),R)break;I=I.return}0<E.length&&(m=new y(m,v,null,n,f),p.push({event:m,listeners:E}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==X0&&(v=n.relatedTarget||n.fromElement)&&(Qa(v)||v[Zs]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=h,v=v?Qa(v):null,v!==null&&(R=Dl(v),v!==R||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=h),y!==v)){if(E=KR,w="onMouseLeave",T="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(E=GR,w="onPointerLeave",T="onPointerEnter",I="pointer"),R=y==null?m:xu(y),S=v==null?m:xu(v),m=new E(w,I+"leave",y,n,f),m.target=R,m.relatedTarget=S,w=null,Qa(f)===h&&(E=new E(T,I+"enter",v,n,f),E.target=S,E.relatedTarget=R,w=E),R=w,y&&v)t:{for(E=y,T=v,I=0,S=E;S;S=iu(S))I++;for(S=0,w=T;w;w=iu(w))S++;for(;0<I-S;)E=iu(E),I--;for(;0<S-I;)T=iu(T),S--;for(;I--;){if(E===T||T!==null&&E===T.alternate)break t;E=iu(E),T=iu(T)}E=null}else E=null;y!==null&&sb(p,m,y,E,!1),v!==null&&R!==null&&sb(p,R,v,E,!0)}}e:{if(m=h?xu(h):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var P=mz;else if(XR(m))if(HO)P=_z;else{P=yz;var O=gz}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=vz);if(P&&(P=P(t,h))){KO(p,P,n,f);break e}O&&O(t,m,h),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&K0(m,"number",m.value)}switch(O=h?xu(h):window,t){case"focusin":(XR(O)||O.contentEditable==="true")&&(Iu=O,iw=h,Hh=null);break;case"focusout":Hh=iw=Iu=null;break;case"mousedown":sw=!0;break;case"contextmenu":case"mouseup":case"dragend":sw=!1,nb(p,n,f);break;case"selectionchange":if(Tz)break;case"keydown":case"keyup":nb(p,n,f)}var D;if(c1)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Tu?qO(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(zO&&n.locale!=="ko"&&(Tu||N!=="onCompositionStart"?N==="onCompositionEnd"&&Tu&&(D=UO()):($o=f,a1="value"in $o?$o.value:$o.textContent,Tu=!0)),O=Um(h,N),0<O.length&&(N=new HR(N,t,null,n,f),p.push({event:N,listeners:O}),D?N.data=D:(D=WO(n),D!==null&&(N.data=D)))),(D=cz?hz(t,n):fz(t,n))&&(h=Um(h,"onBeforeInput"),0<h.length&&(f=new HR("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:h}),f.data=D))}rD(p,e)})}function Ef(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Um(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=pf(t,n),s!=null&&r.unshift(Ef(t,s,i)),s=pf(t,e),s!=null&&r.push(Ef(t,s,i))),t=t.return}return r}function iu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sb(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=pf(n,s),c!=null&&o.unshift(Ef(n,c,l))):i||(c=pf(n,s),c!=null&&o.push(Ef(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Rz=/\r\n?/g,bz=/\u0000|\uFFFD/g;function ob(t){return(typeof t=="string"?t:""+t).replace(Rz,`
`).replace(bz,"")}function jp(t,e,n){if(e=ob(e),ob(t)!==e&&n)throw Error(le(425))}function zm(){}var ow=null,aw=null;function lw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uw=typeof setTimeout=="function"?setTimeout:void 0,Az=typeof clearTimeout=="function"?clearTimeout:void 0,ab=typeof Promise=="function"?Promise:void 0,Cz=typeof queueMicrotask=="function"?queueMicrotask:typeof ab<"u"?function(t){return ab.resolve(null).then(t).catch(Pz)}:uw;function Pz(t){setTimeout(function(){throw t})}function B_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yf(e)}function Ko(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ic=Math.random().toString(36).slice(2),ss="__reactFiber$"+Ic,Tf="__reactProps$"+Ic,Zs="__reactContainer$"+Ic,cw="__reactEvents$"+Ic,Oz="__reactListeners$"+Ic,Dz="__reactHandles$"+Ic;function Qa(t){var e=t[ss];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zs]||n[ss]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lb(t);t!==null;){if(n=t[ss])return n;t=lb(t)}return e}t=n,n=t.parentNode}return null}function cd(t){return t=t[ss]||t[Zs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function Yg(t){return t[Tf]||null}var hw=[],Ru=-1;function ma(t){return{current:t}}function Yt(t){0>Ru||(t.current=hw[Ru],hw[Ru]=null,Ru--)}function jt(t,e){Ru++,hw[Ru]=t.current,t.current=e}var ta={},mr=ma(ta),Ur=ma(!1),cl=ta;function Yu(t,e){var n=t.type.contextTypes;if(!n)return ta;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zr(t){return t=t.childContextTypes,t!=null}function qm(){Yt(Ur),Yt(mr)}function ub(t,e,n){if(mr.current!==ta)throw Error(le(168));jt(mr,e),jt(Ur,n)}function sD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(le(108,g9(t)||"Unknown",i));return fn({},n,r)}function Wm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ta,cl=mr.current,jt(mr,t),jt(Ur,Ur.current),!0}function cb(t,e,n){var r=t.stateNode;if(!r)throw Error(le(169));n?(t=sD(t,e,cl),r.__reactInternalMemoizedMergedChildContext=t,Yt(Ur),Yt(mr),jt(mr,t)):Yt(Ur),jt(Ur,n)}var Ms=null,Xg=!1,U_=!1;function oD(t){Ms===null?Ms=[t]:Ms.push(t)}function kz(t){Xg=!0,oD(t)}function ga(){if(!U_&&Ms!==null){U_=!0;var t=0,e=Ot;try{var n=Ms;for(Ot=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ms=null,Xg=!1}catch(i){throw Ms!==null&&(Ms=Ms.slice(t+1)),OO(r1,ga),i}finally{Ot=e,U_=!1}}return null}var bu=[],Au=0,Km=null,Hm=0,wi=[],Ei=0,hl=null,Bs=1,Us="";function ja(t,e){bu[Au++]=Hm,bu[Au++]=Km,Km=t,Hm=e}function aD(t,e,n){wi[Ei++]=Bs,wi[Ei++]=Us,wi[Ei++]=hl,hl=t;var r=Bs;t=Us;var i=32-Wi(r)-1;r&=~(1<<i),n+=1;var s=32-Wi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Bs=1<<32-Wi(e)+i|n<<i|r,Us=s+t}else Bs=1<<s|n<<i|r,Us=t}function f1(t){t.return!==null&&(ja(t,1),aD(t,1,0))}function d1(t){for(;t===Km;)Km=bu[--Au],bu[Au]=null,Hm=bu[--Au],bu[Au]=null;for(;t===hl;)hl=wi[--Ei],wi[Ei]=null,Us=wi[--Ei],wi[Ei]=null,Bs=wi[--Ei],wi[Ei]=null}var ri=null,ni=null,tn=!1,Ui=null;function lD(t,e){var n=Ii(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function hb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ri=t,ni=Ko(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ri=t,ni=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hl!==null?{id:Bs,overflow:Us}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ii(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ri=t,ni=null,!0):!1;default:return!1}}function fw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dw(t){if(tn){var e=ni;if(e){var n=e;if(!hb(t,e)){if(fw(t))throw Error(le(418));e=Ko(n.nextSibling);var r=ri;e&&hb(t,e)?lD(r,n):(t.flags=t.flags&-4097|2,tn=!1,ri=t)}}else{if(fw(t))throw Error(le(418));t.flags=t.flags&-4097|2,tn=!1,ri=t}}}function fb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ri=t}function Bp(t){if(t!==ri)return!1;if(!tn)return fb(t),tn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lw(t.type,t.memoizedProps)),e&&(e=ni)){if(fw(t))throw uD(),Error(le(418));for(;e;)lD(t,e),e=Ko(e.nextSibling)}if(fb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ni=Ko(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ni=null}}else ni=ri?Ko(t.stateNode.nextSibling):null;return!0}function uD(){for(var t=ni;t;)t=Ko(t.nextSibling)}function Xu(){ni=ri=null,tn=!1}function p1(t){Ui===null?Ui=[t]:Ui.push(t)}var Nz=ao.ReactCurrentBatchConfig;function $i(t,e){if(t&&t.defaultProps){e=fn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Gm=ma(null),Qm=null,Cu=null,m1=null;function g1(){m1=Cu=Qm=null}function y1(t){var e=Gm.current;Yt(Gm),t._currentValue=e}function pw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $u(t,e){Qm=t,m1=Cu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vr=!0),t.firstContext=null)}function Ai(t){var e=t._currentValue;if(m1!==t)if(t={context:t,memoizedValue:e,next:null},Cu===null){if(Qm===null)throw Error(le(308));Cu=t,Qm.dependencies={lanes:0,firstContext:t}}else Cu=Cu.next=t;return e}var Ya=null;function v1(t){Ya===null?Ya=[t]:Ya.push(t)}function cD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,v1(e)):(n.next=i.next,i.next=n),e.interleaved=n,eo(t,r)}function eo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Do=!1;function _1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ws(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ho(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Et&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,eo(t,n)}return i=r.interleaved,i===null?(e.next=e,v1(r)):(e.next=i.next,i.next=e),r.interleaved=e,eo(t,n)}function mm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,i1(t,n)}}function db(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ym(t,e,n,r){var i=t.updateQueue;Do=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,o===null?s=h:o.next=h,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;o=0,f=h=c=null,l=s;do{var m=l.lane,y=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,E=l;switch(m=e,y=n,E.tag){case 1:if(v=E.payload,typeof v=="function"){p=v.call(y,p,m);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=E.payload,m=typeof v=="function"?v.call(y,p,m):v,m==null)break e;p=fn({},p,m);break e;case 2:Do=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=y,c=p):f=f.next=y,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(f===null&&(c=p),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);dl|=o,t.lanes=o,t.memoizedState=p}}function pb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(le(191,i));i.call(r)}}}var fD=new cO.Component().refs;function mw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:fn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jg={isMounted:function(t){return(t=t._reactInternals)?Dl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xr(),i=Qo(t),s=Ws(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ho(t,s,i),e!==null&&(Ki(e,t,i,r),mm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xr(),i=Qo(t),s=Ws(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ho(t,s,i),e!==null&&(Ki(e,t,i,r),mm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xr(),r=Qo(t),i=Ws(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ho(t,i,r),e!==null&&(Ki(e,t,r,n),mm(e,t,r))}};function mb(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!_f(n,r)||!_f(i,s):!0}function dD(t,e,n){var r=!1,i=ta,s=e.contextType;return typeof s=="object"&&s!==null?s=Ai(s):(i=zr(e)?cl:mr.current,r=e.contextTypes,s=(r=r!=null)?Yu(t,i):ta),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function gb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jg.enqueueReplaceState(e,e.state,null)}function gw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=fD,_1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ai(s):(s=zr(e)?cl:mr.current,i.context=Yu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(mw(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jg.enqueueReplaceState(i,i.state,null),Ym(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===fD&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,t))}return t}function Up(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yb(t){var e=t._init;return e(t._payload)}function pD(t){function e(T,I){if(t){var S=T.deletions;S===null?(T.deletions=[I],T.flags|=16):S.push(I)}}function n(T,I){if(!t)return null;for(;I!==null;)e(T,I),I=I.sibling;return null}function r(T,I){for(T=new Map;I!==null;)I.key!==null?T.set(I.key,I):T.set(I.index,I),I=I.sibling;return T}function i(T,I){return T=Yo(T,I),T.index=0,T.sibling=null,T}function s(T,I,S){return T.index=S,t?(S=T.alternate,S!==null?(S=S.index,S<I?(T.flags|=2,I):S):(T.flags|=2,I)):(T.flags|=1048576,I)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function l(T,I,S,w){return I===null||I.tag!==6?(I=Q_(S,T.mode,w),I.return=T,I):(I=i(I,S),I.return=T,I)}function c(T,I,S,w){var P=S.type;return P===Eu?f(T,I,S.props.children,w,S.key):I!==null&&(I.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Oo&&yb(P)===I.type)?(w=i(I,S.props),w.ref=fh(T,I,S),w.return=T,w):(w=Em(S.type,S.key,S.props,null,T.mode,w),w.ref=fh(T,I,S),w.return=T,w)}function h(T,I,S,w){return I===null||I.tag!==4||I.stateNode.containerInfo!==S.containerInfo||I.stateNode.implementation!==S.implementation?(I=Y_(S,T.mode,w),I.return=T,I):(I=i(I,S.children||[]),I.return=T,I)}function f(T,I,S,w,P){return I===null||I.tag!==7?(I=ol(S,T.mode,w,P),I.return=T,I):(I=i(I,S),I.return=T,I)}function p(T,I,S){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Q_(""+I,T.mode,S),I.return=T,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Op:return S=Em(I.type,I.key,I.props,null,T.mode,S),S.ref=fh(T,null,I),S.return=T,S;case wu:return I=Y_(I,T.mode,S),I.return=T,I;case Oo:var w=I._init;return p(T,w(I._payload),S)}if(Dh(I)||ah(I))return I=ol(I,T.mode,S,null),I.return=T,I;Up(T,I)}return null}function m(T,I,S,w){var P=I!==null?I.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return P!==null?null:l(T,I,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Op:return S.key===P?c(T,I,S,w):null;case wu:return S.key===P?h(T,I,S,w):null;case Oo:return P=S._init,m(T,I,P(S._payload),w)}if(Dh(S)||ah(S))return P!==null?null:f(T,I,S,w,null);Up(T,S)}return null}function y(T,I,S,w,P){if(typeof w=="string"&&w!==""||typeof w=="number")return T=T.get(S)||null,l(I,T,""+w,P);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Op:return T=T.get(w.key===null?S:w.key)||null,c(I,T,w,P);case wu:return T=T.get(w.key===null?S:w.key)||null,h(I,T,w,P);case Oo:var O=w._init;return y(T,I,S,O(w._payload),P)}if(Dh(w)||ah(w))return T=T.get(S)||null,f(I,T,w,P,null);Up(I,w)}return null}function v(T,I,S,w){for(var P=null,O=null,D=I,N=I=0,K=null;D!==null&&N<S.length;N++){D.index>N?(K=D,D=null):K=D.sibling;var Y=m(T,D,S[N],w);if(Y===null){D===null&&(D=K);break}t&&D&&Y.alternate===null&&e(T,D),I=s(Y,I,N),O===null?P=Y:O.sibling=Y,O=Y,D=K}if(N===S.length)return n(T,D),tn&&ja(T,N),P;if(D===null){for(;N<S.length;N++)D=p(T,S[N],w),D!==null&&(I=s(D,I,N),O===null?P=D:O.sibling=D,O=D);return tn&&ja(T,N),P}for(D=r(T,D);N<S.length;N++)K=y(D,T,N,S[N],w),K!==null&&(t&&K.alternate!==null&&D.delete(K.key===null?N:K.key),I=s(K,I,N),O===null?P=K:O.sibling=K,O=K);return t&&D.forEach(function(ie){return e(T,ie)}),tn&&ja(T,N),P}function E(T,I,S,w){var P=ah(S);if(typeof P!="function")throw Error(le(150));if(S=P.call(S),S==null)throw Error(le(151));for(var O=P=null,D=I,N=I=0,K=null,Y=S.next();D!==null&&!Y.done;N++,Y=S.next()){D.index>N?(K=D,D=null):K=D.sibling;var ie=m(T,D,Y.value,w);if(ie===null){D===null&&(D=K);break}t&&D&&ie.alternate===null&&e(T,D),I=s(ie,I,N),O===null?P=ie:O.sibling=ie,O=ie,D=K}if(Y.done)return n(T,D),tn&&ja(T,N),P;if(D===null){for(;!Y.done;N++,Y=S.next())Y=p(T,Y.value,w),Y!==null&&(I=s(Y,I,N),O===null?P=Y:O.sibling=Y,O=Y);return tn&&ja(T,N),P}for(D=r(T,D);!Y.done;N++,Y=S.next())Y=y(D,T,N,Y.value,w),Y!==null&&(t&&Y.alternate!==null&&D.delete(Y.key===null?N:Y.key),I=s(Y,I,N),O===null?P=Y:O.sibling=Y,O=Y);return t&&D.forEach(function(he){return e(T,he)}),tn&&ja(T,N),P}function R(T,I,S,w){if(typeof S=="object"&&S!==null&&S.type===Eu&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Op:e:{for(var P=S.key,O=I;O!==null;){if(O.key===P){if(P=S.type,P===Eu){if(O.tag===7){n(T,O.sibling),I=i(O,S.props.children),I.return=T,T=I;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Oo&&yb(P)===O.type){n(T,O.sibling),I=i(O,S.props),I.ref=fh(T,O,S),I.return=T,T=I;break e}n(T,O);break}else e(T,O);O=O.sibling}S.type===Eu?(I=ol(S.props.children,T.mode,w,S.key),I.return=T,T=I):(w=Em(S.type,S.key,S.props,null,T.mode,w),w.ref=fh(T,I,S),w.return=T,T=w)}return o(T);case wu:e:{for(O=S.key;I!==null;){if(I.key===O)if(I.tag===4&&I.stateNode.containerInfo===S.containerInfo&&I.stateNode.implementation===S.implementation){n(T,I.sibling),I=i(I,S.children||[]),I.return=T,T=I;break e}else{n(T,I);break}else e(T,I);I=I.sibling}I=Y_(S,T.mode,w),I.return=T,T=I}return o(T);case Oo:return O=S._init,R(T,I,O(S._payload),w)}if(Dh(S))return v(T,I,S,w);if(ah(S))return E(T,I,S,w);Up(T,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,I!==null&&I.tag===6?(n(T,I.sibling),I=i(I,S),I.return=T,T=I):(n(T,I),I=Q_(S,T.mode,w),I.return=T,T=I),o(T)):n(T,I)}return R}var Ju=pD(!0),mD=pD(!1),hd={},ms=ma(hd),If=ma(hd),Sf=ma(hd);function Xa(t){if(t===hd)throw Error(le(174));return t}function w1(t,e){switch(jt(Sf,e),jt(If,t),jt(ms,hd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:G0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=G0(e,t)}Yt(ms),jt(ms,e)}function Zu(){Yt(ms),Yt(If),Yt(Sf)}function gD(t){Xa(Sf.current);var e=Xa(ms.current),n=G0(e,t.type);e!==n&&(jt(If,t),jt(ms,n))}function E1(t){If.current===t&&(Yt(ms),Yt(If))}var ln=ma(0);function Xm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var z_=[];function T1(){for(var t=0;t<z_.length;t++)z_[t]._workInProgressVersionPrimary=null;z_.length=0}var gm=ao.ReactCurrentDispatcher,q_=ao.ReactCurrentBatchConfig,fl=0,cn=null,Fn=null,Un=null,Jm=!1,Gh=!1,xf=0,Lz=0;function lr(){throw Error(le(321))}function I1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qi(t[n],e[n]))return!1;return!0}function S1(t,e,n,r,i,s){if(fl=s,cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gm.current=t===null||t.memoizedState===null?$z:jz,t=n(r,i),Gh){s=0;do{if(Gh=!1,xf=0,25<=s)throw Error(le(301));s+=1,Un=Fn=null,e.updateQueue=null,gm.current=Bz,t=n(r,i)}while(Gh)}if(gm.current=Zm,e=Fn!==null&&Fn.next!==null,fl=0,Un=Fn=cn=null,Jm=!1,e)throw Error(le(300));return t}function x1(){var t=xf!==0;return xf=0,t}function is(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?cn.memoizedState=Un=t:Un=Un.next=t,Un}function Ci(){if(Fn===null){var t=cn.alternate;t=t!==null?t.memoizedState:null}else t=Fn.next;var e=Un===null?cn.memoizedState:Un.next;if(e!==null)Un=e,Fn=t;else{if(t===null)throw Error(le(310));Fn=t,t={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},Un===null?cn.memoizedState=Un=t:Un=Un.next=t}return Un}function Rf(t,e){return typeof e=="function"?e(t):e}function W_(t){var e=Ci(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=Fn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,h=s;do{var f=h.lane;if((fl&f)===f)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=p,o=r):c=c.next=p,cn.lanes|=f,dl|=f}h=h.next}while(h!==null&&h!==s);c===null?o=r:c.next=l,Qi(r,e.memoizedState)||(Vr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,cn.lanes|=s,dl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function K_(t){var e=Ci(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Qi(s,e.memoizedState)||(Vr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function yD(){}function vD(t,e){var n=cn,r=Ci(),i=e(),s=!Qi(r.memoizedState,i);if(s&&(r.memoizedState=i,Vr=!0),r=r.queue,R1(ED.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Un!==null&&Un.memoizedState.tag&1){if(n.flags|=2048,bf(9,wD.bind(null,n,r,i,e),void 0,null),qn===null)throw Error(le(349));fl&30||_D(n,e,i)}return i}function _D(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wD(t,e,n,r){e.value=n,e.getSnapshot=r,TD(e)&&ID(t)}function ED(t,e,n){return n(function(){TD(e)&&ID(t)})}function TD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qi(t,n)}catch{return!0}}function ID(t){var e=eo(t,1);e!==null&&Ki(e,t,1,-1)}function vb(t){var e=is();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rf,lastRenderedState:t},e.queue=t,t=t.dispatch=Vz.bind(null,cn,t),[e.memoizedState,t]}function bf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function SD(){return Ci().memoizedState}function ym(t,e,n,r){var i=is();cn.flags|=t,i.memoizedState=bf(1|e,n,void 0,r===void 0?null:r)}function Zg(t,e,n,r){var i=Ci();r=r===void 0?null:r;var s=void 0;if(Fn!==null){var o=Fn.memoizedState;if(s=o.destroy,r!==null&&I1(r,o.deps)){i.memoizedState=bf(e,n,s,r);return}}cn.flags|=t,i.memoizedState=bf(1|e,n,s,r)}function _b(t,e){return ym(8390656,8,t,e)}function R1(t,e){return Zg(2048,8,t,e)}function xD(t,e){return Zg(4,2,t,e)}function RD(t,e){return Zg(4,4,t,e)}function bD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function AD(t,e,n){return n=n!=null?n.concat([t]):null,Zg(4,4,bD.bind(null,e,t),n)}function b1(){}function CD(t,e){var n=Ci();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&I1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function PD(t,e){var n=Ci();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&I1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function OD(t,e,n){return fl&21?(Qi(n,e)||(n=NO(),cn.lanes|=n,dl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vr=!0),t.memoizedState=n)}function Mz(t,e){var n=Ot;Ot=n!==0&&4>n?n:4,t(!0);var r=q_.transition;q_.transition={};try{t(!1),e()}finally{Ot=n,q_.transition=r}}function DD(){return Ci().memoizedState}function Fz(t,e,n){var r=Qo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kD(t))ND(e,n);else if(n=cD(t,e,n,r),n!==null){var i=xr();Ki(n,t,r,i),LD(n,e,r)}}function Vz(t,e,n){var r=Qo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kD(t))ND(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Qi(l,o)){var c=e.interleaved;c===null?(i.next=i,v1(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=cD(t,e,i,r),n!==null&&(i=xr(),Ki(n,t,r,i),LD(n,e,r))}}function kD(t){var e=t.alternate;return t===cn||e!==null&&e===cn}function ND(t,e){Gh=Jm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function LD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,i1(t,n)}}var Zm={readContext:Ai,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useInsertionEffect:lr,useLayoutEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useMutableSource:lr,useSyncExternalStore:lr,useId:lr,unstable_isNewReconciler:!1},$z={readContext:Ai,useCallback:function(t,e){return is().memoizedState=[t,e===void 0?null:e],t},useContext:Ai,useEffect:_b,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ym(4194308,4,bD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ym(4194308,4,t,e)},useInsertionEffect:function(t,e){return ym(4,2,t,e)},useMemo:function(t,e){var n=is();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=is();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Fz.bind(null,cn,t),[r.memoizedState,t]},useRef:function(t){var e=is();return t={current:t},e.memoizedState=t},useState:vb,useDebugValue:b1,useDeferredValue:function(t){return is().memoizedState=t},useTransition:function(){var t=vb(!1),e=t[0];return t=Mz.bind(null,t[1]),is().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=cn,i=is();if(tn){if(n===void 0)throw Error(le(407));n=n()}else{if(n=e(),qn===null)throw Error(le(349));fl&30||_D(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,_b(ED.bind(null,r,s,t),[t]),r.flags|=2048,bf(9,wD.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=is(),e=qn.identifierPrefix;if(tn){var n=Us,r=Bs;n=(r&~(1<<32-Wi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Lz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jz={readContext:Ai,useCallback:CD,useContext:Ai,useEffect:R1,useImperativeHandle:AD,useInsertionEffect:xD,useLayoutEffect:RD,useMemo:PD,useReducer:W_,useRef:SD,useState:function(){return W_(Rf)},useDebugValue:b1,useDeferredValue:function(t){var e=Ci();return OD(e,Fn.memoizedState,t)},useTransition:function(){var t=W_(Rf)[0],e=Ci().memoizedState;return[t,e]},useMutableSource:yD,useSyncExternalStore:vD,useId:DD,unstable_isNewReconciler:!1},Bz={readContext:Ai,useCallback:CD,useContext:Ai,useEffect:R1,useImperativeHandle:AD,useInsertionEffect:xD,useLayoutEffect:RD,useMemo:PD,useReducer:K_,useRef:SD,useState:function(){return K_(Rf)},useDebugValue:b1,useDeferredValue:function(t){var e=Ci();return Fn===null?e.memoizedState=t:OD(e,Fn.memoizedState,t)},useTransition:function(){var t=K_(Rf)[0],e=Ci().memoizedState;return[t,e]},useMutableSource:yD,useSyncExternalStore:vD,useId:DD,unstable_isNewReconciler:!1};function ec(t,e){try{var n="",r=e;do n+=m9(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function H_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Uz=typeof WeakMap=="function"?WeakMap:Map;function MD(t,e,n){n=Ws(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){tg||(tg=!0,bw=r),yw(t,e)},n}function FD(t,e,n){n=Ws(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){yw(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){yw(t,e),typeof r!="function"&&(Go===null?Go=new Set([this]):Go.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function wb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Uz;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=nq.bind(null,t,e,n),e.then(t,t))}function Eb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Tb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ws(-1,1),e.tag=2,Ho(n,e,1))),n.lanes|=1),t)}var zz=ao.ReactCurrentOwner,Vr=!1;function wr(t,e,n,r){e.child=t===null?mD(e,null,n,r):Ju(e,t.child,n,r)}function Ib(t,e,n,r,i){n=n.render;var s=e.ref;return $u(e,i),r=S1(t,e,n,r,s,i),n=x1(),t!==null&&!Vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,to(t,e,i)):(tn&&n&&f1(e),e.flags|=1,wr(t,e,r,i),e.child)}function Sb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!L1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,VD(t,e,s,r,i)):(t=Em(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:_f,n(o,r)&&t.ref===e.ref)return to(t,e,i)}return e.flags|=1,t=Yo(s,r),t.ref=e.ref,t.return=e,e.child=t}function VD(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(_f(s,r)&&t.ref===e.ref)if(Vr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Vr=!0);else return e.lanes=t.lanes,to(t,e,i)}return vw(t,e,n,r,i)}function $D(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(Ou,ti),ti|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,jt(Ou,ti),ti|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,jt(Ou,ti),ti|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,jt(Ou,ti),ti|=r;return wr(t,e,i,n),e.child}function jD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vw(t,e,n,r,i){var s=zr(n)?cl:mr.current;return s=Yu(e,s),$u(e,i),n=S1(t,e,n,r,s,i),r=x1(),t!==null&&!Vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,to(t,e,i)):(tn&&r&&f1(e),e.flags|=1,wr(t,e,n,i),e.child)}function xb(t,e,n,r,i){if(zr(n)){var s=!0;Wm(e)}else s=!1;if($u(e,i),e.stateNode===null)vm(t,e),dD(e,n,r),gw(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Ai(h):(h=zr(n)?cl:mr.current,h=Yu(e,h));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==h)&&gb(e,o,r,h),Do=!1;var m=e.memoizedState;o.state=m,Ym(e,r,o,i),c=e.memoizedState,l!==r||m!==c||Ur.current||Do?(typeof f=="function"&&(mw(e,n,f,r),c=e.memoizedState),(l=Do||mb(e,n,l,r,m,c,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,hD(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:$i(e.type,l),o.props=h,p=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ai(c):(c=zr(n)?cl:mr.current,c=Yu(e,c));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==c)&&gb(e,o,r,c),Do=!1,m=e.memoizedState,o.state=m,Ym(e,r,o,i);var v=e.memoizedState;l!==p||m!==v||Ur.current||Do?(typeof y=="function"&&(mw(e,n,y,r),v=e.memoizedState),(h=Do||mb(e,n,h,r,m,v,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=c,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return _w(t,e,n,r,s,i)}function _w(t,e,n,r,i,s){jD(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&cb(e,n,!1),to(t,e,s);r=e.stateNode,zz.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ju(e,t.child,null,s),e.child=Ju(e,null,l,s)):wr(t,e,l,s),e.memoizedState=r.state,i&&cb(e,n,!0),e.child}function BD(t){var e=t.stateNode;e.pendingContext?ub(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ub(t,e.context,!1),w1(t,e.containerInfo)}function Rb(t,e,n,r,i){return Xu(),p1(i),e.flags|=256,wr(t,e,n,r),e.child}var ww={dehydrated:null,treeContext:null,retryLane:0};function Ew(t){return{baseLanes:t,cachePool:null,transitions:null}}function UD(t,e,n){var r=e.pendingProps,i=ln.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),jt(ln,i&1),t===null)return dw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ny(o,r,0,null),t=ol(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ew(n),e.memoizedState=ww,t):A1(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return qz(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Yo(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Yo(l,s):(s=ol(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ew(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ww,r}return s=t.child,t=s.sibling,r=Yo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function A1(t,e){return e=ny({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zp(t,e,n,r){return r!==null&&p1(r),Ju(e,t.child,null,n),t=A1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qz(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=H_(Error(le(422))),zp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ny({mode:"visible",children:r.children},i,0,null),s=ol(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ju(e,t.child,null,o),e.child.memoizedState=Ew(o),e.memoizedState=ww,s);if(!(e.mode&1))return zp(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(le(419)),r=H_(s,r,void 0),zp(t,e,o,r)}if(l=(o&t.childLanes)!==0,Vr||l){if(r=qn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,eo(t,i),Ki(r,t,i,-1))}return N1(),r=H_(Error(le(421))),zp(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rq.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ni=Ko(i.nextSibling),ri=e,tn=!0,Ui=null,t!==null&&(wi[Ei++]=Bs,wi[Ei++]=Us,wi[Ei++]=hl,Bs=t.id,Us=t.overflow,hl=e),e=A1(e,r.children),e.flags|=4096,e)}function bb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pw(t.return,e,n)}function G_(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zD(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(wr(t,e,r.children,n),r=ln.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bb(t,n,e);else if(t.tag===19)bb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(jt(ln,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),G_(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}G_(e,!0,n,null,s);break;case"together":G_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function to(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),dl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,n=Yo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Wz(t,e,n){switch(e.tag){case 3:BD(e),Xu();break;case 5:gD(e);break;case 1:zr(e.type)&&Wm(e);break;case 4:w1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;jt(Gm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(jt(ln,ln.current&1),e.flags|=128,null):n&e.child.childLanes?UD(t,e,n):(jt(ln,ln.current&1),t=to(t,e,n),t!==null?t.sibling:null);jt(ln,ln.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),jt(ln,ln.current),r)break;return null;case 22:case 23:return e.lanes=0,$D(t,e,n)}return to(t,e,n)}var qD,Tw,WD,KD;qD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tw=function(){};WD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xa(ms.current);var s=null;switch(n){case"input":i=q0(t,i),r=q0(t,r),s=[];break;case"select":i=fn({},i,{value:void 0}),r=fn({},r,{value:void 0}),s=[];break;case"textarea":i=H0(t,i),r=H0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zm)}Q0(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ff.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ff.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Kt("scroll",t),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};KD=function(t,e,n,r){n!==r&&(e.flags|=4)};function dh(t,e){if(!tn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ur(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Kz(t,e,n){var r=e.pendingProps;switch(d1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(e),null;case 1:return zr(e.type)&&qm(),ur(e),null;case 3:return r=e.stateNode,Zu(),Yt(Ur),Yt(mr),T1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ui!==null&&(Pw(Ui),Ui=null))),Tw(t,e),ur(e),null;case 5:E1(e);var i=Xa(Sf.current);if(n=e.type,t!==null&&e.stateNode!=null)WD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(le(166));return ur(e),null}if(t=Xa(ms.current),Bp(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ss]=e,r[Tf]=s,t=(e.mode&1)!==0,n){case"dialog":Kt("cancel",r),Kt("close",r);break;case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(i=0;i<Nh.length;i++)Kt(Nh[i],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"details":Kt("toggle",r);break;case"input":MR(r,s),Kt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",r);break;case"textarea":VR(r,s),Kt("invalid",r)}Q0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&jp(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&jp(r.textContent,l,t),i=["children",""+l]):ff.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Kt("scroll",r)}switch(n){case"input":Dp(r),FR(r,s,!0);break;case"textarea":Dp(r),$R(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=zm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_O(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ss]=e,t[Tf]=r,qD(t,e,!1,!1),e.stateNode=t;e:{switch(o=Y0(n,r),n){case"dialog":Kt("cancel",t),Kt("close",t),i=r;break;case"iframe":case"object":case"embed":Kt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Nh.length;i++)Kt(Nh[i],t);i=r;break;case"source":Kt("error",t),i=r;break;case"img":case"image":case"link":Kt("error",t),Kt("load",t),i=r;break;case"details":Kt("toggle",t),i=r;break;case"input":MR(t,r),i=q0(t,r),Kt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=fn({},r,{value:void 0}),Kt("invalid",t);break;case"textarea":VR(t,r),i=H0(t,r),Kt("invalid",t);break;default:i=r}Q0(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?TO(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wO(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&df(t,c):typeof c=="number"&&df(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ff.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Kt("scroll",t):c!=null&&JE(t,s,c,o))}switch(n){case"input":Dp(t),FR(t,r,!1);break;case"textarea":Dp(t),$R(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ea(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Lu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Lu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ur(e),null;case 6:if(t&&e.stateNode!=null)KD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(le(166));if(n=Xa(Sf.current),Xa(ms.current),Bp(e)){if(r=e.stateNode,n=e.memoizedProps,r[ss]=e,(s=r.nodeValue!==n)&&(t=ri,t!==null))switch(t.tag){case 3:jp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jp(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ss]=e,e.stateNode=r}return ur(e),null;case 13:if(Yt(ln),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tn&&ni!==null&&e.mode&1&&!(e.flags&128))uD(),Xu(),e.flags|=98560,s=!1;else if(s=Bp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(le(317));s[ss]=e}else Xu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ur(e),s=!1}else Ui!==null&&(Pw(Ui),Ui=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ln.current&1?Vn===0&&(Vn=3):N1())),e.updateQueue!==null&&(e.flags|=4),ur(e),null);case 4:return Zu(),Tw(t,e),t===null&&wf(e.stateNode.containerInfo),ur(e),null;case 10:return y1(e.type._context),ur(e),null;case 17:return zr(e.type)&&qm(),ur(e),null;case 19:if(Yt(ln),s=e.memoizedState,s===null)return ur(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)dh(s,!1);else{if(Vn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xm(t),o!==null){for(e.flags|=128,dh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return jt(ln,ln.current&1|2),e.child}t=t.sibling}s.tail!==null&&bn()>tc&&(e.flags|=128,r=!0,dh(s,!1),e.lanes=4194304)}else{if(!r)if(t=Xm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),dh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!tn)return ur(e),null}else 2*bn()-s.renderingStartTime>tc&&n!==1073741824&&(e.flags|=128,r=!0,dh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bn(),e.sibling=null,n=ln.current,jt(ln,r?n&1|2:n&1),e):(ur(e),null);case 22:case 23:return k1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ti&1073741824&&(ur(e),e.subtreeFlags&6&&(e.flags|=8192)):ur(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function Hz(t,e){switch(d1(e),e.tag){case 1:return zr(e.type)&&qm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zu(),Yt(Ur),Yt(mr),T1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return E1(e),null;case 13:if(Yt(ln),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));Xu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yt(ln),null;case 4:return Zu(),null;case 10:return y1(e.type._context),null;case 22:case 23:return k1(),null;case 24:return null;default:return null}}var qp=!1,hr=!1,Gz=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Pu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gn(t,e,r)}else n.current=null}function Iw(t,e,n){try{n()}catch(r){gn(t,e,r)}}var Ab=!1;function Qz(t,e){if(ow=jm,t=YO(),h1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,h=0,f=0,p=t,m=null;t:for(;;){for(var y;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===t)break t;if(m===n&&++h===i&&(l=o),m===s&&++f===r&&(c=o),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(aw={focusedElem:t,selectionRange:n},jm=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){e=xe;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var E=v.memoizedProps,R=v.memoizedState,T=e.stateNode,I=T.getSnapshotBeforeUpdate(e.elementType===e.type?E:$i(e.type,E),R);T.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(w){gn(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}return v=Ab,Ab=!1,v}function Qh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Iw(e,n,s)}i=i.next}while(i!==r)}}function ey(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function HD(t){var e=t.alternate;e!==null&&(t.alternate=null,HD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ss],delete e[Tf],delete e[cw],delete e[Oz],delete e[Dz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function GD(t){return t.tag===5||t.tag===3||t.tag===4}function Cb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zm));else if(r!==4&&(t=t.child,t!==null))for(xw(t,e,n),t=t.sibling;t!==null;)xw(t,e,n),t=t.sibling}function Rw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rw(t,e,n),t=t.sibling;t!==null;)Rw(t,e,n),t=t.sibling}var Jn=null,ji=!1;function xo(t,e,n){for(n=n.child;n!==null;)QD(t,e,n),n=n.sibling}function QD(t,e,n){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(Kg,n)}catch{}switch(n.tag){case 5:hr||Pu(n,e);case 6:var r=Jn,i=ji;Jn=null,xo(t,e,n),Jn=r,ji=i,Jn!==null&&(ji?(t=Jn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Jn.removeChild(n.stateNode));break;case 18:Jn!==null&&(ji?(t=Jn,n=n.stateNode,t.nodeType===8?B_(t.parentNode,n):t.nodeType===1&&B_(t,n),yf(t)):B_(Jn,n.stateNode));break;case 4:r=Jn,i=ji,Jn=n.stateNode.containerInfo,ji=!0,xo(t,e,n),Jn=r,ji=i;break;case 0:case 11:case 14:case 15:if(!hr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Iw(n,e,o),i=i.next}while(i!==r)}xo(t,e,n);break;case 1:if(!hr&&(Pu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){gn(n,e,l)}xo(t,e,n);break;case 21:xo(t,e,n);break;case 22:n.mode&1?(hr=(r=hr)||n.memoizedState!==null,xo(t,e,n),hr=r):xo(t,e,n);break;default:xo(t,e,n)}}function Pb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Gz),e.forEach(function(r){var i=iq.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Jn=l.stateNode,ji=!1;break e;case 3:Jn=l.stateNode.containerInfo,ji=!0;break e;case 4:Jn=l.stateNode.containerInfo,ji=!0;break e}l=l.return}if(Jn===null)throw Error(le(160));QD(s,o,i),Jn=null,ji=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){gn(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YD(e,t),e=e.sibling}function YD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vi(e,t),rs(t),r&4){try{Qh(3,t,t.return),ey(3,t)}catch(E){gn(t,t.return,E)}try{Qh(5,t,t.return)}catch(E){gn(t,t.return,E)}}break;case 1:Vi(e,t),rs(t),r&512&&n!==null&&Pu(n,n.return);break;case 5:if(Vi(e,t),rs(t),r&512&&n!==null&&Pu(n,n.return),t.flags&32){var i=t.stateNode;try{df(i,"")}catch(E){gn(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&yO(i,s),Y0(l,o);var h=Y0(l,s);for(o=0;o<c.length;o+=2){var f=c[o],p=c[o+1];f==="style"?TO(i,p):f==="dangerouslySetInnerHTML"?wO(i,p):f==="children"?df(i,p):JE(i,f,p,h)}switch(l){case"input":W0(i,s);break;case"textarea":vO(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Lu(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?Lu(i,!!s.multiple,s.defaultValue,!0):Lu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Tf]=s}catch(E){gn(t,t.return,E)}}break;case 6:if(Vi(e,t),rs(t),r&4){if(t.stateNode===null)throw Error(le(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){gn(t,t.return,E)}}break;case 3:if(Vi(e,t),rs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yf(e.containerInfo)}catch(E){gn(t,t.return,E)}break;case 4:Vi(e,t),rs(t);break;case 13:Vi(e,t),rs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(O1=bn())),r&4&&Pb(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(hr=(h=hr)||f,Vi(e,t),hr=h):Vi(e,t),rs(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(xe=t,f=t.child;f!==null;){for(p=xe=f;xe!==null;){switch(m=xe,y=m.child,m.tag){case 0:case 11:case 14:case 15:Qh(4,m,m.return);break;case 1:Pu(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(E){gn(r,n,E)}}break;case 5:Pu(m,m.return);break;case 22:if(m.memoizedState!==null){Db(p);continue}}y!==null?(y.return=m,xe=y):Db(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=EO("display",o))}catch(E){gn(t,t.return,E)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(E){gn(t,t.return,E)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Vi(e,t),rs(t),r&4&&Pb(t);break;case 21:break;default:Vi(e,t),rs(t)}}function rs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(GD(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(df(i,""),r.flags&=-33);var s=Cb(t);Rw(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Cb(t);xw(t,l,o);break;default:throw Error(le(161))}}catch(c){gn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yz(t,e,n){xe=t,XD(t)}function XD(t,e,n){for(var r=(t.mode&1)!==0;xe!==null;){var i=xe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||qp;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||hr;l=qp;var h=hr;if(qp=o,(hr=c)&&!h)for(xe=i;xe!==null;)o=xe,c=o.child,o.tag===22&&o.memoizedState!==null?kb(i):c!==null?(c.return=o,xe=c):kb(i);for(;s!==null;)xe=s,XD(s),s=s.sibling;xe=i,qp=l,hr=h}Ob(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,xe=s):Ob(t)}}function Ob(t){for(;xe!==null;){var e=xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hr||ey(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$i(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&pb(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pb(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&yf(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}hr||e.flags&512&&Sw(e)}catch(m){gn(e,e.return,m)}}if(e===t){xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,xe=n;break}xe=e.return}}function Db(t){for(;xe!==null;){var e=xe;if(e===t){xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xe=n;break}xe=e.return}}function kb(t){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ey(4,e)}catch(c){gn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){gn(e,i,c)}}var s=e.return;try{Sw(e)}catch(c){gn(e,s,c)}break;case 5:var o=e.return;try{Sw(e)}catch(c){gn(e,o,c)}}}catch(c){gn(e,e.return,c)}if(e===t){xe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,xe=l;break}xe=e.return}}var Xz=Math.ceil,eg=ao.ReactCurrentDispatcher,C1=ao.ReactCurrentOwner,Ri=ao.ReactCurrentBatchConfig,Et=0,qn=null,On=null,nr=0,ti=0,Ou=ma(0),Vn=0,Af=null,dl=0,ty=0,P1=0,Yh=null,Fr=null,O1=0,tc=1/0,Ls=null,tg=!1,bw=null,Go=null,Wp=!1,jo=null,ng=0,Xh=0,Aw=null,_m=-1,wm=0;function xr(){return Et&6?bn():_m!==-1?_m:_m=bn()}function Qo(t){return t.mode&1?Et&2&&nr!==0?nr&-nr:Nz.transition!==null?(wm===0&&(wm=NO()),wm):(t=Ot,t!==0||(t=window.event,t=t===void 0?16:BO(t.type)),t):1}function Ki(t,e,n,r){if(50<Xh)throw Xh=0,Aw=null,Error(le(185));ld(t,n,r),(!(Et&2)||t!==qn)&&(t===qn&&(!(Et&2)&&(ty|=n),Vn===4&&Mo(t,nr)),qr(t,r),n===1&&Et===0&&!(e.mode&1)&&(tc=bn()+500,Xg&&ga()))}function qr(t,e){var n=t.callbackNode;N9(t,e);var r=$m(t,t===qn?nr:0);if(r===0)n!==null&&UR(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&UR(n),e===1)t.tag===0?kz(Nb.bind(null,t)):oD(Nb.bind(null,t)),Cz(function(){!(Et&6)&&ga()}),n=null;else{switch(LO(r)){case 1:n=r1;break;case 4:n=DO;break;case 16:n=Vm;break;case 536870912:n=kO;break;default:n=Vm}n=sk(n,JD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function JD(t,e){if(_m=-1,wm=0,Et&6)throw Error(le(327));var n=t.callbackNode;if(ju()&&t.callbackNode!==n)return null;var r=$m(t,t===qn?nr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rg(t,r);else{e=r;var i=Et;Et|=2;var s=ek();(qn!==t||nr!==e)&&(Ls=null,tc=bn()+500,sl(t,e));do try{eq();break}catch(l){ZD(t,l)}while(1);g1(),eg.current=s,Et=i,On!==null?e=0:(qn=null,nr=0,e=Vn)}if(e!==0){if(e===2&&(i=tw(t),i!==0&&(r=i,e=Cw(t,i))),e===1)throw n=Af,sl(t,0),Mo(t,r),qr(t,bn()),n;if(e===6)Mo(t,r);else{if(i=t.current.alternate,!(r&30)&&!Jz(i)&&(e=rg(t,r),e===2&&(s=tw(t),s!==0&&(r=s,e=Cw(t,s))),e===1))throw n=Af,sl(t,0),Mo(t,r),qr(t,bn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(le(345));case 2:Ba(t,Fr,Ls);break;case 3:if(Mo(t,r),(r&130023424)===r&&(e=O1+500-bn(),10<e)){if($m(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=uw(Ba.bind(null,t,Fr,Ls),e);break}Ba(t,Fr,Ls);break;case 4:if(Mo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Wi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=bn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xz(r/1960))-r,10<r){t.timeoutHandle=uw(Ba.bind(null,t,Fr,Ls),r);break}Ba(t,Fr,Ls);break;case 5:Ba(t,Fr,Ls);break;default:throw Error(le(329))}}}return qr(t,bn()),t.callbackNode===n?JD.bind(null,t):null}function Cw(t,e){var n=Yh;return t.current.memoizedState.isDehydrated&&(sl(t,e).flags|=256),t=rg(t,e),t!==2&&(e=Fr,Fr=n,e!==null&&Pw(e)),t}function Pw(t){Fr===null?Fr=t:Fr.push.apply(Fr,t)}function Jz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Qi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mo(t,e){for(e&=~P1,e&=~ty,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wi(e),r=1<<n;t[n]=-1,e&=~r}}function Nb(t){if(Et&6)throw Error(le(327));ju();var e=$m(t,0);if(!(e&1))return qr(t,bn()),null;var n=rg(t,e);if(t.tag!==0&&n===2){var r=tw(t);r!==0&&(e=r,n=Cw(t,r))}if(n===1)throw n=Af,sl(t,0),Mo(t,e),qr(t,bn()),n;if(n===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ba(t,Fr,Ls),qr(t,bn()),null}function D1(t,e){var n=Et;Et|=1;try{return t(e)}finally{Et=n,Et===0&&(tc=bn()+500,Xg&&ga())}}function pl(t){jo!==null&&jo.tag===0&&!(Et&6)&&ju();var e=Et;Et|=1;var n=Ri.transition,r=Ot;try{if(Ri.transition=null,Ot=1,t)return t()}finally{Ot=r,Ri.transition=n,Et=e,!(Et&6)&&ga()}}function k1(){ti=Ou.current,Yt(Ou)}function sl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Az(n)),On!==null)for(n=On.return;n!==null;){var r=n;switch(d1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qm();break;case 3:Zu(),Yt(Ur),Yt(mr),T1();break;case 5:E1(r);break;case 4:Zu();break;case 13:Yt(ln);break;case 19:Yt(ln);break;case 10:y1(r.type._context);break;case 22:case 23:k1()}n=n.return}if(qn=t,On=t=Yo(t.current,null),nr=ti=e,Vn=0,Af=null,P1=ty=dl=0,Fr=Yh=null,Ya!==null){for(e=0;e<Ya.length;e++)if(n=Ya[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ya=null}return t}function ZD(t,e){do{var n=On;try{if(g1(),gm.current=Zm,Jm){for(var r=cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jm=!1}if(fl=0,Un=Fn=cn=null,Gh=!1,xf=0,C1.current=null,n===null||n.return===null){Vn=1,Af=e,On=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=nr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=Eb(o);if(y!==null){y.flags&=-257,Tb(y,o,l,s,e),y.mode&1&&wb(s,h,e),e=y,c=h;var v=e.updateQueue;if(v===null){var E=new Set;E.add(c),e.updateQueue=E}else v.add(c);break e}else{if(!(e&1)){wb(s,h,e),N1();break e}c=Error(le(426))}}else if(tn&&l.mode&1){var R=Eb(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Tb(R,o,l,s,e),p1(ec(c,l));break e}}s=c=ec(c,l),Vn!==4&&(Vn=2),Yh===null?Yh=[s]:Yh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=MD(s,c,e);db(s,T);break e;case 1:l=c;var I=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof I.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Go===null||!Go.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=FD(s,l,e);db(s,w);break e}}s=s.return}while(s!==null)}nk(n)}catch(P){e=P,On===n&&n!==null&&(On=n=n.return);continue}break}while(1)}function ek(){var t=eg.current;return eg.current=Zm,t===null?Zm:t}function N1(){(Vn===0||Vn===3||Vn===2)&&(Vn=4),qn===null||!(dl&268435455)&&!(ty&268435455)||Mo(qn,nr)}function rg(t,e){var n=Et;Et|=2;var r=ek();(qn!==t||nr!==e)&&(Ls=null,sl(t,e));do try{Zz();break}catch(i){ZD(t,i)}while(1);if(g1(),Et=n,eg.current=r,On!==null)throw Error(le(261));return qn=null,nr=0,Vn}function Zz(){for(;On!==null;)tk(On)}function eq(){for(;On!==null&&!x9();)tk(On)}function tk(t){var e=ik(t.alternate,t,ti);t.memoizedProps=t.pendingProps,e===null?nk(t):On=e,C1.current=null}function nk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Hz(n,e),n!==null){n.flags&=32767,On=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vn=6,On=null;return}}else if(n=Kz(n,e,ti),n!==null){On=n;return}if(e=e.sibling,e!==null){On=e;return}On=e=t}while(e!==null);Vn===0&&(Vn=5)}function Ba(t,e,n){var r=Ot,i=Ri.transition;try{Ri.transition=null,Ot=1,tq(t,e,n,r)}finally{Ri.transition=i,Ot=r}return null}function tq(t,e,n,r){do ju();while(jo!==null);if(Et&6)throw Error(le(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(L9(t,s),t===qn&&(On=qn=null,nr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wp||(Wp=!0,sk(Vm,function(){return ju(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ri.transition,Ri.transition=null;var o=Ot;Ot=1;var l=Et;Et|=4,C1.current=null,Qz(t,n),YD(n,t),Ez(aw),jm=!!ow,aw=ow=null,t.current=n,Yz(n),R9(),Et=l,Ot=o,Ri.transition=s}else t.current=n;if(Wp&&(Wp=!1,jo=t,ng=i),s=t.pendingLanes,s===0&&(Go=null),C9(n.stateNode),qr(t,bn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tg)throw tg=!1,t=bw,bw=null,t;return ng&1&&t.tag!==0&&ju(),s=t.pendingLanes,s&1?t===Aw?Xh++:(Xh=0,Aw=t):Xh=0,ga(),null}function ju(){if(jo!==null){var t=LO(ng),e=Ri.transition,n=Ot;try{if(Ri.transition=null,Ot=16>t?16:t,jo===null)var r=!1;else{if(t=jo,jo=null,ng=0,Et&6)throw Error(le(331));var i=Et;for(Et|=4,xe=t.current;xe!==null;){var s=xe,o=s.child;if(xe.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(xe=h;xe!==null;){var f=xe;switch(f.tag){case 0:case 11:case 15:Qh(8,f,s)}var p=f.child;if(p!==null)p.return=f,xe=p;else for(;xe!==null;){f=xe;var m=f.sibling,y=f.return;if(HD(f),f===h){xe=null;break}if(m!==null){m.return=y,xe=m;break}xe=y}}}var v=s.alternate;if(v!==null){var E=v.child;if(E!==null){v.child=null;do{var R=E.sibling;E.sibling=null,E=R}while(E!==null)}}xe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,xe=o;else e:for(;xe!==null;){if(s=xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qh(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,xe=T;break e}xe=s.return}}var I=t.current;for(xe=I;xe!==null;){o=xe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,xe=S;else e:for(o=I;xe!==null;){if(l=xe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ey(9,l)}}catch(P){gn(l,l.return,P)}if(l===o){xe=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,xe=w;break e}xe=l.return}}if(Et=i,ga(),ps&&typeof ps.onPostCommitFiberRoot=="function")try{ps.onPostCommitFiberRoot(Kg,t)}catch{}r=!0}return r}finally{Ot=n,Ri.transition=e}}return!1}function Lb(t,e,n){e=ec(n,e),e=MD(t,e,1),t=Ho(t,e,1),e=xr(),t!==null&&(ld(t,1,e),qr(t,e))}function gn(t,e,n){if(t.tag===3)Lb(t,t,n);else for(;e!==null;){if(e.tag===3){Lb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Go===null||!Go.has(r))){t=ec(n,t),t=FD(e,t,1),e=Ho(e,t,1),t=xr(),e!==null&&(ld(e,1,t),qr(e,t));break}}e=e.return}}function nq(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xr(),t.pingedLanes|=t.suspendedLanes&n,qn===t&&(nr&n)===n&&(Vn===4||Vn===3&&(nr&130023424)===nr&&500>bn()-O1?sl(t,0):P1|=n),qr(t,e)}function rk(t,e){e===0&&(t.mode&1?(e=Lp,Lp<<=1,!(Lp&130023424)&&(Lp=4194304)):e=1);var n=xr();t=eo(t,e),t!==null&&(ld(t,e,n),qr(t,n))}function rq(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rk(t,n)}function iq(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(e),rk(t,n)}var ik;ik=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ur.current)Vr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vr=!1,Wz(t,e,n);Vr=!!(t.flags&131072)}else Vr=!1,tn&&e.flags&1048576&&aD(e,Hm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vm(t,e),t=e.pendingProps;var i=Yu(e,mr.current);$u(e,n),i=S1(null,e,r,t,i,n);var s=x1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zr(r)?(s=!0,Wm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_1(e),i.updater=Jg,e.stateNode=i,i._reactInternals=e,gw(e,r,t,n),e=_w(null,e,r,!0,s,n)):(e.tag=0,tn&&s&&f1(e),wr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=oq(r),t=$i(r,t),i){case 0:e=vw(null,e,r,t,n);break e;case 1:e=xb(null,e,r,t,n);break e;case 11:e=Ib(null,e,r,t,n);break e;case 14:e=Sb(null,e,r,$i(r.type,t),n);break e}throw Error(le(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),vw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),xb(t,e,r,i,n);case 3:e:{if(BD(e),t===null)throw Error(le(387));r=e.pendingProps,s=e.memoizedState,i=s.element,hD(t,e),Ym(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ec(Error(le(423)),e),e=Rb(t,e,r,n,i);break e}else if(r!==i){i=ec(Error(le(424)),e),e=Rb(t,e,r,n,i);break e}else for(ni=Ko(e.stateNode.containerInfo.firstChild),ri=e,tn=!0,Ui=null,n=mD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xu(),r===i){e=to(t,e,n);break e}wr(t,e,r,n)}e=e.child}return e;case 5:return gD(e),t===null&&dw(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,lw(r,i)?o=null:s!==null&&lw(r,s)&&(e.flags|=32),jD(t,e),wr(t,e,o,n),e.child;case 6:return t===null&&dw(e),null;case 13:return UD(t,e,n);case 4:return w1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ju(e,null,r,n):wr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),Ib(t,e,r,i,n);case 7:return wr(t,e,e.pendingProps,n),e.child;case 8:return wr(t,e,e.pendingProps.children,n),e.child;case 12:return wr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,jt(Gm,r._currentValue),r._currentValue=o,s!==null)if(Qi(s.value,o)){if(s.children===i.children&&!Ur.current){e=to(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Ws(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?c.next=c:(c.next=f.next,f.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),pw(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(le(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),pw(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}wr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,$u(e,n),i=Ai(i),r=r(i),e.flags|=1,wr(t,e,r,n),e.child;case 14:return r=e.type,i=$i(r,e.pendingProps),i=$i(r.type,i),Sb(t,e,r,i,n);case 15:return VD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),vm(t,e),e.tag=1,zr(r)?(t=!0,Wm(e)):t=!1,$u(e,n),dD(e,r,i),gw(e,r,i,n),_w(null,e,r,!0,t,n);case 19:return zD(t,e,n);case 22:return $D(t,e,n)}throw Error(le(156,e.tag))};function sk(t,e){return OO(t,e)}function sq(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(t,e,n,r){return new sq(t,e,n,r)}function L1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oq(t){if(typeof t=="function")return L1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===e1)return 11;if(t===t1)return 14}return 2}function Yo(t,e){var n=t.alternate;return n===null?(n=Ii(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Em(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")L1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Eu:return ol(n.children,i,s,e);case ZE:o=8,i|=8;break;case j0:return t=Ii(12,n,e,i|2),t.elementType=j0,t.lanes=s,t;case B0:return t=Ii(13,n,e,i),t.elementType=B0,t.lanes=s,t;case U0:return t=Ii(19,n,e,i),t.elementType=U0,t.lanes=s,t;case pO:return ny(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fO:o=10;break e;case dO:o=9;break e;case e1:o=11;break e;case t1:o=14;break e;case Oo:o=16,r=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=Ii(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ol(t,e,n,r){return t=Ii(7,t,r,e),t.lanes=n,t}function ny(t,e,n,r){return t=Ii(22,t,r,e),t.elementType=pO,t.lanes=n,t.stateNode={isHidden:!1},t}function Q_(t,e,n){return t=Ii(6,t,null,e),t.lanes=n,t}function Y_(t,e,n){return e=Ii(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aq(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=P_(0),this.expirationTimes=P_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=P_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function M1(t,e,n,r,i,s,o,l,c){return t=new aq(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ii(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_1(s),t}function lq(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ok(t){if(!t)return ta;t=t._reactInternals;e:{if(Dl(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var n=t.type;if(zr(n))return sD(t,n,e)}return e}function ak(t,e,n,r,i,s,o,l,c){return t=M1(n,r,!0,t,i,s,o,l,c),t.context=ok(null),n=t.current,r=xr(),i=Qo(n),s=Ws(r,i),s.callback=e??null,Ho(n,s,i),t.current.lanes=i,ld(t,i,r),qr(t,r),t}function ry(t,e,n,r){var i=e.current,s=xr(),o=Qo(i);return n=ok(n),e.context===null?e.context=n:e.pendingContext=n,e=Ws(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ho(i,e,o),t!==null&&(Ki(t,i,o,s),mm(t,i,o)),o}function ig(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function F1(t,e){Mb(t,e),(t=t.alternate)&&Mb(t,e)}function uq(){return null}var lk=typeof reportError=="function"?reportError:function(t){console.error(t)};function V1(t){this._internalRoot=t}iy.prototype.render=V1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));ry(t,e,null,null)};iy.prototype.unmount=V1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pl(function(){ry(null,t,null,null)}),e[Zs]=null}};function iy(t){this._internalRoot=t}iy.prototype.unstable_scheduleHydration=function(t){if(t){var e=VO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Lo.length&&e!==0&&e<Lo[n].priority;n++);Lo.splice(n,0,t),n===0&&jO(t)}};function $1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fb(){}function cq(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=ig(o);s.call(h)}}var o=ak(e,r,t,0,null,!1,!1,"",Fb);return t._reactRootContainer=o,t[Zs]=o.current,wf(t.nodeType===8?t.parentNode:t),pl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=ig(c);l.call(h)}}var c=M1(t,0,!1,null,null,!1,!1,"",Fb);return t._reactRootContainer=c,t[Zs]=c.current,wf(t.nodeType===8?t.parentNode:t),pl(function(){ry(e,c,n,r)}),c}function oy(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=ig(o);l.call(c)}}ry(e,o,t,i)}else o=cq(n,e,t,i,r);return ig(o)}MO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=kh(e.pendingLanes);n!==0&&(i1(e,n|1),qr(e,bn()),!(Et&6)&&(tc=bn()+500,ga()))}break;case 13:pl(function(){var r=eo(t,1);if(r!==null){var i=xr();Ki(r,t,1,i)}}),F1(t,1)}};s1=function(t){if(t.tag===13){var e=eo(t,134217728);if(e!==null){var n=xr();Ki(e,t,134217728,n)}F1(t,134217728)}};FO=function(t){if(t.tag===13){var e=Qo(t),n=eo(t,e);if(n!==null){var r=xr();Ki(n,t,e,r)}F1(t,e)}};VO=function(){return Ot};$O=function(t,e){var n=Ot;try{return Ot=t,e()}finally{Ot=n}};J0=function(t,e,n){switch(e){case"input":if(W0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Yg(r);if(!i)throw Error(le(90));gO(r),W0(r,i)}}}break;case"textarea":vO(t,n);break;case"select":e=n.value,e!=null&&Lu(t,!!n.multiple,e,!1)}};xO=D1;RO=pl;var hq={usingClientEntryPoint:!1,Events:[cd,xu,Yg,IO,SO,D1]},ph={findFiberByHostInstance:Qa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},fq={bundleType:ph.bundleType,version:ph.version,rendererPackageName:ph.rendererPackageName,rendererConfig:ph.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ao.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=CO(t),t===null?null:t.stateNode},findFiberByHostInstance:ph.findFiberByHostInstance||uq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kp.isDisabled&&Kp.supportsFiber)try{Kg=Kp.inject(fq),ps=Kp}catch{}}li.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hq;li.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$1(e))throw Error(le(200));return lq(t,e,null,n)};li.createRoot=function(t,e){if(!$1(t))throw Error(le(299));var n=!1,r="",i=lk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=M1(t,1,!1,null,null,n,!1,r,i),t[Zs]=e.current,wf(t.nodeType===8?t.parentNode:t),new V1(e)};li.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=CO(e),t=t===null?null:t.stateNode,t};li.flushSync=function(t){return pl(t)};li.hydrate=function(t,e,n){if(!sy(e))throw Error(le(200));return oy(null,t,e,!0,n)};li.hydrateRoot=function(t,e,n){if(!$1(t))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=lk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ak(e,null,t,1,n??null,i,!1,s,o),t[Zs]=e.current,wf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new iy(e)};li.render=function(t,e,n){if(!sy(e))throw Error(le(200));return oy(null,t,e,!1,n)};li.unmountComponentAtNode=function(t){if(!sy(t))throw Error(le(40));return t._reactRootContainer?(pl(function(){oy(null,null,t,!1,function(){t._reactRootContainer=null,t[Zs]=null})}),!0):!1};li.unstable_batchedUpdates=D1;li.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sy(n))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return oy(t,e,n,!1,r)};li.version="18.2.0-next-9e3b772b8-20220608";function uk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uk)}catch(t){console.error(t)}}uk(),aO.exports=li;var j1=aO.exports;const Du=od(j1);var Vb=j1;V0.createRoot=Vb.createRoot,V0.hydrateRoot=Vb.hydrateRoot;class Sc{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Cf=typeof window>"u"||"Deno"in window;function vi(){}function dq(t,e){return typeof t=="function"?t(e):t}function Ow(t){return typeof t=="number"&&t>=0&&t!==1/0}function $b(t,e){return t.filter(n=>!e.includes(n))}function pq(t,e,n){const r=t.slice(0);return r[e]=n,r}function ck(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Lh(t,e,n){return ay(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function ko(t,e,n){return ay(t)?[{...e,queryKey:t},n]:[t||{},e]}function jb(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(ay(o)){if(r){if(e.queryHash!==B1(o,e.options))return!1}else if(!sg(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function Bb(t,e){const{exact:n,fetching:r,predicate:i,mutationKey:s}=t;if(ay(s)){if(!e.options.mutationKey)return!1;if(n){if(Ja(e.options.mutationKey)!==Ja(s))return!1}else if(!sg(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function B1(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ja)(t)}function Ja(t){return JSON.stringify(t,(e,n)=>kw(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function sg(t,e){return hk(t,e)}function hk(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!hk(t[n],e[n])):!1}function fk(t,e){if(t===e)return t;const n=Ub(t)&&Ub(e);if(n||kw(t)&&kw(e)){const r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{};let l=0;for(let c=0;c<s;c++){const h=n?c:i[c];o[h]=fk(t[h],e[h]),o[h]===t[h]&&l++}return r===s&&l===r?t:o}return e}function Dw(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Ub(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function kw(t){if(!zb(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!zb(n)||!n.hasOwnProperty("isPrototypeOf"))}function zb(t){return Object.prototype.toString.call(t)==="[object Object]"}function ay(t){return Array.isArray(t)}function dk(t){return new Promise(e=>{setTimeout(e,t)})}function qb(t){dk(0).then(t)}function mq(){if(typeof AbortController=="function")return new AbortController}function Nw(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?fk(t,e):e}class gq extends Sc{constructor(){super(),this.setup=e=>{if(!Cf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const og=new gq,Wb=["online","offline"];class yq extends Sc{constructor(){super(),this.setup=e=>{if(!Cf&&window.addEventListener){const n=()=>e();return Wb.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{Wb.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const ag=new yq;function vq(t){return Math.min(1e3*2**t,3e4)}function ly(t){return(t??"online")==="online"?ag.isOnline():!0}class pk{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function Tm(t){return t instanceof pk}function mk(t){let e=!1,n=0,r=!1,i,s,o;const l=new Promise((R,T)=>{s=R,o=T}),c=R=>{r||(y(new pk(R)),t.abort==null||t.abort())},h=()=>{e=!0},f=()=>{e=!1},p=()=>!og.isFocused()||t.networkMode!=="always"&&!ag.isOnline(),m=R=>{r||(r=!0,t.onSuccess==null||t.onSuccess(R),i==null||i(),s(R))},y=R=>{r||(r=!0,t.onError==null||t.onError(R),i==null||i(),o(R))},v=()=>new Promise(R=>{i=T=>{const I=r||!p();return I&&R(T),I},t.onPause==null||t.onPause()}).then(()=>{i=void 0,r||t.onContinue==null||t.onContinue()}),E=()=>{if(r)return;let R;try{R=t.fn()}catch(T){R=Promise.reject(T)}Promise.resolve(R).then(m).catch(T=>{var I,S;if(r)return;const w=(I=t.retry)!=null?I:3,P=(S=t.retryDelay)!=null?S:vq,O=typeof P=="function"?P(n,T):P,D=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,T);if(e||!D){y(T);return}n++,t.onFail==null||t.onFail(n,T),dk(O).then(()=>{if(p())return v()}).then(()=>{e?y(T):E()})})};return ly(t.networkMode)?E():v().then(E),{promise:l,cancel:c,continue:()=>(i==null?void 0:i())?l:Promise.resolve(),cancelRetry:h,continueRetry:f}}const U1=console;function _q(){let t=[],e=0,n=f=>{f()},r=f=>{f()};const i=f=>{let p;e++;try{p=f()}finally{e--,e||l()}return p},s=f=>{e?t.push(f):qb(()=>{n(f)})},o=f=>(...p)=>{s(()=>{f(...p)})},l=()=>{const f=t;t=[],f.length&&qb(()=>{r(()=>{f.forEach(p=>{n(p)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{r=f}}}const un=_q();class gk{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ow(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(Cf?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}let wq=class extends gk{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||U1,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||Eq(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const r=Nw(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(e),r?r.then(vi).catch(vi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!ck(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const y=this.observers.find(v=>v.options.queryFn);y&&this.setOptions(y.options)}const o=mq(),l={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};c(l);const h=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(l)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),f={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:h};if(c(f),(r=this.options.behavior)==null||r.onFetch(f),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=f.fetchOptions)==null?void 0:i.meta)){var p;this.dispatch({type:"fetch",meta:(p=f.fetchOptions)==null?void 0:p.meta})}const m=y=>{if(Tm(y)&&y.silent||this.dispatch({type:"error",error:y}),!Tm(y)){var v,E,R,T;(v=(E=this.cache.config).onError)==null||v.call(E,y,this),(R=(T=this.cache.config).onSettled)==null||R.call(T,this.state.data,y,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=mk({fn:f.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:y=>{var v,E,R,T;if(typeof y>"u"){m(new Error(this.queryHash+" data is undefined"));return}this.setData(y),(v=(E=this.cache.config).onSuccess)==null||v.call(E,y,this),(R=(T=this.cache.config).onSettled)==null||R.call(T,y,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:m,onFail:(y,v)=>{this.dispatch({type:"failed",failureCount:y,error:v})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=r=>{var i,s;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:ly(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return Tm(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),un.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}};function Eq(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class Tq extends Sc{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,r){var i;const s=n.queryKey,o=(i=n.queryHash)!=null?i:B1(s,n);let l=this.get(o);return l||(l=new wq({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(l)),l}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){un.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[r]=ko(e,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>jb(r,i))}findAll(e,n){const[r]=ko(e,n);return Object.keys(r).length>0?this.queries.filter(i=>jb(r,i)):this.queries}notify(e){un.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){un.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){un.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}let Iq=class extends gk{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||U1,this.observers=[],this.state=e.state||Sq(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var D;return this.retryer=mk({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(N,K)=>{this.dispatch({type:"failed",failureCount:N,error:K})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(D=this.options.retry)!=null?D:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,s,o,l,c,h,f;if(!n){var p,m,y,v;this.dispatch({type:"loading",variables:this.options.variables}),await((p=(m=this.mutationCache.config).onMutate)==null?void 0:p.call(m,this.state.variables,this));const N=await((y=(v=this.options).onMutate)==null?void 0:y.call(v,this.state.variables));N!==this.state.context&&this.dispatch({type:"loading",context:N,variables:this.state.variables})}const D=await e();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,D,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,D,this.state.variables,this.state.context)),await((l=(c=this.mutationCache.config).onSettled)==null?void 0:l.call(c,D,null,this.state.variables,this.state.context,this)),await((h=(f=this.options).onSettled)==null?void 0:h.call(f,D,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:D}),D}catch(D){try{var E,R,T,I,S,w,P,O;throw await((E=(R=this.mutationCache.config).onError)==null?void 0:E.call(R,D,this.state.variables,this.state.context,this)),await((T=(I=this.options).onError)==null?void 0:T.call(I,D,this.state.variables,this.state.context)),await((S=(w=this.mutationCache.config).onSettled)==null?void 0:S.call(w,void 0,D,this.state.variables,this.state.context,this)),await((P=(O=this.options).onSettled)==null?void 0:P.call(O,void 0,D,this.state.variables,this.state.context)),D}finally{this.dispatch({type:"error",error:D})}}}dispatch(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!ly(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=n(this.state),un.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}};function Sq(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class xq extends Sc{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,r){const i=new Iq({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){un.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>Bb(e,n))}findAll(e){return this.mutations.filter(n=>Bb(e,n))}notify(e){un.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return un.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(vi)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Rq(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,r,i,s,o;const l=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,c=(r=t.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,h=c==null?void 0:c.pageParam,f=(c==null?void 0:c.direction)==="forward",p=(c==null?void 0:c.direction)==="backward",m=((s=t.state.data)==null?void 0:s.pages)||[],y=((o=t.state.data)==null?void 0:o.pageParams)||[];let v=y,E=!1;const R=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>{var D;if((D=t.signal)!=null&&D.aborted)E=!0;else{var N;(N=t.signal)==null||N.addEventListener("abort",()=>{E=!0})}return t.signal}})},T=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),I=(O,D,N,K)=>(v=K?[D,...v]:[...v,D],K?[N,...O]:[...O,N]),S=(O,D,N,K)=>{if(E)return Promise.reject("Cancelled");if(typeof N>"u"&&!D&&O.length)return Promise.resolve(O);const Y={queryKey:t.queryKey,pageParam:N,meta:t.options.meta};R(Y);const ie=T(Y);return Promise.resolve(ie).then(we=>I(O,N,we,K))};let w;if(!m.length)w=S([]);else if(f){const O=typeof h<"u",D=O?h:Kb(t.options,m);w=S(m,O,D)}else if(p){const O=typeof h<"u",D=O?h:bq(t.options,m);w=S(m,O,D,!0)}else{v=[];const O=typeof t.options.getNextPageParam>"u";w=(l&&m[0]?l(m[0],0,m):!0)?S([],O,y[0]):Promise.resolve(I([],y[0],m[0]));for(let N=1;N<m.length;N++)w=w.then(K=>{if(l&&m[N]?l(m[N],N,m):!0){const ie=O?y[N]:Kb(t.options,K);return S(K,O,ie)}return Promise.resolve(I(K,y[N],m[N]))})}return w.then(O=>({pages:O,pageParams:v}))}}}}function Kb(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function bq(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class Aq{constructor(e={}){this.queryCache=e.queryCache||new Tq,this.mutationCache=e.mutationCache||new xq,this.logger=e.logger||U1,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=og.subscribe(()=>{og.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=ag.subscribe(()=>{ag.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[r]=ko(e,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state.data}ensureQueryData(e,n,r){const i=Lh(e,n,r),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.queryCache.find(e),s=i==null?void 0:i.state.data,o=dq(n,s);if(typeof o>"u")return;const l=Lh(e),c=this.defaultQueryOptions(l);return this.queryCache.build(this,c).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return un.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state}removeQueries(e,n){const[r]=ko(e,n),i=this.queryCache;un.batch(()=>{i.findAll(r).forEach(s=>{i.remove(s)})})}resetQueries(e,n,r){const[i,s]=ko(e,n,r),o=this.queryCache,l={type:"active",...i};return un.batch(()=>(o.findAll(i).forEach(c=>{c.reset()}),this.refetchQueries(l,s)))}cancelQueries(e,n,r){const[i,s={}]=ko(e,n,r);typeof s.revert>"u"&&(s.revert=!0);const o=un.batch(()=>this.queryCache.findAll(i).map(l=>l.cancel(s)));return Promise.all(o).then(vi).catch(vi)}invalidateQueries(e,n,r){const[i,s]=ko(e,n,r);return un.batch(()=>{var o,l;if(this.queryCache.findAll(i).forEach(h=>{h.invalidate()}),i.refetchType==="none")return Promise.resolve();const c={...i,type:(o=(l=i.refetchType)!=null?l:i.type)!=null?o:"active"};return this.refetchQueries(c,s)})}refetchQueries(e,n,r){const[i,s]=ko(e,n,r),o=un.batch(()=>this.queryCache.findAll(i).filter(c=>!c.isDisabled()).map(c=>{var h;return c.fetch(void 0,{...s,cancelRefetch:(h=s==null?void 0:s.cancelRefetch)!=null?h:!0,meta:{refetchPage:i.refetchPage}})}));let l=Promise.all(o).then(vi);return s!=null&&s.throwOnError||(l=l.catch(vi)),l}fetchQuery(e,n,r){const i=Lh(e,n,r),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,n,r){return this.fetchQuery(e,n,r).then(vi).catch(vi)}fetchInfiniteQuery(e,n,r){const i=Lh(e,n,r);return i.behavior=Rq(),this.fetchQuery(i)}prefetchInfiniteQuery(e,n,r){return this.fetchInfiniteQuery(e,n,r).then(vi).catch(vi)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const r=this.queryDefaults.find(i=>Ja(e)===Ja(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(r=>sg(e,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(e,n){const r=this.mutationDefaults.find(i=>Ja(e)===Ja(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(r=>sg(e,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=B1(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class yk extends Sc{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Hb(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Lw(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Lw(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Dw(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const s=this.hasListeners();s&&Gb(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e),r=this.createResult(n,e);return Pq(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(vi)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),Cf||this.currentResult.isStale||!Ow(this.options.staleTime))return;const n=ck(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Cf||this.options.enabled===!1||!Ow(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||og.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const r=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,l=this.currentResultOptions,c=e!==r,h=c?e.state:this.currentQueryInitialState,f=c?this.currentResult:this.previousQueryResult,{state:p}=e;let{dataUpdatedAt:m,error:y,errorUpdatedAt:v,fetchStatus:E,status:R}=p,T=!1,I=!1,S;if(n._optimisticResults){const N=this.hasListeners(),K=!N&&Hb(e,n),Y=N&&Gb(e,r,n,i);(K||Y)&&(E=ly(e.options.networkMode)?"fetching":"paused",m||(R="loading")),n._optimisticResults==="isRestoring"&&(E="idle")}if(n.keepPreviousData&&!p.dataUpdatedAt&&f!=null&&f.isSuccess&&R!=="error")S=f.data,m=f.dataUpdatedAt,R=f.status,T=!0;else if(n.select&&typeof p.data<"u")if(s&&p.data===(o==null?void 0:o.data)&&n.select===this.selectFn)S=this.selectResult;else try{this.selectFn=n.select,S=n.select(p.data),S=Nw(s==null?void 0:s.data,S,n),this.selectResult=S,this.selectError=null}catch(N){this.selectError=N}else S=p.data;if(typeof n.placeholderData<"u"&&typeof S>"u"&&R==="loading"){let N;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))N=s.data;else if(N=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof N<"u")try{N=n.select(N),this.selectError=null}catch(K){this.selectError=K}typeof N<"u"&&(R="success",S=Nw(s==null?void 0:s.data,N,n),I=!0)}this.selectError&&(y=this.selectError,S=this.selectResult,v=Date.now(),R="error");const w=E==="fetching",P=R==="loading",O=R==="error";return{status:R,fetchStatus:E,isLoading:P,isSuccess:R==="success",isError:O,isInitialLoading:P&&w,data:S,dataUpdatedAt:m,error:y,errorUpdatedAt:v,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:w,isRefetching:w&&!P,isLoadingError:O&&p.dataUpdatedAt===0,isPaused:E==="paused",isPlaceholderData:I,isPreviousData:T,isRefetchError:O&&p.dataUpdatedAt!==0,isStale:z1(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Dw(r,n))return;this.currentResult=r;const i={cache:!0},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!this.trackedProps.size)return!0;const c=new Set(l??this.trackedProps);return this.options.useErrorBoundary&&c.add("error"),Object.keys(this.currentResult).some(h=>{const f=h;return this.currentResult[f]!==n[f]&&c.has(f)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!Tm(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){un.batch(()=>{if(e.onSuccess){var n,r,i,s;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(s=this.options).onSettled)==null||i.call(s,this.currentResult.data,null)}else if(e.onError){var o,l,c,h;(o=(l=this.options).onError)==null||o.call(l,this.currentResult.error),(c=(h=this.options).onSettled)==null||c.call(h,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:f})=>{f(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Cq(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Hb(t,e){return Cq(t,e)||t.state.dataUpdatedAt>0&&Lw(t,e,e.refetchOnMount)}function Lw(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&z1(t,e)}return!1}function Gb(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&z1(t,n)}function z1(t,e){return t.isStaleByTime(e.staleTime)}function Pq(t,e,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?e.isPlaceholderData:!Dw(t.getCurrentResult(),e)}class Oq extends Sc{constructor(e,n){super(),this.client=e,this.queries=[],this.result=[],this.observers=[],this.observersMap={},n&&this.setQueries(n)}onSubscribe(){this.listeners.size===1&&this.observers.forEach(e=>{e.subscribe(n=>{this.onUpdate(e,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach(e=>{e.destroy()})}setQueries(e,n){this.queries=e,un.batch(()=>{const r=this.observers,i=this.findMatchingObservers(this.queries);i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions,n));const s=i.map(h=>h.observer),o=Object.fromEntries(s.map(h=>[h.options.queryHash,h])),l=s.map(h=>h.getCurrentResult()),c=s.some((h,f)=>h!==r[f]);r.length===s.length&&!c||(this.observers=s,this.observersMap=o,this.result=l,this.hasListeners()&&($b(r,s).forEach(h=>{h.destroy()}),$b(s,r).forEach(h=>{h.subscribe(f=>{this.onUpdate(h,f)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(e=>e.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(e){return this.findMatchingObservers(e).map(n=>n.observer.getOptimisticResult(n.defaultedQueryOptions))}findMatchingObservers(e){const n=this.observers,r=new Map(n.map(y=>[y.options.queryHash,y])),i=e.map(y=>this.client.defaultQueryOptions(y)),s=i.flatMap(y=>{const v=r.get(y.queryHash);return v!=null?[{defaultedQueryOptions:y,observer:v}]:[]}),o=new Set(s.map(y=>y.defaultedQueryOptions.queryHash)),l=i.filter(y=>!o.has(y.queryHash)),c=new Set(s.map(y=>y.observer)),h=n.filter(y=>!c.has(y)),f=y=>{const v=this.client.defaultQueryOptions(y),E=this.observersMap[v.queryHash];return E??new yk(this.client,v)},p=l.map((y,v)=>{if(y.keepPreviousData){const E=h[v];if(E!==void 0)return{defaultedQueryOptions:y,observer:E}}return{defaultedQueryOptions:y,observer:f(y)}}),m=(y,v)=>i.indexOf(y.defaultedQueryOptions)-i.indexOf(v.defaultedQueryOptions);return s.concat(p).sort(m)}onUpdate(e,n){const r=this.observers.indexOf(e);r!==-1&&(this.result=pq(this.result,r,n),this.notify())}notify(){un.batch(()=>{this.listeners.forEach(({listener:e})=>{e(this.result)})})}}var vk={exports:{}},_k={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc=x;function Dq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kq=typeof Object.is=="function"?Object.is:Dq,Nq=nc.useState,Lq=nc.useEffect,Mq=nc.useLayoutEffect,Fq=nc.useDebugValue;function Vq(t,e){var n=e(),r=Nq({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Mq(function(){i.value=n,i.getSnapshot=e,X_(i)&&s({inst:i})},[t,n,e]),Lq(function(){return X_(i)&&s({inst:i}),t(function(){X_(i)&&s({inst:i})})},[t]),Fq(n),n}function X_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kq(t,n)}catch{return!0}}function $q(t,e){return e()}var jq=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$q:Vq;_k.useSyncExternalStore=nc.useSyncExternalStore!==void 0?nc.useSyncExternalStore:jq;vk.exports=_k;var Bq=vk.exports;const wk=Bq.useSyncExternalStore,Qb=x.createContext(void 0),Ek=x.createContext(!1);function Tk(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Qb),window.ReactQueryClientContext):Qb)}const Ik=({context:t}={})=>{const e=x.useContext(Tk(t,x.useContext(Ek)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Uq=({client:t,children:e,context:n,contextSharing:r=!1})=>{x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const i=Tk(n,r);return x.createElement(Ek.Provider,{value:!n&&r},x.createElement(i.Provider,{value:t},e))},Sk=x.createContext(!1),xk=()=>x.useContext(Sk);Sk.Provider;function zq(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const qq=x.createContext(zq()),Rk=()=>x.useContext(qq);function Wq(t,e){return typeof t=="function"?t(...e):!!t}const bk=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},Ak=t=>{x.useEffect(()=>{t.clearReset()},[t])},Ck=({result:t,errorResetBoundary:e,useErrorBoundary:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&Wq(n,[t.error,r]),Pk=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},Ok=(t,e)=>t.isLoading&&t.isFetching&&!e,Mw=(t,e,n)=>(t==null?void 0:t.suspense)&&Ok(e,n),Fw=(t,e,n)=>e.fetchOptimistic(t).then(({data:r})=>{t.onSuccess==null||t.onSuccess(r),t.onSettled==null||t.onSettled(r,null)}).catch(r=>{n.clearReset(),t.onError==null||t.onError(r),t.onSettled==null||t.onSettled(void 0,r)});function Kq({queries:t,context:e}){const n=Ik({context:e}),r=xk(),i=Rk(),s=x.useMemo(()=>t.map(m=>{const y=n.defaultQueryOptions(m);return y._optimisticResults=r?"isRestoring":"optimistic",y}),[t,n,r]);s.forEach(m=>{Pk(m),bk(m,i)}),Ak(i);const[o]=x.useState(()=>new Oq(n,s)),l=o.getOptimisticResult(s);wk(x.useCallback(m=>r?()=>{}:o.subscribe(un.batchCalls(m)),[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),x.useEffect(()=>{o.setQueries(s,{listeners:!1})},[s,o]);const h=l.some((m,y)=>Mw(s[y],m,r))?l.flatMap((m,y)=>{const v=s[y],E=o.getObservers()[y];if(v&&E){if(Mw(v,m,r))return Fw(v,E,i);Ok(m,r)&&Fw(v,E,i)}return[]}):[];if(h.length>0)throw Promise.all(h);const f=o.getQueries(),p=l.find((m,y)=>{var v,E;return Ck({result:m,errorResetBoundary:i,useErrorBoundary:(v=(E=s[y])==null?void 0:E.useErrorBoundary)!=null?v:!1,query:f[y]})});if(p!=null&&p.error)throw p.error;return l}function Hq(t,e){const n=Ik({context:t.context}),r=xk(),i=Rk(),s=n.defaultQueryOptions(t);s._optimisticResults=r?"isRestoring":"optimistic",s.onError&&(s.onError=un.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=un.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=un.batchCalls(s.onSettled)),Pk(s),bk(s,i),Ak(i);const[o]=x.useState(()=>new e(n,s)),l=o.getOptimisticResult(s);if(wk(x.useCallback(c=>{const h=r?()=>{}:o.subscribe(un.batchCalls(c));return o.updateResult(),h},[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),x.useEffect(()=>{o.setOptions(s,{listeners:!1})},[s,o]),Mw(s,l,r))throw Fw(s,o,i);if(Ck({result:l,errorResetBoundary:i,useErrorBoundary:s.useErrorBoundary,query:o.getCurrentQuery()}))throw l.error;return s.notifyOnChangeProps?l:o.trackResult(l)}function Dk(t,e,n){const r=Lh(t,e,n);return Hq(r,yk)}const Gq=function(){return null};/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yn(){return yn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yn.apply(this,arguments)}var xn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xn||(xn={}));const Yb="popstate";function Qq(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Pf("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:gl(i)}return Xq(e,n,null,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ml(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Yq(){return Math.random().toString(36).substr(2,8)}function Xb(t,e){return{usr:t.state,key:t.key,idx:e}}function Pf(t,e,n,r){return n===void 0&&(n=null),yn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?lo(e):e,{state:n,key:e&&e.key||r||Yq()})}function gl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function lo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Xq(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=xn.Pop,c=null,h=f();h==null&&(h=0,o.replaceState(yn({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=xn.Pop;let R=f(),T=R==null?null:R-h;h=R,c&&c({action:l,location:E.location,delta:T})}function m(R,T){l=xn.Push;let I=Pf(E.location,R,T);n&&n(I,R),h=f()+1;let S=Xb(I,h),w=E.createHref(I);try{o.pushState(S,"",w)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(w)}s&&c&&c({action:l,location:E.location,delta:1})}function y(R,T){l=xn.Replace;let I=Pf(E.location,R,T);n&&n(I,R),h=f();let S=Xb(I,h),w=E.createHref(I);o.replaceState(S,"",w),s&&c&&c({action:l,location:E.location,delta:0})}function v(R){let T=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof R=="string"?R:gl(R);return ut(T,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,T)}let E={get action(){return l},get location(){return t(i,o)},listen(R){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Yb,p),c=R,()=>{i.removeEventListener(Yb,p),c=null}},createHref(R){return e(i,R)},createURL:v,encodeLocation(R){let T=v(R);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:y,go(R){return o.go(R)}};return E}var Rn;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Rn||(Rn={}));const Jq=new Set(["lazy","caseSensitive","path","id","index","children"]);function Zq(t){return t.index===!0}function Vw(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],l=typeof i.id=="string"?i.id:o.join("-");if(ut(i.index!==!0||!i.children,"Cannot specify children on an index route"),ut(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),Zq(i)){let c=yn({},i,e(i),{id:l});return r[l]=c,c}else{let c=yn({},i,e(i),{id:l,children:void 0});return r[l]=c,i.children&&(c.children=Vw(i.children,e,o,r)),c}})}function ku(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?lo(e):e,i=xc(r.pathname||"/",n);if(i==null)return null;let s=kk(t);t7(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=c7(s[l],d7(i));return o}function e7(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function kk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(ut(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=Ks([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(ut(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),kk(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:l7(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of Nk(s.path))i(s,o,c)}),e}function Nk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Nk(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function t7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:u7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const n7=/^:\w+$/,r7=3,i7=2,s7=1,o7=10,a7=-2,Jb=t=>t==="*";function l7(t,e){let n=t.split("/"),r=n.length;return n.some(Jb)&&(r+=a7),e&&(r+=i7),n.filter(i=>!Jb(i)).reduce((i,s)=>i+(n7.test(s)?r7:s===""?s7:o7),r)}function u7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function c7(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=h7({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h);if(!f)return null;Object.assign(r,f.params);let p=l.route;s.push({params:r,pathname:Ks([i,f.pathname]),pathnameBase:y7(Ks([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Ks([i,f.pathnameBase]))}return s}function h7(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=f7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,f,p)=>{let{paramName:m,isOptional:y}=f;if(m==="*"){let E=l[p]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const v=l[p];return y&&!v?h[m]=void 0:h[m]=p7(v||"",m),h},{}),pathname:s,pathnameBase:o,pattern:t}}function f7(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ml(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function d7(t){try{return decodeURI(t)}catch(e){return ml(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function p7(t,e){try{return decodeURIComponent(t)}catch(n){return ml(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function xc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function m7(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?lo(t):t;return{pathname:n?n.startsWith("/")?n:g7(n,e):e,search:v7(r),hash:_7(i)}}function g7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function J_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uy(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function q1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=lo(t):(i=yn({},t),ut(!i.pathname||!i.pathname.includes("?"),J_("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),J_("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),J_("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(r||o==null)l=n;else{let p=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let c=m7(i,l),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}const Ks=t=>t.join("/").replace(/\/\/+/g,"/"),y7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),v7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class W1{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Lk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Mk=["post","put","patch","delete"],w7=new Set(Mk),E7=["get",...Mk],T7=new Set(E7),I7=new Set([301,302,303,307,308]),S7=new Set([307,308]),Z_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},x7={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Fk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R7=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Vk="remix-router-transitions";function b7(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ut(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let F=t.detectErrorBoundary;i=B=>({hasErrorBoundary:F(B)})}else i=R7;let s={},o=Vw(t.routes,i,void 0,s),l,c=t.basename||"/",h=yn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),f=null,p=new Set,m=null,y=null,v=null,E=t.hydrationData!=null,R=ku(o,t.history.location,c),T=null;if(R==null){let F=_i(404,{pathname:t.history.location.pathname}),{matches:B,route:H}=oA(o);R=B,T={[H.id]:F}}let I=!R.some(F=>F.route.lazy)&&(!R.some(F=>F.route.loader)||t.hydrationData!=null),S,w={historyAction:t.history.action,location:t.history.location,matches:R,initialized:I,navigation:Z_,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||T,fetchers:new Map,blockers:new Map},P=xn.Pop,O=!1,D,N=!1,K=new Map,Y=null,ie=!1,he=!1,we=[],Le=[],be=new Map,Me=0,Ne=-1,G=new Map,ue=new Set,oe=new Map,Ee=new Map,Re=new Set,Fe=new Map,Ve=new Map,Oe=!1;function Ze(){if(f=t.history.listen(F=>{let{action:B,location:H,delta:ce}=F;if(Oe){Oe=!1;return}ml(Ve.size===0||ce!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ge=ot({currentLocation:w.location,nextLocation:H,historyAction:B});if(ge&&ce!=null){Oe=!0,t.history.go(ce*-1),We(ge,{state:"blocked",location:H,proceed(){We(ge,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),t.history.go(ce)},reset(){let Te=new Map(w.blockers);Te.set(ge,mh),Ge({blockers:Te})}});return}return wt(B,H)}),n){V7(e,K);let F=()=>$7(e,K);e.addEventListener("pagehide",F),Y=()=>e.removeEventListener("pagehide",F)}return w.initialized||wt(xn.Pop,w.location),S}function Jt(){f&&f(),Y&&Y(),p.clear(),D&&D.abort(),w.fetchers.forEach((F,B)=>Nn(B)),w.blockers.forEach((F,B)=>qe(B))}function _t(F){return p.add(F),()=>p.delete(F)}function Ge(F,B){w=yn({},w,F);let H=[],ce=[];h.v7_fetcherPersist&&w.fetchers.forEach((ge,Te)=>{ge.state==="idle"&&(Re.has(Te)?ce.push(Te):H.push(Te))}),p.forEach(ge=>ge(w,{deletedFetchers:ce,unstable_viewTransitionOpts:B})),h.v7_fetcherPersist&&(H.forEach(ge=>w.fetchers.delete(ge)),ce.forEach(ge=>Nn(ge)))}function Vt(F,B){var H,ce;let ge=w.actionData!=null&&w.navigation.formMethod!=null&&Bi(w.navigation.formMethod)&&w.navigation.state==="loading"&&((H=F.state)==null?void 0:H._isRedirect)!==!0,Te;B.actionData?Object.keys(B.actionData).length>0?Te=B.actionData:Te=null:ge?Te=w.actionData:Te=null;let je=B.loaderData?sA(w.loaderData,B.loaderData,B.matches||[],B.errors):w.loaderData,Ae=w.blockers;Ae.size>0&&(Ae=new Map(Ae),Ae.forEach((Lt,at)=>Ae.set(at,mh)));let Ce=O===!0||w.navigation.formMethod!=null&&Bi(w.navigation.formMethod)&&((ce=F.state)==null?void 0:ce._isRedirect)!==!0;l&&(o=l,l=void 0),ie||P===xn.Pop||(P===xn.Push?t.history.push(F,F.state):P===xn.Replace&&t.history.replace(F,F.state));let It;if(P===xn.Pop){let Lt=K.get(w.location.pathname);Lt&&Lt.has(F.pathname)?It={currentLocation:w.location,nextLocation:F}:K.has(F.pathname)&&(It={currentLocation:F,nextLocation:w.location})}else if(N){let Lt=K.get(w.location.pathname);Lt?Lt.add(F.pathname):(Lt=new Set([F.pathname]),K.set(w.location.pathname,Lt)),It={currentLocation:w.location,nextLocation:F}}Ge(yn({},B,{actionData:Te,loaderData:je,historyAction:P,location:F,initialized:!0,navigation:Z_,revalidation:"idle",restoreScrollPosition:me(F,B.matches||w.matches),preventScrollReset:Ce,blockers:Ae}),It),P=xn.Pop,O=!1,N=!1,ie=!1,he=!1,we=[],Le=[]}async function ct(F,B){if(typeof F=="number"){t.history.go(F);return}let H=$w(w.location,w.matches,c,h.v7_prependBasename,F,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:ce,submission:ge,error:Te}=Zb(h.v7_normalizeFormMethod,!1,H,B),je=w.location,Ae=Pf(w.location,ce,B&&B.state);Ae=yn({},Ae,t.history.encodeLocation(Ae));let Ce=B&&B.replace!=null?B.replace:void 0,It=xn.Push;Ce===!0?It=xn.Replace:Ce===!1||ge!=null&&Bi(ge.formMethod)&&ge.formAction===w.location.pathname+w.location.search&&(It=xn.Replace);let Lt=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,at=ot({currentLocation:je,nextLocation:Ae,historyAction:It});if(at){We(at,{state:"blocked",location:Ae,proceed(){We(at,{state:"proceeding",proceed:void 0,reset:void 0,location:Ae}),ct(F,B)},reset(){let At=new Map(w.blockers);At.set(at,mh),Ge({blockers:At})}});return}return await wt(It,Ae,{submission:ge,pendingError:Te,preventScrollReset:Lt,replace:B&&B.replace,enableViewTransition:B&&B.unstable_viewTransition})}function xt(){if(kn(),Ge({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){wt(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}wt(P||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation})}}async function wt(F,B,H){D&&D.abort(),D=null,P=F,ie=(H&&H.startUninterruptedRevalidation)===!0,pe(w.location,w.matches),O=(H&&H.preventScrollReset)===!0,N=(H&&H.enableViewTransition)===!0;let ce=l||o,ge=H&&H.overrideNavigation,Te=ku(ce,B,c);if(!Te){let At=_i(404,{pathname:B.pathname}),{matches:sn,route:Ss}=oA(ce);M(),Vt(B,{matches:sn,loaderData:{},errors:{[Ss.id]:At}});return}if(w.initialized&&!he&&D7(w.location,B)&&!(H&&H.submission&&Bi(H.submission.formMethod))){Vt(B,{matches:Te});return}D=new AbortController;let je=yh(t.history,B,D.signal,H&&H.submission),Ae,Ce;if(H&&H.pendingError)Ce={[Jh(Te).route.id]:H.pendingError};else if(H&&H.submission&&Bi(H.submission.formMethod)){let At=await kt(je,B,H.submission,Te,{replace:H.replace});if(At.shortCircuited)return;Ae=At.pendingActionData,Ce=At.pendingActionError,ge=e0(B,H.submission),je=new Request(je.url,{signal:je.signal})}let{shortCircuited:It,loaderData:Lt,errors:at}=await et(je,B,Te,ge,H&&H.submission,H&&H.fetcherSubmission,H&&H.replace,Ae,Ce);It||(D=null,Vt(B,yn({matches:Te},Ae?{actionData:Ae}:{},{loaderData:Lt,errors:at})))}async function kt(F,B,H,ce,ge){ge===void 0&&(ge={}),kn();let Te=M7(B,H);Ge({navigation:Te});let je,Ae=Bw(ce,B);if(!Ae.route.action&&!Ae.route.lazy)je={type:Rn.error,error:_i(405,{method:F.method,pathname:B.pathname,routeId:Ae.route.id})};else if(je=await gh("action",F,Ae,ce,s,i,c),F.signal.aborted)return{shortCircuited:!0};if(Bu(je)){let Ce;return ge&&ge.replace!=null?Ce=ge.replace:Ce=je.location===w.location.pathname+w.location.search,await Nt(w,je,{submission:H,replace:Ce}),{shortCircuited:!0}}if(Zh(je)){let Ce=Jh(ce,Ae.route.id);return(ge&&ge.replace)!==!0&&(P=xn.Push),{pendingActionData:{},pendingActionError:{[Ce.route.id]:je.error}}}if(Za(je))throw _i(400,{type:"defer-action"});return{pendingActionData:{[Ae.route.id]:je.data}}}async function et(F,B,H,ce,ge,Te,je,Ae,Ce){let It=ce||e0(B,ge),Lt=ge||Te||uA(It),at=l||o,[At,sn]=eA(t.history,w,H,Lt,B,he,we,Le,oe,ue,at,c,Ae,Ce);if(M(Rt=>!(H&&H.some(Gr=>Gr.route.id===Rt))||At&&At.some(Gr=>Gr.route.id===Rt)),Ne=++Me,At.length===0&&sn.length===0){let Rt=j();return Vt(B,yn({matches:H,loaderData:{},errors:Ce||null},Ae?{actionData:Ae}:{},Rt?{fetchers:new Map(w.fetchers)}:{})),{shortCircuited:!0}}if(!ie){sn.forEach(Gr=>{let Zi=w.fetchers.get(Gr.key),on=vh(void 0,Zi?Zi.data:void 0);w.fetchers.set(Gr.key,on)});let Rt=Ae||w.actionData;Ge(yn({navigation:It},Rt?Object.keys(Rt).length===0?{actionData:null}:{actionData:Rt}:{},sn.length>0?{fetchers:new Map(w.fetchers)}:{}))}sn.forEach(Rt=>{be.has(Rt.key)&&Zt(Rt.key),Rt.controller&&be.set(Rt.key,Rt.controller)});let Ss=()=>sn.forEach(Rt=>Zt(Rt.key));D&&D.signal.addEventListener("abort",Ss);let{results:xs,loaderResults:ba,fetcherResults:Uc}=await qt(w.matches,H,At,sn,F);if(F.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Ss),sn.forEach(Rt=>be.delete(Rt.key));let ki=aA(xs);if(ki){if(ki.idx>=At.length){let Rt=sn[ki.idx-At.length].key;ue.add(Rt)}return await Nt(w,ki.result,{replace:je}),{shortCircuited:!0}}let{loaderData:Ji,errors:Ul}=iA(w,H,At,ba,Ce,sn,Uc,Fe);Fe.forEach((Rt,Gr)=>{Rt.subscribe(Zi=>{(Zi||Rt.done)&&Fe.delete(Gr)})});let zc=j(),zl=se(Ne),qc=zc||zl||sn.length>0;return yn({loaderData:Ji,errors:Ul},qc?{fetchers:new Map(w.fetchers)}:{})}function sr(F){return h.v7_fetcherPersist&&(Ee.set(F,(Ee.get(F)||0)+1),Re.has(F)&&Re.delete(F)),w.fetchers.get(F)||x7}function zt(F,B,H,ce){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");be.has(F)&&Zt(F);let ge=l||o,Te=$w(w.location,w.matches,c,h.v7_prependBasename,H,B,ce==null?void 0:ce.relative),je=ku(ge,Te,c);if(!je){pn(F,B,_i(404,{pathname:Te}));return}let{path:Ae,submission:Ce,error:It}=Zb(h.v7_normalizeFormMethod,!0,Te,ce);if(It){pn(F,B,It);return}let Lt=Bw(je,Ae);if(O=(ce&&ce.preventScrollReset)===!0,Ce&&Bi(Ce.formMethod)){Hr(F,B,Ae,Lt,je,Ce);return}oe.set(F,{routeId:B,path:Ae}),Di(F,B,Ae,Lt,je,Ce)}async function Hr(F,B,H,ce,ge,Te){if(kn(),oe.delete(F),!ce.route.action&&!ce.route.lazy){let on=_i(405,{method:Te.formMethod,pathname:H,routeId:B});pn(F,B,on);return}let je=w.fetchers.get(F),Ae=F7(Te,je);w.fetchers.set(F,Ae),Ge({fetchers:new Map(w.fetchers)});let Ce=new AbortController,It=yh(t.history,H,Ce.signal,Te);be.set(F,Ce);let Lt=Me,at=await gh("action",It,ce,ge,s,i,c);if(It.signal.aborted){be.get(F)===Ce&&be.delete(F);return}if(Re.has(F)){w.fetchers.set(F,Po(void 0)),Ge({fetchers:new Map(w.fetchers)});return}if(Bu(at))if(be.delete(F),Ne>Lt){let on=Po(void 0);w.fetchers.set(F,on),Ge({fetchers:new Map(w.fetchers)});return}else{ue.add(F);let on=vh(Te);return w.fetchers.set(F,on),Ge({fetchers:new Map(w.fetchers)}),Nt(w,at,{fetcherSubmission:Te})}if(Zh(at)){pn(F,B,at.error);return}if(Za(at))throw _i(400,{type:"defer-action"});let At=w.navigation.location||w.location,sn=yh(t.history,At,Ce.signal),Ss=l||o,xs=w.navigation.state!=="idle"?ku(Ss,w.navigation.location,c):w.matches;ut(xs,"Didn't find any matches after fetcher action");let ba=++Me;G.set(F,ba);let Uc=vh(Te,at.data);w.fetchers.set(F,Uc);let[ki,Ji]=eA(t.history,w,xs,Te,At,he,we,Le,oe,ue,Ss,c,{[ce.route.id]:at.data},void 0);Ji.filter(on=>on.key!==F).forEach(on=>{let Aa=on.key,Ca=w.fetchers.get(Aa),pv=vh(void 0,Ca?Ca.data:void 0);w.fetchers.set(Aa,pv),be.has(Aa)&&Zt(Aa),on.controller&&be.set(Aa,on.controller)}),Ge({fetchers:new Map(w.fetchers)});let Ul=()=>Ji.forEach(on=>Zt(on.key));Ce.signal.addEventListener("abort",Ul);let{results:zc,loaderResults:zl,fetcherResults:qc}=await qt(w.matches,xs,ki,Ji,sn);if(Ce.signal.aborted)return;Ce.signal.removeEventListener("abort",Ul),G.delete(F),be.delete(F),Ji.forEach(on=>be.delete(on.key));let Rt=aA(zc);if(Rt){if(Rt.idx>=ki.length){let on=Ji[Rt.idx-ki.length].key;ue.add(on)}return Nt(w,Rt.result)}let{loaderData:Gr,errors:Zi}=iA(w,w.matches,ki,zl,void 0,Ji,qc,Fe);if(w.fetchers.has(F)){let on=Po(at.data);w.fetchers.set(F,on)}se(ba),w.navigation.state==="loading"&&ba>Ne?(ut(P,"Expected pending action"),D&&D.abort(),Vt(w.navigation.location,{matches:xs,loaderData:Gr,errors:Zi,fetchers:new Map(w.fetchers)})):(Ge({errors:Zi,loaderData:sA(w.loaderData,Gr,xs,Zi),fetchers:new Map(w.fetchers)}),he=!1)}async function Di(F,B,H,ce,ge,Te){let je=w.fetchers.get(F),Ae=vh(Te,je?je.data:void 0);w.fetchers.set(F,Ae),Ge({fetchers:new Map(w.fetchers)});let Ce=new AbortController,It=yh(t.history,H,Ce.signal);be.set(F,Ce);let Lt=Me,at=await gh("loader",It,ce,ge,s,i,c);if(Za(at)&&(at=await Bk(at,It.signal,!0)||at),be.get(F)===Ce&&be.delete(F),It.signal.aborted)return;if(Re.has(F)){w.fetchers.set(F,Po(void 0)),Ge({fetchers:new Map(w.fetchers)});return}if(Bu(at))if(Ne>Lt){let sn=Po(void 0);w.fetchers.set(F,sn),Ge({fetchers:new Map(w.fetchers)});return}else{ue.add(F),await Nt(w,at);return}if(Zh(at)){pn(F,B,at.error);return}ut(!Za(at),"Unhandled fetcher deferred data");let At=Po(at.data);w.fetchers.set(F,At),Ge({fetchers:new Map(w.fetchers)})}async function Nt(F,B,H){let{submission:ce,fetcherSubmission:ge,replace:Te}=H===void 0?{}:H;B.revalidate&&(he=!0);let je=Pf(F.location,B.location,{_isRedirect:!0});if(ut(je,"Expected a location on the redirect navigation"),n){let At=!1;if(B.reloadDocument)At=!0;else if(Fk.test(B.location)){const sn=t.history.createURL(B.location);At=sn.origin!==e.location.origin||xc(sn.pathname,c)==null}if(At){Te?e.location.replace(B.location):e.location.assign(B.location);return}}D=null;let Ae=Te===!0?xn.Replace:xn.Push,{formMethod:Ce,formAction:It,formEncType:Lt}=F.navigation;!ce&&!ge&&Ce&&It&&Lt&&(ce=uA(F.navigation));let at=ce||ge;if(S7.has(B.status)&&at&&Bi(at.formMethod))await wt(Ae,je,{submission:yn({},at,{formAction:B.location}),preventScrollReset:O});else{let At=e0(je,ce);await wt(Ae,je,{overrideNavigation:At,fetcherSubmission:ge,preventScrollReset:O})}}async function qt(F,B,H,ce,ge){let Te=await Promise.all([...H.map(Ce=>gh("loader",ge,Ce,B,s,i,c)),...ce.map(Ce=>Ce.matches&&Ce.match&&Ce.controller?gh("loader",yh(t.history,Ce.path,Ce.controller.signal),Ce.match,Ce.matches,s,i,c):{type:Rn.error,error:_i(404,{pathname:Ce.path})})]),je=Te.slice(0,H.length),Ae=Te.slice(H.length);return await Promise.all([lA(F,H,je,je.map(()=>ge.signal),!1,w.loaderData),lA(F,ce.map(Ce=>Ce.match),Ae,ce.map(Ce=>Ce.controller?Ce.controller.signal:null),!0)]),{results:Te,loaderResults:je,fetcherResults:Ae}}function kn(){he=!0,we.push(...M()),oe.forEach((F,B)=>{be.has(B)&&(Le.push(B),Zt(B))})}function pn(F,B,H){let ce=Jh(w.matches,B);Nn(F),Ge({errors:{[ce.route.id]:H},fetchers:new Map(w.fetchers)})}function Nn(F){let B=w.fetchers.get(F);be.has(F)&&!(B&&B.state==="loading"&&G.has(F))&&Zt(F),oe.delete(F),G.delete(F),ue.delete(F),Re.delete(F),w.fetchers.delete(F)}function Ke(F){if(h.v7_fetcherPersist){let B=(Ee.get(F)||0)-1;B<=0?(Ee.delete(F),Re.add(F)):Ee.set(F,B)}else Nn(F);Ge({fetchers:new Map(w.fetchers)})}function Zt(F){let B=be.get(F);ut(B,"Expected fetch controller: "+F),B.abort(),be.delete(F)}function J(F){for(let B of F){let H=sr(B),ce=Po(H.data);w.fetchers.set(B,ce)}}function j(){let F=[],B=!1;for(let H of ue){let ce=w.fetchers.get(H);ut(ce,"Expected fetcher: "+H),ce.state==="loading"&&(ue.delete(H),F.push(H),B=!0)}return J(F),B}function se(F){let B=[];for(let[H,ce]of G)if(ce<F){let ge=w.fetchers.get(H);ut(ge,"Expected fetcher: "+H),ge.state==="loading"&&(Zt(H),G.delete(H),B.push(H))}return J(B),B.length>0}function ae(F,B){let H=w.blockers.get(F)||mh;return Ve.get(F)!==B&&Ve.set(F,B),H}function qe(F){w.blockers.delete(F),Ve.delete(F)}function We(F,B){let H=w.blockers.get(F)||mh;ut(H.state==="unblocked"&&B.state==="blocked"||H.state==="blocked"&&B.state==="blocked"||H.state==="blocked"&&B.state==="proceeding"||H.state==="blocked"&&B.state==="unblocked"||H.state==="proceeding"&&B.state==="unblocked","Invalid blocker state transition: "+H.state+" -> "+B.state);let ce=new Map(w.blockers);ce.set(F,B),Ge({blockers:ce})}function ot(F){let{currentLocation:B,nextLocation:H,historyAction:ce}=F;if(Ve.size===0)return;Ve.size>1&&ml(!1,"A router only supports one blocker at a time");let ge=Array.from(Ve.entries()),[Te,je]=ge[ge.length-1],Ae=w.blockers.get(Te);if(!(Ae&&Ae.state==="proceeding")&&je({currentLocation:B,nextLocation:H,historyAction:ce}))return Te}function M(F){let B=[];return Fe.forEach((H,ce)=>{(!F||F(ce))&&(H.cancel(),B.push(ce),Fe.delete(ce))}),B}function z(F,B,H){if(m=F,v=B,y=H||null,!E&&w.navigation===Z_){E=!0;let ce=me(w.location,w.matches);ce!=null&&Ge({restoreScrollPosition:ce})}return()=>{m=null,v=null,y=null}}function fe(F,B){return y&&y(F,B.map(ce=>e7(ce,w.loaderData)))||F.key}function pe(F,B){if(m&&v){let H=fe(F,B);m[H]=v()}}function me(F,B){if(m){let H=fe(F,B),ce=m[H];if(typeof ce=="number")return ce}return null}function nt(F){s={},l=Vw(F,i,void 0,s)}return S={get basename(){return c},get state(){return w},get routes(){return o},get window(){return e},initialize:Ze,subscribe:_t,enableScrollRestoration:z,navigate:ct,fetch:zt,revalidate:xt,createHref:F=>t.history.createHref(F),encodeLocation:F=>t.history.encodeLocation(F),getFetcher:sr,deleteFetcher:Ke,dispose:Jt,getBlocker:ae,deleteBlocker:qe,_internalFetchControllers:be,_internalActiveDeferreds:Fe,_internalSetRoutes:nt},S}function A7(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function $w(t,e,n,r,i,s,o){let l,c;if(s!=null&&o!=="path"){l=[];for(let f of e)if(l.push(f),f.route.id===s){c=f;break}}else l=e,c=e[e.length-1];let h=q1(i||".",uy(l).map(f=>f.pathnameBase),xc(t.pathname,n)||t.pathname,o==="path");return i==null&&(h.search=t.search,h.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!K1(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(h.pathname=h.pathname==="/"?n:Ks([n,h.pathname])),gl(h)}function Zb(t,e,n,r){if(!r||!A7(r))return{path:n};if(r.formMethod&&!L7(r.formMethod))return{path:n,error:_i(405,{method:r.formMethod})};let i=()=>({path:n,error:_i(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=jk(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Bi(o))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,v)=>{let[E,R]=v;return""+y+E+"="+R+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!Bi(o))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}ut(typeof FormData=="function","FormData is not available in this environment");let c,h;if(r.formData)c=jw(r.formData),h=r.formData;else if(r.body instanceof FormData)c=jw(r.body),h=r.body;else if(r.body instanceof URLSearchParams)c=r.body,h=rA(c);else if(r.body==null)c=new URLSearchParams,h=new FormData;else try{c=new URLSearchParams(r.body),h=rA(c)}catch{return i()}let f={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Bi(f.formMethod))return{path:n,submission:f};let p=lo(n);return e&&p.search&&K1(p.search)&&c.append("index",""),p.search="?"+c,{path:gl(p),submission:f}}function C7(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function eA(t,e,n,r,i,s,o,l,c,h,f,p,m,y){let v=y?Object.values(y)[0]:m?Object.values(m)[0]:void 0,E=t.createURL(e.location),R=t.createURL(i),T=y?Object.keys(y)[0]:void 0,S=C7(n,T).filter((P,O)=>{if(P.route.lazy)return!0;if(P.route.loader==null)return!1;if(P7(e.loaderData,e.matches[O],P)||o.some(K=>K===P.route.id))return!0;let D=e.matches[O],N=P;return tA(P,yn({currentUrl:E,currentParams:D.params,nextUrl:R,nextParams:N.params},r,{actionResult:v,defaultShouldRevalidate:s||E.pathname+E.search===R.pathname+R.search||E.search!==R.search||$k(D,N)}))}),w=[];return c.forEach((P,O)=>{if(!n.some(ie=>ie.route.id===P.routeId))return;let D=ku(f,P.path,p);if(!D){w.push({key:O,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(O),K=Bw(D,P.path),Y=!1;h.has(O)?Y=!1:l.includes(O)?Y=!0:N&&N.state!=="idle"&&N.data===void 0?Y=s:Y=tA(K,yn({currentUrl:E,currentParams:e.matches[e.matches.length-1].params,nextUrl:R,nextParams:n[n.length-1].params},r,{actionResult:v,defaultShouldRevalidate:s})),Y&&w.push({key:O,routeId:P.routeId,path:P.path,matches:D,match:K,controller:new AbortController})}),[S,w]}function P7(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function $k(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function tA(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function nA(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ut(i,"No route found in manifest");let s={};for(let o in r){let c=i[o]!==void 0&&o!=="hasErrorBoundary";ml(!c,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!Jq.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,yn({},e(i),{lazy:void 0}))}async function gh(t,e,n,r,i,s,o,l){l===void 0&&(l={});let c,h,f,p=v=>{let E,R=new Promise((T,I)=>E=I);return f=()=>E(),e.signal.addEventListener("abort",f),Promise.race([v({request:e,params:n.params,context:l.requestContext}),R])};try{let v=n.route[t];if(n.route.lazy)if(v){let E,R=await Promise.all([p(v).catch(T=>{E=T}),nA(n.route,s,i)]);if(E)throw E;h=R[0]}else if(await nA(n.route,s,i),v=n.route[t],v)h=await p(v);else if(t==="action"){let E=new URL(e.url),R=E.pathname+E.search;throw _i(405,{method:e.method,pathname:R,routeId:n.route.id})}else return{type:Rn.data,data:void 0};else if(v)h=await p(v);else{let E=new URL(e.url),R=E.pathname+E.search;throw _i(404,{pathname:R})}ut(h!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(v){c=Rn.error,h=v}finally{f&&e.signal.removeEventListener("abort",f)}if(N7(h)){let v=h.status;if(I7.has(v)){let T=h.headers.get("Location");if(ut(T,"Redirects returned/thrown from loaders/actions must have a Location header"),!Fk.test(T))T=$w(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,T);else if(!l.isStaticRequest){let I=new URL(e.url),S=T.startsWith("//")?new URL(I.protocol+T):new URL(T),w=xc(S.pathname,o)!=null;S.origin===I.origin&&w&&(T=S.pathname+S.search+S.hash)}if(l.isStaticRequest)throw h.headers.set("Location",T),h;return{type:Rn.redirect,status:v,location:T,revalidate:h.headers.get("X-Remix-Revalidate")!==null,reloadDocument:h.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:c===Rn.error?Rn.error:Rn.data,response:h};let E,R=h.headers.get("Content-Type");return R&&/\bapplication\/json\b/.test(R)?E=await h.json():E=await h.text(),c===Rn.error?{type:c,error:new W1(v,h.statusText,E),headers:h.headers}:{type:Rn.data,data:E,statusCode:h.status,headers:h.headers}}if(c===Rn.error)return{type:c,error:h};if(k7(h)){var m,y;return{type:Rn.deferred,deferredData:h,statusCode:(m=h.init)==null?void 0:m.status,headers:((y=h.init)==null?void 0:y.headers)&&new Headers(h.init.headers)}}return{type:Rn.data,data:h}}function yh(t,e,n,r){let i=t.createURL(jk(e)).toString(),s={signal:n};if(r&&Bi(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=jw(r.formData):s.body=r.formData}return new Request(i,s)}function jw(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function rA(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function O7(t,e,n,r,i){let s={},o=null,l,c=!1,h={};return n.forEach((f,p)=>{let m=e[p].route.id;if(ut(!Bu(f),"Cannot handle redirect results in processLoaderData"),Zh(f)){let y=Jh(t,m),v=f.error;r&&(v=Object.values(r)[0],r=void 0),o=o||{},o[y.route.id]==null&&(o[y.route.id]=v),s[m]=void 0,c||(c=!0,l=Lk(f.error)?f.error.status:500),f.headers&&(h[m]=f.headers)}else Za(f)?(i.set(m,f.deferredData),s[m]=f.deferredData.data):s[m]=f.data,f.statusCode!=null&&f.statusCode!==200&&!c&&(l=f.statusCode),f.headers&&(h[m]=f.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:h}}function iA(t,e,n,r,i,s,o,l){let{loaderData:c,errors:h}=O7(e,n,r,i,l);for(let f=0;f<s.length;f++){let{key:p,match:m,controller:y}=s[f];ut(o!==void 0&&o[f]!==void 0,"Did not find corresponding fetcher result");let v=o[f];if(!(y&&y.signal.aborted))if(Zh(v)){let E=Jh(t.matches,m==null?void 0:m.route.id);h&&h[E.route.id]||(h=yn({},h,{[E.route.id]:v.error})),t.fetchers.delete(p)}else if(Bu(v))ut(!1,"Unhandled fetcher revalidation redirect");else if(Za(v))ut(!1,"Unhandled fetcher deferred data");else{let E=Po(v.data);t.fetchers.set(p,E)}}return{loaderData:c,errors:h}}function sA(t,e,n,r){let i=yn({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Jh(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function oA(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function _i(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",l='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new W1(t||500,o,new Error(l),!0)}function aA(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Bu(n))return{result:n,idx:e}}}function jk(t){let e=typeof t=="string"?lo(t):t;return gl(yn({},e,{hash:""}))}function D7(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Za(t){return t.type===Rn.deferred}function Zh(t){return t.type===Rn.error}function Bu(t){return(t&&t.type)===Rn.redirect}function k7(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function N7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function L7(t){return T7.has(t.toLowerCase())}function Bi(t){return w7.has(t.toLowerCase())}async function lA(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],c=e[o];if(!c)continue;let h=t.find(p=>p.route.id===c.route.id),f=h!=null&&!$k(h,c)&&(s&&s[c.route.id])!==void 0;if(Za(l)&&(i||f)){let p=r[o];ut(p,"Expected an AbortSignal for revalidating fetcher deferred result"),await Bk(l,p,i).then(m=>{m&&(n[o]=m||n[o])})}}}async function Bk(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Rn.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Rn.error,error:i}}return{type:Rn.data,data:t.deferredData.data}}}function K1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Bw(t,e){let n=typeof e=="string"?lo(e).search:e.search;if(t[t.length-1].route.index&&K1(n||""))return t[t.length-1];let r=uy(t);return r[r.length-1]}function uA(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function e0(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function M7(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function vh(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function F7(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Po(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function V7(t,e){try{let n=t.sessionStorage.getItem(Vk);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function $7(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Vk,JSON.stringify(n))}catch(r){ml(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lg.apply(this,arguments)}const cy=x.createContext(null),Uk=x.createContext(null),Rc=x.createContext(null),hy=x.createContext(null),uo=x.createContext({outlet:null,matches:[],isDataRoute:!1}),zk=x.createContext(null);function j7(t,e){let{relative:n}=e===void 0?{}:e;fd()||ut(!1);let{basename:r,navigator:i}=x.useContext(Rc),{hash:s,pathname:o,search:l}=Kk(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ks([r,o])),i.createHref({pathname:c,search:l,hash:s})}function fd(){return x.useContext(hy)!=null}function fy(){return fd()||ut(!1),x.useContext(hy).location}function qk(t){x.useContext(Rc).static||x.useLayoutEffect(t)}function Wk(){let{isDataRoute:t}=x.useContext(uo);return t?t8():B7()}function B7(){fd()||ut(!1);let t=x.useContext(cy),{basename:e,navigator:n}=x.useContext(Rc),{matches:r}=x.useContext(uo),{pathname:i}=fy(),s=JSON.stringify(uy(r).map(c=>c.pathnameBase)),o=x.useRef(!1);return qk(()=>{o.current=!0}),x.useCallback(function(c,h){if(h===void 0&&(h={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=q1(c,JSON.parse(s),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ks([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,s,i,t])}const U7=x.createContext(null);function z7(t){let e=x.useContext(uo).outlet;return e&&x.createElement(U7.Provider,{value:t},e)}function q7(){let{matches:t}=x.useContext(uo),e=t[t.length-1];return e?e.params:{}}function Kk(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=x.useContext(uo),{pathname:i}=fy(),s=JSON.stringify(uy(r).map(o=>o.pathnameBase));return x.useMemo(()=>q1(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function W7(t,e,n){fd()||ut(!1);let{navigator:r}=x.useContext(Rc),{matches:i}=x.useContext(uo),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=fy(),h;if(e){var f;let E=typeof e=="string"?lo(e):e;l==="/"||(f=E.pathname)!=null&&f.startsWith(l)||ut(!1),h=E}else h=c;let p=h.pathname||"/",m=l==="/"?p:p.slice(l.length)||"/",y=ku(t,{pathname:m}),v=Y7(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},o,E.params),pathname:Ks([l,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Ks([l,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n);return e&&v?x.createElement(hy.Provider,{value:{location:lg({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:xn.Pop}},v):v}function K7(){let t=e8(),e=Lk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,s)}const H7=x.createElement(K7,null);class G7 extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?x.createElement(uo.Provider,{value:this.props.routeContext},x.createElement(zk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Q7(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(cy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(uo.Provider,{value:e},r)}function Y7(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let l=s.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id]));l>=0||ut(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,c,h)=>{let f=c.route.id?o==null?void 0:o[c.route.id]:null,p=null;n&&(p=c.route.errorElement||H7);let m=e.concat(s.slice(0,h+1)),y=()=>{let v;return f?v=p:c.route.Component?v=x.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=l,x.createElement(Q7,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:n!=null},children:v})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?x.createElement(G7,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var Hk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Hk||{}),ug=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ug||{});function X7(t){let e=x.useContext(cy);return e||ut(!1),e}function J7(t){let e=x.useContext(Uk);return e||ut(!1),e}function Z7(t){let e=x.useContext(uo);return e||ut(!1),e}function Gk(t){let e=Z7(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function e8(){var t;let e=x.useContext(zk),n=J7(ug.UseRouteError),r=Gk(ug.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function t8(){let{router:t}=X7(Hk.UseNavigateStable),e=Gk(ug.UseNavigateStable),n=x.useRef(!1);return qk(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,lg({fromRouteId:e},s)))},[t,e])}function Qk(t){return z7(t.context)}function n8(t){let{basename:e="/",children:n=null,location:r,navigationType:i=xn.Pop,navigator:s,static:o=!1}=t;fd()&&ut(!1);let l=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof r=="string"&&(r=lo(r));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:y="default"}=r,v=x.useMemo(()=>{let E=xc(h,l);return E==null?null:{location:{pathname:E,search:f,hash:p,state:m,key:y},navigationType:i}},[l,h,f,p,m,y,i]);return v==null?null:x.createElement(Rc.Provider,{value:c},x.createElement(hy.Provider,{children:n,value:v}))}new Promise(()=>{});function r8(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:x.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:x.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Of(){return Of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Of.apply(this,arguments)}function i8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function s8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function o8(t,e){return t.button===0&&(!e||e==="_self")&&!s8(t)}const a8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function l8(t,e){return b7({basename:e==null?void 0:e.basename,future:Of({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Qq({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||u8(),routes:t,mapRouteProperties:r8,window:e==null?void 0:e.window}).initialize()}function u8(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Of({},e,{errors:c8(e.errors)})),e}function c8(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new W1(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const h8=x.createContext({isTransitioning:!1}),f8=x.createContext(new Map),d8="startTransition",cA=r9[d8];function p8(t){cA?cA(t):t()}let m8=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function g8(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=x.useState(n.state),[o,l]=x.useState(),[c,h]=x.useState({isTransitioning:!1}),[f,p]=x.useState(),[m,y]=x.useState(),[v,E]=x.useState(),R=x.useRef(new Map),{v7_startTransition:T}=r||{},I=x.useCallback(D=>{T?p8(D):D()},[T]),S=x.useCallback((D,N)=>{let{deletedFetchers:K,unstable_viewTransitionOpts:Y}=N;K.forEach(ie=>R.current.delete(ie)),D.fetchers.forEach((ie,he)=>{ie.data!==void 0&&R.current.set(he,ie.data)}),!Y||n.window==null||typeof n.window.document.startViewTransition!="function"?I(()=>s(D)):m&&f?(f.resolve(),m.skipTransition(),E({state:D,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})):(l(D),h({isTransitioning:!0,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation}))},[n.window,m,f,R,I]);x.useLayoutEffect(()=>n.subscribe(S),[n,S]),x.useEffect(()=>{c.isTransitioning&&p(new m8)},[c.isTransitioning]),x.useEffect(()=>{if(f&&o&&n.window){let D=o,N=f.promise,K=n.window.document.startViewTransition(async()=>{I(()=>s(D)),await N});K.finished.finally(()=>{p(void 0),y(void 0),l(void 0),h({isTransitioning:!1})}),y(K)}},[I,o,f,n.window]),x.useEffect(()=>{f&&o&&i.location.key===o.location.key&&f.resolve()},[f,m,i.location,o]),x.useEffect(()=>{!c.isTransitioning&&v&&(l(v.state),h({isTransitioning:!0,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),E(void 0))},[c.isTransitioning,v]);let w=x.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:D=>n.navigate(D),push:(D,N,K)=>n.navigate(D,{state:N,preventScrollReset:K==null?void 0:K.preventScrollReset}),replace:(D,N,K)=>n.navigate(D,{replace:!0,state:N,preventScrollReset:K==null?void 0:K.preventScrollReset})}),[n]),P=n.basename||"/",O=x.useMemo(()=>({router:n,navigator:w,static:!1,basename:P}),[n,w,P]);return x.createElement(x.Fragment,null,x.createElement(cy.Provider,{value:O},x.createElement(Uk.Provider,{value:i},x.createElement(f8.Provider,{value:R.current},x.createElement(h8.Provider,{value:c},x.createElement(n8,{basename:P,location:i.location,navigationType:i.historyAction,navigator:w},i.initialized?x.createElement(y8,{routes:n.routes,state:i}):e))))),null)}function y8(t){let{routes:e,state:n}=t;return W7(e,void 0,n)}const v8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pu=x.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:h,preventScrollReset:f,unstable_viewTransition:p}=e,m=i8(e,a8),{basename:y}=x.useContext(Rc),v,E=!1;if(typeof h=="string"&&_8.test(h)&&(v=h,v8))try{let S=new URL(window.location.href),w=h.startsWith("//")?new URL(S.protocol+h):new URL(h),P=xc(w.pathname,y);w.origin===S.origin&&P!=null?h=P+w.search+w.hash:E=!0}catch{}let R=j7(h,{relative:i}),T=w8(h,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,unstable_viewTransition:p});function I(S){r&&r(S),S.defaultPrevented||T(S)}return x.createElement("a",Of({},m,{href:v||R,onClick:E||s?r:I,ref:n,target:c}))});var hA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hA||(hA={}));var fA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fA||(fA={}));function w8(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=Wk(),h=fy(),f=Kk(t,{relative:o});return x.useCallback(p=>{if(o8(p,n)){p.preventDefault();let m=r!==void 0?r:gl(h)===gl(f);c(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[h,c,f,r,i,n,t,s,o,l])}const E8="modulepreload",T8=function(t){return"/pokemon-Gym/"+t},dA={},I8=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=T8(s),s in dA)return;dA[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let f=i.length-1;f>=0;f--){const p=i[f];if(p.href===s&&(!o||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const h=document.createElement("link");if(h.rel=o?"stylesheet":E8,o||(h.as="script",h.crossOrigin=""),h.href=s,document.head.appendChild(h),o)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Yk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},pA=Qt.createContext&&Qt.createContext(Yk),Xo=globalThis&&globalThis.__assign||function(){return Xo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Xo.apply(this,arguments)},S8=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Xk(t){return t&&t.map(function(e,n){return Qt.createElement(e.tag,Xo({key:n},e.attr),Xk(e.child))})}function dd(t){return function(e){return Qt.createElement(x8,Xo({attr:Xo({},t.attr)},e),Xk(t.child))}}function x8(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=S8(t,["attr","size","title"]),l=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Qt.createElement("svg",Xo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:Xo(Xo({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Qt.createElement("title",null,s),t.children)};return pA!==void 0?Qt.createElement(pA.Consumer,null,function(n){return e(n)}):e(Yk)}function R8(t){return dd({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 7h-9"}},{tag:"path",attr:{d:"M14 17H5"}},{tag:"circle",attr:{cx:"17",cy:"17",r:"3"}},{tag:"circle",attr:{cx:"7",cy:"7",r:"3"}}]})(t)}let Hi=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const cg="onlyImage",kl="onlyText",H1="imageText",G1="colorText",Q1="onlyColor",Jk="defaultNothing",b8="選擇",Gi="SelectGroup",A8="你選擇的",Y1="BeenSelectGroup",C8="推薦有傷害的",pd="DamageGroup",t0=[{id:1,title:b8},{id:2,title:A8},{id:3,title:C8}],P8=[{id:1,default:!0,type:cg,title:"只顯示圖片"},{id:2,default:!1,type:kl,title:"只顯示文字"},{id:3,default:!1,type:H1,title:"顯示圖片和文字"}],O8=[{id:3,default:!0,type:G1,title:"預設顯示顏色和文字"},{id:1,default:!1,type:Q1,title:"只顯示顏色"},{id:2,default:!1,type:kl,title:"只顯示文字"},{id:4,default:!1,type:Jk,title:"都不顯示"}],hg={enName:"all",zhName:"全部",bgColor:"#17CCF0"},md=[{enName:"normal",zhName:"一般",bgColor:"#a8a8a8"},{enName:"fighting",zhName:"格鬥",bgColor:"#c03028"},{enName:"flying",zhName:"飛行",bgColor:"#9096f0"},{enName:"poison",zhName:"毒",bgColor:"#a040a0"},{enName:"ground",zhName:"地面",bgColor:"#e0b668"},{enName:"rock",zhName:"岩石",bgColor:"#b8a038"},{enName:"bug",zhName:"蟲",bgColor:"#9cb820"},{enName:"ghost",zhName:"幽靈",bgColor:"#705898"},{enName:"steel",zhName:"鋼",bgColor:"#6d8f9c"},{enName:"fire",zhName:"火",bgColor:"#f08030"},{enName:"water",zhName:"水",bgColor:"#6890f0"},{enName:"grass",zhName:"草",bgColor:"#22c02a"},{enName:"electric",zhName:"電",bgColor:"#f8d030"},{enName:"psychic",zhName:"超能力",bgColor:"#f85888"},{enName:"ice",zhName:"冰",bgColor:"#98d8d8"},{enName:"dragon",zhName:"龍",bgColor:"#7038f8"},{enName:"dark",zhName:"惡",bgColor:"#504843"},{enName:"fairy",zhName:"妖精",bgColor:"#f09ad9"}],Zk=[{enName:"S_Tier",zhName:"S級",bgColor:"#1b1b1d"},{enName:"A_plus_Tier",zhName:"A+級",bgColor:"#1b1b1d"},{enName:"A_Tier",zhName:"A級",bgColor:"#1b1b1d"},{enName:"B_plus_Tier",zhName:"B+級",bgColor:"#1b1b1d"},{enName:"B_Tier",zhName:"B級",bgColor:"#1b1b1d"},{enName:"C_Tier",zhName:"C級",bgColor:"#1b1b1d"}],D8="/pokemon-Gym/assets/25-759ceafd.png",eN=x.createContext(),k8=({children:t})=>{const[e,n]=x.useState({}),r=M=>{n(()=>M)},[i,s]=x.useState(""),o=M=>{s(()=>M)},[l,c]=x.useState([]),h=M=>{c(()=>M)},[f,p]=x.useState([]),[m,y]=x.useState(!1),[v,E]=x.useState(100),[R,T]=x.useState(!1),I=M=>{p(z=>[...z,...M])},S=M=>{y(()=>M)},w=M=>{E(z=>M||z+100)},P=()=>{T(M=>!M)},[O,D]=x.useState(new Map),N=M=>{const{zhName:z}=M;D(fe=>{let pe=new Map(fe),me=1;return pe.has(z)&&(me=pe.get(z).amount+1),pe.set(z,{amount:me,...M}),console.log(pe),pe})},[K,Y]=x.useState([]),ie=M=>{Y(z=>{const fe=[...z];return fe.some(me=>me.enName===M.enName)?fe.filter(me=>me.enName!==M.enName):(N(M),[...fe,M])})},he=M=>{Y(z=>z.filter(fe=>fe.enName!==M.enName))},[we,Le]=x.useState([]),be=M=>{Le(()=>M)},[Me,Ne]=x.useState([]),G=M=>{Ne(()=>M.map(z=>z.data))},ue=P8.filter(M=>M.default===!0)[0],[oe,Ee]=x.useState({type:ue.type,title:ue.title}),[Re,Fe]=x.useState({type:ue.type,title:ue.title}),[Ve,Oe]=x.useState({type:ue.type,title:ue.title}),Ze=O8.filter(M=>M.default===!0)[0],[Jt,_t]=x.useState({type:Ze.type,title:Ze.title}),[Ge,Vt]=x.useState({type:Ze.type,title:Ze.title}),[ct,xt]=x.useState({type:Ze.type,title:Ze.title}),wt=(M,z)=>{Ee({type:M,title:z})},kt=(M,z)=>{Fe({type:M,title:z})},et=(M,z)=>{Oe({type:M,title:z})},sr=(M,z)=>{_t({type:M,title:z})},zt=(M,z)=>{Vt({type:M,title:z})},Hr=(M,z)=>{xt({type:M,title:z})},[Di,Nt]=x.useState(hg),qt=({enName:M,zhName:z,bgColor:fe})=>{Nt(()=>({enName:M,zhName:z,bgColor:fe}))},[kn,pn]=x.useState(!1),Nn=()=>{pn(M=>!M)},[Ke,Zt]=x.useState(hg),J=({enName:M,zhName:z,bgColor:fe})=>{Zt(()=>({enName:M,zhName:z,bgColor:fe}))},[j,se]=x.useState([]),[ae,qe]=x.useState([]),We=M=>{se(()=>M)},ot=M=>{qe(()=>M)};return b.jsx(eN.Provider,{value:{tierPokemon:e,handleTierPokemon:r,clickImg:O,searchPokemon:i,handleSearchPokemon:o,storeAllPokemon:l,handleStoreAllPokemon:h,storePokemon:f,handleStorePokemon:I,isLoadingPokemon:m,handleIsLoadingPokemon:S,page:v,handleNextPage:w,searchMorePokemon:R,handleSearchMorePokemon:P,selectImg:K,AddRemoveImg:ie,RemoveImg:he,bestDamage:we,handleBestDamage:be,storeAllTypes:Me,handleStoreAllTypes:G,showInfo_select:oe,showType_select:Jt,showInfo_beenSelect:Re,showType_beenSelect:Ge,showInfo_bestDamage:Ve,showType_bestDamage:ct,filterType:Di,filterTier:Ke,filterPopular:kn,handleShowInfo_select:wt,handleShowType_select:sr,handleShowInfo_beenSelect:kt,handleShowType_beenSelect:zt,handleShowInfo_bestDamage:et,handleShowType_bestDamage:Hr,handleFilterType:qt,handleFilterTier:J,handleFilterPopular:Nn,popularPokemon:j,filterBestPokemon:ae,handlePopularPokemon:We,handleFilterBestPokemon:ot},children:t})},Or=()=>x.useContext(eN);var tN={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var l=n.apply(null,s);l&&r.push(l)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var c in s)e.call(s,c)&&s[c]&&r.push(c)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(tN);var N8=tN.exports;const $e=od(N8);function Uw(){return Uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uw.apply(this,arguments)}function nN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function mA(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function L8(t){var e=M8(t,"string");return typeof e=="symbol"?e:String(e)}function M8(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F8(t,e,n){var r=x.useRef(t!==void 0),i=x.useState(e),s=i[0],o=i[1],l=t!==void 0,c=r.current;return r.current=l,!l&&c&&s!==e&&o(e),[l?t:s,x.useCallback(function(h){for(var f=arguments.length,p=new Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];n&&n.apply(void 0,[h].concat(p)),o(h)},[n])]}function X1(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[mA(r)],l=s[r],c=nN(s,[mA(r),r].map(L8)),h=e[r],f=F8(l,o,t[h]),p=f[0],m=f[1];return Uw({},c,(i={},i[r]=p,i[h]=m,i))},t)}function zw(t,e){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zw(t,e)}function V8(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,zw(t,e)}const $8=["xxl","xl","lg","md","sm","xs"],j8="xs",dy=x.createContext({prefixes:{},breakpoints:$8,minBreakpoint:j8});function Ye(t,e){const{prefixes:n}=x.useContext(dy);return t||n[e]||e}function rN(){const{breakpoints:t}=x.useContext(dy);return t}function iN(){const{minBreakpoint:t}=x.useContext(dy);return t}function sN(){const{dir:t}=x.useContext(dy);return t==="rtl"}function gd(t){return t&&t.ownerDocument||document}function B8(t){var e=gd(t);return e&&e.defaultView||window}function U8(t,e){return B8(t).getComputedStyle(t,e)}var z8=/([A-Z])/g;function q8(t){return t.replace(z8,"-$1").toLowerCase()}var W8=/^ms-/;function Hp(t){return q8(t).replace(W8,"-ms-")}var K8=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function H8(t){return!!(t&&K8.test(t))}function Hs(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Hp(e))||U8(t).getPropertyValue(Hp(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(Hp(i)):H8(i)?r+=i+"("+s+") ":n+=Hp(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var oN={exports:{}},G8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Q8=G8,Y8=Q8;function aN(){}function lN(){}lN.resetWarningCache=aN;var X8=function(){function t(r,i,s,o,l,c){if(c!==Y8){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:lN,resetWarningCache:aN};return n.PropTypes=n,n};oN.exports=X8();var J8=oN.exports;const Gs=od(J8),gA={disabled:!1},uN=Qt.createContext(null);var Z8=function(e){return e.scrollTop},Mh="unmounted",No="exited",zi="entering",Vs="entered",Df="exiting",co=function(t){V8(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,l=o&&!o.isMounting?r.enter:r.appear,c;return s.appearStatus=null,r.in?l?(c=No,s.appearStatus=zi):c=Vs:r.unmountOnExit||r.mountOnEnter?c=Mh:c=No,s.state={status:c},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Mh?{status:No}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==zi&&o!==Vs&&(s=zi):(o===zi||o===Vs)&&(s=Df)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,l;return s=o=l=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,l=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:l}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===zi){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Du.findDOMNode(this);o&&Z8(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===No&&this.setState({status:Mh})},n.performEnter=function(i){var s=this,o=this.props.enter,l=this.context?this.context.isMounting:i,c=this.props.nodeRef?[l]:[Du.findDOMNode(this),l],h=c[0],f=c[1],p=this.getTimeouts(),m=l?p.appear:p.enter;if(!i&&!o||gA.disabled){this.safeSetState({status:Vs},function(){s.props.onEntered(h)});return}this.props.onEnter(h,f),this.safeSetState({status:zi},function(){s.props.onEntering(h,f),s.onTransitionEnd(m,function(){s.safeSetState({status:Vs},function(){s.props.onEntered(h,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:Du.findDOMNode(this);if(!s||gA.disabled){this.safeSetState({status:No},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Df},function(){i.props.onExiting(l),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:No},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,s.nextCallback=null,i(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Du.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],h=c[0],f=c[1];this.props.addEndListener(h,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Mh)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=nN(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Qt.createElement(uN.Provider,{value:null},typeof o=="function"?o(i,l):Qt.cloneElement(Qt.Children.only(o),l))},e}(Qt.Component);co.contextType=uN;co.propTypes={};function su(){}co.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:su,onEntering:su,onEntered:su,onExit:su,onExiting:su,onExited:su};co.UNMOUNTED=Mh;co.EXITED=No;co.ENTERING=zi;co.ENTERED=Vs;co.EXITING=Df;const eW=co,bc=!!(typeof window<"u"&&window.document&&window.document.createElement);var qw=!1,Ww=!1;try{var n0={get passive(){return qw=!0},get once(){return Ww=qw=!0}};bc&&(window.addEventListener("test",n0,n0),window.removeEventListener("test",n0,!0))}catch{}function J1(t,e,n,r){if(r&&typeof r!="boolean"&&!Ww){var i=r.once,s=r.capture,o=n;!Ww&&i&&(o=n.__once||function l(c){this.removeEventListener(e,l,s),n.call(this,c)},n.__once=o),t.addEventListener(e,o,qw?r:s)}t.addEventListener(e,n,r)}function Kw(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Bo(t,e,n,r){return J1(t,e,n,r),function(){Kw(t,e,n,r)}}function tW(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function nW(t){var e=Hs(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function rW(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||tW(t,"transitionend",!0)},e+n),s=Bo(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function cN(t,e,n,r){n==null&&(n=nW(t)||0);var i=rW(t,n,r),s=Bo(t,"transitionend",e);return function(){i(),s()}}function yA(t,e){const n=Hs(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function Z1(t,e){const n=yA(t,"transitionDuration"),r=yA(t,"transitionDelay"),i=cN(t,s=>{s.target===t&&(i(),e(s))},n+r)}function _h(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function hN(t){t.offsetHeight}const vA=t=>!t||typeof t=="function"?t:e=>{t.current=e};function iW(t,e){const n=vA(t),r=vA(e);return i=>{n&&n(i),r&&r(i)}}function Nl(t,e){return x.useMemo(()=>iW(t,e),[t,e])}function sW(t){return t&&"setState"in t?Du.findDOMNode(t):t??null}const oW=Qt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:l,childRef:c,...h},f)=>{const p=x.useRef(null),m=Nl(p,c),y=O=>{m(sW(O))},v=O=>D=>{O&&p.current&&O(p.current,D)},E=x.useCallback(v(t),[t]),R=x.useCallback(v(e),[e]),T=x.useCallback(v(n),[n]),I=x.useCallback(v(r),[r]),S=x.useCallback(v(i),[i]),w=x.useCallback(v(s),[s]),P=x.useCallback(v(o),[o]);return b.jsx(eW,{ref:f,...h,onEnter:E,onEntered:T,onEntering:R,onExit:I,onExited:w,onExiting:S,addEndListener:P,nodeRef:p,children:typeof l=="function"?(O,D)=>l(O,{...D,ref:y}):Qt.cloneElement(l,{ref:y})})}),eT=oW,aW={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function lW(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=aW[t];return r+parseInt(Hs(e,i[0]),10)+parseInt(Hs(e,i[1]),10)}const uW={[No]:"collapse",[Df]:"collapsing",[zi]:"collapsing",[Vs]:"collapse show"},cW=Qt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:l="height",in:c=!1,timeout:h=300,mountOnEnter:f=!1,unmountOnExit:p=!1,appear:m=!1,getDimensionValue:y=lW,...v},E)=>{const R=typeof l=="function"?l():l,T=x.useMemo(()=>_h(O=>{O.style[R]="0"},t),[R,t]),I=x.useMemo(()=>_h(O=>{const D=`scroll${R[0].toUpperCase()}${R.slice(1)}`;O.style[R]=`${O[D]}px`},e),[R,e]),S=x.useMemo(()=>_h(O=>{O.style[R]=null},n),[R,n]),w=x.useMemo(()=>_h(O=>{O.style[R]=`${y(R,O)}px`,hN(O)},r),[r,y,R]),P=x.useMemo(()=>_h(O=>{O.style[R]=null},i),[R,i]);return b.jsx(eT,{ref:E,addEndListener:Z1,...v,"aria-expanded":v.role?c:null,onEnter:T,onEntering:I,onEntered:S,onExit:w,onExiting:P,childRef:o.ref,in:c,timeout:h,mountOnEnter:f,unmountOnExit:p,appear:m,children:(O,D)=>Qt.cloneElement(o,{...D,className:$e(s,o.props.className,uW[O],R==="width"&&"collapse-horizontal")})})}),fN=cW;function hW(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t},[t]),e}function _n(t){const e=hW(t);return x.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const dN=t=>x.forwardRef((e,n)=>b.jsx("div",{...e,ref:n,className:$e(e.className,t)}));function pN(){return x.useState(null)}function fW(t,e,n,r=!1){const i=_n(n);x.useEffect(()=>{const s=typeof t=="function"?t():t;return s.addEventListener(e,i,r),()=>s.removeEventListener(e,i,r)},[t])}function mN(){const t=x.useRef(!0),e=x.useRef(()=>t.current);return x.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function gN(t){const e=x.useRef(null);return x.useEffect(()=>{e.current=t}),e.current}const dW=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",pW=typeof document<"u",fg=pW||dW?x.useLayoutEffect:x.useEffect,mW=["as","disabled"];function gW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yW(t){return!t||t.trim()==="#"}function tT({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:l=0,type:c}){t||(n!=null||r!=null||i!=null?t="a":t="button");const h={tagName:t};if(t==="button")return[{type:c||"button",disabled:e},h];const f=m=>{if((e||t==="a"&&yW(n))&&m.preventDefault(),e){m.stopPropagation();return}o==null||o(m)},p=m=>{m.key===" "&&(m.preventDefault(),f(m))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:l,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:f,onKeyDown:p},h]}const nT=x.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=gW(t,mW);const[s,{tagName:o}]=tT(Object.assign({tagName:n,disabled:r},i));return b.jsx(o,Object.assign({},i,s,{ref:e}))});nT.displayName="Button";const vW=["onKeyDown"];function _W(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function wW(t){return!t||t.trim()==="#"}const yN=x.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=_W(t,vW);const[i]=tT(Object.assign({tagName:"a"},r)),s=_n(o=>{i.onKeyDown(o),n==null||n(o)});return wW(r.href)||r.role==="button"?b.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:s})):b.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});yN.displayName="Anchor";const vN=yN,EW={[zi]:"show",[Vs]:"show"},_N=x.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},l=x.useCallback((c,h)=>{hN(c),r==null||r(c,h)},[r]);return b.jsx(eT,{ref:s,addEndListener:Z1,...o,onEnter:l,childRef:e.ref,children:(c,h)=>x.cloneElement(e,{...h,className:$e("fade",t,e.props.className,EW[c],n[c])})})});_N.displayName="Fade";const rT=_N,TW={"aria-label":Gs.string,onClick:Gs.func,variant:Gs.oneOf(["white"])},iT=x.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>b.jsx("button",{ref:i,type:"button",className:$e("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));iT.displayName="CloseButton";iT.propTypes=TW;const IW=iT,wN=x.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...l},c)=>{const h=Ye(e,"btn"),[f,{tagName:p}]=tT({tagName:t,disabled:s,...l}),m=p;return b.jsx(m,{...f,...l,ref:c,disabled:s,className:$e(o,h,i&&"active",n&&`${h}-${n}`,r&&`${h}-${r}`,l.href&&s&&"disabled")})});wN.displayName="Button";const dg=wN,EN=x.forwardRef(({bsPrefix:t,size:e,vertical:n=!1,className:r,role:i="group",as:s="div",...o},l)=>{const c=Ye(t,"btn-group");let h=c;return n&&(h=`${c}-vertical`),b.jsx(s,{...o,ref:l,role:i,className:$e(r,h,e&&`${c}-${e}`)})});EN.displayName="ButtonGroup";const SW=EN,TN=x.createContext(null);TN.displayName="CardHeaderContext";const xW=TN;function RW(t){const e=x.useRef(t);return e.current=t,e}function IN(t){const e=RW(t);x.useEffect(()=>()=>e.current(),[])}function bW(t,e){return x.Children.toArray(t).some(n=>x.isValidElement(n)&&n.type===e)}function AW({as:t,bsPrefix:e,className:n,...r}){e=Ye(e,"col");const i=rN(),s=iN(),o=[],l=[];return i.forEach(c=>{const h=r[c];delete r[c];let f,p,m;typeof h=="object"&&h!=null?{span:f,offset:p,order:m}=h:f=h;const y=c!==s?`-${c}`:"";f&&o.push(f===!0?`${e}${y}`:`${e}${y}-${f}`),m!=null&&l.push(`order${y}-${m}`),p!=null&&l.push(`offset${y}-${p}`)}),[{...r,className:$e(n,...o,...l)},{as:t,bsPrefix:e,spans:o}]}const SN=x.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=AW(t);return b.jsx(i,{...r,ref:e,className:$e(n,!o.length&&s)})});SN.displayName="Col";const Fh=SN,xN=x.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},s)=>{const o=Ye(t,"container"),l=typeof e=="string"?`-${e}`:"-fluid";return b.jsx(n,{ref:s,...i,className:$e(r,e?`${o}${l}`:o)})});xN.displayName="Container";const sT=xN;var CW=Function.prototype.bind.call(Function.prototype.call,[].slice);function Fs(t,e){return CW(t.querySelectorAll(e))}function PW(t,e,n){const r=x.useRef(t!==void 0),[i,s]=x.useState(e),o=t!==void 0,l=r.current;return r.current=o,!o&&l&&i!==e&&s(e),[o?t:i,x.useCallback((...c)=>{const[h,...f]=c;let p=n==null?void 0:n(h,...f);return s(h),p},[n])]}function RN(){const[,t]=x.useReducer(e=>!e,!1);return t}const OW=x.createContext(null),py=OW;var _A=Object.prototype.hasOwnProperty;function wA(t,e,n){for(n of t.keys())if(ef(n,e))return n}function ef(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&ef(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=wA(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=wA(e,i),!i)||!ef(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(_A.call(t,n)&&++r&&!_A.call(e,n)||!(n in e)||!ef(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function DW(t){const e=mN();return[t[0],x.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var Wr="top",Pi="bottom",Oi="right",Kr="left",oT="auto",yd=[Wr,Pi,Oi,Kr],rc="start",kf="end",kW="clippingParents",bN="viewport",wh="popper",NW="reference",EA=yd.reduce(function(t,e){return t.concat([e+"-"+rc,e+"-"+kf])},[]),AN=[].concat(yd,[oT]).reduce(function(t,e){return t.concat([e,e+"-"+rc,e+"-"+kf])},[]),LW="beforeRead",MW="read",FW="afterRead",VW="beforeMain",$W="main",jW="afterMain",BW="beforeWrite",UW="write",zW="afterWrite",qW=[LW,MW,FW,VW,$W,jW,BW,UW,zW];function gs(t){return t.split("-")[0]}function si(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function yl(t){var e=si(t).Element;return t instanceof e||t instanceof Element}function ys(t){var e=si(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function aT(t){if(typeof ShadowRoot>"u")return!1;var e=si(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var al=Math.max,pg=Math.min,ic=Math.round;function Hw(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function CN(){return!/^((?!chrome|android).)*safari/i.test(Hw())}function sc(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&ys(t)&&(i=t.offsetWidth>0&&ic(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&ic(r.height)/t.offsetHeight||1);var o=yl(t)?si(t):window,l=o.visualViewport,c=!CN()&&n,h=(r.left+(c&&l?l.offsetLeft:0))/i,f=(r.top+(c&&l?l.offsetTop:0))/s,p=r.width/i,m=r.height/s;return{width:p,height:m,top:f,right:h+p,bottom:f+m,left:h,x:h,y:f}}function lT(t){var e=sc(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function PN(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&aT(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function na(t){return t?(t.nodeName||"").toLowerCase():null}function no(t){return si(t).getComputedStyle(t)}function WW(t){return["table","td","th"].indexOf(na(t))>=0}function ya(t){return((yl(t)?t.ownerDocument:t.document)||window.document).documentElement}function my(t){return na(t)==="html"?t:t.assignedSlot||t.parentNode||(aT(t)?t.host:null)||ya(t)}function TA(t){return!ys(t)||no(t).position==="fixed"?null:t.offsetParent}function KW(t){var e=/firefox/i.test(Hw()),n=/Trident/i.test(Hw());if(n&&ys(t)){var r=no(t);if(r.position==="fixed")return null}var i=my(t);for(aT(i)&&(i=i.host);ys(i)&&["html","body"].indexOf(na(i))<0;){var s=no(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function vd(t){for(var e=si(t),n=TA(t);n&&WW(n)&&no(n).position==="static";)n=TA(n);return n&&(na(n)==="html"||na(n)==="body"&&no(n).position==="static")?e:n||KW(t)||e}function uT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function tf(t,e,n){return al(t,pg(e,n))}function HW(t,e,n){var r=tf(t,e,n);return r>n?n:r}function ON(){return{top:0,right:0,bottom:0,left:0}}function DN(t){return Object.assign({},ON(),t)}function kN(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var GW=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,DN(typeof e!="number"?e:kN(e,yd))};function QW(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,l=gs(n.placement),c=uT(l),h=[Kr,Oi].indexOf(l)>=0,f=h?"height":"width";if(!(!s||!o)){var p=GW(i.padding,n),m=lT(s),y=c==="y"?Wr:Kr,v=c==="y"?Pi:Oi,E=n.rects.reference[f]+n.rects.reference[c]-o[c]-n.rects.popper[f],R=o[c]-n.rects.reference[c],T=vd(s),I=T?c==="y"?T.clientHeight||0:T.clientWidth||0:0,S=E/2-R/2,w=p[y],P=I-m[f]-p[v],O=I/2-m[f]/2+S,D=tf(w,O,P),N=c;n.modifiersData[r]=(e={},e[N]=D,e.centerOffset=D-O,e)}}function YW(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||PN(e.elements.popper,i)&&(e.elements.arrow=i))}const XW={name:"arrow",enabled:!0,phase:"main",fn:QW,effect:YW,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function oc(t){return t.split("-")[1]}var JW={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ZW(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:ic(n*i)/i||0,y:ic(r*i)/i||0}}function IA(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,l=t.position,c=t.gpuAcceleration,h=t.adaptive,f=t.roundOffsets,p=t.isFixed,m=o.x,y=m===void 0?0:m,v=o.y,E=v===void 0?0:v,R=typeof f=="function"?f({x:y,y:E}):{x:y,y:E};y=R.x,E=R.y;var T=o.hasOwnProperty("x"),I=o.hasOwnProperty("y"),S=Kr,w=Wr,P=window;if(h){var O=vd(n),D="clientHeight",N="clientWidth";if(O===si(n)&&(O=ya(n),no(O).position!=="static"&&l==="absolute"&&(D="scrollHeight",N="scrollWidth")),O=O,i===Wr||(i===Kr||i===Oi)&&s===kf){w=Pi;var K=p&&O===P&&P.visualViewport?P.visualViewport.height:O[D];E-=K-r.height,E*=c?1:-1}if(i===Kr||(i===Wr||i===Pi)&&s===kf){S=Oi;var Y=p&&O===P&&P.visualViewport?P.visualViewport.width:O[N];y-=Y-r.width,y*=c?1:-1}}var ie=Object.assign({position:l},h&&JW),he=f===!0?ZW({x:y,y:E},si(n)):{x:y,y:E};if(y=he.x,E=he.y,c){var we;return Object.assign({},ie,(we={},we[w]=I?"0":"",we[S]=T?"0":"",we.transform=(P.devicePixelRatio||1)<=1?"translate("+y+"px, "+E+"px)":"translate3d("+y+"px, "+E+"px, 0)",we))}return Object.assign({},ie,(e={},e[w]=I?E+"px":"",e[S]=T?y+"px":"",e.transform="",e))}function eK(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,l=n.roundOffsets,c=l===void 0?!0:l,h={placement:gs(e.placement),variation:oc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,IA(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,IA(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const tK={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:eK,data:{}};var Gp={passive:!0};function nK(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,l=o===void 0?!0:o,c=si(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&h.forEach(function(f){f.addEventListener("scroll",n.update,Gp)}),l&&c.addEventListener("resize",n.update,Gp),function(){s&&h.forEach(function(f){f.removeEventListener("scroll",n.update,Gp)}),l&&c.removeEventListener("resize",n.update,Gp)}}const rK={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:nK,data:{}};var iK={left:"right",right:"left",bottom:"top",top:"bottom"};function Im(t){return t.replace(/left|right|bottom|top/g,function(e){return iK[e]})}var sK={start:"end",end:"start"};function SA(t){return t.replace(/start|end/g,function(e){return sK[e]})}function cT(t){var e=si(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function hT(t){return sc(ya(t)).left+cT(t).scrollLeft}function oK(t,e){var n=si(t),r=ya(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;var h=CN();(h||!h&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l+hT(t),y:c}}function aK(t){var e,n=ya(t),r=cT(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=al(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=al(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+hT(t),c=-r.scrollTop;return no(i||n).direction==="rtl"&&(l+=al(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:l,y:c}}function fT(t){var e=no(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function NN(t){return["html","body","#document"].indexOf(na(t))>=0?t.ownerDocument.body:ys(t)&&fT(t)?t:NN(my(t))}function nf(t,e){var n;e===void 0&&(e=[]);var r=NN(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=si(r),o=i?[s].concat(s.visualViewport||[],fT(r)?r:[]):r,l=e.concat(o);return i?l:l.concat(nf(my(o)))}function Gw(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function lK(t,e){var n=sc(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function xA(t,e,n){return e===bN?Gw(oK(t,n)):yl(e)?lK(e,n):Gw(aK(ya(t)))}function uK(t){var e=nf(my(t)),n=["absolute","fixed"].indexOf(no(t).position)>=0,r=n&&ys(t)?vd(t):t;return yl(r)?e.filter(function(i){return yl(i)&&PN(i,r)&&na(i)!=="body"}):[]}function cK(t,e,n,r){var i=e==="clippingParents"?uK(t):[].concat(e),s=[].concat(i,[n]),o=s[0],l=s.reduce(function(c,h){var f=xA(t,h,r);return c.top=al(f.top,c.top),c.right=pg(f.right,c.right),c.bottom=pg(f.bottom,c.bottom),c.left=al(f.left,c.left),c},xA(t,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function LN(t){var e=t.reference,n=t.element,r=t.placement,i=r?gs(r):null,s=r?oc(r):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(i){case Wr:c={x:o,y:e.y-n.height};break;case Pi:c={x:o,y:e.y+e.height};break;case Oi:c={x:e.x+e.width,y:l};break;case Kr:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var h=i?uT(i):null;if(h!=null){var f=h==="y"?"height":"width";switch(s){case rc:c[h]=c[h]-(e[f]/2-n[f]/2);break;case kf:c[h]=c[h]+(e[f]/2-n[f]/2);break}}return c}function Nf(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,l=n.boundary,c=l===void 0?kW:l,h=n.rootBoundary,f=h===void 0?bN:h,p=n.elementContext,m=p===void 0?wh:p,y=n.altBoundary,v=y===void 0?!1:y,E=n.padding,R=E===void 0?0:E,T=DN(typeof R!="number"?R:kN(R,yd)),I=m===wh?NW:wh,S=t.rects.popper,w=t.elements[v?I:m],P=cK(yl(w)?w:w.contextElement||ya(t.elements.popper),c,f,o),O=sc(t.elements.reference),D=LN({reference:O,element:S,strategy:"absolute",placement:i}),N=Gw(Object.assign({},S,D)),K=m===wh?N:O,Y={top:P.top-K.top+T.top,bottom:K.bottom-P.bottom+T.bottom,left:P.left-K.left+T.left,right:K.right-P.right+T.right},ie=t.modifiersData.offset;if(m===wh&&ie){var he=ie[i];Object.keys(Y).forEach(function(we){var Le=[Oi,Pi].indexOf(we)>=0?1:-1,be=[Wr,Pi].indexOf(we)>=0?"y":"x";Y[we]+=he[be]*Le})}return Y}function hK(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,h=c===void 0?AN:c,f=oc(r),p=f?l?EA:EA.filter(function(v){return oc(v)===f}):yd,m=p.filter(function(v){return h.indexOf(v)>=0});m.length===0&&(m=p);var y=m.reduce(function(v,E){return v[E]=Nf(t,{placement:E,boundary:i,rootBoundary:s,padding:o})[gs(E)],v},{});return Object.keys(y).sort(function(v,E){return y[v]-y[E]})}function fK(t){if(gs(t)===oT)return[];var e=Im(t);return[SA(t),e,SA(e)]}function dK(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!0:o,c=n.fallbackPlacements,h=n.padding,f=n.boundary,p=n.rootBoundary,m=n.altBoundary,y=n.flipVariations,v=y===void 0?!0:y,E=n.allowedAutoPlacements,R=e.options.placement,T=gs(R),I=T===R,S=c||(I||!v?[Im(R)]:fK(R)),w=[R].concat(S).reduce(function(Ve,Oe){return Ve.concat(gs(Oe)===oT?hK(e,{placement:Oe,boundary:f,rootBoundary:p,padding:h,flipVariations:v,allowedAutoPlacements:E}):Oe)},[]),P=e.rects.reference,O=e.rects.popper,D=new Map,N=!0,K=w[0],Y=0;Y<w.length;Y++){var ie=w[Y],he=gs(ie),we=oc(ie)===rc,Le=[Wr,Pi].indexOf(he)>=0,be=Le?"width":"height",Me=Nf(e,{placement:ie,boundary:f,rootBoundary:p,altBoundary:m,padding:h}),Ne=Le?we?Oi:Kr:we?Pi:Wr;P[be]>O[be]&&(Ne=Im(Ne));var G=Im(Ne),ue=[];if(s&&ue.push(Me[he]<=0),l&&ue.push(Me[Ne]<=0,Me[G]<=0),ue.every(function(Ve){return Ve})){K=ie,N=!1;break}D.set(ie,ue)}if(N)for(var oe=v?3:1,Ee=function(Oe){var Ze=w.find(function(Jt){var _t=D.get(Jt);if(_t)return _t.slice(0,Oe).every(function(Ge){return Ge})});if(Ze)return K=Ze,"break"},Re=oe;Re>0;Re--){var Fe=Ee(Re);if(Fe==="break")break}e.placement!==K&&(e.modifiersData[r]._skip=!0,e.placement=K,e.reset=!0)}}const pK={name:"flip",enabled:!0,phase:"main",fn:dK,requiresIfExists:["offset"],data:{_skip:!1}};function RA(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function bA(t){return[Wr,Oi,Pi,Kr].some(function(e){return t[e]>=0})}function mK(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Nf(e,{elementContext:"reference"}),l=Nf(e,{altBoundary:!0}),c=RA(o,r),h=RA(l,i,s),f=bA(c),p=bA(h);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}const gK={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:mK};function yK(t,e,n){var r=gs(t),i=[Kr,Wr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],l=s[1];return o=o||0,l=(l||0)*i,[Kr,Oi].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function vK(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=AN.reduce(function(f,p){return f[p]=yK(p,e.rects,s),f},{}),l=o[e.placement],c=l.x,h=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=o}const _K={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vK};function wK(t){var e=t.state,n=t.name;e.modifiersData[n]=LN({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const EK={name:"popperOffsets",enabled:!0,phase:"read",fn:wK,data:{}};function TK(t){return t==="x"?"y":"x"}function IK(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!1:o,c=n.boundary,h=n.rootBoundary,f=n.altBoundary,p=n.padding,m=n.tether,y=m===void 0?!0:m,v=n.tetherOffset,E=v===void 0?0:v,R=Nf(e,{boundary:c,rootBoundary:h,padding:p,altBoundary:f}),T=gs(e.placement),I=oc(e.placement),S=!I,w=uT(T),P=TK(w),O=e.modifiersData.popperOffsets,D=e.rects.reference,N=e.rects.popper,K=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,Y=typeof K=="number"?{mainAxis:K,altAxis:K}:Object.assign({mainAxis:0,altAxis:0},K),ie=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,he={x:0,y:0};if(O){if(s){var we,Le=w==="y"?Wr:Kr,be=w==="y"?Pi:Oi,Me=w==="y"?"height":"width",Ne=O[w],G=Ne+R[Le],ue=Ne-R[be],oe=y?-N[Me]/2:0,Ee=I===rc?D[Me]:N[Me],Re=I===rc?-N[Me]:-D[Me],Fe=e.elements.arrow,Ve=y&&Fe?lT(Fe):{width:0,height:0},Oe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ON(),Ze=Oe[Le],Jt=Oe[be],_t=tf(0,D[Me],Ve[Me]),Ge=S?D[Me]/2-oe-_t-Ze-Y.mainAxis:Ee-_t-Ze-Y.mainAxis,Vt=S?-D[Me]/2+oe+_t+Jt+Y.mainAxis:Re+_t+Jt+Y.mainAxis,ct=e.elements.arrow&&vd(e.elements.arrow),xt=ct?w==="y"?ct.clientTop||0:ct.clientLeft||0:0,wt=(we=ie==null?void 0:ie[w])!=null?we:0,kt=Ne+Ge-wt-xt,et=Ne+Vt-wt,sr=tf(y?pg(G,kt):G,Ne,y?al(ue,et):ue);O[w]=sr,he[w]=sr-Ne}if(l){var zt,Hr=w==="x"?Wr:Kr,Di=w==="x"?Pi:Oi,Nt=O[P],qt=P==="y"?"height":"width",kn=Nt+R[Hr],pn=Nt-R[Di],Nn=[Wr,Kr].indexOf(T)!==-1,Ke=(zt=ie==null?void 0:ie[P])!=null?zt:0,Zt=Nn?kn:Nt-D[qt]-N[qt]-Ke+Y.altAxis,J=Nn?Nt+D[qt]+N[qt]-Ke-Y.altAxis:pn,j=y&&Nn?HW(Zt,Nt,J):tf(y?Zt:kn,Nt,y?J:pn);O[P]=j,he[P]=j-Nt}e.modifiersData[r]=he}}const SK={name:"preventOverflow",enabled:!0,phase:"main",fn:IK,requiresIfExists:["offset"]};function xK(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function RK(t){return t===si(t)||!ys(t)?cT(t):xK(t)}function bK(t){var e=t.getBoundingClientRect(),n=ic(e.width)/t.offsetWidth||1,r=ic(e.height)/t.offsetHeight||1;return n!==1||r!==1}function AK(t,e,n){n===void 0&&(n=!1);var r=ys(e),i=ys(e)&&bK(e),s=ya(e),o=sc(t,i,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((na(e)!=="body"||fT(s))&&(l=RK(e)),ys(e)?(c=sc(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=hT(s))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function CK(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&i(c)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function PK(t){var e=CK(t);return qW.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function OK(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function DK(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var AA={placement:"bottom",modifiers:[],strategy:"absolute"};function CA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function kK(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?AA:i;return function(l,c,h){h===void 0&&(h=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},AA,s),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},p=[],m=!1,y={state:f,setOptions:function(T){var I=typeof T=="function"?T(f.options):T;E(),f.options=Object.assign({},s,f.options,I),f.scrollParents={reference:yl(l)?nf(l):l.contextElement?nf(l.contextElement):[],popper:nf(c)};var S=PK(DK([].concat(r,f.options.modifiers)));return f.orderedModifiers=S.filter(function(w){return w.enabled}),v(),y.update()},forceUpdate:function(){if(!m){var T=f.elements,I=T.reference,S=T.popper;if(CA(I,S)){f.rects={reference:AK(I,vd(S),f.options.strategy==="fixed"),popper:lT(S)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(Y){return f.modifiersData[Y.name]=Object.assign({},Y.data)});for(var w=0;w<f.orderedModifiers.length;w++){if(f.reset===!0){f.reset=!1,w=-1;continue}var P=f.orderedModifiers[w],O=P.fn,D=P.options,N=D===void 0?{}:D,K=P.name;typeof O=="function"&&(f=O({state:f,options:N,name:K,instance:y})||f)}}}},update:OK(function(){return new Promise(function(R){y.forceUpdate(),R(f)})}),destroy:function(){E(),m=!0}};if(!CA(l,c))return y;y.setOptions(h).then(function(R){!m&&h.onFirstUpdate&&h.onFirstUpdate(R)});function v(){f.orderedModifiers.forEach(function(R){var T=R.name,I=R.options,S=I===void 0?{}:I,w=R.effect;if(typeof w=="function"){var P=w({state:f,name:T,instance:y,options:S}),O=function(){};p.push(P||O)}})}function E(){p.forEach(function(R){return R()}),p=[]}return y}}const NK=kK({defaultModifiers:[gK,EK,tK,rK,_K,pK,SK,XW]}),LK=["enabled","placement","strategy","modifiers"];function MK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const FK={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},VK={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const s=r.getAttribute("aria-describedby");if(s&&s.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",s?`${s},${n.id}`:n.id)}}},$K=[];function jK(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:s="absolute",modifiers:o=$K}=n,l=MK(n,LK);const c=x.useRef(o),h=x.useRef(),f=x.useCallback(()=>{var R;(R=h.current)==null||R.update()},[]),p=x.useCallback(()=>{var R;(R=h.current)==null||R.forceUpdate()},[]),[m,y]=DW(x.useState({placement:i,update:f,forceUpdate:p,attributes:{},styles:{popper:{},arrow:{}}})),v=x.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:R})=>{const T={},I={};Object.keys(R.elements).forEach(S=>{T[S]=R.styles[S],I[S]=R.attributes[S]}),y({state:R,styles:T,attributes:I,update:f,forceUpdate:p,placement:R.placement})}}),[f,p,y]),E=x.useMemo(()=>(ef(c.current,o)||(c.current=o),c.current),[o]);return x.useEffect(()=>{!h.current||!r||h.current.setOptions({placement:i,strategy:s,modifiers:[...E,v,FK]})},[s,i,v,r,E]),x.useEffect(()=>{if(!(!r||t==null||e==null))return h.current=NK(t,e,Object.assign({},l,{placement:i,strategy:s,modifiers:[...E,VK,v]})),()=>{h.current!=null&&(h.current.destroy(),h.current=void 0,y(R=>Object.assign({},R,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),m}function mg(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var BK=function(){},UK=BK;const zK=od(UK),PA=()=>{};function qK(t){return t.button===0}function WK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const r0=t=>t&&("current"in t?t.current:t),OA={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function KK(t,e=PA,{disabled:n,clickTrigger:r="click"}={}){const i=x.useRef(!1),s=x.useRef(!1),o=x.useCallback(h=>{const f=r0(t);zK(!!f,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!f||WK(h)||!qK(h)||!!mg(f,h.target)||s.current,s.current=!1},[t]),l=_n(h=>{const f=r0(t);f&&mg(f,h.target)&&(s.current=!0)}),c=_n(h=>{i.current||e(h)});x.useEffect(()=>{var h,f;if(n||t==null)return;const p=gd(r0(t)),m=p.defaultView||window;let y=(h=m.event)!=null?h:(f=m.parent)==null?void 0:f.event,v=null;OA[r]&&(v=Bo(p,OA[r],l,!0));const E=Bo(p,r,o,!0),R=Bo(p,r,I=>{if(I===y){y=void 0;return}c(I)});let T=[];return"ontouchstart"in p.documentElement&&(T=[].slice.call(p.body.children).map(I=>Bo(I,"mousemove",PA))),()=>{v==null||v(),E(),R(),T.forEach(I=>I())}},[t,n,r,o,l,c])}function HK(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function GK(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function QK({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:s,containerPadding:o,arrowElement:l,popperConfig:c={}}){var h,f,p,m,y;const v=HK(c.modifiers);return Object.assign({},c,{placement:n,enabled:t,strategy:s?"fixed":c.strategy,modifiers:GK(Object.assign({},v,{eventListeners:{enabled:e,options:(h=v.eventListeners)==null?void 0:h.options},preventOverflow:Object.assign({},v.preventOverflow,{options:o?Object.assign({padding:o},(f=v.preventOverflow)==null?void 0:f.options):(p=v.preventOverflow)==null?void 0:p.options}),offset:{options:Object.assign({offset:i},(m=v.offset)==null?void 0:m.options)},arrow:Object.assign({},v.arrow,{enabled:!!l,options:Object.assign({},(y=v.arrow)==null?void 0:y.options,{element:l})}),flip:Object.assign({enabled:!!r},v.flip)}))})}const YK=["children"];function XK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const JK=()=>{};function MN(t={}){const e=x.useContext(py),[n,r]=pN(),i=x.useRef(!1),{flip:s,offset:o,rootCloseEvent:l,fixed:c=!1,placement:h,popperConfig:f={},enableEventListeners:p=!0,usePopper:m=!!e}=t,y=(e==null?void 0:e.show)==null?!!t.show:e.show;y&&!i.current&&(i.current=!0);const v=O=>{e==null||e.toggle(!1,O)},{placement:E,setMenu:R,menuElement:T,toggleElement:I}=e||{},S=jK(I,T,QK({placement:h||E||"bottom-start",enabled:m,enableEvents:p??y,offset:o,flip:s,fixed:c,arrowElement:n,popperConfig:f})),w=Object.assign({ref:R||JK,"aria-labelledby":I==null?void 0:I.id},S.attributes.popper,{style:S.styles.popper}),P={show:y,placement:E,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:m?S:null,arrowProps:m?Object.assign({ref:r},S.attributes.arrow,{style:S.styles.arrow}):{}};return KK(T,v,{clickTrigger:l,disabled:!y}),[w,P]}const ZK={usePopper:!0};function dT(t){let{children:e}=t,n=XK(t,YK);const[r,i]=MN(n);return b.jsx(b.Fragment,{children:e(r,i)})}dT.displayName="DropdownMenu";dT.defaultProps=ZK;const gg={prefix:String(Math.round(Math.random()*1e10)),current:0},FN=Qt.createContext(gg),eH=Qt.createContext(!1);let tH=!!(typeof window<"u"&&window.document&&window.document.createElement),i0=new WeakMap;function nH(t=!1){let e=x.useContext(FN),n=x.useRef(null);if(n.current===null&&!t){var r,i;let s=(r=Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||r===void 0||(i=r.ReactCurrentOwner)===null||i===void 0?void 0:i.current;if(s){let o=i0.get(s);o==null?i0.set(s,{id:e.current,state:s.memoizedState}):s.memoizedState!==o.state&&(e.current=o.id,i0.delete(s))}n.current=++e.current}return n.current}function rH(t){let e=x.useContext(FN);e===gg&&!tH&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=nH(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function iH(t){let e=Qt.useId(),[n]=x.useState(uH()),r=n?"react-aria":`react-aria${gg.prefix}`;return t||`${r}-${e}`}const sH=typeof Qt.useId=="function"?iH:rH;function oH(){return!1}function aH(){return!0}function lH(t){return()=>{}}function uH(){return typeof Qt.useSyncExternalStore=="function"?Qt.useSyncExternalStore(lH,oH,aH):x.useContext(eH)}const VN=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},DA=()=>{};function $N(){const t=sH(),{show:e=!1,toggle:n=DA,setToggle:r,menuElement:i}=x.useContext(py)||{},s=x.useCallback(l=>{n(!e,l)},[e,n]),o={id:t,ref:r||DA,onClick:s,"aria-expanded":!!e};return i&&VN(i)&&(o["aria-haspopup"]=!0),[o,{show:e,toggle:n}]}function jN({children:t}){const[e,n]=$N();return b.jsx(b.Fragment,{children:t(e,n)})}jN.displayName="DropdownToggle";const cH=x.createContext(null),Lf=(t,e=null)=>t!=null?String(t):e||null,vl=cH,BN=x.createContext(null);BN.displayName="NavContext";const pT=BN,hH="data-rr-ui-",fH="rrUi";function Ac(t){return`${hH}${t}`}function dH(t){return`${fH}${t}`}const pH=["eventKey","disabled","onClick","active","as"];function mH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function UN({key:t,href:e,active:n,disabled:r,onClick:i}){const s=x.useContext(vl),o=x.useContext(pT),{activeKey:l}=o||{},c=Lf(t,e),h=n==null&&t!=null?Lf(l)===c:n;return[{onClick:_n(p=>{r||(i==null||i(p),s&&!p.isPropagationStopped()&&s(c,p))}),"aria-disabled":r||void 0,"aria-selected":h,[Ac("dropdown-item")]:""},{isActive:h}]}const zN=x.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:o=nT}=t,l=mH(t,pH);const[c]=UN({key:n,href:l.href,disabled:r,onClick:i,active:s});return b.jsx(o,Object.assign({},l,{ref:e},c))});zN.displayName="DropdownItem";const qN=x.createContext(bc?window:void 0);qN.Provider;function gy(){return x.useContext(qN)}function kA(){const t=RN(),e=x.useRef(null),n=x.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function _d({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${Ac("dropdown-item")}]`,focusFirstItemOnShow:s,placement:o="bottom-start",children:l}){const c=gy(),[h,f]=PW(e,t,r),[p,m]=kA(),y=p.current,[v,E]=kA(),R=v.current,T=gN(h),I=x.useRef(null),S=x.useRef(!1),w=x.useContext(vl),P=x.useCallback((ie,he,we=he==null?void 0:he.type)=>{f(ie,{originalEvent:he,source:we})},[f]),O=_n((ie,he)=>{n==null||n(ie,he),P(!1,he,"select"),he.isPropagationStopped()||w==null||w(ie,he)}),D=x.useMemo(()=>({toggle:P,placement:o,show:h,menuElement:y,toggleElement:R,setMenu:m,setToggle:E}),[P,o,h,y,R,m,E]);y&&T&&!h&&(S.current=y.contains(y.ownerDocument.activeElement));const N=_n(()=>{R&&R.focus&&R.focus()}),K=_n(()=>{const ie=I.current;let he=s;if(he==null&&(he=p.current&&VN(p.current)?"keyboard":!1),he===!1||he==="keyboard"&&!/^key.+$/.test(ie))return;const we=Fs(p.current,i)[0];we&&we.focus&&we.focus()});x.useEffect(()=>{h?K():S.current&&(S.current=!1,N())},[h,S,N,K]),x.useEffect(()=>{I.current=null});const Y=(ie,he)=>{if(!p.current)return null;const we=Fs(p.current,i);let Le=we.indexOf(ie)+he;return Le=Math.max(0,Math.min(Le,we.length)),we[Le]};return fW(x.useCallback(()=>c.document,[c]),"keydown",ie=>{var he,we;const{key:Le}=ie,be=ie.target,Me=(he=p.current)==null?void 0:he.contains(be),Ne=(we=v.current)==null?void 0:we.contains(be);if(/input|textarea/i.test(be.tagName)&&(Le===" "||Le!=="Escape"&&Me||Le==="Escape"&&be.type==="search")||!Me&&!Ne||Le==="Tab"&&(!p.current||!h))return;I.current=ie.type;const ue={originalEvent:ie,source:ie.type};switch(Le){case"ArrowUp":{const oe=Y(be,-1);oe&&oe.focus&&oe.focus(),ie.preventDefault();return}case"ArrowDown":if(ie.preventDefault(),!h)f(!0,ue);else{const oe=Y(be,1);oe&&oe.focus&&oe.focus()}return;case"Tab":J1(be.ownerDocument,"keyup",oe=>{var Ee;(oe.key==="Tab"&&!oe.target||!((Ee=p.current)!=null&&Ee.contains(oe.target)))&&f(!1,ue)},{once:!0});break;case"Escape":Le==="Escape"&&(ie.preventDefault(),ie.stopPropagation()),f(!1,ue);break}}),b.jsx(vl.Provider,{value:O,children:b.jsx(py.Provider,{value:D,children:l})})}_d.displayName="Dropdown";_d.Menu=dT;_d.Toggle=jN;_d.Item=zN;const WN=x.createContext({});WN.displayName="DropdownContext";const KN=WN,HN=x.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:r="separator",...i},s)=>(e=Ye(e,"dropdown-divider"),b.jsx(n,{ref:s,className:$e(t,e),role:r,...i})));HN.displayName="DropdownDivider";const gH=HN,GN=x.forwardRef(({className:t,bsPrefix:e,as:n="div",role:r="heading",...i},s)=>(e=Ye(e,"dropdown-header"),b.jsx(n,{ref:s,className:$e(t,e),role:r,...i})));GN.displayName="DropdownHeader";const yH=GN,QN=x.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:s,as:o=vN,...l},c)=>{const h=Ye(t,"dropdown-item"),[f,p]=UN({key:n,href:l.href,disabled:r,onClick:i,active:s});return b.jsx(o,{...l,...f,ref:c,className:$e(e,h,p.isActive&&"active",r&&"disabled")})});QN.displayName="DropdownItem";const vH=QN,YN=x.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Ye(e,"dropdown-item-text"),b.jsx(n,{ref:i,className:$e(t,e),...r})));YN.displayName="DropdownItemText";const _H=YN,XN=x.createContext(null);XN.displayName="InputGroupContext";const mT=XN,JN=x.createContext(null);JN.displayName="NavbarContext";const Ll=JN;function ZN(t,e){return t}function e2(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",s=n?"bottom-end":"bottom-start",o=n?"bottom-start":"bottom-end",l=n?"right-start":"left-start",c=n?"right-end":"left-end",h=n?"left-start":"right-start",f=n?"left-end":"right-end";let p=t?o:s;return e==="up"?p=t?i:r:e==="end"?p=t?f:h:e==="start"?p=t?c:l:e==="down-centered"?p="bottom":e==="up-centered"&&(p="top"),p}const t2=x.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i=!0,show:s,renderOnMount:o,as:l="div",popperConfig:c,variant:h,...f},p)=>{let m=!1;const y=x.useContext(Ll),v=Ye(t,"dropdown-menu"),{align:E,drop:R,isRTL:T}=x.useContext(KN);n=n||E;const I=x.useContext(mT),S=[];if(n)if(typeof n=="object"){const ie=Object.keys(n);if(ie.length){const he=ie[0],we=n[he];m=we==="start",S.push(`${v}-${he}-${we}`)}}else n==="end"&&(m=!0);const w=e2(m,R,T),[P,{hasShown:O,popper:D,show:N,toggle:K}]=MN({flip:i,rootCloseEvent:r,show:s,usePopper:!y&&S.length===0,offset:[0,2],popperConfig:c,placement:w});if(P.ref=Nl(ZN(p),P.ref),fg(()=>{N&&(D==null||D.update())},[N]),!O&&!o&&!I)return null;typeof l!="string"&&(P.show=N,P.close=()=>K==null?void 0:K(!1),P.align=n);let Y=f.style;return D!=null&&D.placement&&(Y={...f.style,...P.style},f["x-placement"]=D.placement),b.jsx(l,{...f,...P,style:Y,...(S.length||y)&&{"data-bs-popper":"static"},className:$e(e,v,N&&"show",m&&`${v}-end`,h&&`${v}-${h}`,...S)})});t2.displayName="DropdownMenu";const wH=t2,n2=x.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=dg,...s},o)=>{const l=Ye(t,"dropdown-toggle"),c=x.useContext(py);r!==void 0&&(s.bsPrefix=r);const[h]=$N();return h.ref=Nl(h.ref,ZN(o)),b.jsx(i,{className:$e(n,l,e&&`${l}-split`,(c==null?void 0:c.show)&&"show"),...h,...s})});n2.displayName="DropdownToggle";const EH=n2,r2=x.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:i,className:s,align:o="start",onSelect:l,onToggle:c,focusFirstItemOnShow:h,as:f="div",navbar:p,autoClose:m=!0,...y}=X1(t,{show:"onToggle"}),v=x.useContext(mT),E=Ye(n,"dropdown"),R=sN(),T=D=>m===!1?D==="click":m==="inside"?D!=="rootClose":m==="outside"?D!=="select":!0,I=_n((D,N)=>{N.originalEvent.currentTarget===document&&(N.source!=="keydown"||N.originalEvent.key==="Escape")&&(N.source="rootClose"),T(N.source)&&(c==null||c(D,N))}),w=e2(o==="end",r,R),P=x.useMemo(()=>({align:o,drop:r,isRTL:R}),[o,r,R]),O={down:E,"down-centered":`${E}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return b.jsx(KN.Provider,{value:P,children:b.jsx(_d,{placement:w,show:i,onSelect:l,onToggle:I,focusFirstItemOnShow:h,itemSelector:`.${E}-item:not(.disabled):not(:disabled)`,children:v?y.children:b.jsx(f,{...y,ref:e,className:$e(s,i&&"show",O[r])})})})});r2.displayName="Dropdown";const os=Object.assign(r2,{Toggle:EH,Menu:wH,Item:vH,ItemText:_H,Divider:gH,Header:yH}),TH={type:Gs.string,tooltip:Gs.bool,as:Gs.elementType},gT=x.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>b.jsx(t,{...i,ref:s,className:$e(e,`${n}-${r?"tooltip":"feedback"}`)}));gT.displayName="Feedback";gT.propTypes=TH;const i2=gT,IH=x.createContext({}),ro=IH,s2=x.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...l},c)=>{const{controlId:h}=x.useContext(ro);return e=Ye(e,"form-check-input"),b.jsx(o,{...l,ref:c,type:r,id:t||h,className:$e(n,e,i&&"is-valid",s&&"is-invalid")})});s2.displayName="FormCheckInput";const yy=s2,o2=x.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=x.useContext(ro);return t=Ye(t,"form-check-label"),b.jsx("label",{...r,ref:i,htmlFor:n||s,className:$e(e,t)})});o2.displayName="FormCheckLabel";const Qw=o2,a2=x.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:l=!1,feedbackTooltip:c=!1,feedback:h,feedbackType:f,className:p,style:m,title:y="",type:v="checkbox",label:E,children:R,as:T="input",...I},S)=>{e=Ye(e,"form-check"),n=Ye(n,"form-switch");const{controlId:w}=x.useContext(ro),P=x.useMemo(()=>({controlId:t||w}),[w,t]),O=!R&&E!=null&&E!==!1||bW(R,Qw),D=b.jsx(yy,{...I,type:v==="switch"?"checkbox":v,ref:S,isValid:o,isInvalid:l,disabled:s,as:T});return b.jsx(ro.Provider,{value:P,children:b.jsx("div",{style:m,className:$e(p,O&&e,r&&`${e}-inline`,i&&`${e}-reverse`,v==="switch"&&n),children:R||b.jsxs(b.Fragment,{children:[D,O&&b.jsx(Qw,{title:y,children:E}),h&&b.jsx(i2,{type:f,tooltip:c,children:h})]})})})});a2.displayName="FormCheck";const yg=Object.assign(a2,{Input:yy,Label:Qw}),l2=x.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:l=!1,plaintext:c,readOnly:h,as:f="input",...p},m)=>{const{controlId:y}=x.useContext(ro);return t=Ye(t,"form-control"),b.jsx(f,{...p,type:e,size:r,ref:m,readOnly:h,id:i||y,className:$e(s,c?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,o&&"is-valid",l&&"is-invalid")})});l2.displayName="FormControl";const SH=Object.assign(l2,{Feedback:i2}),u2=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ye(e,"form-floating"),b.jsx(n,{ref:i,className:$e(t,e),...r})));u2.displayName="FormFloating";const xH=u2,c2=x.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=x.useMemo(()=>({controlId:t}),[t]);return b.jsx(ro.Provider,{value:i,children:b.jsx(e,{...n,ref:r})})});c2.displayName="FormGroup";const h2=c2,f2=x.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:s,...o},l)=>{const{controlId:c}=x.useContext(ro);e=Ye(e,"form-label");let h="col-form-label";typeof n=="string"&&(h=`${h} ${h}-${n}`);const f=$e(i,e,r&&"visually-hidden",n&&h);return s=s||c,n?b.jsx(Fh,{ref:l,as:"label",className:f,htmlFor:s,...o}):b.jsx(t,{ref:l,className:f,htmlFor:s,...o})});f2.displayName="FormLabel";const RH=f2,d2=x.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=x.useContext(ro);return t=Ye(t,"form-range"),b.jsx("input",{...r,type:"range",ref:i,className:$e(e,t),id:n||s})});d2.displayName="FormRange";const bH=d2,p2=x.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...l},c)=>{const{controlId:h}=x.useContext(ro);return t=Ye(t,"form-select"),b.jsx("select",{...l,size:n,ref:c,className:$e(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||h})});p2.displayName="FormSelect";const AH=p2,m2=x.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=Ye(t,"form-text"),b.jsx(n,{...i,ref:s,className:$e(e,t,r&&"text-muted")})));m2.displayName="FormText";const CH=m2,g2=x.forwardRef((t,e)=>b.jsx(yg,{...t,ref:e,type:"switch"}));g2.displayName="Switch";const PH=Object.assign(g2,{Input:yg.Input,Label:yg.Label}),y2=x.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=Ye(t,"form-floating"),b.jsxs(h2,{ref:o,className:$e(e,t),controlId:r,...s,children:[n,b.jsx("label",{htmlFor:r,children:i})]})));y2.displayName="FloatingLabel";const OH=y2,DH={_ref:Gs.any,validated:Gs.bool,as:Gs.elementType},yT=x.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>b.jsx(n,{...r,ref:i,className:$e(t,e&&"was-validated")}));yT.displayName="Form";yT.propTypes=DH;const Yw=Object.assign(yT,{Group:h2,Control:SH,Floating:xH,Check:yg,Switch:PH,Label:RH,Text:CH,Range:bH,Select:AH,FloatingLabel:OH}),v2=x.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Ye(e,"input-group-text"),b.jsx(n,{ref:i,className:$e(t,e),...r})));v2.displayName="InputGroupText";const vT=v2,kH=t=>b.jsx(vT,{children:b.jsx(yy,{type:"checkbox",...t})}),NH=t=>b.jsx(vT,{children:b.jsx(yy,{type:"radio",...t})}),_2=x.forwardRef(({bsPrefix:t,size:e,hasValidation:n,className:r,as:i="div",...s},o)=>{t=Ye(t,"input-group");const l=x.useMemo(()=>({}),[]);return b.jsx(mT.Provider,{value:l,children:b.jsx(i,{ref:o,...s,className:$e(r,t,e&&`${t}-${e}`,n&&"has-validation")})})});_2.displayName="InputGroup";const LH=Object.assign(_2,{Text:vT,Radio:NH,Checkbox:kH}),MH=x.createContext(null),w2=MH,FH=["as","active","eventKey"];function VH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function E2({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=x.useContext(vl),l=x.useContext(pT),c=x.useContext(w2);let h=n;const f={role:i};if(l){!i&&l.role==="tablist"&&(f.role="tab");const p=l.getControllerId(t??null),m=l.getControlledId(t??null);f[Ac("event-key")]=t,f.id=p||r,h=n==null&&t!=null?l.activeKey===t:n,(h||!(c!=null&&c.unmountOnExit)&&!(c!=null&&c.mountOnEnter))&&(f["aria-controls"]=m)}return f.role==="tab"&&(f["aria-selected"]=h,h||(f.tabIndex=-1),s&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=_n(p=>{s||(e==null||e(p),t!=null&&o&&!p.isPropagationStopped()&&o(t,p))}),[f,{isActive:h}]}const T2=x.forwardRef((t,e)=>{let{as:n=nT,active:r,eventKey:i}=t,s=VH(t,FH);const[o,l]=E2(Object.assign({key:Lf(i,s.href),active:r},s));return o[Ac("active")]=l.isActive,b.jsx(n,Object.assign({},s,o,{ref:e}))});T2.displayName="NavItem";const $H=T2,jH=["as","onSelect","activeKey","role","onKeyDown"];function BH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const NA=()=>{},LA=Ac("event-key"),I2=x.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,l=BH(t,jH);const c=RN(),h=x.useRef(!1),f=x.useContext(vl),p=x.useContext(w2);let m,y;p&&(s=s||"tablist",i=p.activeKey,m=p.getControlledId,y=p.getControllerId);const v=x.useRef(null),E=S=>{const w=v.current;if(!w)return null;const P=Fs(w,`[${LA}]:not([aria-disabled=true])`),O=w.querySelector("[aria-selected=true]");if(!O||O!==document.activeElement)return null;const D=P.indexOf(O);if(D===-1)return null;let N=D+S;return N>=P.length&&(N=0),N<0&&(N=P.length-1),P[N]},R=(S,w)=>{S!=null&&(r==null||r(S,w),f==null||f(S,w))},T=S=>{if(o==null||o(S),!p)return;let w;switch(S.key){case"ArrowLeft":case"ArrowUp":w=E(-1);break;case"ArrowRight":case"ArrowDown":w=E(1);break;default:return}w&&(S.preventDefault(),R(w.dataset[dH("EventKey")]||null,S),h.current=!0,c())};x.useEffect(()=>{if(v.current&&h.current){const S=v.current.querySelector(`[${LA}][aria-selected=true]`);S==null||S.focus()}h.current=!1});const I=Nl(e,v);return b.jsx(vl.Provider,{value:R,children:b.jsx(pT.Provider,{value:{role:s,activeKey:Lf(i),getControlledId:m||NA,getControllerId:y||NA},children:b.jsx(n,Object.assign({},l,{onKeyDown:T,ref:I,role:s}))})})});I2.displayName="Nav";const UH=Object.assign(I2,{Item:$H});var Qp;function MA(t){if((!Qp&&Qp!==0||t)&&bc){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Qp=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Qp}function s0(t){t===void 0&&(t=gd());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function zH(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const FA=Ac("modal-open");class qH{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return zH(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Hs(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(FA,""),Hs(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(FA),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const _T=qH,o0=(t,e)=>bc?t==null?(e||gd()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function WH(t,e){const n=gy(),[r,i]=x.useState(()=>o0(t,n==null?void 0:n.document));if(!r){const s=o0(t);s&&i(s)}return x.useEffect(()=>{e&&r&&e(r)},[e,r]),x.useEffect(()=>{const s=o0(t);s!==r&&i(s)},[t,r]),r}function KH({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=x.useRef(null),o=x.useRef(e),l=_n(n);x.useEffect(()=>{e?o.current=!0:l(s.current)},[e,l]);const c=Nl(s,t.ref),h=x.cloneElement(t,{ref:c});return e?h:i||!o.current&&r?null:h}function HH({in:t,onTransition:e}){const n=x.useRef(null),r=x.useRef(!0),i=_n(e);return fg(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),fg(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function GH({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=x.useState(!e);e&&s&&o(!1);const l=HH({in:!!e,onTransition:h=>{const f=()=>{h.isStale()||(h.in?r==null||r(h.element,h.initial):(o(!0),n==null||n(h.element)))};Promise.resolve(i(h)).then(f,p=>{throw h.in||o(!0),p})}}),c=Nl(l,t.ref);return s&&!e?null:x.cloneElement(t,{ref:c})}function VA(t,e,n){return t?b.jsx(t,Object.assign({},n)):e?b.jsx(GH,Object.assign({},n,{transition:e})):b.jsx(KH,Object.assign({},n))}function QH(t){return t.code==="Escape"||t.keyCode===27}const YH=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function XH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let a0;function JH(t){return a0||(a0=new _T({ownerDocument:t==null?void 0:t.document})),a0}function ZH(t){const e=gy(),n=t||JH(e),r=x.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:x.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:x.useCallback(i=>{r.current.backdrop=i},[])})}const S2=x.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:l=!0,keyboard:c=!0,onBackdropClick:h,onEscapeKeyDown:f,transition:p,runTransition:m,backdropTransition:y,runBackdropTransition:v,autoFocus:E=!0,enforceFocus:R=!0,restoreFocus:T=!0,restoreFocusOptions:I,renderDialog:S,renderBackdrop:w=et=>b.jsx("div",Object.assign({},et)),manager:P,container:O,onShow:D,onHide:N=()=>{},onExit:K,onExited:Y,onExiting:ie,onEnter:he,onEntering:we,onEntered:Le}=t,be=XH(t,YH);const Me=gy(),Ne=WH(O),G=ZH(P),ue=mN(),oe=gN(n),[Ee,Re]=x.useState(!n),Fe=x.useRef(null);x.useImperativeHandle(e,()=>G,[G]),bc&&!oe&&n&&(Fe.current=s0(Me==null?void 0:Me.document)),n&&Ee&&Re(!1);const Ve=_n(()=>{if(G.add(),Vt.current=Bo(document,"keydown",_t),Ge.current=Bo(document,"focus",()=>setTimeout(Ze),!0),D&&D(),E){var et,sr;const zt=s0((et=(sr=G.dialog)==null?void 0:sr.ownerDocument)!=null?et:Me==null?void 0:Me.document);G.dialog&&zt&&!mg(G.dialog,zt)&&(Fe.current=zt,G.dialog.focus())}}),Oe=_n(()=>{if(G.remove(),Vt.current==null||Vt.current(),Ge.current==null||Ge.current(),T){var et;(et=Fe.current)==null||et.focus==null||et.focus(I),Fe.current=null}});x.useEffect(()=>{!n||!Ne||Ve()},[n,Ne,Ve]),x.useEffect(()=>{Ee&&Oe()},[Ee,Oe]),IN(()=>{Oe()});const Ze=_n(()=>{if(!R||!ue()||!G.isTopModal())return;const et=s0(Me==null?void 0:Me.document);G.dialog&&et&&!mg(G.dialog,et)&&G.dialog.focus()}),Jt=_n(et=>{et.target===et.currentTarget&&(h==null||h(et),l===!0&&N())}),_t=_n(et=>{c&&QH(et)&&G.isTopModal()&&(f==null||f(et),et.defaultPrevented||N())}),Ge=x.useRef(),Vt=x.useRef(),ct=(...et)=>{Re(!0),Y==null||Y(...et)};if(!Ne)return null;const xt=Object.assign({role:r,ref:G.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},be,{style:s,className:i,tabIndex:-1});let wt=S?S(xt):b.jsx("div",Object.assign({},xt,{children:x.cloneElement(o,{role:"document"})}));wt=VA(p,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:K,onExiting:ie,onExited:ct,onEnter:he,onEntering:we,onEntered:Le,children:wt});let kt=null;return l&&(kt=w({ref:G.setBackdropRef,onClick:Jt}),kt=VA(y,v,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:kt})),b.jsx(b.Fragment,{children:Du.createPortal(b.jsxs(b.Fragment,{children:[kt,wt]}),Ne)})});S2.displayName="Modal";const x2=Object.assign(S2,{Manager:_T});function eG(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function tG(t,e){t.classList?t.classList.add(e):eG(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function $A(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function nG(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=$A(t.className,e):t.setAttribute("class",$A(t.className&&t.className.baseVal||"",e))}const ou={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class R2 extends _T{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Hs(n,{[e]:`${parseFloat(Hs(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Hs(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(tG(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Fs(n,ou.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),Fs(n,ou.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),Fs(n,ou.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();nG(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Fs(n,ou.FIXED_CONTENT).forEach(s=>this.restore(r,s)),Fs(n,ou.STICKY_CONTENT).forEach(s=>this.restore(i,s)),Fs(n,ou.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let l0;function b2(t){return l0||(l0=new R2(t)),l0}const A2=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ye(e,"modal-body"),b.jsx(n,{ref:i,className:$e(t,e),...r})));A2.displayName="ModalBody";const rG=A2,iG=x.createContext({onHide(){}}),wT=iG,C2=x.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:l,...c},h)=>{t=Ye(t,"modal");const f=`${t}-dialog`,p=typeof s=="string"?`${t}-fullscreen-${s}`:`${t}-fullscreen`;return b.jsx("div",{...c,ref:h,className:$e(f,e,i&&`${t}-${i}`,r&&`${f}-centered`,l&&`${f}-scrollable`,s&&p),children:b.jsx("div",{className:$e(`${t}-content`,n),children:o})})});C2.displayName="ModalDialog";const P2=C2,O2=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ye(e,"modal-footer"),b.jsx(n,{ref:i,className:$e(t,e),...r})));O2.displayName="ModalFooter";const sG=O2,oG=x.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const l=x.useContext(wT),c=_n(()=>{l==null||l.onHide(),r==null||r()});return b.jsxs("div",{ref:o,...s,children:[i,n&&b.jsx(IW,{"aria-label":t,variant:e,onClick:c})]})}),D2=oG,k2=x.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=Ye(t,"modal-header"),b.jsx(D2,{ref:s,...i,className:$e(e,t),closeLabel:n,closeButton:r})));k2.displayName="ModalHeader";const aG=k2,lG=dN("h4"),N2=x.forwardRef(({className:t,bsPrefix:e,as:n=lG,...r},i)=>(e=Ye(e,"modal-title"),b.jsx(n,{ref:i,className:$e(t,e),...r})));N2.displayName="ModalTitle";const uG=N2;function cG(t){return b.jsx(rT,{...t,timeout:null})}function hG(t){return b.jsx(rT,{...t,timeout:null})}const L2=x.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o=P2,"aria-labelledby":l,"aria-describedby":c,"aria-label":h,show:f=!1,animation:p=!0,backdrop:m=!0,keyboard:y=!0,onEscapeKeyDown:v,onShow:E,onHide:R,container:T,autoFocus:I=!0,enforceFocus:S=!0,restoreFocus:w=!0,restoreFocusOptions:P,onEntered:O,onExit:D,onExiting:N,onEnter:K,onEntering:Y,onExited:ie,backdropClassName:he,manager:we,...Le},be)=>{const[Me,Ne]=x.useState({}),[G,ue]=x.useState(!1),oe=x.useRef(!1),Ee=x.useRef(!1),Re=x.useRef(null),[Fe,Ve]=pN(),Oe=Nl(be,Ve),Ze=_n(R),Jt=sN();t=Ye(t,"modal");const _t=x.useMemo(()=>({onHide:Ze}),[Ze]);function Ge(){return we||b2({isRTL:Jt})}function Vt(Ke){if(!bc)return;const Zt=Ge().getScrollbarWidth()>0,J=Ke.scrollHeight>gd(Ke).documentElement.clientHeight;Ne({paddingRight:Zt&&!J?MA():void 0,paddingLeft:!Zt&&J?MA():void 0})}const ct=_n(()=>{Fe&&Vt(Fe.dialog)});IN(()=>{Kw(window,"resize",ct),Re.current==null||Re.current()});const xt=()=>{oe.current=!0},wt=Ke=>{oe.current&&Fe&&Ke.target===Fe.dialog&&(Ee.current=!0),oe.current=!1},kt=()=>{ue(!0),Re.current=cN(Fe.dialog,()=>{ue(!1)})},et=Ke=>{Ke.target===Ke.currentTarget&&kt()},sr=Ke=>{if(m==="static"){et(Ke);return}if(Ee.current||Ke.target!==Ke.currentTarget){Ee.current=!1;return}R==null||R()},zt=Ke=>{y?v==null||v(Ke):(Ke.preventDefault(),m==="static"&&kt())},Hr=(Ke,Zt)=>{Ke&&Vt(Ke),K==null||K(Ke,Zt)},Di=Ke=>{Re.current==null||Re.current(),D==null||D(Ke)},Nt=(Ke,Zt)=>{Y==null||Y(Ke,Zt),J1(window,"resize",ct)},qt=Ke=>{Ke&&(Ke.style.display=""),ie==null||ie(Ke),Kw(window,"resize",ct)},kn=x.useCallback(Ke=>b.jsx("div",{...Ke,className:$e(`${t}-backdrop`,he,!p&&"show")}),[p,he,t]),pn={...n,...Me};pn.display="block";const Nn=Ke=>b.jsx("div",{role:"dialog",...Ke,style:pn,className:$e(e,t,G&&`${t}-static`,!p&&"show"),onClick:m?sr:void 0,onMouseUp:wt,"aria-label":h,"aria-labelledby":l,"aria-describedby":c,children:b.jsx(o,{...Le,onMouseDown:xt,className:r,contentClassName:i,children:s})});return b.jsx(wT.Provider,{value:_t,children:b.jsx(x2,{show:f,ref:Oe,backdrop:m,container:T,keyboard:!0,autoFocus:I,enforceFocus:S,restoreFocus:w,restoreFocusOptions:P,onEscapeKeyDown:zt,onShow:E,onHide:R,onEnter:Hr,onEntering:Nt,onEntered:O,onExit:Di,onExiting:N,onExited:qt,manager:Ge(),transition:p?cG:void 0,backdropTransition:p?hG:void 0,renderBackdrop:kn,renderDialog:Nn})})});L2.displayName="Modal";const $s=Object.assign(L2,{Body:rG,Header:aG,Title:uG,Footer:sG,Dialog:P2,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var jA={exports:{}},Xw={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(o,l,c,h,f,p){var m=h||"<<anonymous>>",y=p||c;if(l[c]==null)return o?new Error("Required "+f+" `"+y+"` was not specified "+("in `"+m+"`.")):null;for(var v=arguments.length,E=Array(v>6?v-6:0),R=6;R<v;R++)E[R-6]=arguments[R];return r.apply(void 0,[l,c,m,f,y].concat(E))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}t.exports=e.default})(Xw,Xw.exports);var fG=Xw.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=fG,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];function h(){for(var f=arguments.length,p=Array(f),m=0;m<f;m++)p[m]=arguments[m];var y=null;return l.forEach(function(v){if(y==null){var E=v.apply(void 0,p);E!=null&&(y=E)}}),y}return(0,r.default)(h)}t.exports=e.default})(jA,jA.exports);const M2=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ye(e,"nav-item"),b.jsx(n,{ref:i,className:$e(t,e),...r})));M2.displayName="NavItem";const dG=M2,F2=x.forwardRef(({bsPrefix:t,className:e,as:n=vN,active:r,eventKey:i,disabled:s=!1,...o},l)=>{t=Ye(t,"nav-link");const[c,h]=E2({key:Lf(i,o.href),active:r,disabled:s,...o});return b.jsx(n,{...o,...c,ref:l,disabled:s,className:$e(e,t,s&&"disabled",h.isActive&&"active")})});F2.displayName="NavLink";const pG=F2,V2=x.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s=!1,justify:o=!1,navbar:l,navbarScroll:c,className:h,activeKey:f,...p}=X1(t,{activeKey:"onSelect"}),m=Ye(r,"nav");let y,v,E=!1;const R=x.useContext(Ll),T=x.useContext(xW);return R?(y=R.bsPrefix,E=l??!0):T&&({cardHeaderBsPrefix:v}=T),b.jsx(UH,{as:n,ref:e,activeKey:f,className:$e(h,{[m]:!E,[`${y}-nav`]:E,[`${y}-nav-scroll`]:E&&c,[`${v}-${i}`]:!!v,[`${m}-${i}`]:!!i,[`${m}-fill`]:s,[`${m}-justified`]:o}),...p})});V2.displayName="Nav";const Eh=Object.assign(V2,{Item:dG,Link:pG}),$2=x.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=Ye(t,"navbar-brand");const s=n||(r.href?"a":"span");return b.jsx(s,{...r,ref:i,className:$e(e,t)})});$2.displayName="NavbarBrand";const mG=$2,j2=x.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=Ye(e,"navbar-collapse");const i=x.useContext(Ll);return b.jsx(fN,{in:!!(i&&i.expanded),...n,children:b.jsx("div",{ref:r,className:e,children:t})})});j2.displayName="NavbarCollapse";const gG=j2,B2=x.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...o},l)=>{t=Ye(t,"navbar-toggler");const{onToggle:c,expanded:h}=x.useContext(Ll)||{},f=_n(p=>{s&&s(p),c&&c()});return i==="button"&&(o.type="button"),b.jsx(i,{...o,ref:l,onClick:f,"aria-label":r,className:$e(e,t,!h&&"collapsed"),children:n||b.jsx("span",{className:`${t}-icon`})})});B2.displayName="NavbarToggle";const yG=B2,Jw=new WeakMap,BA=(t,e)=>{if(!t||!e)return;const n=Jw.get(e)||new Map;Jw.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function vG(t,e=typeof window>"u"?void 0:window){const n=BA(t,e),[r,i]=x.useState(()=>n?n.matches:!1);return fg(()=>{let s=BA(t,e);if(!s)return i(!1);let o=Jw.get(e);const l=()=>{i(s.matches)};return s.refCount++,s.addListener(l),l(),()=>{s.removeListener(l),s.refCount--,s.refCount<=0&&(o==null||o.delete(s.media)),s=void 0}},[t]),r}function _G(t){const e=Object.keys(t);function n(l,c){return l===c?c:l?`${l} and ${c}`:c}function r(l){return e[Math.min(e.indexOf(l)+1,e.length-1)]}function i(l){const c=r(l);let h=t[c];return typeof h=="number"?h=`${h-.2}px`:h=`calc(${h} - 0.2px)`,`(max-width: ${h})`}function s(l){let c=t[l];return typeof c=="number"&&(c=`${c}px`),`(min-width: ${c})`}function o(l,c,h){let f;typeof l=="object"?(f=l,h=c,c=!0):(c=c||!0,f={[l]:c});let p=x.useMemo(()=>Object.entries(f).reduce((m,[y,v])=>((v==="up"||v===!0)&&(m=n(m,s(y))),(v==="down"||v===!0)&&(m=n(m,i(y))),m),""),[JSON.stringify(f)]);return vG(p,h)}return o}const wG=_G({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),U2=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ye(e,"offcanvas-body"),b.jsx(n,{ref:i,className:$e(t,e),...r})));U2.displayName="OffcanvasBody";const EG=U2,TG={[zi]:"show",[Vs]:"show"},z2=x.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:o=!1,...l},c)=>(t=Ye(t,"offcanvas"),b.jsx(eT,{ref:c,addEndListener:Z1,in:r,mountOnEnter:i,unmountOnExit:s,appear:o,...l,childRef:n.ref,children:(h,f)=>x.cloneElement(n,{...f,className:$e(e,n.props.className,(h===zi||h===Df)&&`${t}-toggling`,TG[h])})})));z2.displayName="OffcanvasToggling";const IG=z2,q2=x.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=Ye(t,"offcanvas-header"),b.jsx(D2,{ref:s,...i,className:$e(e,t),closeLabel:n,closeButton:r})));q2.displayName="OffcanvasHeader";const SG=q2,xG=dN("h5"),W2=x.forwardRef(({className:t,bsPrefix:e,as:n=xG,...r},i)=>(e=Ye(e,"offcanvas-title"),b.jsx(n,{ref:i,className:$e(t,e),...r})));W2.displayName="OffcanvasTitle";const RG=W2;function bG(t){return b.jsx(IG,{...t})}function AG(t){return b.jsx(rT,{...t})}const K2=x.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:o=!1,backdrop:l=!0,keyboard:c=!0,scroll:h=!1,onEscapeKeyDown:f,onShow:p,onHide:m,container:y,autoFocus:v=!0,enforceFocus:E=!0,restoreFocus:R=!0,restoreFocusOptions:T,onEntered:I,onExit:S,onExiting:w,onEnter:P,onEntering:O,onExited:D,backdropClassName:N,manager:K,renderStaticNode:Y=!1,...ie},he)=>{const we=x.useRef();t=Ye(t,"offcanvas");const{onToggle:Le}=x.useContext(Ll)||{},[be,Me]=x.useState(!1),Ne=wG(s||"xs","up");x.useEffect(()=>{Me(s?o&&!Ne:o)},[o,s,Ne]);const G=_n(()=>{Le==null||Le(),m==null||m()}),ue=x.useMemo(()=>({onHide:G}),[G]);function oe(){return K||(h?(we.current||(we.current=new R2({handleContainerOverflow:!1})),we.current):b2())}const Ee=(Oe,...Ze)=>{Oe&&(Oe.style.visibility="visible"),P==null||P(Oe,...Ze)},Re=(Oe,...Ze)=>{Oe&&(Oe.style.visibility=""),D==null||D(...Ze)},Fe=x.useCallback(Oe=>b.jsx("div",{...Oe,className:$e(`${t}-backdrop`,N)}),[N,t]),Ve=Oe=>b.jsx("div",{...Oe,...ie,className:$e(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return b.jsxs(b.Fragment,{children:[!be&&(s||Y)&&Ve({}),b.jsx(wT.Provider,{value:ue,children:b.jsx(x2,{show:be,ref:he,backdrop:l,container:y,keyboard:c,autoFocus:v,enforceFocus:E&&!h,restoreFocus:R,restoreFocusOptions:T,onEscapeKeyDown:f,onShow:p,onHide:G,onEnter:Ee,onEntering:O,onEntered:I,onExit:S,onExiting:w,onExited:Re,manager:oe(),transition:bG,backdropTransition:AG,renderBackdrop:Fe,renderDialog:Ve})})]})});K2.displayName="Offcanvas";const CG=Object.assign(K2,{Body:EG,Header:SG,Title:RG}),H2=x.forwardRef((t,e)=>{const n=x.useContext(Ll);return b.jsx(CG,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});H2.displayName="NavbarOffcanvas";const PG=H2,G2=x.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Ye(e,"navbar-text"),b.jsx(n,{ref:i,className:$e(t,e),...r})));G2.displayName="NavbarText";const OG=G2,Q2=x.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:o,sticky:l,className:c,as:h="nav",expanded:f,onToggle:p,onSelect:m,collapseOnSelect:y=!1,...v}=X1(t,{expanded:"onToggle"}),E=Ye(n,"navbar"),R=x.useCallback((...S)=>{m==null||m(...S),y&&f&&(p==null||p(!1))},[m,y,f,p]);v.role===void 0&&h!=="nav"&&(v.role="navigation");let T=`${E}-expand`;typeof r=="string"&&(T=`${T}-${r}`);const I=x.useMemo(()=>({onToggle:()=>p==null?void 0:p(!f),bsPrefix:E,expanded:!!f,expand:r}),[E,f,r,p]);return b.jsx(Ll.Provider,{value:I,children:b.jsx(vl.Provider,{value:R,children:b.jsx(h,{ref:e,...v,className:$e(c,E,r&&T,i&&`${E}-${i}`,s&&`bg-${s}`,l&&`sticky-${l}`,o&&`fixed-${o}`)})})})});Q2.displayName="Navbar";const Yp=Object.assign(Q2,{Brand:mG,Collapse:gG,Offcanvas:PG,Text:OG,Toggle:yG}),Y2=x.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=Ye(t,"row"),o=rN(),l=iN(),c=`${s}-cols`,h=[];return o.forEach(f=>{const p=r[f];delete r[f];let m;p!=null&&typeof p=="object"?{cols:m}=p:m=p;const y=f!==l?`-${f}`:"";m!=null&&h.push(`${c}${y}-${m}`)}),b.jsx(n,{ref:i,...r,className:$e(e,s,...h)})});Y2.displayName="Row";const UA=Y2,zA=({children:t})=>b.jsx(b.Fragment,{children:b.jsx(SW,{size:"sm",role:"group","aria-label":"Setting text and image",style:{marginBottom:"0.5rem"},children:t})}),el=({children:t,selectType:e,handleOnClick:n,types:r})=>{const{type:i,title:s}=r;return b.jsx(b.Fragment,{children:b.jsx(dg,{variant:"outline-myInfo",className:"button-hover",active:e.type===i,onClick:()=>{n(i,s)},children:t})})},DG=({id:t})=>{const{showType_select:e,showType_beenSelect:n,showType_bestDamage:r,handleShowType_select:i,handleShowType_beenSelect:s,handleShowType_bestDamage:o}=Or();let l=null,c=null;switch(t){case Gi:l=e,c=i;break;case Y1:l=n,c=s;break;case pd:l=r,c=o;break}return b.jsxs(b.Fragment,{children:[b.jsx(el,{types:{type:G1,title:""},selectType:l,handleOnClick:c,children:b.jsx(qA,{color:"#22c02a",text:"草"})}),b.jsx(el,{types:{type:Q1,title:""},selectType:l,handleOnClick:c,children:b.jsx(qA,{color:"#22c02a",text:" "})}),b.jsx(el,{types:{type:kl,title:""},selectType:l,handleOnClick:c,children:b.jsx(vg,{text:"草"})}),b.jsx(el,{types:{type:Jk,title:""},selectType:l,handleOnClick:c,children:b.jsx(vg,{text:"不顯示"})})]})},qA=({color:t,text:e})=>b.jsx("div",{className:"button-type-color",children:b.jsx("span",{style:{backgroundColor:t},children:e})}),kG=({id:t})=>{const{showInfo_select:e,showInfo_beenSelect:n,showInfo_bestDamage:r,handleShowInfo_select:i,handleShowInfo_beenSelect:s,handleShowInfo_bestDamage:o}=Or();let l=null,c=null;switch(t){case Gi:l=e,c=i;break;case Y1:l=n,c=s;break;case pd:l=r,c=o;break}return b.jsxs(b.Fragment,{children:[b.jsx(el,{types:{type:cg,title:""},selectType:l,handleOnClick:c,children:b.jsx(X2,{})}),b.jsx(el,{types:{type:H1,title:""},selectType:l,handleOnClick:c,children:b.jsx(NG,{text:"Name"})}),b.jsx(el,{types:{type:kl,title:""},selectType:l,handleOnClick:c,children:b.jsx(vg,{text:"Name"})})]})},X2=()=>b.jsx("img",{src:D8,alt:"顯示方式",title:"顯示方式",className:"buttonImage"}),vg=({text:t})=>b.jsx("span",{children:t}),NG=({text:t})=>b.jsxs("div",{className:"buttonImageText",children:[b.jsx(X2,{}),b.jsx(vg,{text:t})]}),LG=()=>{const{handleFilterPopular:t}=Or();return b.jsx("div",{children:b.jsx(Yw,{children:b.jsx(Yw.Check,{type:"switch",id:"showPopular-switch",label:"道館常見角色",onChange:t})})})},MG=()=>{const{filterType:t,handleFilterType:e}=Or();return b.jsx(b.Fragment,{children:b.jsxs(os,{children:[b.jsx(os.Toggle,{variant:"outline-myInfo",className:"button-hover",id:"t-dropdownBtnFilterType",children:b.jsxs("span",{children:["篩選屬性 : ",t.zhName||"error"]})}),b.jsxs(os.Menu,{style:{width:"auto",height:"150px",overflowY:"auto"},children:[b.jsx(os.Item,{as:"button",className:"dropdown-type",style:{backgroundColor:"#17CCF0"},onClick:()=>e(hg),children:b.jsx("span",{children:"全部"})}),md.map(n=>{const{zhName:r,bgColor:i}=n;return b.jsx(os.Item,{as:"button",className:"dropdown-type",style:{backgroundColor:i},onClick:()=>e(n),children:b.jsx("span",{children:r})},Hi())})]})]})})},FG=()=>{const{filterTier:t,handleFilterTier:e}=Or();return b.jsx(VG,{filterTitle:"等級",filterZh:t.zhName,handleOnClick:e,data:Zk})},VG=x.memo(function({filterTitle:e,filterZh:n,handleOnClick:r,data:i}){const s={backgroundColor:"#17CCF0"};return b.jsx(b.Fragment,{children:b.jsxs(os,{children:[b.jsx(os.Toggle,{variant:"outline-myInfo",className:"button-hover",id:"t-dropdownBtnTier",children:b.jsxs("span",{children:[e," : ",n||"error"]})}),b.jsxs(os.Menu,{style:{width:"auto",height:"150px",overflowY:"auto"},children:[b.jsx(os.Item,{as:"button",className:"dropdown-type",style:s,onClick:()=>r(hg),children:b.jsx("span",{children:"全部"})}),i.map(o=>{const{zhName:l,bgColor:c}=o;return b.jsx(os.Item,{as:"button",className:"dropdown-type",onClick:()=>r(o),style:c===""?s:{backgroundColor:c},children:b.jsx("span",{children:l})},Hi())})]})]})})}),$G=({id:t})=>b.jsxs(b.Fragment,{children:[b.jsx(zA,{children:b.jsx(kG,{id:t})}),b.jsx(zA,{children:b.jsx(DG,{id:t})}),t===Gi&&b.jsx(MG,{}),t===Gi&&b.jsx(LG,{}),t===pd&&b.jsx(FG,{})]}),J2=x.createContext(),Z2="darkTheme",jG=()=>{const t=window.matchMedia("(prefers-color-scheme:dark)").matches;return localStorage.getItem(Z2)==="true"||t},BG=({children:t})=>{const[e,n]=x.useState(jG),r=()=>{const o=!e;n(o),localStorage.setItem(Z2,o)},i=e?"dark":"light",s=e?"white-50":"mySecondary";return x.useEffect(()=>{document.body.classList.toggle("bg-darkBg",e),document.body.classList.toggle("text-white-50",e)},[e]),b.jsx(J2.Provider,{value:{isDarkMode:e,handleIsDarkMode:r,textColor:s,bgColor:i},children:t})},va=()=>x.useContext(J2),UG=()=>{const{searchPokemon:t,handleSearchPokemon:e}=Or(),{bgColor:n}=va();return b.jsx(b.Fragment,{children:b.jsx(LH,{size:"sm",className:"search-btn",children:b.jsx(Yw.Control,{"data-bs-theme":n,className:"bg-body",type:"Search",placeholder:"🔍 Search","aria-label":"Search",value:t,onChange:r=>{e(r.target.value)}})})})},zG=({title:t,id:e})=>{const{bgColor:n,textColor:r}=va(),[i,s]=x.useState(!1);return b.jsxs("div",{className:"group-info",children:[b.jsxs("div",{children:[b.jsx("i",{"aria-controls":"collapse","aria-expanded":i,onClick:()=>s(!i),children:b.jsx(R8,{className:"btn setting-icon"})}),b.jsx(fN,{in:i,"data-bs-theme":n,children:b.jsx("div",{id:"collapse",children:b.jsx("div",{className:"card card-body",children:b.jsx($G,{id:e})})})})]}),b.jsx("span",{className:"title",children:t}),e===Gi&&b.jsx(UG,{})]})},qG=x.memo(zG);function WG(t){return dd({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"}}]})(t)}(()=>{var t={296:(i,s,o)=>{var l=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt,m=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g,y=typeof self=="object"&&self&&self.Object===Object&&self,v=m||y||Function("return this")(),E=Object.prototype.toString,R=Math.max,T=Math.min,I=function(){return v.Date.now()};function S(P){var O=typeof P;return!!P&&(O=="object"||O=="function")}function w(P){if(typeof P=="number")return P;if(function(N){return typeof N=="symbol"||function(K){return!!K&&typeof K=="object"}(N)&&E.call(N)=="[object Symbol]"}(P))return NaN;if(S(P)){var O=typeof P.valueOf=="function"?P.valueOf():P;P=S(O)?O+"":O}if(typeof P!="string")return P===0?P:+P;P=P.replace(l,"");var D=h.test(P);return D||f.test(P)?p(P.slice(2),D?2:8):c.test(P)?NaN:+P}i.exports=function(P,O,D){var N,K,Y,ie,he,we,Le=0,be=!1,Me=!1,Ne=!0;if(typeof P!="function")throw new TypeError("Expected a function");function G(Fe){var Ve=N,Oe=K;return N=K=void 0,Le=Fe,ie=P.apply(Oe,Ve)}function ue(Fe){var Ve=Fe-we;return we===void 0||Ve>=O||Ve<0||Me&&Fe-Le>=Y}function oe(){var Fe=I();if(ue(Fe))return Ee(Fe);he=setTimeout(oe,function(Ve){var Oe=O-(Ve-we);return Me?T(Oe,Y-(Ve-Le)):Oe}(Fe))}function Ee(Fe){return he=void 0,Ne&&N?G(Fe):(N=K=void 0,ie)}function Re(){var Fe=I(),Ve=ue(Fe);if(N=arguments,K=this,we=Fe,Ve){if(he===void 0)return function(Oe){return Le=Oe,he=setTimeout(oe,O),be?G(Oe):ie}(we);if(Me)return he=setTimeout(oe,O),G(we)}return he===void 0&&(he=setTimeout(oe,O)),ie}return O=w(O)||0,S(D)&&(be=!!D.leading,Y=(Me="maxWait"in D)?R(w(D.maxWait)||0,O):Y,Ne="trailing"in D?!!D.trailing:Ne),Re.cancel=function(){he!==void 0&&clearTimeout(he),Le=0,N=we=K=he=void 0},Re.flush=function(){return he===void 0?ie:Ee(I())},Re}},96:(i,s,o)=>{var l="Expected a function",c=NaN,h="[object Symbol]",f=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,y=/^0o[0-7]+$/i,v=parseInt,E=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g,R=typeof self=="object"&&self&&self.Object===Object&&self,T=E||R||Function("return this")(),I=Object.prototype.toString,S=Math.max,w=Math.min,P=function(){return T.Date.now()};function O(N){var K=typeof N;return!!N&&(K=="object"||K=="function")}function D(N){if(typeof N=="number")return N;if(function(ie){return typeof ie=="symbol"||function(he){return!!he&&typeof he=="object"}(ie)&&I.call(ie)==h}(N))return c;if(O(N)){var K=typeof N.valueOf=="function"?N.valueOf():N;N=O(K)?K+"":K}if(typeof N!="string")return N===0?N:+N;N=N.replace(f,"");var Y=m.test(N);return Y||y.test(N)?v(N.slice(2),Y?2:8):p.test(N)?c:+N}i.exports=function(N,K,Y){var ie=!0,he=!0;if(typeof N!="function")throw new TypeError(l);return O(Y)&&(ie="leading"in Y?!!Y.leading:ie,he="trailing"in Y?!!Y.trailing:he),function(we,Le,be){var Me,Ne,G,ue,oe,Ee,Re=0,Fe=!1,Ve=!1,Oe=!0;if(typeof we!="function")throw new TypeError(l);function Ze(ct){var xt=Me,wt=Ne;return Me=Ne=void 0,Re=ct,ue=we.apply(wt,xt)}function Jt(ct){var xt=ct-Ee;return Ee===void 0||xt>=Le||xt<0||Ve&&ct-Re>=G}function _t(){var ct=P();if(Jt(ct))return Ge(ct);oe=setTimeout(_t,function(xt){var wt=Le-(xt-Ee);return Ve?w(wt,G-(xt-Re)):wt}(ct))}function Ge(ct){return oe=void 0,Oe&&Me?Ze(ct):(Me=Ne=void 0,ue)}function Vt(){var ct=P(),xt=Jt(ct);if(Me=arguments,Ne=this,Ee=ct,xt){if(oe===void 0)return function(wt){return Re=wt,oe=setTimeout(_t,Le),Fe?Ze(wt):ue}(Ee);if(Ve)return oe=setTimeout(_t,Le),Ze(Ee)}return oe===void 0&&(oe=setTimeout(_t,Le)),ue}return Le=D(Le)||0,O(be)&&(Fe=!!be.leading,G=(Ve="maxWait"in be)?S(D(be.maxWait)||0,Le):G,Oe="trailing"in be?!!be.trailing:Oe),Vt.cancel=function(){oe!==void 0&&clearTimeout(oe),Re=0,Me=Ee=Ne=oe=void 0},Vt.flush=function(){return oe===void 0?ue:Ge(P())},Vt}(N,K,{leading:ie,maxWait:K,trailing:he})}},703:(i,s,o)=>{var l=o(414);function c(){}function h(){}h.resetWarningCache=c,i.exports=function(){function f(y,v,E,R,T,I){if(I!==l){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}function p(){return f}f.isRequired=f;var m={array:f,bigint:f,bool:f,func:f,number:f,object:f,string:f,symbol:f,any:f,arrayOf:p,element:f,elementType:f,instanceOf:p,node:f,objectOf:p,oneOf:p,oneOfType:p,shape:p,exact:p,checkPropTypes:h,resetWarningCache:c};return m.PropTypes=m,m}},697:(i,s,o)=>{i.exports=o(703)()},414:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function n(i){var s=e[i];if(s!==void 0)return s.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.n=i=>{var s=i&&i.__esModule?()=>i.default:()=>i;return n.d(s,{a:s}),s},n.d=(i,s)=>{for(var o in s)n.o(s,o)&&!n.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:s[o]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>kt,LazyLoadImage:()=>Zt,trackWindowScroll:()=>Ee});const i=x;var s=n.n(i),o=n(697);const l=j1;var c=n.n(l);function h(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function f(J){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},f(J)}function p(J,j){var se=Object.keys(J);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(J);j&&(ae=ae.filter(function(qe){return Object.getOwnPropertyDescriptor(J,qe).enumerable})),se.push.apply(se,ae)}return se}function m(J,j,se){return(j=v(j))in J?Object.defineProperty(J,j,{value:se,enumerable:!0,configurable:!0,writable:!0}):J[j]=se,J}function y(J,j){for(var se=0;se<j.length;se++){var ae=j[se];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(J,v(ae.key),ae)}}function v(J){var j=function(se,ae){if(f(se)!=="object"||se===null)return se;var qe=se[Symbol.toPrimitive];if(qe!==void 0){var We=qe.call(se,"string");if(f(We)!=="object")return We;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(se)}(J);return f(j)==="symbol"?j:String(j)}function E(J,j){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,ae){return se.__proto__=ae,se},E(J,j)}function R(J){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},R(J)}var T=function(J){J.forEach(function(j){j.isIntersecting&&j.target.onVisible()})},I={},S=function(J){(function(M,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(z&&z.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),z&&E(M,z)})(ot,J);var j,se,ae,qe,We=(ae=ot,qe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,z=R(ae);if(qe){var fe=R(this).constructor;M=Reflect.construct(z,arguments,fe)}else M=z.apply(this,arguments);return function(pe,me){if(me&&(f(me)==="object"||typeof me=="function"))return me;if(me!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}(pe)}(this,M)});function ot(M){var z;if(function(pe,me){if(!(pe instanceof me))throw new TypeError("Cannot call a class as a function")}(this,ot),(z=We.call(this,M)).supportsObserver=!M.scrollPosition&&M.useIntersectionObserver&&h(),z.supportsObserver){var fe=M.threshold;z.observer=function(pe){return I[pe]=I[pe]||new IntersectionObserver(T,{rootMargin:pe+"px"}),I[pe]}(fe)}return z}return j=ot,se=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,z=this.placeholder.getBoundingClientRect(),fe=c().findDOMNode(this.placeholder).style,pe=parseInt(fe.getPropertyValue("margin-left"),10)||0,me=parseInt(fe.getPropertyValue("margin-top"),10)||0;return{bottom:M.y+z.bottom+me,left:M.x+z.left+pe,right:M.x+z.right+pe,top:M.y+z.top+me}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var M=this.props,z=M.scrollPosition,fe=M.threshold,pe=this.getPlaceholderBoundingBox(z),me=z.y+window.innerHeight,nt=z.x,F=z.x+window.innerWidth,B=z.y;return B-fe<=pe.bottom&&me+fe>=pe.top&&nt-fe<=pe.right&&F+fe>=pe.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var M=this,z=this.props,fe=z.className,pe=z.height,me=z.placeholder,nt=z.style,F=z.width;if(me&&typeof me.type!="function")return s().cloneElement(me,{ref:function(H){return M.placeholder=H}});var B=function(H){for(var ce=1;ce<arguments.length;ce++){var ge=arguments[ce]!=null?arguments[ce]:{};ce%2?p(Object(ge),!0).forEach(function(Te){m(H,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(ge)):p(Object(ge)).forEach(function(Te){Object.defineProperty(H,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return H}({display:"inline-block"},nt);return F!==void 0&&(B.width=F),pe!==void 0&&(B.height=pe),s().createElement("span",{className:fe,ref:function(H){return M.placeholder=H},style:B},me)}}],se&&y(j.prototype,se),Object.defineProperty(j,"prototype",{writable:!1}),ot}(s().Component);S.propTypes={onVisible:o.PropTypes.func.isRequired,className:o.PropTypes.string,height:o.PropTypes.oneOfType([o.PropTypes.number,o.PropTypes.string]),placeholder:o.PropTypes.element,threshold:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool,scrollPosition:o.PropTypes.shape({x:o.PropTypes.number.isRequired,y:o.PropTypes.number.isRequired}),width:o.PropTypes.oneOfType([o.PropTypes.number,o.PropTypes.string])},S.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const w=S;var P=n(296),O=n.n(P),D=n(96),N=n.n(D),K=function(J){var j=getComputedStyle(J,null);return j.getPropertyValue("overflow")+j.getPropertyValue("overflow-y")+j.getPropertyValue("overflow-x")};const Y=function(J){if(!(J instanceof HTMLElement))return window;for(var j=J;j&&j instanceof HTMLElement;){if(/(scroll|auto)/.test(K(j)))return j;j=j.parentNode}return window};function ie(J){return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},ie(J)}var he=["delayMethod","delayTime"];function we(){return we=Object.assign?Object.assign.bind():function(J){for(var j=1;j<arguments.length;j++){var se=arguments[j];for(var ae in se)Object.prototype.hasOwnProperty.call(se,ae)&&(J[ae]=se[ae])}return J},we.apply(this,arguments)}function Le(J,j){for(var se=0;se<j.length;se++){var ae=j[se];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(J,(qe=function(We,ot){if(ie(We)!=="object"||We===null)return We;var M=We[Symbol.toPrimitive];if(M!==void 0){var z=M.call(We,"string");if(ie(z)!=="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(We)}(ae.key),ie(qe)==="symbol"?qe:String(qe)),ae)}var qe}function be(J,j){return be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,ae){return se.__proto__=ae,se},be(J,j)}function Me(J,j){if(j&&(ie(j)==="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ne(J)}function Ne(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function G(J){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},G(J)}var ue=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},oe=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const Ee=function(J){var j=function(se){(function(fe,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(pe&&pe.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),Object.defineProperty(fe,"prototype",{writable:!1}),pe&&be(fe,pe)})(z,se);var ae,qe,We,ot,M=(We=z,ot=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var fe,pe=G(We);if(ot){var me=G(this).constructor;fe=Reflect.construct(pe,arguments,me)}else fe=pe.apply(this,arguments);return Me(this,fe)});function z(fe){var pe;if(function(nt,F){if(!(nt instanceof F))throw new TypeError("Cannot call a class as a function")}(this,z),(pe=M.call(this,fe)).useIntersectionObserver=fe.useIntersectionObserver&&h(),pe.useIntersectionObserver)return Me(pe);var me=pe.onChangeScroll.bind(Ne(pe));return fe.delayMethod==="debounce"?pe.delayedScroll=O()(me,fe.delayTime):fe.delayMethod==="throttle"&&(pe.delayedScroll=N()(me,fe.delayTime)),pe.state={scrollPosition:{x:ue(),y:oe()}},pe.baseComponentRef=s().createRef(),pe}return ae=z,(qe=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||Y(c().findDOMNode(this.baseComponentRef.current))!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=Y(c().findDOMNode(this.baseComponentRef.current)),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:ue(),y:oe()}})}},{key:"render",value:function(){var fe=this.props,pe=(fe.delayMethod,fe.delayTime,function(nt,F){if(nt==null)return{};var B,H,ce=function(Te,je){if(Te==null)return{};var Ae,Ce,It={},Lt=Object.keys(Te);for(Ce=0;Ce<Lt.length;Ce++)Ae=Lt[Ce],je.indexOf(Ae)>=0||(It[Ae]=Te[Ae]);return It}(nt,F);if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(nt);for(H=0;H<ge.length;H++)B=ge[H],F.indexOf(B)>=0||Object.prototype.propertyIsEnumerable.call(nt,B)&&(ce[B]=nt[B])}return ce}(fe,he)),me=this.useIntersectionObserver?null:this.state.scrollPosition;return s().createElement(J,we({forwardRef:this.baseComponentRef,scrollPosition:me},pe))}}])&&Le(ae.prototype,qe),Object.defineProperty(ae,"prototype",{writable:!1}),z}(s().Component);return j.propTypes={delayMethod:o.PropTypes.oneOf(["debounce","throttle"]),delayTime:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool},j.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},j};function Re(J){return Re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},Re(J)}function Fe(J,j){for(var se=0;se<j.length;se++){var ae=j[se];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(J,(qe=function(We,ot){if(Re(We)!=="object"||We===null)return We;var M=We[Symbol.toPrimitive];if(M!==void 0){var z=M.call(We,"string");if(Re(z)!=="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(We)}(ae.key),Re(qe)==="symbol"?qe:String(qe)),ae)}var qe}function Ve(J,j){return Ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,ae){return se.__proto__=ae,se},Ve(J,j)}function Oe(J){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},Oe(J)}var Ze=function(J){(function(M,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(z&&z.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),z&&Ve(M,z)})(ot,J);var j,se,ae,qe,We=(ae=ot,qe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,z=Oe(ae);if(qe){var fe=Oe(this).constructor;M=Reflect.construct(z,arguments,fe)}else M=z.apply(this,arguments);return function(pe,me){if(me&&(Re(me)==="object"||typeof me=="function"))return me;if(me!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}(pe)}(this,M)});function ot(M){return function(z,fe){if(!(z instanceof fe))throw new TypeError("Cannot call a class as a function")}(this,ot),We.call(this,M)}return j=ot,(se=[{key:"render",value:function(){return s().createElement(w,this.props)}}])&&Fe(j.prototype,se),Object.defineProperty(j,"prototype",{writable:!1}),ot}(s().Component);const Jt=Ee(Ze);function _t(J){return _t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},_t(J)}function Ge(J,j){for(var se=0;se<j.length;se++){var ae=j[se];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(J,(qe=function(We,ot){if(_t(We)!=="object"||We===null)return We;var M=We[Symbol.toPrimitive];if(M!==void 0){var z=M.call(We,"string");if(_t(z)!=="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(We)}(ae.key),_t(qe)==="symbol"?qe:String(qe)),ae)}var qe}function Vt(J,j){return Vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,ae){return se.__proto__=ae,se},Vt(J,j)}function ct(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function xt(J){return xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},xt(J)}var wt=function(J){(function(M,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(z&&z.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),z&&Vt(M,z)})(ot,J);var j,se,ae,qe,We=(ae=ot,qe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,z=xt(ae);if(qe){var fe=xt(this).constructor;M=Reflect.construct(z,arguments,fe)}else M=z.apply(this,arguments);return function(pe,me){if(me&&(_t(me)==="object"||typeof me=="function"))return me;if(me!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ct(pe)}(this,M)});function ot(M){var z;(function(F,B){if(!(F instanceof B))throw new TypeError("Cannot call a class as a function")})(this,ot),z=We.call(this,M);var fe=M.afterLoad,pe=M.beforeLoad,me=M.scrollPosition,nt=M.visibleByDefault;return z.state={visible:nt},nt&&(pe(),fe()),z.onVisible=z.onVisible.bind(ct(z)),z.isScrollTracked=!!(me&&Number.isFinite(me.x)&&me.x>=0&&Number.isFinite(me.y)&&me.y>=0),z}return j=ot,(se=[{key:"componentDidUpdate",value:function(M,z){z.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var M=this.props,z=M.className,fe=M.delayMethod,pe=M.delayTime,me=M.height,nt=M.placeholder,F=M.scrollPosition,B=M.style,H=M.threshold,ce=M.useIntersectionObserver,ge=M.width;return this.isScrollTracked||ce&&h()?s().createElement(w,{className:z,height:me,onVisible:this.onVisible,placeholder:nt,scrollPosition:F,style:B,threshold:H,useIntersectionObserver:ce,width:ge}):s().createElement(Jt,{className:z,delayMethod:fe,delayTime:pe,height:me,onVisible:this.onVisible,placeholder:nt,style:B,threshold:H,width:ge})}}])&&Ge(j.prototype,se),Object.defineProperty(j,"prototype",{writable:!1}),ot}(s().Component);wt.propTypes={afterLoad:o.PropTypes.func,beforeLoad:o.PropTypes.func,useIntersectionObserver:o.PropTypes.bool,visibleByDefault:o.PropTypes.bool},wt.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const kt=wt;function et(J){return et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},et(J)}var sr=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function zt(J,j){var se=Object.keys(J);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(J);j&&(ae=ae.filter(function(qe){return Object.getOwnPropertyDescriptor(J,qe).enumerable})),se.push.apply(se,ae)}return se}function Hr(J){for(var j=1;j<arguments.length;j++){var se=arguments[j]!=null?arguments[j]:{};j%2?zt(Object(se),!0).forEach(function(ae){Di(J,ae,se[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(se)):zt(Object(se)).forEach(function(ae){Object.defineProperty(J,ae,Object.getOwnPropertyDescriptor(se,ae))})}return J}function Di(J,j,se){return(j=kn(j))in J?Object.defineProperty(J,j,{value:se,enumerable:!0,configurable:!0,writable:!0}):J[j]=se,J}function Nt(){return Nt=Object.assign?Object.assign.bind():function(J){for(var j=1;j<arguments.length;j++){var se=arguments[j];for(var ae in se)Object.prototype.hasOwnProperty.call(se,ae)&&(J[ae]=se[ae])}return J},Nt.apply(this,arguments)}function qt(J,j){for(var se=0;se<j.length;se++){var ae=j[se];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(J,kn(ae.key),ae)}}function kn(J){var j=function(se,ae){if(et(se)!=="object"||se===null)return se;var qe=se[Symbol.toPrimitive];if(qe!==void 0){var We=qe.call(se,"string");if(et(We)!=="object")return We;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(se)}(J);return et(j)==="symbol"?j:String(j)}function pn(J,j){return pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,ae){return se.__proto__=ae,se},pn(J,j)}function Nn(J){return Nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},Nn(J)}var Ke=function(J){(function(M,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(z&&z.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),z&&pn(M,z)})(ot,J);var j,se,ae,qe,We=(ae=ot,qe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,z=Nn(ae);if(qe){var fe=Nn(this).constructor;M=Reflect.construct(z,arguments,fe)}else M=z.apply(this,arguments);return function(pe,me){if(me&&(et(me)==="object"||typeof me=="function"))return me;if(me!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}(pe)}(this,M)});function ot(M){var z;return function(fe,pe){if(!(fe instanceof pe))throw new TypeError("Cannot call a class as a function")}(this,ot),(z=We.call(this,M)).state={loaded:!1},z}return j=ot,(se=[{key:"onImageLoad",value:function(){var M=this;return this.state.loaded?null:function(z){M.props.onLoad(z),M.props.afterLoad(),M.setState({loaded:!0})}}},{key:"getImg",value:function(){var M=this.props,z=(M.afterLoad,M.beforeLoad,M.delayMethod,M.delayTime,M.effect,M.placeholder,M.placeholderSrc,M.scrollPosition,M.threshold,M.useIntersectionObserver,M.visibleByDefault,M.wrapperClassName,M.wrapperProps,function(fe,pe){if(fe==null)return{};var me,nt,F=function(H,ce){if(H==null)return{};var ge,Te,je={},Ae=Object.keys(H);for(Te=0;Te<Ae.length;Te++)ge=Ae[Te],ce.indexOf(ge)>=0||(je[ge]=H[ge]);return je}(fe,pe);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(fe);for(nt=0;nt<B.length;nt++)me=B[nt],pe.indexOf(me)>=0||Object.prototype.propertyIsEnumerable.call(fe,me)&&(F[me]=fe[me])}return F}(M,sr));return s().createElement("img",Nt({},z,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var M=this.props,z=M.beforeLoad,fe=M.className,pe=M.delayMethod,me=M.delayTime,nt=M.height,F=M.placeholder,B=M.scrollPosition,H=M.style,ce=M.threshold,ge=M.useIntersectionObserver,Te=M.visibleByDefault,je=M.width;return s().createElement(kt,{beforeLoad:z,className:fe,delayMethod:pe,delayTime:me,height:nt,placeholder:F,scrollPosition:B,style:H,threshold:ce,useIntersectionObserver:ge,visibleByDefault:Te,width:je},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(M){var z=this.props,fe=z.effect,pe=z.height,me=z.placeholderSrc,nt=z.width,F=z.wrapperClassName,B=z.wrapperProps,H=this.state.loaded,ce=H?" lazy-load-image-loaded":"",ge=H||!me?{}:{backgroundImage:"url(".concat(me,")"),backgroundSize:"100% 100%"};return s().createElement("span",Nt({className:F+" lazy-load-image-background "+fe+ce,style:Hr(Hr({},ge),{},{color:"transparent",display:"inline-block",height:pe,width:nt})},B),M)}},{key:"render",value:function(){var M=this.props,z=M.effect,fe=M.placeholderSrc,pe=M.visibleByDefault,me=M.wrapperClassName,nt=M.wrapperProps,F=this.getLazyLoadImage();return(z||fe)&&!pe||me||nt?this.getWrappedLazyLoadImage(F):F}}])&&qt(j.prototype,se),Object.defineProperty(j,"prototype",{writable:!1}),ot}(s().Component);Ke.propTypes={onLoad:o.PropTypes.func,afterLoad:o.PropTypes.func,beforeLoad:o.PropTypes.func,delayMethod:o.PropTypes.string,delayTime:o.PropTypes.number,effect:o.PropTypes.string,placeholderSrc:o.PropTypes.string,threshold:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool,visibleByDefault:o.PropTypes.bool,wrapperClassName:o.PropTypes.string,wrapperProps:o.PropTypes.object},Ke.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const Zt=Ke})()})();const eL="error",KG="white",tL="black",Uu="not found",HG=x.memo(({bgColor:t,zhName:e})=>b.jsx("a",{href:"#",children:b.jsx("span",{style:{color:t??KG},children:e??eL})})),GG=x.memo(({bgColor:t})=>b.jsx("a",{href:"#",children:b.jsx("span",{className:"type",style:{backgroundColor:t??tL},children:" "})})),nL=x.memo(({bgColor:t,zhName:e,enName:n})=>b.jsx(pu,{to:`type/${n}`,children:b.jsx("span",{className:"type",style:{backgroundColor:t??tL},children:e??eL})})),QG=x.memo(({item:t,isActive:e,handleClick:n,children:r})=>b.jsxs("div",{className:`characterText ${e}`,onClick:()=>n(t),children:[b.jsx("span",{className:"characterName",children:(t==null?void 0:t.zhName)??Uu}),r]})),YG=x.memo(({item:t,isActive:e,handleClick:n,children:r})=>b.jsxs("div",{style:{display:"flex"},children:[r,b.jsx("div",{style:{position:"relative"},children:b.jsx("img",{src:(t==null?void 0:t.sprite)??"",alt:(t==null?void 0:t.zhName)??Uu,title:(t==null?void 0:t.zhName)??Uu,className:`characterImg ${e}`,onClick:()=>n(t),loading:"lazy"})})]})),XG=({item:t,isActive:e,handleClick:n,children:r})=>b.jsxs("div",{className:`characterImgText ${e}`,onClick:()=>n(t),children:[b.jsxs("div",{children:[b.jsx("span",{className:"characterName",children:(t==null?void 0:t.zhName)??Uu}),r]}),b.jsx("img",{src:(t==null?void 0:t.sprite)??"",alt:(t==null?void 0:t.zhName)??Uu,title:(t==null?void 0:t.zhName)??Uu})]});var _g={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */_g.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",h=500,f="__lodash_placeholder__",p=1,m=2,y=4,v=1,E=2,R=1,T=2,I=4,S=8,w=16,P=32,O=64,D=128,N=256,K=512,Y=30,ie="...",he=800,we=16,Le=1,be=2,Me=3,Ne=1/0,G=9007199254740991,ue=17976931348623157e292,oe=0/0,Ee=4294967295,Re=Ee-1,Fe=Ee>>>1,Ve=[["ary",D],["bind",R],["bindKey",T],["curry",S],["curryRight",w],["flip",K],["partial",P],["partialRight",O],["rearg",N]],Oe="[object Arguments]",Ze="[object Array]",Jt="[object AsyncFunction]",_t="[object Boolean]",Ge="[object Date]",Vt="[object DOMException]",ct="[object Error]",xt="[object Function]",wt="[object GeneratorFunction]",kt="[object Map]",et="[object Number]",sr="[object Null]",zt="[object Object]",Hr="[object Promise]",Di="[object Proxy]",Nt="[object RegExp]",qt="[object Set]",kn="[object String]",pn="[object Symbol]",Nn="[object Undefined]",Ke="[object WeakMap]",Zt="[object WeakSet]",J="[object ArrayBuffer]",j="[object DataView]",se="[object Float32Array]",ae="[object Float64Array]",qe="[object Int8Array]",We="[object Int16Array]",ot="[object Int32Array]",M="[object Uint8Array]",z="[object Uint8ClampedArray]",fe="[object Uint16Array]",pe="[object Uint32Array]",me=/\b__p \+= '';/g,nt=/\b(__p \+=) '' \+/g,F=/(__e\(.*?\)|\b__t\)) \+\n'';/g,B=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,ce=RegExp(B.source),ge=RegExp(H.source),Te=/<%-([\s\S]+?)%>/g,je=/<%([\s\S]+?)%>/g,Ae=/<%=([\s\S]+?)%>/g,Ce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,It=/^\w*$/,Lt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,at=/[\\^$.*+?()[\]{}|]/g,At=RegExp(at.source),sn=/^\s+/,Ss=/\s/,xs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ba=/\{\n\/\* \[wrapped with (.+)\] \*/,Uc=/,? & /,ki=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ji=/[()=,{}\[\]\/\s]/,Ul=/\\(\\)?/g,zc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zl=/\w*$/,qc=/^[-+]0x[0-9a-f]+$/i,Rt=/^0b[01]+$/i,Gr=/^\[object .+?Constructor\]$/,Zi=/^0o[0-7]+$/i,on=/^(?:0|[1-9]\d*)$/,Aa=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ca=/($^)/,pv=/['\n\r\u2028\u2029\\]/g,zd="\\ud800-\\udfff",N$="\\u0300-\\u036f",L$="\\ufe20-\\ufe2f",M$="\\u20d0-\\u20ff",sS=N$+L$+M$,oS="\\u2700-\\u27bf",aS="a-z\\xdf-\\xf6\\xf8-\\xff",F$="\\xac\\xb1\\xd7\\xf7",V$="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$$="\\u2000-\\u206f",j$=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",lS="A-Z\\xc0-\\xd6\\xd8-\\xde",uS="\\ufe0e\\ufe0f",cS=F$+V$+$$+j$,mv="['’]",B$="["+zd+"]",hS="["+cS+"]",qd="["+sS+"]",fS="\\d+",U$="["+oS+"]",dS="["+aS+"]",pS="[^"+zd+cS+fS+oS+aS+lS+"]",gv="\\ud83c[\\udffb-\\udfff]",z$="(?:"+qd+"|"+gv+")",mS="[^"+zd+"]",yv="(?:\\ud83c[\\udde6-\\uddff]){2}",vv="[\\ud800-\\udbff][\\udc00-\\udfff]",ql="["+lS+"]",gS="\\u200d",yS="(?:"+dS+"|"+pS+")",q$="(?:"+ql+"|"+pS+")",vS="(?:"+mv+"(?:d|ll|m|re|s|t|ve))?",_S="(?:"+mv+"(?:D|LL|M|RE|S|T|VE))?",wS=z$+"?",ES="["+uS+"]?",W$="(?:"+gS+"(?:"+[mS,yv,vv].join("|")+")"+ES+wS+")*",K$="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",H$="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",TS=ES+wS+W$,G$="(?:"+[U$,yv,vv].join("|")+")"+TS,Q$="(?:"+[mS+qd+"?",qd,yv,vv,B$].join("|")+")",Y$=RegExp(mv,"g"),X$=RegExp(qd,"g"),_v=RegExp(gv+"(?="+gv+")|"+Q$+TS,"g"),J$=RegExp([ql+"?"+dS+"+"+vS+"(?="+[hS,ql,"$"].join("|")+")",q$+"+"+_S+"(?="+[hS,ql+yS,"$"].join("|")+")",ql+"?"+yS+"+"+vS,ql+"+"+_S,H$,K$,fS,G$].join("|"),"g"),Z$=RegExp("["+gS+zd+sS+uS+"]"),ej=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tj=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nj=-1,Wt={};Wt[se]=Wt[ae]=Wt[qe]=Wt[We]=Wt[ot]=Wt[M]=Wt[z]=Wt[fe]=Wt[pe]=!0,Wt[Oe]=Wt[Ze]=Wt[J]=Wt[_t]=Wt[j]=Wt[Ge]=Wt[ct]=Wt[xt]=Wt[kt]=Wt[et]=Wt[zt]=Wt[Nt]=Wt[qt]=Wt[kn]=Wt[Ke]=!1;var $t={};$t[Oe]=$t[Ze]=$t[J]=$t[j]=$t[_t]=$t[Ge]=$t[se]=$t[ae]=$t[qe]=$t[We]=$t[ot]=$t[kt]=$t[et]=$t[zt]=$t[Nt]=$t[qt]=$t[kn]=$t[pn]=$t[M]=$t[z]=$t[fe]=$t[pe]=!0,$t[ct]=$t[xt]=$t[Ke]=!1;var rj={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ij={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sj={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},oj={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},aj=parseFloat,lj=parseInt,IS=typeof oh=="object"&&oh&&oh.Object===Object&&oh,uj=typeof self=="object"&&self&&self.Object===Object&&self,Yn=IS||uj||Function("return this")(),wv=e&&!e.nodeType&&e,Pa=wv&&!0&&t&&!t.nodeType&&t,SS=Pa&&Pa.exports===wv,Ev=SS&&IS.process,ci=function(){try{var V=Pa&&Pa.require&&Pa.require("util").types;return V||Ev&&Ev.binding&&Ev.binding("util")}catch{}}(),xS=ci&&ci.isArrayBuffer,RS=ci&&ci.isDate,bS=ci&&ci.isMap,AS=ci&&ci.isRegExp,CS=ci&&ci.isSet,PS=ci&&ci.isTypedArray;function Qr(V,Q,q){switch(q.length){case 0:return V.call(Q);case 1:return V.call(Q,q[0]);case 2:return V.call(Q,q[0],q[1]);case 3:return V.call(Q,q[0],q[1],q[2])}return V.apply(Q,q)}function cj(V,Q,q,Se){for(var Qe=-1,St=V==null?0:V.length;++Qe<St;){var Ln=V[Qe];Q(Se,Ln,q(Ln),V)}return Se}function hi(V,Q){for(var q=-1,Se=V==null?0:V.length;++q<Se&&Q(V[q],q,V)!==!1;);return V}function hj(V,Q){for(var q=V==null?0:V.length;q--&&Q(V[q],q,V)!==!1;);return V}function OS(V,Q){for(var q=-1,Se=V==null?0:V.length;++q<Se;)if(!Q(V[q],q,V))return!1;return!0}function go(V,Q){for(var q=-1,Se=V==null?0:V.length,Qe=0,St=[];++q<Se;){var Ln=V[q];Q(Ln,q,V)&&(St[Qe++]=Ln)}return St}function Wd(V,Q){var q=V==null?0:V.length;return!!q&&Wl(V,Q,0)>-1}function Tv(V,Q,q){for(var Se=-1,Qe=V==null?0:V.length;++Se<Qe;)if(q(Q,V[Se]))return!0;return!1}function en(V,Q){for(var q=-1,Se=V==null?0:V.length,Qe=Array(Se);++q<Se;)Qe[q]=Q(V[q],q,V);return Qe}function yo(V,Q){for(var q=-1,Se=Q.length,Qe=V.length;++q<Se;)V[Qe+q]=Q[q];return V}function Iv(V,Q,q,Se){var Qe=-1,St=V==null?0:V.length;for(Se&&St&&(q=V[++Qe]);++Qe<St;)q=Q(q,V[Qe],Qe,V);return q}function fj(V,Q,q,Se){var Qe=V==null?0:V.length;for(Se&&Qe&&(q=V[--Qe]);Qe--;)q=Q(q,V[Qe],Qe,V);return q}function Sv(V,Q){for(var q=-1,Se=V==null?0:V.length;++q<Se;)if(Q(V[q],q,V))return!0;return!1}var dj=xv("length");function pj(V){return V.split("")}function mj(V){return V.match(ki)||[]}function DS(V,Q,q){var Se;return q(V,function(Qe,St,Ln){if(Q(Qe,St,Ln))return Se=St,!1}),Se}function Kd(V,Q,q,Se){for(var Qe=V.length,St=q+(Se?1:-1);Se?St--:++St<Qe;)if(Q(V[St],St,V))return St;return-1}function Wl(V,Q,q){return Q===Q?bj(V,Q,q):Kd(V,kS,q)}function gj(V,Q,q,Se){for(var Qe=q-1,St=V.length;++Qe<St;)if(Se(V[Qe],Q))return Qe;return-1}function kS(V){return V!==V}function NS(V,Q){var q=V==null?0:V.length;return q?bv(V,Q)/q:oe}function xv(V){return function(Q){return Q==null?n:Q[V]}}function Rv(V){return function(Q){return V==null?n:V[Q]}}function LS(V,Q,q,Se,Qe){return Qe(V,function(St,Ln,Ft){q=Se?(Se=!1,St):Q(q,St,Ln,Ft)}),q}function yj(V,Q){var q=V.length;for(V.sort(Q);q--;)V[q]=V[q].value;return V}function bv(V,Q){for(var q,Se=-1,Qe=V.length;++Se<Qe;){var St=Q(V[Se]);St!==n&&(q=q===n?St:q+St)}return q}function Av(V,Q){for(var q=-1,Se=Array(V);++q<V;)Se[q]=Q(q);return Se}function vj(V,Q){return en(Q,function(q){return[q,V[q]]})}function MS(V){return V&&V.slice(0,jS(V)+1).replace(sn,"")}function Yr(V){return function(Q){return V(Q)}}function Cv(V,Q){return en(Q,function(q){return V[q]})}function Wc(V,Q){return V.has(Q)}function FS(V,Q){for(var q=-1,Se=V.length;++q<Se&&Wl(Q,V[q],0)>-1;);return q}function VS(V,Q){for(var q=V.length;q--&&Wl(Q,V[q],0)>-1;);return q}function _j(V,Q){for(var q=V.length,Se=0;q--;)V[q]===Q&&++Se;return Se}var wj=Rv(rj),Ej=Rv(ij);function Tj(V){return"\\"+oj[V]}function Ij(V,Q){return V==null?n:V[Q]}function Kl(V){return Z$.test(V)}function Sj(V){return ej.test(V)}function xj(V){for(var Q,q=[];!(Q=V.next()).done;)q.push(Q.value);return q}function Pv(V){var Q=-1,q=Array(V.size);return V.forEach(function(Se,Qe){q[++Q]=[Qe,Se]}),q}function $S(V,Q){return function(q){return V(Q(q))}}function vo(V,Q){for(var q=-1,Se=V.length,Qe=0,St=[];++q<Se;){var Ln=V[q];(Ln===Q||Ln===f)&&(V[q]=f,St[Qe++]=q)}return St}function Hd(V){var Q=-1,q=Array(V.size);return V.forEach(function(Se){q[++Q]=Se}),q}function Rj(V){var Q=-1,q=Array(V.size);return V.forEach(function(Se){q[++Q]=[Se,Se]}),q}function bj(V,Q,q){for(var Se=q-1,Qe=V.length;++Se<Qe;)if(V[Se]===Q)return Se;return-1}function Aj(V,Q,q){for(var Se=q+1;Se--;)if(V[Se]===Q)return Se;return Se}function Hl(V){return Kl(V)?Pj(V):dj(V)}function Ni(V){return Kl(V)?Oj(V):pj(V)}function jS(V){for(var Q=V.length;Q--&&Ss.test(V.charAt(Q)););return Q}var Cj=Rv(sj);function Pj(V){for(var Q=_v.lastIndex=0;_v.test(V);)++Q;return Q}function Oj(V){return V.match(_v)||[]}function Dj(V){return V.match(J$)||[]}var kj=function V(Q){Q=Q==null?Yn:Gl.defaults(Yn.Object(),Q,Gl.pick(Yn,tj));var q=Q.Array,Se=Q.Date,Qe=Q.Error,St=Q.Function,Ln=Q.Math,Ft=Q.Object,Ov=Q.RegExp,Nj=Q.String,fi=Q.TypeError,Gd=q.prototype,Lj=St.prototype,Ql=Ft.prototype,Qd=Q["__core-js_shared__"],Yd=Lj.toString,Ct=Ql.hasOwnProperty,Mj=0,BS=function(){var a=/[^.]+$/.exec(Qd&&Qd.keys&&Qd.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Xd=Ql.toString,Fj=Yd.call(Ft),Vj=Yn._,$j=Ov("^"+Yd.call(Ct).replace(at,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jd=SS?Q.Buffer:n,_o=Q.Symbol,Zd=Q.Uint8Array,US=Jd?Jd.allocUnsafe:n,ep=$S(Ft.getPrototypeOf,Ft),zS=Ft.create,qS=Ql.propertyIsEnumerable,tp=Gd.splice,WS=_o?_o.isConcatSpreadable:n,Kc=_o?_o.iterator:n,Oa=_o?_o.toStringTag:n,np=function(){try{var a=Ma(Ft,"defineProperty");return a({},"",{}),a}catch{}}(),jj=Q.clearTimeout!==Yn.clearTimeout&&Q.clearTimeout,Bj=Se&&Se.now!==Yn.Date.now&&Se.now,Uj=Q.setTimeout!==Yn.setTimeout&&Q.setTimeout,rp=Ln.ceil,ip=Ln.floor,Dv=Ft.getOwnPropertySymbols,zj=Jd?Jd.isBuffer:n,KS=Q.isFinite,qj=Gd.join,Wj=$S(Ft.keys,Ft),Mn=Ln.max,or=Ln.min,Kj=Se.now,Hj=Q.parseInt,HS=Ln.random,Gj=Gd.reverse,kv=Ma(Q,"DataView"),Hc=Ma(Q,"Map"),Nv=Ma(Q,"Promise"),Yl=Ma(Q,"Set"),Gc=Ma(Q,"WeakMap"),Qc=Ma(Ft,"create"),sp=Gc&&new Gc,Xl={},Qj=Fa(kv),Yj=Fa(Hc),Xj=Fa(Nv),Jj=Fa(Yl),Zj=Fa(Gc),op=_o?_o.prototype:n,Yc=op?op.valueOf:n,GS=op?op.toString:n;function A(a){if(mn(a)&&!Xe(a)&&!(a instanceof ht)){if(a instanceof di)return a;if(Ct.call(a,"__wrapped__"))return Qx(a)}return new di(a)}var Jl=function(){function a(){}return function(u){if(!an(u))return{};if(zS)return zS(u);a.prototype=u;var d=new a;return a.prototype=n,d}}();function ap(){}function di(a,u){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}A.templateSettings={escape:Te,evaluate:je,interpolate:Ae,variable:"",imports:{_:A}},A.prototype=ap.prototype,A.prototype.constructor=A,di.prototype=Jl(ap.prototype),di.prototype.constructor=di;function ht(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ee,this.__views__=[]}function eB(){var a=new ht(this.__wrapped__);return a.__actions__=Dr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Dr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Dr(this.__views__),a}function tB(){if(this.__filtered__){var a=new ht(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function nB(){var a=this.__wrapped__.value(),u=this.__dir__,d=Xe(a),g=u<0,_=d?a.length:0,C=pU(0,_,this.__views__),k=C.start,L=C.end,$=L-k,X=g?L:k-1,Z=this.__iteratees__,ne=Z.length,ye=0,Pe=or($,this.__takeCount__);if(!d||!g&&_==$&&Pe==$)return vx(a,this.__actions__);var Ue=[];e:for(;$--&&ye<Pe;){X+=u;for(var it=-1,ze=a[X];++it<ne;){var lt=Z[it],pt=lt.iteratee,Zr=lt.type,vr=pt(ze);if(Zr==be)ze=vr;else if(!vr){if(Zr==Le)continue e;break e}}Ue[ye++]=ze}return Ue}ht.prototype=Jl(ap.prototype),ht.prototype.constructor=ht;function Da(a){var u=-1,d=a==null?0:a.length;for(this.clear();++u<d;){var g=a[u];this.set(g[0],g[1])}}function rB(){this.__data__=Qc?Qc(null):{},this.size=0}function iB(a){var u=this.has(a)&&delete this.__data__[a];return this.size-=u?1:0,u}function sB(a){var u=this.__data__;if(Qc){var d=u[a];return d===c?n:d}return Ct.call(u,a)?u[a]:n}function oB(a){var u=this.__data__;return Qc?u[a]!==n:Ct.call(u,a)}function aB(a,u){var d=this.__data__;return this.size+=this.has(a)?0:1,d[a]=Qc&&u===n?c:u,this}Da.prototype.clear=rB,Da.prototype.delete=iB,Da.prototype.get=sB,Da.prototype.has=oB,Da.prototype.set=aB;function Rs(a){var u=-1,d=a==null?0:a.length;for(this.clear();++u<d;){var g=a[u];this.set(g[0],g[1])}}function lB(){this.__data__=[],this.size=0}function uB(a){var u=this.__data__,d=lp(u,a);if(d<0)return!1;var g=u.length-1;return d==g?u.pop():tp.call(u,d,1),--this.size,!0}function cB(a){var u=this.__data__,d=lp(u,a);return d<0?n:u[d][1]}function hB(a){return lp(this.__data__,a)>-1}function fB(a,u){var d=this.__data__,g=lp(d,a);return g<0?(++this.size,d.push([a,u])):d[g][1]=u,this}Rs.prototype.clear=lB,Rs.prototype.delete=uB,Rs.prototype.get=cB,Rs.prototype.has=hB,Rs.prototype.set=fB;function bs(a){var u=-1,d=a==null?0:a.length;for(this.clear();++u<d;){var g=a[u];this.set(g[0],g[1])}}function dB(){this.size=0,this.__data__={hash:new Da,map:new(Hc||Rs),string:new Da}}function pB(a){var u=wp(this,a).delete(a);return this.size-=u?1:0,u}function mB(a){return wp(this,a).get(a)}function gB(a){return wp(this,a).has(a)}function yB(a,u){var d=wp(this,a),g=d.size;return d.set(a,u),this.size+=d.size==g?0:1,this}bs.prototype.clear=dB,bs.prototype.delete=pB,bs.prototype.get=mB,bs.prototype.has=gB,bs.prototype.set=yB;function ka(a){var u=-1,d=a==null?0:a.length;for(this.__data__=new bs;++u<d;)this.add(a[u])}function vB(a){return this.__data__.set(a,c),this}function _B(a){return this.__data__.has(a)}ka.prototype.add=ka.prototype.push=vB,ka.prototype.has=_B;function Li(a){var u=this.__data__=new Rs(a);this.size=u.size}function wB(){this.__data__=new Rs,this.size=0}function EB(a){var u=this.__data__,d=u.delete(a);return this.size=u.size,d}function TB(a){return this.__data__.get(a)}function IB(a){return this.__data__.has(a)}function SB(a,u){var d=this.__data__;if(d instanceof Rs){var g=d.__data__;if(!Hc||g.length<i-1)return g.push([a,u]),this.size=++d.size,this;d=this.__data__=new bs(g)}return d.set(a,u),this.size=d.size,this}Li.prototype.clear=wB,Li.prototype.delete=EB,Li.prototype.get=TB,Li.prototype.has=IB,Li.prototype.set=SB;function QS(a,u){var d=Xe(a),g=!d&&Va(a),_=!d&&!g&&So(a),C=!d&&!g&&!_&&nu(a),k=d||g||_||C,L=k?Av(a.length,Nj):[],$=L.length;for(var X in a)(u||Ct.call(a,X))&&!(k&&(X=="length"||_&&(X=="offset"||X=="parent")||C&&(X=="buffer"||X=="byteLength"||X=="byteOffset")||Os(X,$)))&&L.push(X);return L}function YS(a){var u=a.length;return u?a[Wv(0,u-1)]:n}function xB(a,u){return Ep(Dr(a),Na(u,0,a.length))}function RB(a){return Ep(Dr(a))}function Lv(a,u,d){(d!==n&&!Mi(a[u],d)||d===n&&!(u in a))&&As(a,u,d)}function Xc(a,u,d){var g=a[u];(!(Ct.call(a,u)&&Mi(g,d))||d===n&&!(u in a))&&As(a,u,d)}function lp(a,u){for(var d=a.length;d--;)if(Mi(a[d][0],u))return d;return-1}function bB(a,u,d,g){return wo(a,function(_,C,k){u(g,_,d(_),k)}),g}function XS(a,u){return a&&ts(u,jn(u),a)}function AB(a,u){return a&&ts(u,Nr(u),a)}function As(a,u,d){u=="__proto__"&&np?np(a,u,{configurable:!0,enumerable:!0,value:d,writable:!0}):a[u]=d}function Mv(a,u){for(var d=-1,g=u.length,_=q(g),C=a==null;++d<g;)_[d]=C?n:g_(a,u[d]);return _}function Na(a,u,d){return a===a&&(d!==n&&(a=a<=d?a:d),u!==n&&(a=a>=u?a:u)),a}function pi(a,u,d,g,_,C){var k,L=u&p,$=u&m,X=u&y;if(d&&(k=_?d(a,g,_,C):d(a)),k!==n)return k;if(!an(a))return a;var Z=Xe(a);if(Z){if(k=gU(a),!L)return Dr(a,k)}else{var ne=ar(a),ye=ne==xt||ne==wt;if(So(a))return Ex(a,L);if(ne==zt||ne==Oe||ye&&!_){if(k=$||ye?{}:jx(a),!L)return $?sU(a,AB(k,a)):iU(a,XS(k,a))}else{if(!$t[ne])return _?a:{};k=yU(a,ne,L)}}C||(C=new Li);var Pe=C.get(a);if(Pe)return Pe;C.set(a,k),mR(a)?a.forEach(function(ze){k.add(pi(ze,u,d,ze,a,C))}):dR(a)&&a.forEach(function(ze,lt){k.set(lt,pi(ze,u,d,lt,a,C))});var Ue=X?$?n_:t_:$?Nr:jn,it=Z?n:Ue(a);return hi(it||a,function(ze,lt){it&&(lt=ze,ze=a[lt]),Xc(k,lt,pi(ze,u,d,lt,a,C))}),k}function CB(a){var u=jn(a);return function(d){return JS(d,a,u)}}function JS(a,u,d){var g=d.length;if(a==null)return!g;for(a=Ft(a);g--;){var _=d[g],C=u[_],k=a[_];if(k===n&&!(_ in a)||!C(k))return!1}return!0}function ZS(a,u,d){if(typeof a!="function")throw new fi(o);return ih(function(){a.apply(n,d)},u)}function Jc(a,u,d,g){var _=-1,C=Wd,k=!0,L=a.length,$=[],X=u.length;if(!L)return $;d&&(u=en(u,Yr(d))),g?(C=Tv,k=!1):u.length>=i&&(C=Wc,k=!1,u=new ka(u));e:for(;++_<L;){var Z=a[_],ne=d==null?Z:d(Z);if(Z=g||Z!==0?Z:0,k&&ne===ne){for(var ye=X;ye--;)if(u[ye]===ne)continue e;$.push(Z)}else C(u,ne,g)||$.push(Z)}return $}var wo=Rx(es),ex=Rx(Vv,!0);function PB(a,u){var d=!0;return wo(a,function(g,_,C){return d=!!u(g,_,C),d}),d}function up(a,u,d){for(var g=-1,_=a.length;++g<_;){var C=a[g],k=u(C);if(k!=null&&(L===n?k===k&&!Jr(k):d(k,L)))var L=k,$=C}return $}function OB(a,u,d,g){var _=a.length;for(d=rt(d),d<0&&(d=-d>_?0:_+d),g=g===n||g>_?_:rt(g),g<0&&(g+=_),g=d>g?0:yR(g);d<g;)a[d++]=u;return a}function tx(a,u){var d=[];return wo(a,function(g,_,C){u(g,_,C)&&d.push(g)}),d}function Xn(a,u,d,g,_){var C=-1,k=a.length;for(d||(d=_U),_||(_=[]);++C<k;){var L=a[C];u>0&&d(L)?u>1?Xn(L,u-1,d,g,_):yo(_,L):g||(_[_.length]=L)}return _}var Fv=bx(),nx=bx(!0);function es(a,u){return a&&Fv(a,u,jn)}function Vv(a,u){return a&&nx(a,u,jn)}function cp(a,u){return go(u,function(d){return Ds(a[d])})}function La(a,u){u=To(u,a);for(var d=0,g=u.length;a!=null&&d<g;)a=a[ns(u[d++])];return d&&d==g?a:n}function rx(a,u,d){var g=u(a);return Xe(a)?g:yo(g,d(a))}function gr(a){return a==null?a===n?Nn:sr:Oa&&Oa in Ft(a)?dU(a):RU(a)}function $v(a,u){return a>u}function DB(a,u){return a!=null&&Ct.call(a,u)}function kB(a,u){return a!=null&&u in Ft(a)}function NB(a,u,d){return a>=or(u,d)&&a<Mn(u,d)}function jv(a,u,d){for(var g=d?Tv:Wd,_=a[0].length,C=a.length,k=C,L=q(C),$=1/0,X=[];k--;){var Z=a[k];k&&u&&(Z=en(Z,Yr(u))),$=or(Z.length,$),L[k]=!d&&(u||_>=120&&Z.length>=120)?new ka(k&&Z):n}Z=a[0];var ne=-1,ye=L[0];e:for(;++ne<_&&X.length<$;){var Pe=Z[ne],Ue=u?u(Pe):Pe;if(Pe=d||Pe!==0?Pe:0,!(ye?Wc(ye,Ue):g(X,Ue,d))){for(k=C;--k;){var it=L[k];if(!(it?Wc(it,Ue):g(a[k],Ue,d)))continue e}ye&&ye.push(Ue),X.push(Pe)}}return X}function LB(a,u,d,g){return es(a,function(_,C,k){u(g,d(_),C,k)}),g}function Zc(a,u,d){u=To(u,a),a=qx(a,u);var g=a==null?a:a[ns(gi(u))];return g==null?n:Qr(g,a,d)}function ix(a){return mn(a)&&gr(a)==Oe}function MB(a){return mn(a)&&gr(a)==J}function FB(a){return mn(a)&&gr(a)==Ge}function eh(a,u,d,g,_){return a===u?!0:a==null||u==null||!mn(a)&&!mn(u)?a!==a&&u!==u:VB(a,u,d,g,eh,_)}function VB(a,u,d,g,_,C){var k=Xe(a),L=Xe(u),$=k?Ze:ar(a),X=L?Ze:ar(u);$=$==Oe?zt:$,X=X==Oe?zt:X;var Z=$==zt,ne=X==zt,ye=$==X;if(ye&&So(a)){if(!So(u))return!1;k=!0,Z=!1}if(ye&&!Z)return C||(C=new Li),k||nu(a)?Fx(a,u,d,g,_,C):hU(a,u,$,d,g,_,C);if(!(d&v)){var Pe=Z&&Ct.call(a,"__wrapped__"),Ue=ne&&Ct.call(u,"__wrapped__");if(Pe||Ue){var it=Pe?a.value():a,ze=Ue?u.value():u;return C||(C=new Li),_(it,ze,d,g,C)}}return ye?(C||(C=new Li),fU(a,u,d,g,_,C)):!1}function $B(a){return mn(a)&&ar(a)==kt}function Bv(a,u,d,g){var _=d.length,C=_,k=!g;if(a==null)return!C;for(a=Ft(a);_--;){var L=d[_];if(k&&L[2]?L[1]!==a[L[0]]:!(L[0]in a))return!1}for(;++_<C;){L=d[_];var $=L[0],X=a[$],Z=L[1];if(k&&L[2]){if(X===n&&!($ in a))return!1}else{var ne=new Li;if(g)var ye=g(X,Z,$,a,u,ne);if(!(ye===n?eh(Z,X,v|E,g,ne):ye))return!1}}return!0}function sx(a){if(!an(a)||EU(a))return!1;var u=Ds(a)?$j:Gr;return u.test(Fa(a))}function jB(a){return mn(a)&&gr(a)==Nt}function BB(a){return mn(a)&&ar(a)==qt}function UB(a){return mn(a)&&bp(a.length)&&!!Wt[gr(a)]}function ox(a){return typeof a=="function"?a:a==null?Lr:typeof a=="object"?Xe(a)?ux(a[0],a[1]):lx(a):AR(a)}function Uv(a){if(!rh(a))return Wj(a);var u=[];for(var d in Ft(a))Ct.call(a,d)&&d!="constructor"&&u.push(d);return u}function zB(a){if(!an(a))return xU(a);var u=rh(a),d=[];for(var g in a)g=="constructor"&&(u||!Ct.call(a,g))||d.push(g);return d}function zv(a,u){return a<u}function ax(a,u){var d=-1,g=kr(a)?q(a.length):[];return wo(a,function(_,C,k){g[++d]=u(_,C,k)}),g}function lx(a){var u=i_(a);return u.length==1&&u[0][2]?Ux(u[0][0],u[0][1]):function(d){return d===a||Bv(d,a,u)}}function ux(a,u){return o_(a)&&Bx(u)?Ux(ns(a),u):function(d){var g=g_(d,a);return g===n&&g===u?y_(d,a):eh(u,g,v|E)}}function hp(a,u,d,g,_){a!==u&&Fv(u,function(C,k){if(_||(_=new Li),an(C))qB(a,u,k,d,hp,g,_);else{var L=g?g(l_(a,k),C,k+"",a,u,_):n;L===n&&(L=C),Lv(a,k,L)}},Nr)}function qB(a,u,d,g,_,C,k){var L=l_(a,d),$=l_(u,d),X=k.get($);if(X){Lv(a,d,X);return}var Z=C?C(L,$,d+"",a,u,k):n,ne=Z===n;if(ne){var ye=Xe($),Pe=!ye&&So($),Ue=!ye&&!Pe&&nu($);Z=$,ye||Pe||Ue?Xe(L)?Z=L:In(L)?Z=Dr(L):Pe?(ne=!1,Z=Ex($,!0)):Ue?(ne=!1,Z=Tx($,!0)):Z=[]:sh($)||Va($)?(Z=L,Va(L)?Z=vR(L):(!an(L)||Ds(L))&&(Z=jx($))):ne=!1}ne&&(k.set($,Z),_(Z,$,g,C,k),k.delete($)),Lv(a,d,Z)}function cx(a,u){var d=a.length;if(d)return u+=u<0?d:0,Os(u,d)?a[u]:n}function hx(a,u,d){u.length?u=en(u,function(C){return Xe(C)?function(k){return La(k,C.length===1?C[0]:C)}:C}):u=[Lr];var g=-1;u=en(u,Yr(Be()));var _=ax(a,function(C,k,L){var $=en(u,function(X){return X(C)});return{criteria:$,index:++g,value:C}});return yj(_,function(C,k){return rU(C,k,d)})}function WB(a,u){return fx(a,u,function(d,g){return y_(a,g)})}function fx(a,u,d){for(var g=-1,_=u.length,C={};++g<_;){var k=u[g],L=La(a,k);d(L,k)&&th(C,To(k,a),L)}return C}function KB(a){return function(u){return La(u,a)}}function qv(a,u,d,g){var _=g?gj:Wl,C=-1,k=u.length,L=a;for(a===u&&(u=Dr(u)),d&&(L=en(a,Yr(d)));++C<k;)for(var $=0,X=u[C],Z=d?d(X):X;($=_(L,Z,$,g))>-1;)L!==a&&tp.call(L,$,1),tp.call(a,$,1);return a}function dx(a,u){for(var d=a?u.length:0,g=d-1;d--;){var _=u[d];if(d==g||_!==C){var C=_;Os(_)?tp.call(a,_,1):Gv(a,_)}}return a}function Wv(a,u){return a+ip(HS()*(u-a+1))}function HB(a,u,d,g){for(var _=-1,C=Mn(rp((u-a)/(d||1)),0),k=q(C);C--;)k[g?C:++_]=a,a+=d;return k}function Kv(a,u){var d="";if(!a||u<1||u>G)return d;do u%2&&(d+=a),u=ip(u/2),u&&(a+=a);while(u);return d}function st(a,u){return u_(zx(a,u,Lr),a+"")}function GB(a){return YS(ru(a))}function QB(a,u){var d=ru(a);return Ep(d,Na(u,0,d.length))}function th(a,u,d,g){if(!an(a))return a;u=To(u,a);for(var _=-1,C=u.length,k=C-1,L=a;L!=null&&++_<C;){var $=ns(u[_]),X=d;if($==="__proto__"||$==="constructor"||$==="prototype")return a;if(_!=k){var Z=L[$];X=g?g(Z,$,L):n,X===n&&(X=an(Z)?Z:Os(u[_+1])?[]:{})}Xc(L,$,X),L=L[$]}return a}var px=sp?function(a,u){return sp.set(a,u),a}:Lr,YB=np?function(a,u){return np(a,"toString",{configurable:!0,enumerable:!1,value:__(u),writable:!0})}:Lr;function XB(a){return Ep(ru(a))}function mi(a,u,d){var g=-1,_=a.length;u<0&&(u=-u>_?0:_+u),d=d>_?_:d,d<0&&(d+=_),_=u>d?0:d-u>>>0,u>>>=0;for(var C=q(_);++g<_;)C[g]=a[g+u];return C}function JB(a,u){var d;return wo(a,function(g,_,C){return d=u(g,_,C),!d}),!!d}function fp(a,u,d){var g=0,_=a==null?g:a.length;if(typeof u=="number"&&u===u&&_<=Fe){for(;g<_;){var C=g+_>>>1,k=a[C];k!==null&&!Jr(k)&&(d?k<=u:k<u)?g=C+1:_=C}return _}return Hv(a,u,Lr,d)}function Hv(a,u,d,g){var _=0,C=a==null?0:a.length;if(C===0)return 0;u=d(u);for(var k=u!==u,L=u===null,$=Jr(u),X=u===n;_<C;){var Z=ip((_+C)/2),ne=d(a[Z]),ye=ne!==n,Pe=ne===null,Ue=ne===ne,it=Jr(ne);if(k)var ze=g||Ue;else X?ze=Ue&&(g||ye):L?ze=Ue&&ye&&(g||!Pe):$?ze=Ue&&ye&&!Pe&&(g||!it):Pe||it?ze=!1:ze=g?ne<=u:ne<u;ze?_=Z+1:C=Z}return or(C,Re)}function mx(a,u){for(var d=-1,g=a.length,_=0,C=[];++d<g;){var k=a[d],L=u?u(k):k;if(!d||!Mi(L,$)){var $=L;C[_++]=k===0?0:k}}return C}function gx(a){return typeof a=="number"?a:Jr(a)?oe:+a}function Xr(a){if(typeof a=="string")return a;if(Xe(a))return en(a,Xr)+"";if(Jr(a))return GS?GS.call(a):"";var u=a+"";return u=="0"&&1/a==-Ne?"-0":u}function Eo(a,u,d){var g=-1,_=Wd,C=a.length,k=!0,L=[],$=L;if(d)k=!1,_=Tv;else if(C>=i){var X=u?null:uU(a);if(X)return Hd(X);k=!1,_=Wc,$=new ka}else $=u?[]:L;e:for(;++g<C;){var Z=a[g],ne=u?u(Z):Z;if(Z=d||Z!==0?Z:0,k&&ne===ne){for(var ye=$.length;ye--;)if($[ye]===ne)continue e;u&&$.push(ne),L.push(Z)}else _($,ne,d)||($!==L&&$.push(ne),L.push(Z))}return L}function Gv(a,u){return u=To(u,a),a=qx(a,u),a==null||delete a[ns(gi(u))]}function yx(a,u,d,g){return th(a,u,d(La(a,u)),g)}function dp(a,u,d,g){for(var _=a.length,C=g?_:-1;(g?C--:++C<_)&&u(a[C],C,a););return d?mi(a,g?0:C,g?C+1:_):mi(a,g?C+1:0,g?_:C)}function vx(a,u){var d=a;return d instanceof ht&&(d=d.value()),Iv(u,function(g,_){return _.func.apply(_.thisArg,yo([g],_.args))},d)}function Qv(a,u,d){var g=a.length;if(g<2)return g?Eo(a[0]):[];for(var _=-1,C=q(g);++_<g;)for(var k=a[_],L=-1;++L<g;)L!=_&&(C[_]=Jc(C[_]||k,a[L],u,d));return Eo(Xn(C,1),u,d)}function _x(a,u,d){for(var g=-1,_=a.length,C=u.length,k={};++g<_;){var L=g<C?u[g]:n;d(k,a[g],L)}return k}function Yv(a){return In(a)?a:[]}function Xv(a){return typeof a=="function"?a:Lr}function To(a,u){return Xe(a)?a:o_(a,u)?[a]:Gx(bt(a))}var ZB=st;function Io(a,u,d){var g=a.length;return d=d===n?g:d,!u&&d>=g?a:mi(a,u,d)}var wx=jj||function(a){return Yn.clearTimeout(a)};function Ex(a,u){if(u)return a.slice();var d=a.length,g=US?US(d):new a.constructor(d);return a.copy(g),g}function Jv(a){var u=new a.constructor(a.byteLength);return new Zd(u).set(new Zd(a)),u}function eU(a,u){var d=u?Jv(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.byteLength)}function tU(a){var u=new a.constructor(a.source,zl.exec(a));return u.lastIndex=a.lastIndex,u}function nU(a){return Yc?Ft(Yc.call(a)):{}}function Tx(a,u){var d=u?Jv(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.length)}function Ix(a,u){if(a!==u){var d=a!==n,g=a===null,_=a===a,C=Jr(a),k=u!==n,L=u===null,$=u===u,X=Jr(u);if(!L&&!X&&!C&&a>u||C&&k&&$&&!L&&!X||g&&k&&$||!d&&$||!_)return 1;if(!g&&!C&&!X&&a<u||X&&d&&_&&!g&&!C||L&&d&&_||!k&&_||!$)return-1}return 0}function rU(a,u,d){for(var g=-1,_=a.criteria,C=u.criteria,k=_.length,L=d.length;++g<k;){var $=Ix(_[g],C[g]);if($){if(g>=L)return $;var X=d[g];return $*(X=="desc"?-1:1)}}return a.index-u.index}function Sx(a,u,d,g){for(var _=-1,C=a.length,k=d.length,L=-1,$=u.length,X=Mn(C-k,0),Z=q($+X),ne=!g;++L<$;)Z[L]=u[L];for(;++_<k;)(ne||_<C)&&(Z[d[_]]=a[_]);for(;X--;)Z[L++]=a[_++];return Z}function xx(a,u,d,g){for(var _=-1,C=a.length,k=-1,L=d.length,$=-1,X=u.length,Z=Mn(C-L,0),ne=q(Z+X),ye=!g;++_<Z;)ne[_]=a[_];for(var Pe=_;++$<X;)ne[Pe+$]=u[$];for(;++k<L;)(ye||_<C)&&(ne[Pe+d[k]]=a[_++]);return ne}function Dr(a,u){var d=-1,g=a.length;for(u||(u=q(g));++d<g;)u[d]=a[d];return u}function ts(a,u,d,g){var _=!d;d||(d={});for(var C=-1,k=u.length;++C<k;){var L=u[C],$=g?g(d[L],a[L],L,d,a):n;$===n&&($=a[L]),_?As(d,L,$):Xc(d,L,$)}return d}function iU(a,u){return ts(a,s_(a),u)}function sU(a,u){return ts(a,Vx(a),u)}function pp(a,u){return function(d,g){var _=Xe(d)?cj:bB,C=u?u():{};return _(d,a,Be(g,2),C)}}function Zl(a){return st(function(u,d){var g=-1,_=d.length,C=_>1?d[_-1]:n,k=_>2?d[2]:n;for(C=a.length>3&&typeof C=="function"?(_--,C):n,k&&yr(d[0],d[1],k)&&(C=_<3?n:C,_=1),u=Ft(u);++g<_;){var L=d[g];L&&a(u,L,g,C)}return u})}function Rx(a,u){return function(d,g){if(d==null)return d;if(!kr(d))return a(d,g);for(var _=d.length,C=u?_:-1,k=Ft(d);(u?C--:++C<_)&&g(k[C],C,k)!==!1;);return d}}function bx(a){return function(u,d,g){for(var _=-1,C=Ft(u),k=g(u),L=k.length;L--;){var $=k[a?L:++_];if(d(C[$],$,C)===!1)break}return u}}function oU(a,u,d){var g=u&R,_=nh(a);function C(){var k=this&&this!==Yn&&this instanceof C?_:a;return k.apply(g?d:this,arguments)}return C}function Ax(a){return function(u){u=bt(u);var d=Kl(u)?Ni(u):n,g=d?d[0]:u.charAt(0),_=d?Io(d,1).join(""):u.slice(1);return g[a]()+_}}function eu(a){return function(u){return Iv(RR(xR(u).replace(Y$,"")),a,"")}}function nh(a){return function(){var u=arguments;switch(u.length){case 0:return new a;case 1:return new a(u[0]);case 2:return new a(u[0],u[1]);case 3:return new a(u[0],u[1],u[2]);case 4:return new a(u[0],u[1],u[2],u[3]);case 5:return new a(u[0],u[1],u[2],u[3],u[4]);case 6:return new a(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new a(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var d=Jl(a.prototype),g=a.apply(d,u);return an(g)?g:d}}function aU(a,u,d){var g=nh(a);function _(){for(var C=arguments.length,k=q(C),L=C,$=tu(_);L--;)k[L]=arguments[L];var X=C<3&&k[0]!==$&&k[C-1]!==$?[]:vo(k,$);if(C-=X.length,C<d)return kx(a,u,mp,_.placeholder,n,k,X,n,n,d-C);var Z=this&&this!==Yn&&this instanceof _?g:a;return Qr(Z,this,k)}return _}function Cx(a){return function(u,d,g){var _=Ft(u);if(!kr(u)){var C=Be(d,3);u=jn(u),d=function(L){return C(_[L],L,_)}}var k=a(u,d,g);return k>-1?_[C?u[k]:k]:n}}function Px(a){return Ps(function(u){var d=u.length,g=d,_=di.prototype.thru;for(a&&u.reverse();g--;){var C=u[g];if(typeof C!="function")throw new fi(o);if(_&&!k&&_p(C)=="wrapper")var k=new di([],!0)}for(g=k?g:d;++g<d;){C=u[g];var L=_p(C),$=L=="wrapper"?r_(C):n;$&&a_($[0])&&$[1]==(D|S|P|N)&&!$[4].length&&$[9]==1?k=k[_p($[0])].apply(k,$[3]):k=C.length==1&&a_(C)?k[L]():k.thru(C)}return function(){var X=arguments,Z=X[0];if(k&&X.length==1&&Xe(Z))return k.plant(Z).value();for(var ne=0,ye=d?u[ne].apply(this,X):Z;++ne<d;)ye=u[ne].call(this,ye);return ye}})}function mp(a,u,d,g,_,C,k,L,$,X){var Z=u&D,ne=u&R,ye=u&T,Pe=u&(S|w),Ue=u&K,it=ye?n:nh(a);function ze(){for(var lt=arguments.length,pt=q(lt),Zr=lt;Zr--;)pt[Zr]=arguments[Zr];if(Pe)var vr=tu(ze),ei=_j(pt,vr);if(g&&(pt=Sx(pt,g,_,Pe)),C&&(pt=xx(pt,C,k,Pe)),lt-=ei,Pe&&lt<X){var Sn=vo(pt,vr);return kx(a,u,mp,ze.placeholder,d,pt,Sn,L,$,X-lt)}var Fi=ne?d:this,Ns=ye?Fi[a]:a;return lt=pt.length,L?pt=bU(pt,L):Ue&&lt>1&&pt.reverse(),Z&&$<lt&&(pt.length=$),this&&this!==Yn&&this instanceof ze&&(Ns=it||nh(Ns)),Ns.apply(Fi,pt)}return ze}function Ox(a,u){return function(d,g){return LB(d,a,u(g),{})}}function gp(a,u){return function(d,g){var _;if(d===n&&g===n)return u;if(d!==n&&(_=d),g!==n){if(_===n)return g;typeof d=="string"||typeof g=="string"?(d=Xr(d),g=Xr(g)):(d=gx(d),g=gx(g)),_=a(d,g)}return _}}function Zv(a){return Ps(function(u){return u=en(u,Yr(Be())),st(function(d){var g=this;return a(u,function(_){return Qr(_,g,d)})})})}function yp(a,u){u=u===n?" ":Xr(u);var d=u.length;if(d<2)return d?Kv(u,a):u;var g=Kv(u,rp(a/Hl(u)));return Kl(u)?Io(Ni(g),0,a).join(""):g.slice(0,a)}function lU(a,u,d,g){var _=u&R,C=nh(a);function k(){for(var L=-1,$=arguments.length,X=-1,Z=g.length,ne=q(Z+$),ye=this&&this!==Yn&&this instanceof k?C:a;++X<Z;)ne[X]=g[X];for(;$--;)ne[X++]=arguments[++L];return Qr(ye,_?d:this,ne)}return k}function Dx(a){return function(u,d,g){return g&&typeof g!="number"&&yr(u,d,g)&&(d=g=n),u=ks(u),d===n?(d=u,u=0):d=ks(d),g=g===n?u<d?1:-1:ks(g),HB(u,d,g,a)}}function vp(a){return function(u,d){return typeof u=="string"&&typeof d=="string"||(u=yi(u),d=yi(d)),a(u,d)}}function kx(a,u,d,g,_,C,k,L,$,X){var Z=u&S,ne=Z?k:n,ye=Z?n:k,Pe=Z?C:n,Ue=Z?n:C;u|=Z?P:O,u&=~(Z?O:P),u&I||(u&=~(R|T));var it=[a,u,_,Pe,ne,Ue,ye,L,$,X],ze=d.apply(n,it);return a_(a)&&Wx(ze,it),ze.placeholder=g,Kx(ze,a,u)}function e_(a){var u=Ln[a];return function(d,g){if(d=yi(d),g=g==null?0:or(rt(g),292),g&&KS(d)){var _=(bt(d)+"e").split("e"),C=u(_[0]+"e"+(+_[1]+g));return _=(bt(C)+"e").split("e"),+(_[0]+"e"+(+_[1]-g))}return u(d)}}var uU=Yl&&1/Hd(new Yl([,-0]))[1]==Ne?function(a){return new Yl(a)}:T_;function Nx(a){return function(u){var d=ar(u);return d==kt?Pv(u):d==qt?Rj(u):vj(u,a(u))}}function Cs(a,u,d,g,_,C,k,L){var $=u&T;if(!$&&typeof a!="function")throw new fi(o);var X=g?g.length:0;if(X||(u&=~(P|O),g=_=n),k=k===n?k:Mn(rt(k),0),L=L===n?L:rt(L),X-=_?_.length:0,u&O){var Z=g,ne=_;g=_=n}var ye=$?n:r_(a),Pe=[a,u,d,g,_,Z,ne,C,k,L];if(ye&&SU(Pe,ye),a=Pe[0],u=Pe[1],d=Pe[2],g=Pe[3],_=Pe[4],L=Pe[9]=Pe[9]===n?$?0:a.length:Mn(Pe[9]-X,0),!L&&u&(S|w)&&(u&=~(S|w)),!u||u==R)var Ue=oU(a,u,d);else u==S||u==w?Ue=aU(a,u,L):(u==P||u==(R|P))&&!_.length?Ue=lU(a,u,d,g):Ue=mp.apply(n,Pe);var it=ye?px:Wx;return Kx(it(Ue,Pe),a,u)}function Lx(a,u,d,g){return a===n||Mi(a,Ql[d])&&!Ct.call(g,d)?u:a}function Mx(a,u,d,g,_,C){return an(a)&&an(u)&&(C.set(u,a),hp(a,u,n,Mx,C),C.delete(u)),a}function cU(a){return sh(a)?n:a}function Fx(a,u,d,g,_,C){var k=d&v,L=a.length,$=u.length;if(L!=$&&!(k&&$>L))return!1;var X=C.get(a),Z=C.get(u);if(X&&Z)return X==u&&Z==a;var ne=-1,ye=!0,Pe=d&E?new ka:n;for(C.set(a,u),C.set(u,a);++ne<L;){var Ue=a[ne],it=u[ne];if(g)var ze=k?g(it,Ue,ne,u,a,C):g(Ue,it,ne,a,u,C);if(ze!==n){if(ze)continue;ye=!1;break}if(Pe){if(!Sv(u,function(lt,pt){if(!Wc(Pe,pt)&&(Ue===lt||_(Ue,lt,d,g,C)))return Pe.push(pt)})){ye=!1;break}}else if(!(Ue===it||_(Ue,it,d,g,C))){ye=!1;break}}return C.delete(a),C.delete(u),ye}function hU(a,u,d,g,_,C,k){switch(d){case j:if(a.byteLength!=u.byteLength||a.byteOffset!=u.byteOffset)return!1;a=a.buffer,u=u.buffer;case J:return!(a.byteLength!=u.byteLength||!C(new Zd(a),new Zd(u)));case _t:case Ge:case et:return Mi(+a,+u);case ct:return a.name==u.name&&a.message==u.message;case Nt:case kn:return a==u+"";case kt:var L=Pv;case qt:var $=g&v;if(L||(L=Hd),a.size!=u.size&&!$)return!1;var X=k.get(a);if(X)return X==u;g|=E,k.set(a,u);var Z=Fx(L(a),L(u),g,_,C,k);return k.delete(a),Z;case pn:if(Yc)return Yc.call(a)==Yc.call(u)}return!1}function fU(a,u,d,g,_,C){var k=d&v,L=t_(a),$=L.length,X=t_(u),Z=X.length;if($!=Z&&!k)return!1;for(var ne=$;ne--;){var ye=L[ne];if(!(k?ye in u:Ct.call(u,ye)))return!1}var Pe=C.get(a),Ue=C.get(u);if(Pe&&Ue)return Pe==u&&Ue==a;var it=!0;C.set(a,u),C.set(u,a);for(var ze=k;++ne<$;){ye=L[ne];var lt=a[ye],pt=u[ye];if(g)var Zr=k?g(pt,lt,ye,u,a,C):g(lt,pt,ye,a,u,C);if(!(Zr===n?lt===pt||_(lt,pt,d,g,C):Zr)){it=!1;break}ze||(ze=ye=="constructor")}if(it&&!ze){var vr=a.constructor,ei=u.constructor;vr!=ei&&"constructor"in a&&"constructor"in u&&!(typeof vr=="function"&&vr instanceof vr&&typeof ei=="function"&&ei instanceof ei)&&(it=!1)}return C.delete(a),C.delete(u),it}function Ps(a){return u_(zx(a,n,Jx),a+"")}function t_(a){return rx(a,jn,s_)}function n_(a){return rx(a,Nr,Vx)}var r_=sp?function(a){return sp.get(a)}:T_;function _p(a){for(var u=a.name+"",d=Xl[u],g=Ct.call(Xl,u)?d.length:0;g--;){var _=d[g],C=_.func;if(C==null||C==a)return _.name}return u}function tu(a){var u=Ct.call(A,"placeholder")?A:a;return u.placeholder}function Be(){var a=A.iteratee||w_;return a=a===w_?ox:a,arguments.length?a(arguments[0],arguments[1]):a}function wp(a,u){var d=a.__data__;return wU(u)?d[typeof u=="string"?"string":"hash"]:d.map}function i_(a){for(var u=jn(a),d=u.length;d--;){var g=u[d],_=a[g];u[d]=[g,_,Bx(_)]}return u}function Ma(a,u){var d=Ij(a,u);return sx(d)?d:n}function dU(a){var u=Ct.call(a,Oa),d=a[Oa];try{a[Oa]=n;var g=!0}catch{}var _=Xd.call(a);return g&&(u?a[Oa]=d:delete a[Oa]),_}var s_=Dv?function(a){return a==null?[]:(a=Ft(a),go(Dv(a),function(u){return qS.call(a,u)}))}:I_,Vx=Dv?function(a){for(var u=[];a;)yo(u,s_(a)),a=ep(a);return u}:I_,ar=gr;(kv&&ar(new kv(new ArrayBuffer(1)))!=j||Hc&&ar(new Hc)!=kt||Nv&&ar(Nv.resolve())!=Hr||Yl&&ar(new Yl)!=qt||Gc&&ar(new Gc)!=Ke)&&(ar=function(a){var u=gr(a),d=u==zt?a.constructor:n,g=d?Fa(d):"";if(g)switch(g){case Qj:return j;case Yj:return kt;case Xj:return Hr;case Jj:return qt;case Zj:return Ke}return u});function pU(a,u,d){for(var g=-1,_=d.length;++g<_;){var C=d[g],k=C.size;switch(C.type){case"drop":a+=k;break;case"dropRight":u-=k;break;case"take":u=or(u,a+k);break;case"takeRight":a=Mn(a,u-k);break}}return{start:a,end:u}}function mU(a){var u=a.match(ba);return u?u[1].split(Uc):[]}function $x(a,u,d){u=To(u,a);for(var g=-1,_=u.length,C=!1;++g<_;){var k=ns(u[g]);if(!(C=a!=null&&d(a,k)))break;a=a[k]}return C||++g!=_?C:(_=a==null?0:a.length,!!_&&bp(_)&&Os(k,_)&&(Xe(a)||Va(a)))}function gU(a){var u=a.length,d=new a.constructor(u);return u&&typeof a[0]=="string"&&Ct.call(a,"index")&&(d.index=a.index,d.input=a.input),d}function jx(a){return typeof a.constructor=="function"&&!rh(a)?Jl(ep(a)):{}}function yU(a,u,d){var g=a.constructor;switch(u){case J:return Jv(a);case _t:case Ge:return new g(+a);case j:return eU(a,d);case se:case ae:case qe:case We:case ot:case M:case z:case fe:case pe:return Tx(a,d);case kt:return new g;case et:case kn:return new g(a);case Nt:return tU(a);case qt:return new g;case pn:return nU(a)}}function vU(a,u){var d=u.length;if(!d)return a;var g=d-1;return u[g]=(d>1?"& ":"")+u[g],u=u.join(d>2?", ":" "),a.replace(xs,`{
/* [wrapped with `+u+`] */
`)}function _U(a){return Xe(a)||Va(a)||!!(WS&&a&&a[WS])}function Os(a,u){var d=typeof a;return u=u??G,!!u&&(d=="number"||d!="symbol"&&on.test(a))&&a>-1&&a%1==0&&a<u}function yr(a,u,d){if(!an(d))return!1;var g=typeof u;return(g=="number"?kr(d)&&Os(u,d.length):g=="string"&&u in d)?Mi(d[u],a):!1}function o_(a,u){if(Xe(a))return!1;var d=typeof a;return d=="number"||d=="symbol"||d=="boolean"||a==null||Jr(a)?!0:It.test(a)||!Ce.test(a)||u!=null&&a in Ft(u)}function wU(a){var u=typeof a;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?a!=="__proto__":a===null}function a_(a){var u=_p(a),d=A[u];if(typeof d!="function"||!(u in ht.prototype))return!1;if(a===d)return!0;var g=r_(d);return!!g&&a===g[0]}function EU(a){return!!BS&&BS in a}var TU=Qd?Ds:S_;function rh(a){var u=a&&a.constructor,d=typeof u=="function"&&u.prototype||Ql;return a===d}function Bx(a){return a===a&&!an(a)}function Ux(a,u){return function(d){return d==null?!1:d[a]===u&&(u!==n||a in Ft(d))}}function IU(a){var u=xp(a,function(g){return d.size===h&&d.clear(),g}),d=u.cache;return u}function SU(a,u){var d=a[1],g=u[1],_=d|g,C=_<(R|T|D),k=g==D&&d==S||g==D&&d==N&&a[7].length<=u[8]||g==(D|N)&&u[7].length<=u[8]&&d==S;if(!(C||k))return a;g&R&&(a[2]=u[2],_|=d&R?0:I);var L=u[3];if(L){var $=a[3];a[3]=$?Sx($,L,u[4]):L,a[4]=$?vo(a[3],f):u[4]}return L=u[5],L&&($=a[5],a[5]=$?xx($,L,u[6]):L,a[6]=$?vo(a[5],f):u[6]),L=u[7],L&&(a[7]=L),g&D&&(a[8]=a[8]==null?u[8]:or(a[8],u[8])),a[9]==null&&(a[9]=u[9]),a[0]=u[0],a[1]=_,a}function xU(a){var u=[];if(a!=null)for(var d in Ft(a))u.push(d);return u}function RU(a){return Xd.call(a)}function zx(a,u,d){return u=Mn(u===n?a.length-1:u,0),function(){for(var g=arguments,_=-1,C=Mn(g.length-u,0),k=q(C);++_<C;)k[_]=g[u+_];_=-1;for(var L=q(u+1);++_<u;)L[_]=g[_];return L[u]=d(k),Qr(a,this,L)}}function qx(a,u){return u.length<2?a:La(a,mi(u,0,-1))}function bU(a,u){for(var d=a.length,g=or(u.length,d),_=Dr(a);g--;){var C=u[g];a[g]=Os(C,d)?_[C]:n}return a}function l_(a,u){if(!(u==="constructor"&&typeof a[u]=="function")&&u!="__proto__")return a[u]}var Wx=Hx(px),ih=Uj||function(a,u){return Yn.setTimeout(a,u)},u_=Hx(YB);function Kx(a,u,d){var g=u+"";return u_(a,vU(g,AU(mU(g),d)))}function Hx(a){var u=0,d=0;return function(){var g=Kj(),_=we-(g-d);if(d=g,_>0){if(++u>=he)return arguments[0]}else u=0;return a.apply(n,arguments)}}function Ep(a,u){var d=-1,g=a.length,_=g-1;for(u=u===n?g:u;++d<u;){var C=Wv(d,_),k=a[C];a[C]=a[d],a[d]=k}return a.length=u,a}var Gx=IU(function(a){var u=[];return a.charCodeAt(0)===46&&u.push(""),a.replace(Lt,function(d,g,_,C){u.push(_?C.replace(Ul,"$1"):g||d)}),u});function ns(a){if(typeof a=="string"||Jr(a))return a;var u=a+"";return u=="0"&&1/a==-Ne?"-0":u}function Fa(a){if(a!=null){try{return Yd.call(a)}catch{}try{return a+""}catch{}}return""}function AU(a,u){return hi(Ve,function(d){var g="_."+d[0];u&d[1]&&!Wd(a,g)&&a.push(g)}),a.sort()}function Qx(a){if(a instanceof ht)return a.clone();var u=new di(a.__wrapped__,a.__chain__);return u.__actions__=Dr(a.__actions__),u.__index__=a.__index__,u.__values__=a.__values__,u}function CU(a,u,d){(d?yr(a,u,d):u===n)?u=1:u=Mn(rt(u),0);var g=a==null?0:a.length;if(!g||u<1)return[];for(var _=0,C=0,k=q(rp(g/u));_<g;)k[C++]=mi(a,_,_+=u);return k}function PU(a){for(var u=-1,d=a==null?0:a.length,g=0,_=[];++u<d;){var C=a[u];C&&(_[g++]=C)}return _}function OU(){var a=arguments.length;if(!a)return[];for(var u=q(a-1),d=arguments[0],g=a;g--;)u[g-1]=arguments[g];return yo(Xe(d)?Dr(d):[d],Xn(u,1))}var DU=st(function(a,u){return In(a)?Jc(a,Xn(u,1,In,!0)):[]}),kU=st(function(a,u){var d=gi(u);return In(d)&&(d=n),In(a)?Jc(a,Xn(u,1,In,!0),Be(d,2)):[]}),NU=st(function(a,u){var d=gi(u);return In(d)&&(d=n),In(a)?Jc(a,Xn(u,1,In,!0),n,d):[]});function LU(a,u,d){var g=a==null?0:a.length;return g?(u=d||u===n?1:rt(u),mi(a,u<0?0:u,g)):[]}function MU(a,u,d){var g=a==null?0:a.length;return g?(u=d||u===n?1:rt(u),u=g-u,mi(a,0,u<0?0:u)):[]}function FU(a,u){return a&&a.length?dp(a,Be(u,3),!0,!0):[]}function VU(a,u){return a&&a.length?dp(a,Be(u,3),!0):[]}function $U(a,u,d,g){var _=a==null?0:a.length;return _?(d&&typeof d!="number"&&yr(a,u,d)&&(d=0,g=_),OB(a,u,d,g)):[]}function Yx(a,u,d){var g=a==null?0:a.length;if(!g)return-1;var _=d==null?0:rt(d);return _<0&&(_=Mn(g+_,0)),Kd(a,Be(u,3),_)}function Xx(a,u,d){var g=a==null?0:a.length;if(!g)return-1;var _=g-1;return d!==n&&(_=rt(d),_=d<0?Mn(g+_,0):or(_,g-1)),Kd(a,Be(u,3),_,!0)}function Jx(a){var u=a==null?0:a.length;return u?Xn(a,1):[]}function jU(a){var u=a==null?0:a.length;return u?Xn(a,Ne):[]}function BU(a,u){var d=a==null?0:a.length;return d?(u=u===n?1:rt(u),Xn(a,u)):[]}function UU(a){for(var u=-1,d=a==null?0:a.length,g={};++u<d;){var _=a[u];g[_[0]]=_[1]}return g}function Zx(a){return a&&a.length?a[0]:n}function zU(a,u,d){var g=a==null?0:a.length;if(!g)return-1;var _=d==null?0:rt(d);return _<0&&(_=Mn(g+_,0)),Wl(a,u,_)}function qU(a){var u=a==null?0:a.length;return u?mi(a,0,-1):[]}var WU=st(function(a){var u=en(a,Yv);return u.length&&u[0]===a[0]?jv(u):[]}),KU=st(function(a){var u=gi(a),d=en(a,Yv);return u===gi(d)?u=n:d.pop(),d.length&&d[0]===a[0]?jv(d,Be(u,2)):[]}),HU=st(function(a){var u=gi(a),d=en(a,Yv);return u=typeof u=="function"?u:n,u&&d.pop(),d.length&&d[0]===a[0]?jv(d,n,u):[]});function GU(a,u){return a==null?"":qj.call(a,u)}function gi(a){var u=a==null?0:a.length;return u?a[u-1]:n}function QU(a,u,d){var g=a==null?0:a.length;if(!g)return-1;var _=g;return d!==n&&(_=rt(d),_=_<0?Mn(g+_,0):or(_,g-1)),u===u?Aj(a,u,_):Kd(a,kS,_,!0)}function YU(a,u){return a&&a.length?cx(a,rt(u)):n}var XU=st(eR);function eR(a,u){return a&&a.length&&u&&u.length?qv(a,u):a}function JU(a,u,d){return a&&a.length&&u&&u.length?qv(a,u,Be(d,2)):a}function ZU(a,u,d){return a&&a.length&&u&&u.length?qv(a,u,n,d):a}var e4=Ps(function(a,u){var d=a==null?0:a.length,g=Mv(a,u);return dx(a,en(u,function(_){return Os(_,d)?+_:_}).sort(Ix)),g});function t4(a,u){var d=[];if(!(a&&a.length))return d;var g=-1,_=[],C=a.length;for(u=Be(u,3);++g<C;){var k=a[g];u(k,g,a)&&(d.push(k),_.push(g))}return dx(a,_),d}function c_(a){return a==null?a:Gj.call(a)}function n4(a,u,d){var g=a==null?0:a.length;return g?(d&&typeof d!="number"&&yr(a,u,d)?(u=0,d=g):(u=u==null?0:rt(u),d=d===n?g:rt(d)),mi(a,u,d)):[]}function r4(a,u){return fp(a,u)}function i4(a,u,d){return Hv(a,u,Be(d,2))}function s4(a,u){var d=a==null?0:a.length;if(d){var g=fp(a,u);if(g<d&&Mi(a[g],u))return g}return-1}function o4(a,u){return fp(a,u,!0)}function a4(a,u,d){return Hv(a,u,Be(d,2),!0)}function l4(a,u){var d=a==null?0:a.length;if(d){var g=fp(a,u,!0)-1;if(Mi(a[g],u))return g}return-1}function u4(a){return a&&a.length?mx(a):[]}function c4(a,u){return a&&a.length?mx(a,Be(u,2)):[]}function h4(a){var u=a==null?0:a.length;return u?mi(a,1,u):[]}function f4(a,u,d){return a&&a.length?(u=d||u===n?1:rt(u),mi(a,0,u<0?0:u)):[]}function d4(a,u,d){var g=a==null?0:a.length;return g?(u=d||u===n?1:rt(u),u=g-u,mi(a,u<0?0:u,g)):[]}function p4(a,u){return a&&a.length?dp(a,Be(u,3),!1,!0):[]}function m4(a,u){return a&&a.length?dp(a,Be(u,3)):[]}var g4=st(function(a){return Eo(Xn(a,1,In,!0))}),y4=st(function(a){var u=gi(a);return In(u)&&(u=n),Eo(Xn(a,1,In,!0),Be(u,2))}),v4=st(function(a){var u=gi(a);return u=typeof u=="function"?u:n,Eo(Xn(a,1,In,!0),n,u)});function _4(a){return a&&a.length?Eo(a):[]}function w4(a,u){return a&&a.length?Eo(a,Be(u,2)):[]}function E4(a,u){return u=typeof u=="function"?u:n,a&&a.length?Eo(a,n,u):[]}function h_(a){if(!(a&&a.length))return[];var u=0;return a=go(a,function(d){if(In(d))return u=Mn(d.length,u),!0}),Av(u,function(d){return en(a,xv(d))})}function tR(a,u){if(!(a&&a.length))return[];var d=h_(a);return u==null?d:en(d,function(g){return Qr(u,n,g)})}var T4=st(function(a,u){return In(a)?Jc(a,u):[]}),I4=st(function(a){return Qv(go(a,In))}),S4=st(function(a){var u=gi(a);return In(u)&&(u=n),Qv(go(a,In),Be(u,2))}),x4=st(function(a){var u=gi(a);return u=typeof u=="function"?u:n,Qv(go(a,In),n,u)}),R4=st(h_);function b4(a,u){return _x(a||[],u||[],Xc)}function A4(a,u){return _x(a||[],u||[],th)}var C4=st(function(a){var u=a.length,d=u>1?a[u-1]:n;return d=typeof d=="function"?(a.pop(),d):n,tR(a,d)});function nR(a){var u=A(a);return u.__chain__=!0,u}function P4(a,u){return u(a),a}function Tp(a,u){return u(a)}var O4=Ps(function(a){var u=a.length,d=u?a[0]:0,g=this.__wrapped__,_=function(C){return Mv(C,a)};return u>1||this.__actions__.length||!(g instanceof ht)||!Os(d)?this.thru(_):(g=g.slice(d,+d+(u?1:0)),g.__actions__.push({func:Tp,args:[_],thisArg:n}),new di(g,this.__chain__).thru(function(C){return u&&!C.length&&C.push(n),C}))});function D4(){return nR(this)}function k4(){return new di(this.value(),this.__chain__)}function N4(){this.__values__===n&&(this.__values__=gR(this.value()));var a=this.__index__>=this.__values__.length,u=a?n:this.__values__[this.__index__++];return{done:a,value:u}}function L4(){return this}function M4(a){for(var u,d=this;d instanceof ap;){var g=Qx(d);g.__index__=0,g.__values__=n,u?_.__wrapped__=g:u=g;var _=g;d=d.__wrapped__}return _.__wrapped__=a,u}function F4(){var a=this.__wrapped__;if(a instanceof ht){var u=a;return this.__actions__.length&&(u=new ht(this)),u=u.reverse(),u.__actions__.push({func:Tp,args:[c_],thisArg:n}),new di(u,this.__chain__)}return this.thru(c_)}function V4(){return vx(this.__wrapped__,this.__actions__)}var $4=pp(function(a,u,d){Ct.call(a,d)?++a[d]:As(a,d,1)});function j4(a,u,d){var g=Xe(a)?OS:PB;return d&&yr(a,u,d)&&(u=n),g(a,Be(u,3))}function B4(a,u){var d=Xe(a)?go:tx;return d(a,Be(u,3))}var U4=Cx(Yx),z4=Cx(Xx);function q4(a,u){return Xn(Ip(a,u),1)}function W4(a,u){return Xn(Ip(a,u),Ne)}function K4(a,u,d){return d=d===n?1:rt(d),Xn(Ip(a,u),d)}function rR(a,u){var d=Xe(a)?hi:wo;return d(a,Be(u,3))}function iR(a,u){var d=Xe(a)?hj:ex;return d(a,Be(u,3))}var H4=pp(function(a,u,d){Ct.call(a,d)?a[d].push(u):As(a,d,[u])});function G4(a,u,d,g){a=kr(a)?a:ru(a),d=d&&!g?rt(d):0;var _=a.length;return d<0&&(d=Mn(_+d,0)),Ap(a)?d<=_&&a.indexOf(u,d)>-1:!!_&&Wl(a,u,d)>-1}var Q4=st(function(a,u,d){var g=-1,_=typeof u=="function",C=kr(a)?q(a.length):[];return wo(a,function(k){C[++g]=_?Qr(u,k,d):Zc(k,u,d)}),C}),Y4=pp(function(a,u,d){As(a,d,u)});function Ip(a,u){var d=Xe(a)?en:ax;return d(a,Be(u,3))}function X4(a,u,d,g){return a==null?[]:(Xe(u)||(u=u==null?[]:[u]),d=g?n:d,Xe(d)||(d=d==null?[]:[d]),hx(a,u,d))}var J4=pp(function(a,u,d){a[d?0:1].push(u)},function(){return[[],[]]});function Z4(a,u,d){var g=Xe(a)?Iv:LS,_=arguments.length<3;return g(a,Be(u,4),d,_,wo)}function e5(a,u,d){var g=Xe(a)?fj:LS,_=arguments.length<3;return g(a,Be(u,4),d,_,ex)}function t5(a,u){var d=Xe(a)?go:tx;return d(a,Rp(Be(u,3)))}function n5(a){var u=Xe(a)?YS:GB;return u(a)}function r5(a,u,d){(d?yr(a,u,d):u===n)?u=1:u=rt(u);var g=Xe(a)?xB:QB;return g(a,u)}function i5(a){var u=Xe(a)?RB:XB;return u(a)}function s5(a){if(a==null)return 0;if(kr(a))return Ap(a)?Hl(a):a.length;var u=ar(a);return u==kt||u==qt?a.size:Uv(a).length}function o5(a,u,d){var g=Xe(a)?Sv:JB;return d&&yr(a,u,d)&&(u=n),g(a,Be(u,3))}var a5=st(function(a,u){if(a==null)return[];var d=u.length;return d>1&&yr(a,u[0],u[1])?u=[]:d>2&&yr(u[0],u[1],u[2])&&(u=[u[0]]),hx(a,Xn(u,1),[])}),Sp=Bj||function(){return Yn.Date.now()};function l5(a,u){if(typeof u!="function")throw new fi(o);return a=rt(a),function(){if(--a<1)return u.apply(this,arguments)}}function sR(a,u,d){return u=d?n:u,u=a&&u==null?a.length:u,Cs(a,D,n,n,n,n,u)}function oR(a,u){var d;if(typeof u!="function")throw new fi(o);return a=rt(a),function(){return--a>0&&(d=u.apply(this,arguments)),a<=1&&(u=n),d}}var f_=st(function(a,u,d){var g=R;if(d.length){var _=vo(d,tu(f_));g|=P}return Cs(a,g,u,d,_)}),aR=st(function(a,u,d){var g=R|T;if(d.length){var _=vo(d,tu(aR));g|=P}return Cs(u,g,a,d,_)});function lR(a,u,d){u=d?n:u;var g=Cs(a,S,n,n,n,n,n,u);return g.placeholder=lR.placeholder,g}function uR(a,u,d){u=d?n:u;var g=Cs(a,w,n,n,n,n,n,u);return g.placeholder=uR.placeholder,g}function cR(a,u,d){var g,_,C,k,L,$,X=0,Z=!1,ne=!1,ye=!0;if(typeof a!="function")throw new fi(o);u=yi(u)||0,an(d)&&(Z=!!d.leading,ne="maxWait"in d,C=ne?Mn(yi(d.maxWait)||0,u):C,ye="trailing"in d?!!d.trailing:ye);function Pe(Sn){var Fi=g,Ns=_;return g=_=n,X=Sn,k=a.apply(Ns,Fi),k}function Ue(Sn){return X=Sn,L=ih(lt,u),Z?Pe(Sn):k}function it(Sn){var Fi=Sn-$,Ns=Sn-X,CR=u-Fi;return ne?or(CR,C-Ns):CR}function ze(Sn){var Fi=Sn-$,Ns=Sn-X;return $===n||Fi>=u||Fi<0||ne&&Ns>=C}function lt(){var Sn=Sp();if(ze(Sn))return pt(Sn);L=ih(lt,it(Sn))}function pt(Sn){return L=n,ye&&g?Pe(Sn):(g=_=n,k)}function Zr(){L!==n&&wx(L),X=0,g=$=_=L=n}function vr(){return L===n?k:pt(Sp())}function ei(){var Sn=Sp(),Fi=ze(Sn);if(g=arguments,_=this,$=Sn,Fi){if(L===n)return Ue($);if(ne)return wx(L),L=ih(lt,u),Pe($)}return L===n&&(L=ih(lt,u)),k}return ei.cancel=Zr,ei.flush=vr,ei}var u5=st(function(a,u){return ZS(a,1,u)}),c5=st(function(a,u,d){return ZS(a,yi(u)||0,d)});function h5(a){return Cs(a,K)}function xp(a,u){if(typeof a!="function"||u!=null&&typeof u!="function")throw new fi(o);var d=function(){var g=arguments,_=u?u.apply(this,g):g[0],C=d.cache;if(C.has(_))return C.get(_);var k=a.apply(this,g);return d.cache=C.set(_,k)||C,k};return d.cache=new(xp.Cache||bs),d}xp.Cache=bs;function Rp(a){if(typeof a!="function")throw new fi(o);return function(){var u=arguments;switch(u.length){case 0:return!a.call(this);case 1:return!a.call(this,u[0]);case 2:return!a.call(this,u[0],u[1]);case 3:return!a.call(this,u[0],u[1],u[2])}return!a.apply(this,u)}}function f5(a){return oR(2,a)}var d5=ZB(function(a,u){u=u.length==1&&Xe(u[0])?en(u[0],Yr(Be())):en(Xn(u,1),Yr(Be()));var d=u.length;return st(function(g){for(var _=-1,C=or(g.length,d);++_<C;)g[_]=u[_].call(this,g[_]);return Qr(a,this,g)})}),d_=st(function(a,u){var d=vo(u,tu(d_));return Cs(a,P,n,u,d)}),hR=st(function(a,u){var d=vo(u,tu(hR));return Cs(a,O,n,u,d)}),p5=Ps(function(a,u){return Cs(a,N,n,n,n,u)});function m5(a,u){if(typeof a!="function")throw new fi(o);return u=u===n?u:rt(u),st(a,u)}function g5(a,u){if(typeof a!="function")throw new fi(o);return u=u==null?0:Mn(rt(u),0),st(function(d){var g=d[u],_=Io(d,0,u);return g&&yo(_,g),Qr(a,this,_)})}function y5(a,u,d){var g=!0,_=!0;if(typeof a!="function")throw new fi(o);return an(d)&&(g="leading"in d?!!d.leading:g,_="trailing"in d?!!d.trailing:_),cR(a,u,{leading:g,maxWait:u,trailing:_})}function v5(a){return sR(a,1)}function _5(a,u){return d_(Xv(u),a)}function w5(){if(!arguments.length)return[];var a=arguments[0];return Xe(a)?a:[a]}function E5(a){return pi(a,y)}function T5(a,u){return u=typeof u=="function"?u:n,pi(a,y,u)}function I5(a){return pi(a,p|y)}function S5(a,u){return u=typeof u=="function"?u:n,pi(a,p|y,u)}function x5(a,u){return u==null||JS(a,u,jn(u))}function Mi(a,u){return a===u||a!==a&&u!==u}var R5=vp($v),b5=vp(function(a,u){return a>=u}),Va=ix(function(){return arguments}())?ix:function(a){return mn(a)&&Ct.call(a,"callee")&&!qS.call(a,"callee")},Xe=q.isArray,A5=xS?Yr(xS):MB;function kr(a){return a!=null&&bp(a.length)&&!Ds(a)}function In(a){return mn(a)&&kr(a)}function C5(a){return a===!0||a===!1||mn(a)&&gr(a)==_t}var So=zj||S_,P5=RS?Yr(RS):FB;function O5(a){return mn(a)&&a.nodeType===1&&!sh(a)}function D5(a){if(a==null)return!0;if(kr(a)&&(Xe(a)||typeof a=="string"||typeof a.splice=="function"||So(a)||nu(a)||Va(a)))return!a.length;var u=ar(a);if(u==kt||u==qt)return!a.size;if(rh(a))return!Uv(a).length;for(var d in a)if(Ct.call(a,d))return!1;return!0}function k5(a,u){return eh(a,u)}function N5(a,u,d){d=typeof d=="function"?d:n;var g=d?d(a,u):n;return g===n?eh(a,u,n,d):!!g}function p_(a){if(!mn(a))return!1;var u=gr(a);return u==ct||u==Vt||typeof a.message=="string"&&typeof a.name=="string"&&!sh(a)}function L5(a){return typeof a=="number"&&KS(a)}function Ds(a){if(!an(a))return!1;var u=gr(a);return u==xt||u==wt||u==Jt||u==Di}function fR(a){return typeof a=="number"&&a==rt(a)}function bp(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=G}function an(a){var u=typeof a;return a!=null&&(u=="object"||u=="function")}function mn(a){return a!=null&&typeof a=="object"}var dR=bS?Yr(bS):$B;function M5(a,u){return a===u||Bv(a,u,i_(u))}function F5(a,u,d){return d=typeof d=="function"?d:n,Bv(a,u,i_(u),d)}function V5(a){return pR(a)&&a!=+a}function $5(a){if(TU(a))throw new Qe(s);return sx(a)}function j5(a){return a===null}function B5(a){return a==null}function pR(a){return typeof a=="number"||mn(a)&&gr(a)==et}function sh(a){if(!mn(a)||gr(a)!=zt)return!1;var u=ep(a);if(u===null)return!0;var d=Ct.call(u,"constructor")&&u.constructor;return typeof d=="function"&&d instanceof d&&Yd.call(d)==Fj}var m_=AS?Yr(AS):jB;function U5(a){return fR(a)&&a>=-G&&a<=G}var mR=CS?Yr(CS):BB;function Ap(a){return typeof a=="string"||!Xe(a)&&mn(a)&&gr(a)==kn}function Jr(a){return typeof a=="symbol"||mn(a)&&gr(a)==pn}var nu=PS?Yr(PS):UB;function z5(a){return a===n}function q5(a){return mn(a)&&ar(a)==Ke}function W5(a){return mn(a)&&gr(a)==Zt}var K5=vp(zv),H5=vp(function(a,u){return a<=u});function gR(a){if(!a)return[];if(kr(a))return Ap(a)?Ni(a):Dr(a);if(Kc&&a[Kc])return xj(a[Kc]());var u=ar(a),d=u==kt?Pv:u==qt?Hd:ru;return d(a)}function ks(a){if(!a)return a===0?a:0;if(a=yi(a),a===Ne||a===-Ne){var u=a<0?-1:1;return u*ue}return a===a?a:0}function rt(a){var u=ks(a),d=u%1;return u===u?d?u-d:u:0}function yR(a){return a?Na(rt(a),0,Ee):0}function yi(a){if(typeof a=="number")return a;if(Jr(a))return oe;if(an(a)){var u=typeof a.valueOf=="function"?a.valueOf():a;a=an(u)?u+"":u}if(typeof a!="string")return a===0?a:+a;a=MS(a);var d=Rt.test(a);return d||Zi.test(a)?lj(a.slice(2),d?2:8):qc.test(a)?oe:+a}function vR(a){return ts(a,Nr(a))}function G5(a){return a?Na(rt(a),-G,G):a===0?a:0}function bt(a){return a==null?"":Xr(a)}var Q5=Zl(function(a,u){if(rh(u)||kr(u)){ts(u,jn(u),a);return}for(var d in u)Ct.call(u,d)&&Xc(a,d,u[d])}),_R=Zl(function(a,u){ts(u,Nr(u),a)}),Cp=Zl(function(a,u,d,g){ts(u,Nr(u),a,g)}),Y5=Zl(function(a,u,d,g){ts(u,jn(u),a,g)}),X5=Ps(Mv);function J5(a,u){var d=Jl(a);return u==null?d:XS(d,u)}var Z5=st(function(a,u){a=Ft(a);var d=-1,g=u.length,_=g>2?u[2]:n;for(_&&yr(u[0],u[1],_)&&(g=1);++d<g;)for(var C=u[d],k=Nr(C),L=-1,$=k.length;++L<$;){var X=k[L],Z=a[X];(Z===n||Mi(Z,Ql[X])&&!Ct.call(a,X))&&(a[X]=C[X])}return a}),e3=st(function(a){return a.push(n,Mx),Qr(wR,n,a)});function t3(a,u){return DS(a,Be(u,3),es)}function n3(a,u){return DS(a,Be(u,3),Vv)}function r3(a,u){return a==null?a:Fv(a,Be(u,3),Nr)}function i3(a,u){return a==null?a:nx(a,Be(u,3),Nr)}function s3(a,u){return a&&es(a,Be(u,3))}function o3(a,u){return a&&Vv(a,Be(u,3))}function a3(a){return a==null?[]:cp(a,jn(a))}function l3(a){return a==null?[]:cp(a,Nr(a))}function g_(a,u,d){var g=a==null?n:La(a,u);return g===n?d:g}function u3(a,u){return a!=null&&$x(a,u,DB)}function y_(a,u){return a!=null&&$x(a,u,kB)}var c3=Ox(function(a,u,d){u!=null&&typeof u.toString!="function"&&(u=Xd.call(u)),a[u]=d},__(Lr)),h3=Ox(function(a,u,d){u!=null&&typeof u.toString!="function"&&(u=Xd.call(u)),Ct.call(a,u)?a[u].push(d):a[u]=[d]},Be),f3=st(Zc);function jn(a){return kr(a)?QS(a):Uv(a)}function Nr(a){return kr(a)?QS(a,!0):zB(a)}function d3(a,u){var d={};return u=Be(u,3),es(a,function(g,_,C){As(d,u(g,_,C),g)}),d}function p3(a,u){var d={};return u=Be(u,3),es(a,function(g,_,C){As(d,_,u(g,_,C))}),d}var m3=Zl(function(a,u,d){hp(a,u,d)}),wR=Zl(function(a,u,d,g){hp(a,u,d,g)}),g3=Ps(function(a,u){var d={};if(a==null)return d;var g=!1;u=en(u,function(C){return C=To(C,a),g||(g=C.length>1),C}),ts(a,n_(a),d),g&&(d=pi(d,p|m|y,cU));for(var _=u.length;_--;)Gv(d,u[_]);return d});function y3(a,u){return ER(a,Rp(Be(u)))}var v3=Ps(function(a,u){return a==null?{}:WB(a,u)});function ER(a,u){if(a==null)return{};var d=en(n_(a),function(g){return[g]});return u=Be(u),fx(a,d,function(g,_){return u(g,_[0])})}function _3(a,u,d){u=To(u,a);var g=-1,_=u.length;for(_||(_=1,a=n);++g<_;){var C=a==null?n:a[ns(u[g])];C===n&&(g=_,C=d),a=Ds(C)?C.call(a):C}return a}function w3(a,u,d){return a==null?a:th(a,u,d)}function E3(a,u,d,g){return g=typeof g=="function"?g:n,a==null?a:th(a,u,d,g)}var TR=Nx(jn),IR=Nx(Nr);function T3(a,u,d){var g=Xe(a),_=g||So(a)||nu(a);if(u=Be(u,4),d==null){var C=a&&a.constructor;_?d=g?new C:[]:an(a)?d=Ds(C)?Jl(ep(a)):{}:d={}}return(_?hi:es)(a,function(k,L,$){return u(d,k,L,$)}),d}function I3(a,u){return a==null?!0:Gv(a,u)}function S3(a,u,d){return a==null?a:yx(a,u,Xv(d))}function x3(a,u,d,g){return g=typeof g=="function"?g:n,a==null?a:yx(a,u,Xv(d),g)}function ru(a){return a==null?[]:Cv(a,jn(a))}function R3(a){return a==null?[]:Cv(a,Nr(a))}function b3(a,u,d){return d===n&&(d=u,u=n),d!==n&&(d=yi(d),d=d===d?d:0),u!==n&&(u=yi(u),u=u===u?u:0),Na(yi(a),u,d)}function A3(a,u,d){return u=ks(u),d===n?(d=u,u=0):d=ks(d),a=yi(a),NB(a,u,d)}function C3(a,u,d){if(d&&typeof d!="boolean"&&yr(a,u,d)&&(u=d=n),d===n&&(typeof u=="boolean"?(d=u,u=n):typeof a=="boolean"&&(d=a,a=n)),a===n&&u===n?(a=0,u=1):(a=ks(a),u===n?(u=a,a=0):u=ks(u)),a>u){var g=a;a=u,u=g}if(d||a%1||u%1){var _=HS();return or(a+_*(u-a+aj("1e-"+((_+"").length-1))),u)}return Wv(a,u)}var P3=eu(function(a,u,d){return u=u.toLowerCase(),a+(d?SR(u):u)});function SR(a){return v_(bt(a).toLowerCase())}function xR(a){return a=bt(a),a&&a.replace(Aa,wj).replace(X$,"")}function O3(a,u,d){a=bt(a),u=Xr(u);var g=a.length;d=d===n?g:Na(rt(d),0,g);var _=d;return d-=u.length,d>=0&&a.slice(d,_)==u}function D3(a){return a=bt(a),a&&ge.test(a)?a.replace(H,Ej):a}function k3(a){return a=bt(a),a&&At.test(a)?a.replace(at,"\\$&"):a}var N3=eu(function(a,u,d){return a+(d?"-":"")+u.toLowerCase()}),L3=eu(function(a,u,d){return a+(d?" ":"")+u.toLowerCase()}),M3=Ax("toLowerCase");function F3(a,u,d){a=bt(a),u=rt(u);var g=u?Hl(a):0;if(!u||g>=u)return a;var _=(u-g)/2;return yp(ip(_),d)+a+yp(rp(_),d)}function V3(a,u,d){a=bt(a),u=rt(u);var g=u?Hl(a):0;return u&&g<u?a+yp(u-g,d):a}function $3(a,u,d){a=bt(a),u=rt(u);var g=u?Hl(a):0;return u&&g<u?yp(u-g,d)+a:a}function j3(a,u,d){return d||u==null?u=0:u&&(u=+u),Hj(bt(a).replace(sn,""),u||0)}function B3(a,u,d){return(d?yr(a,u,d):u===n)?u=1:u=rt(u),Kv(bt(a),u)}function U3(){var a=arguments,u=bt(a[0]);return a.length<3?u:u.replace(a[1],a[2])}var z3=eu(function(a,u,d){return a+(d?"_":"")+u.toLowerCase()});function q3(a,u,d){return d&&typeof d!="number"&&yr(a,u,d)&&(u=d=n),d=d===n?Ee:d>>>0,d?(a=bt(a),a&&(typeof u=="string"||u!=null&&!m_(u))&&(u=Xr(u),!u&&Kl(a))?Io(Ni(a),0,d):a.split(u,d)):[]}var W3=eu(function(a,u,d){return a+(d?" ":"")+v_(u)});function K3(a,u,d){return a=bt(a),d=d==null?0:Na(rt(d),0,a.length),u=Xr(u),a.slice(d,d+u.length)==u}function H3(a,u,d){var g=A.templateSettings;d&&yr(a,u,d)&&(u=n),a=bt(a),u=Cp({},u,g,Lx);var _=Cp({},u.imports,g.imports,Lx),C=jn(_),k=Cv(_,C),L,$,X=0,Z=u.interpolate||Ca,ne="__p += '",ye=Ov((u.escape||Ca).source+"|"+Z.source+"|"+(Z===Ae?zc:Ca).source+"|"+(u.evaluate||Ca).source+"|$","g"),Pe="//# sourceURL="+(Ct.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nj+"]")+`
`;a.replace(ye,function(ze,lt,pt,Zr,vr,ei){return pt||(pt=Zr),ne+=a.slice(X,ei).replace(pv,Tj),lt&&(L=!0,ne+=`' +
__e(`+lt+`) +
'`),vr&&($=!0,ne+=`';
`+vr+`;
__p += '`),pt&&(ne+=`' +
((__t = (`+pt+`)) == null ? '' : __t) +
'`),X=ei+ze.length,ze}),ne+=`';
`;var Ue=Ct.call(u,"variable")&&u.variable;if(!Ue)ne=`with (obj) {
`+ne+`
}
`;else if(Ji.test(Ue))throw new Qe(l);ne=($?ne.replace(me,""):ne).replace(nt,"$1").replace(F,"$1;"),ne="function("+(Ue||"obj")+`) {
`+(Ue?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(L?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ne+`return __p
}`;var it=bR(function(){return St(C,Pe+"return "+ne).apply(n,k)});if(it.source=ne,p_(it))throw it;return it}function G3(a){return bt(a).toLowerCase()}function Q3(a){return bt(a).toUpperCase()}function Y3(a,u,d){if(a=bt(a),a&&(d||u===n))return MS(a);if(!a||!(u=Xr(u)))return a;var g=Ni(a),_=Ni(u),C=FS(g,_),k=VS(g,_)+1;return Io(g,C,k).join("")}function X3(a,u,d){if(a=bt(a),a&&(d||u===n))return a.slice(0,jS(a)+1);if(!a||!(u=Xr(u)))return a;var g=Ni(a),_=VS(g,Ni(u))+1;return Io(g,0,_).join("")}function J3(a,u,d){if(a=bt(a),a&&(d||u===n))return a.replace(sn,"");if(!a||!(u=Xr(u)))return a;var g=Ni(a),_=FS(g,Ni(u));return Io(g,_).join("")}function Z3(a,u){var d=Y,g=ie;if(an(u)){var _="separator"in u?u.separator:_;d="length"in u?rt(u.length):d,g="omission"in u?Xr(u.omission):g}a=bt(a);var C=a.length;if(Kl(a)){var k=Ni(a);C=k.length}if(d>=C)return a;var L=d-Hl(g);if(L<1)return g;var $=k?Io(k,0,L).join(""):a.slice(0,L);if(_===n)return $+g;if(k&&(L+=$.length-L),m_(_)){if(a.slice(L).search(_)){var X,Z=$;for(_.global||(_=Ov(_.source,bt(zl.exec(_))+"g")),_.lastIndex=0;X=_.exec(Z);)var ne=X.index;$=$.slice(0,ne===n?L:ne)}}else if(a.indexOf(Xr(_),L)!=L){var ye=$.lastIndexOf(_);ye>-1&&($=$.slice(0,ye))}return $+g}function e6(a){return a=bt(a),a&&ce.test(a)?a.replace(B,Cj):a}var t6=eu(function(a,u,d){return a+(d?" ":"")+u.toUpperCase()}),v_=Ax("toUpperCase");function RR(a,u,d){return a=bt(a),u=d?n:u,u===n?Sj(a)?Dj(a):mj(a):a.match(u)||[]}var bR=st(function(a,u){try{return Qr(a,n,u)}catch(d){return p_(d)?d:new Qe(d)}}),n6=Ps(function(a,u){return hi(u,function(d){d=ns(d),As(a,d,f_(a[d],a))}),a});function r6(a){var u=a==null?0:a.length,d=Be();return a=u?en(a,function(g){if(typeof g[1]!="function")throw new fi(o);return[d(g[0]),g[1]]}):[],st(function(g){for(var _=-1;++_<u;){var C=a[_];if(Qr(C[0],this,g))return Qr(C[1],this,g)}})}function i6(a){return CB(pi(a,p))}function __(a){return function(){return a}}function s6(a,u){return a==null||a!==a?u:a}var o6=Px(),a6=Px(!0);function Lr(a){return a}function w_(a){return ox(typeof a=="function"?a:pi(a,p))}function l6(a){return lx(pi(a,p))}function u6(a,u){return ux(a,pi(u,p))}var c6=st(function(a,u){return function(d){return Zc(d,a,u)}}),h6=st(function(a,u){return function(d){return Zc(a,d,u)}});function E_(a,u,d){var g=jn(u),_=cp(u,g);d==null&&!(an(u)&&(_.length||!g.length))&&(d=u,u=a,a=this,_=cp(u,jn(u)));var C=!(an(d)&&"chain"in d)||!!d.chain,k=Ds(a);return hi(_,function(L){var $=u[L];a[L]=$,k&&(a.prototype[L]=function(){var X=this.__chain__;if(C||X){var Z=a(this.__wrapped__),ne=Z.__actions__=Dr(this.__actions__);return ne.push({func:$,args:arguments,thisArg:a}),Z.__chain__=X,Z}return $.apply(a,yo([this.value()],arguments))})}),a}function f6(){return Yn._===this&&(Yn._=Vj),this}function T_(){}function d6(a){return a=rt(a),st(function(u){return cx(u,a)})}var p6=Zv(en),m6=Zv(OS),g6=Zv(Sv);function AR(a){return o_(a)?xv(ns(a)):KB(a)}function y6(a){return function(u){return a==null?n:La(a,u)}}var v6=Dx(),_6=Dx(!0);function I_(){return[]}function S_(){return!1}function w6(){return{}}function E6(){return""}function T6(){return!0}function I6(a,u){if(a=rt(a),a<1||a>G)return[];var d=Ee,g=or(a,Ee);u=Be(u),a-=Ee;for(var _=Av(g,u);++d<a;)u(d);return _}function S6(a){return Xe(a)?en(a,ns):Jr(a)?[a]:Dr(Gx(bt(a)))}function x6(a){var u=++Mj;return bt(a)+u}var R6=gp(function(a,u){return a+u},0),b6=e_("ceil"),A6=gp(function(a,u){return a/u},1),C6=e_("floor");function P6(a){return a&&a.length?up(a,Lr,$v):n}function O6(a,u){return a&&a.length?up(a,Be(u,2),$v):n}function D6(a){return NS(a,Lr)}function k6(a,u){return NS(a,Be(u,2))}function N6(a){return a&&a.length?up(a,Lr,zv):n}function L6(a,u){return a&&a.length?up(a,Be(u,2),zv):n}var M6=gp(function(a,u){return a*u},1),F6=e_("round"),V6=gp(function(a,u){return a-u},0);function $6(a){return a&&a.length?bv(a,Lr):0}function j6(a,u){return a&&a.length?bv(a,Be(u,2)):0}return A.after=l5,A.ary=sR,A.assign=Q5,A.assignIn=_R,A.assignInWith=Cp,A.assignWith=Y5,A.at=X5,A.before=oR,A.bind=f_,A.bindAll=n6,A.bindKey=aR,A.castArray=w5,A.chain=nR,A.chunk=CU,A.compact=PU,A.concat=OU,A.cond=r6,A.conforms=i6,A.constant=__,A.countBy=$4,A.create=J5,A.curry=lR,A.curryRight=uR,A.debounce=cR,A.defaults=Z5,A.defaultsDeep=e3,A.defer=u5,A.delay=c5,A.difference=DU,A.differenceBy=kU,A.differenceWith=NU,A.drop=LU,A.dropRight=MU,A.dropRightWhile=FU,A.dropWhile=VU,A.fill=$U,A.filter=B4,A.flatMap=q4,A.flatMapDeep=W4,A.flatMapDepth=K4,A.flatten=Jx,A.flattenDeep=jU,A.flattenDepth=BU,A.flip=h5,A.flow=o6,A.flowRight=a6,A.fromPairs=UU,A.functions=a3,A.functionsIn=l3,A.groupBy=H4,A.initial=qU,A.intersection=WU,A.intersectionBy=KU,A.intersectionWith=HU,A.invert=c3,A.invertBy=h3,A.invokeMap=Q4,A.iteratee=w_,A.keyBy=Y4,A.keys=jn,A.keysIn=Nr,A.map=Ip,A.mapKeys=d3,A.mapValues=p3,A.matches=l6,A.matchesProperty=u6,A.memoize=xp,A.merge=m3,A.mergeWith=wR,A.method=c6,A.methodOf=h6,A.mixin=E_,A.negate=Rp,A.nthArg=d6,A.omit=g3,A.omitBy=y3,A.once=f5,A.orderBy=X4,A.over=p6,A.overArgs=d5,A.overEvery=m6,A.overSome=g6,A.partial=d_,A.partialRight=hR,A.partition=J4,A.pick=v3,A.pickBy=ER,A.property=AR,A.propertyOf=y6,A.pull=XU,A.pullAll=eR,A.pullAllBy=JU,A.pullAllWith=ZU,A.pullAt=e4,A.range=v6,A.rangeRight=_6,A.rearg=p5,A.reject=t5,A.remove=t4,A.rest=m5,A.reverse=c_,A.sampleSize=r5,A.set=w3,A.setWith=E3,A.shuffle=i5,A.slice=n4,A.sortBy=a5,A.sortedUniq=u4,A.sortedUniqBy=c4,A.split=q3,A.spread=g5,A.tail=h4,A.take=f4,A.takeRight=d4,A.takeRightWhile=p4,A.takeWhile=m4,A.tap=P4,A.throttle=y5,A.thru=Tp,A.toArray=gR,A.toPairs=TR,A.toPairsIn=IR,A.toPath=S6,A.toPlainObject=vR,A.transform=T3,A.unary=v5,A.union=g4,A.unionBy=y4,A.unionWith=v4,A.uniq=_4,A.uniqBy=w4,A.uniqWith=E4,A.unset=I3,A.unzip=h_,A.unzipWith=tR,A.update=S3,A.updateWith=x3,A.values=ru,A.valuesIn=R3,A.without=T4,A.words=RR,A.wrap=_5,A.xor=I4,A.xorBy=S4,A.xorWith=x4,A.zip=R4,A.zipObject=b4,A.zipObjectDeep=A4,A.zipWith=C4,A.entries=TR,A.entriesIn=IR,A.extend=_R,A.extendWith=Cp,E_(A,A),A.add=R6,A.attempt=bR,A.camelCase=P3,A.capitalize=SR,A.ceil=b6,A.clamp=b3,A.clone=E5,A.cloneDeep=I5,A.cloneDeepWith=S5,A.cloneWith=T5,A.conformsTo=x5,A.deburr=xR,A.defaultTo=s6,A.divide=A6,A.endsWith=O3,A.eq=Mi,A.escape=D3,A.escapeRegExp=k3,A.every=j4,A.find=U4,A.findIndex=Yx,A.findKey=t3,A.findLast=z4,A.findLastIndex=Xx,A.findLastKey=n3,A.floor=C6,A.forEach=rR,A.forEachRight=iR,A.forIn=r3,A.forInRight=i3,A.forOwn=s3,A.forOwnRight=o3,A.get=g_,A.gt=R5,A.gte=b5,A.has=u3,A.hasIn=y_,A.head=Zx,A.identity=Lr,A.includes=G4,A.indexOf=zU,A.inRange=A3,A.invoke=f3,A.isArguments=Va,A.isArray=Xe,A.isArrayBuffer=A5,A.isArrayLike=kr,A.isArrayLikeObject=In,A.isBoolean=C5,A.isBuffer=So,A.isDate=P5,A.isElement=O5,A.isEmpty=D5,A.isEqual=k5,A.isEqualWith=N5,A.isError=p_,A.isFinite=L5,A.isFunction=Ds,A.isInteger=fR,A.isLength=bp,A.isMap=dR,A.isMatch=M5,A.isMatchWith=F5,A.isNaN=V5,A.isNative=$5,A.isNil=B5,A.isNull=j5,A.isNumber=pR,A.isObject=an,A.isObjectLike=mn,A.isPlainObject=sh,A.isRegExp=m_,A.isSafeInteger=U5,A.isSet=mR,A.isString=Ap,A.isSymbol=Jr,A.isTypedArray=nu,A.isUndefined=z5,A.isWeakMap=q5,A.isWeakSet=W5,A.join=GU,A.kebabCase=N3,A.last=gi,A.lastIndexOf=QU,A.lowerCase=L3,A.lowerFirst=M3,A.lt=K5,A.lte=H5,A.max=P6,A.maxBy=O6,A.mean=D6,A.meanBy=k6,A.min=N6,A.minBy=L6,A.stubArray=I_,A.stubFalse=S_,A.stubObject=w6,A.stubString=E6,A.stubTrue=T6,A.multiply=M6,A.nth=YU,A.noConflict=f6,A.noop=T_,A.now=Sp,A.pad=F3,A.padEnd=V3,A.padStart=$3,A.parseInt=j3,A.random=C3,A.reduce=Z4,A.reduceRight=e5,A.repeat=B3,A.replace=U3,A.result=_3,A.round=F6,A.runInContext=V,A.sample=n5,A.size=s5,A.snakeCase=z3,A.some=o5,A.sortedIndex=r4,A.sortedIndexBy=i4,A.sortedIndexOf=s4,A.sortedLastIndex=o4,A.sortedLastIndexBy=a4,A.sortedLastIndexOf=l4,A.startCase=W3,A.startsWith=K3,A.subtract=V6,A.sum=$6,A.sumBy=j6,A.template=H3,A.times=I6,A.toFinite=ks,A.toInteger=rt,A.toLength=yR,A.toLower=G3,A.toNumber=yi,A.toSafeInteger=G5,A.toString=bt,A.toUpper=Q3,A.trim=Y3,A.trimEnd=X3,A.trimStart=J3,A.truncate=Z3,A.unescape=e6,A.uniqueId=x6,A.upperCase=t6,A.upperFirst=v_,A.each=rR,A.eachRight=iR,A.first=Zx,E_(A,function(){var a={};return es(A,function(u,d){Ct.call(A.prototype,d)||(a[d]=u)}),a}(),{chain:!1}),A.VERSION=r,hi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){A[a].placeholder=A}),hi(["drop","take"],function(a,u){ht.prototype[a]=function(d){d=d===n?1:Mn(rt(d),0);var g=this.__filtered__&&!u?new ht(this):this.clone();return g.__filtered__?g.__takeCount__=or(d,g.__takeCount__):g.__views__.push({size:or(d,Ee),type:a+(g.__dir__<0?"Right":"")}),g},ht.prototype[a+"Right"]=function(d){return this.reverse()[a](d).reverse()}}),hi(["filter","map","takeWhile"],function(a,u){var d=u+1,g=d==Le||d==Me;ht.prototype[a]=function(_){var C=this.clone();return C.__iteratees__.push({iteratee:Be(_,3),type:d}),C.__filtered__=C.__filtered__||g,C}}),hi(["head","last"],function(a,u){var d="take"+(u?"Right":"");ht.prototype[a]=function(){return this[d](1).value()[0]}}),hi(["initial","tail"],function(a,u){var d="drop"+(u?"":"Right");ht.prototype[a]=function(){return this.__filtered__?new ht(this):this[d](1)}}),ht.prototype.compact=function(){return this.filter(Lr)},ht.prototype.find=function(a){return this.filter(a).head()},ht.prototype.findLast=function(a){return this.reverse().find(a)},ht.prototype.invokeMap=st(function(a,u){return typeof a=="function"?new ht(this):this.map(function(d){return Zc(d,a,u)})}),ht.prototype.reject=function(a){return this.filter(Rp(Be(a)))},ht.prototype.slice=function(a,u){a=rt(a);var d=this;return d.__filtered__&&(a>0||u<0)?new ht(d):(a<0?d=d.takeRight(-a):a&&(d=d.drop(a)),u!==n&&(u=rt(u),d=u<0?d.dropRight(-u):d.take(u-a)),d)},ht.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},ht.prototype.toArray=function(){return this.take(Ee)},es(ht.prototype,function(a,u){var d=/^(?:filter|find|map|reject)|While$/.test(u),g=/^(?:head|last)$/.test(u),_=A[g?"take"+(u=="last"?"Right":""):u],C=g||/^find/.test(u);_&&(A.prototype[u]=function(){var k=this.__wrapped__,L=g?[1]:arguments,$=k instanceof ht,X=L[0],Z=$||Xe(k),ne=function(lt){var pt=_.apply(A,yo([lt],L));return g&&ye?pt[0]:pt};Z&&d&&typeof X=="function"&&X.length!=1&&($=Z=!1);var ye=this.__chain__,Pe=!!this.__actions__.length,Ue=C&&!ye,it=$&&!Pe;if(!C&&Z){k=it?k:new ht(this);var ze=a.apply(k,L);return ze.__actions__.push({func:Tp,args:[ne],thisArg:n}),new di(ze,ye)}return Ue&&it?a.apply(this,L):(ze=this.thru(ne),Ue?g?ze.value()[0]:ze.value():ze)})}),hi(["pop","push","shift","sort","splice","unshift"],function(a){var u=Gd[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",g=/^(?:pop|shift)$/.test(a);A.prototype[a]=function(){var _=arguments;if(g&&!this.__chain__){var C=this.value();return u.apply(Xe(C)?C:[],_)}return this[d](function(k){return u.apply(Xe(k)?k:[],_)})}}),es(ht.prototype,function(a,u){var d=A[u];if(d){var g=d.name+"";Ct.call(Xl,g)||(Xl[g]=[]),Xl[g].push({name:u,func:d})}}),Xl[mp(n,T).name]=[{name:"wrapper",func:n}],ht.prototype.clone=eB,ht.prototype.reverse=tB,ht.prototype.value=nB,A.prototype.at=O4,A.prototype.chain=D4,A.prototype.commit=k4,A.prototype.next=N4,A.prototype.plant=M4,A.prototype.reverse=F4,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=V4,A.prototype.first=A.prototype.head,Kc&&(A.prototype[Kc]=L4),A},Gl=kj();Pa?((Pa.exports=Gl)._=Gl,wv._=Gl):Yn._=Gl}).call(oh)})(_g,_g.exports);var JG=_g.exports;const u0=({title:t,typeClass:e,children:n,id:r})=>{const{isDarkMode:i}=va(),s=i?"darkBg":"white-50",o=x.useRef(null),{isLoadingPokemon:l,handleNextPage:c,handleIsLoadingPokemon:h,searchPokemon:f,bestDamage:p,filterType:m,searchMorePokemon:y,handleSearchMorePokemon:v,storeAllPokemon:E,page:R,handleShowInfo_select:T}=Or(),I=()=>{const w=o.current;f!==""||m.enName!=="all"||!l&&w.scrollTop+w.clientHeight>=w.scrollHeight&&(h(!0),c())};x.useEffect(()=>{if(r!=Gi)return;const w=document.getElementById(Gi),P=JG.throttle(I,500);return w.addEventListener("scroll",P),()=>{w.removeEventListener("scroll",P)}},[]);const S=w=>{v(),c(E.length),h(!0),w&&T(kl,"")};return b.jsxs("div",{className:"group-col",children:[b.jsx(qG,{title:t,id:r}),b.jsxs("div",{id:r,ref:o,className:"groups",children:[b.jsx("div",{className:`group-img group-${e}`,children:n}),r===Gi&&(f!==""||m.enName!=="all")&&b.jsxs("div",{className:"search-more-container",children:[b.jsx("p",{children:"沒找到你要的嗎?"}),b.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>{v()},children:"載入全部"}),b.jsxs($s,{show:y,onHide:v,animation:!0,children:[b.jsx($s.Header,{className:`bg-${s}`,closeButton:!0,children:b.jsx($s.Title,{children:"提示"})}),b.jsx($s.Body,{className:`bg-${s}`,children:"自動切換為僅顯示角色名稱，以提高效能"}),b.jsxs($s.Footer,{className:`bg-${s}`,children:[b.jsx(dg,{variant:"secondary",onClick:()=>{S(!1)},children:"不用了"}),b.jsx(dg,{variant:"primary",onClick:()=>{S(!0)},children:"沒問題"})]})]})]}),r===pd&&p.length>0&&b.jsxs("div",{className:`best-damage-container bg-${s}`,children:[b.jsx(WG,{className:"thumb-icon"}),b.jsx("span",{style:{paddingLeft:"0.5rem"},children:"推薦屬性"}),b.jsx("ul",{children:p.map(w=>b.jsx("li",{style:{margin:"0 0.1rem"},children:b.jsx(nL,{...w})},Hi()))})]})]})]})},c0=x.memo(({item:t,showType_select:e,styleObj:n})=>(t==null?void 0:t.Types)===void 0?b.jsx("span",{children:"error"}):b.jsx("ul",{style:n,children:((t==null?void 0:t.Types)??[]).map(r=>{switch(e){case Q1:return b.jsx("li",{children:b.jsx(GG,{...r})},Hi());case kl:return b.jsx("li",{children:b.jsx(HG,{...r})},Hi());case G1:return b.jsx("li",{children:b.jsx(nL,{...r})},Hi())}})})),rL=({showInfo_select:t=cg,showType_select:e,item:n,isActive:r="",handleClick:i=()=>{}})=>{switch(t){case kl:return b.jsx(QG,{isActive:r,handleClick:i,item:n,children:b.jsx(c0,{styleObj:{display:"flex",flexDirection:"row",justifyContent:"space-evenly"},item:n,showType_select:e,showInfo_select:t})});case H1:return b.jsx(XG,{isActive:r,item:n,handleClick:i,children:b.jsx(c0,{styleObj:{display:"flex",flexDirection:"row",justifyContent:"start",gap:"0.3rem"},item:n,showType_select:e,showInfo_select:t})});case cg:return b.jsx(YG,{isActive:r,handleClick:i,item:n,children:b.jsx(c0,{styleObj:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},item:n,showType_select:e,showInfo_select:t})})}},iL=x.memo(({showInfo_select:t,showType_select:e,displayTier:n,bestDamage:r})=>{const{filterTier:i}=Or(),s=i.enName!=="all"?[{...i}]:Zk;return b.jsx(b.Fragment,{children:s.map(o=>{const{enName:l,zhName:c}=o;let h=n[l];if(h!==void 0)return h=h.filter(f=>{const{Types:p}=f;return p.some(m=>r.some(y=>m.enName===y.enName))}),b.jsxs(b.Fragment,{children:[b.jsxs("div",{children:[b.jsx("div",{children:"====="}),b.jsxs("div",{children:["以下是",c]}),b.jsx("div",{children:"====="})]},Hi()),h.map(f=>{if(f!==void 0)return b.jsx(rL,{item:f,showInfo_select:t,showType_select:e},Hi())})]})})})}),sL=x.memo(({showInfo_select:t,showType_select:e,displayCharacter:n,handleClick:r,id:i})=>{const{selectImg:s,searchPokemon:o,filterType:l,filterPopular:c,popularPokemon:h}=Or();let f=n;return i===Gi&&(o!==""&&(f=f.filter(p=>p==null?void 0:p.zhName.includes(o))),l.enName!=="all"&&(f=f.filter(p=>p.Types.filter(y=>y.enName===l.enName).length>0)),c===!0&&(f=f.filter(p=>h.some(m=>m.enName===p.enName)))),f.map(p=>{if(p===void 0)return;const y=s.some(v=>v.enName===p.enName)?"hero-active":"";return b.jsx(rL,{showInfo_select:t,showType_select:e,item:p,isActive:y,handleClick:r},Hi())})}),ZG=Object.freeze(Object.defineProperty({__proto__:null,TierGroups:iL,default:sL},Symbol.toStringTag,{value:"Module"}));function oL(t,e){return function(){return t.apply(e,arguments)}}const{toString:eQ}=Object.prototype,{getPrototypeOf:ET}=Object,vy=(t=>e=>{const n=eQ.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Is=t=>(t=t.toLowerCase(),e=>vy(e)===t),_y=t=>e=>typeof e===t,{isArray:Cc}=Array,Mf=_y("undefined");function tQ(t){return t!==null&&!Mf(t)&&t.constructor!==null&&!Mf(t.constructor)&&bi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const aL=Is("ArrayBuffer");function nQ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&aL(t.buffer),e}const rQ=_y("string"),bi=_y("function"),lL=_y("number"),wy=t=>t!==null&&typeof t=="object",iQ=t=>t===!0||t===!1,Sm=t=>{if(vy(t)!=="object")return!1;const e=ET(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sQ=Is("Date"),oQ=Is("File"),aQ=Is("Blob"),lQ=Is("FileList"),uQ=t=>wy(t)&&bi(t.pipe),cQ=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||bi(t.append)&&((e=vy(t))==="formdata"||e==="object"&&bi(t.toString)&&t.toString()==="[object FormData]"))},hQ=Is("URLSearchParams"),fQ=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Cc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function uL(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const cL=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),hL=t=>!Mf(t)&&t!==cL;function Zw(){const{caseless:t}=hL(this)&&this||{},e={},n=(r,i)=>{const s=t&&uL(e,i)||i;Sm(e[s])&&Sm(r)?e[s]=Zw(e[s],r):Sm(r)?e[s]=Zw({},r):Cc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&wd(arguments[r],n);return e}const dQ=(t,e,n,{allOwnKeys:r}={})=>(wd(e,(i,s)=>{n&&bi(i)?t[s]=oL(i,n):t[s]=i},{allOwnKeys:r}),t),pQ=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),mQ=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},gQ=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&ET(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},yQ=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},vQ=t=>{if(!t)return null;if(Cc(t))return t;let e=t.length;if(!lL(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},_Q=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ET(Uint8Array)),wQ=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},EQ=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},TQ=Is("HTMLFormElement"),IQ=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),WA=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),SQ=Is("RegExp"),fL=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};wd(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},xQ=t=>{fL(t,(e,n)=>{if(bi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(bi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},RQ=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Cc(t)?r(t):r(String(t).split(e)),n},bQ=()=>{},AQ=(t,e)=>(t=+t,Number.isFinite(t)?t:e),h0="abcdefghijklmnopqrstuvwxyz",KA="0123456789",dL={DIGIT:KA,ALPHA:h0,ALPHA_DIGIT:h0+h0.toUpperCase()+KA},CQ=(t=16,e=dL.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function PQ(t){return!!(t&&bi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const OQ=t=>{const e=new Array(10),n=(r,i)=>{if(wy(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Cc(r)?[]:{};return wd(r,(o,l)=>{const c=n(o,i+1);!Mf(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return n(t,0)},DQ=Is("AsyncFunction"),kQ=t=>t&&(wy(t)||bi(t))&&bi(t.then)&&bi(t.catch),ee={isArray:Cc,isArrayBuffer:aL,isBuffer:tQ,isFormData:cQ,isArrayBufferView:nQ,isString:rQ,isNumber:lL,isBoolean:iQ,isObject:wy,isPlainObject:Sm,isUndefined:Mf,isDate:sQ,isFile:oQ,isBlob:aQ,isRegExp:SQ,isFunction:bi,isStream:uQ,isURLSearchParams:hQ,isTypedArray:_Q,isFileList:lQ,forEach:wd,merge:Zw,extend:dQ,trim:fQ,stripBOM:pQ,inherits:mQ,toFlatObject:gQ,kindOf:vy,kindOfTest:Is,endsWith:yQ,toArray:vQ,forEachEntry:wQ,matchAll:EQ,isHTMLForm:TQ,hasOwnProperty:WA,hasOwnProp:WA,reduceDescriptors:fL,freezeMethods:xQ,toObjectSet:RQ,toCamelCase:IQ,noop:bQ,toFiniteNumber:AQ,findKey:uL,global:cL,isContextDefined:hL,ALPHABET:dL,generateString:CQ,isSpecCompliantForm:PQ,toJSONObject:OQ,isAsyncFn:DQ,isThenable:kQ};function yt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}ee.inherits(yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const pL=yt.prototype,mL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{mL[t]={value:t}});Object.defineProperties(yt,mL);Object.defineProperty(pL,"isAxiosError",{value:!0});yt.from=(t,e,n,r,i,s)=>{const o=Object.create(pL);return ee.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),yt.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const NQ=null;function eE(t){return ee.isPlainObject(t)||ee.isArray(t)}function gL(t){return ee.endsWith(t,"[]")?t.slice(0,-2):t}function HA(t,e,n){return t?t.concat(e).map(function(i,s){return i=gL(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function LQ(t){return ee.isArray(t)&&!t.some(eE)}const MQ=ee.toFlatObject(ee,{},null,function(e){return/^is[A-Z]/.test(e)});function Ey(t,e,n){if(!ee.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,R){return!ee.isUndefined(R[E])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(e);if(!ee.isFunction(i))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if(ee.isDate(v))return v.toISOString();if(!c&&ee.isBlob(v))throw new yt("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(v)||ee.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,E,R){let T=v;if(v&&!R&&typeof v=="object"){if(ee.endsWith(E,"{}"))E=r?E:E.slice(0,-2),v=JSON.stringify(v);else if(ee.isArray(v)&&LQ(v)||(ee.isFileList(v)||ee.endsWith(E,"[]"))&&(T=ee.toArray(v)))return E=gL(E),T.forEach(function(S,w){!(ee.isUndefined(S)||S===null)&&e.append(o===!0?HA([E],w,s):o===null?E:E+"[]",h(S))}),!1}return eE(v)?!0:(e.append(HA(R,E,s),h(v)),!1)}const p=[],m=Object.assign(MQ,{defaultVisitor:f,convertValue:h,isVisitable:eE});function y(v,E){if(!ee.isUndefined(v)){if(p.indexOf(v)!==-1)throw Error("Circular reference detected in "+E.join("."));p.push(v),ee.forEach(v,function(T,I){(!(ee.isUndefined(T)||T===null)&&i.call(e,T,ee.isString(I)?I.trim():I,E,m))===!0&&y(T,E?E.concat(I):[I])}),p.pop()}}if(!ee.isObject(t))throw new TypeError("data must be an object");return y(t),e}function GA(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function TT(t,e){this._pairs=[],t&&Ey(t,this,e)}const yL=TT.prototype;yL.append=function(e,n){this._pairs.push([e,n])};yL.toString=function(e){const n=e?function(r){return e.call(this,r,GA)}:GA;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function FQ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vL(t,e,n){if(!e)return t;const r=n&&n.encode||FQ,i=n&&n.serialize;let s;if(i?s=i(e,n):s=ee.isURLSearchParams(e)?e.toString():new TT(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class VQ{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ee.forEach(this.handlers,function(r){r!==null&&e(r)})}}const QA=VQ,_L={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$Q=typeof URLSearchParams<"u"?URLSearchParams:TT,jQ=typeof FormData<"u"?FormData:null,BQ=typeof Blob<"u"?Blob:null,UQ=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),zQ=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),us={isBrowser:!0,classes:{URLSearchParams:$Q,FormData:jQ,Blob:BQ},isStandardBrowserEnv:UQ,isStandardBrowserWebWorkerEnv:zQ,protocols:["http","https","file","blob","url","data"]};function qQ(t,e){return Ey(t,new us.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return us.isNode&&ee.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function WQ(t){return ee.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function KQ(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function wL(t){function e(n,r,i,s){let o=n[s++];const l=Number.isFinite(+o),c=s>=n.length;return o=!o&&ee.isArray(i)?i.length:o,c?(ee.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!ee.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&ee.isArray(i[o])&&(i[o]=KQ(i[o])),!l)}if(ee.isFormData(t)&&ee.isFunction(t.entries)){const n={};return ee.forEachEntry(t,(r,i)=>{e(WQ(r),i,n,0)}),n}return null}function HQ(t,e,n){if(ee.isString(t))try{return(e||JSON.parse)(t),ee.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const IT={transitional:_L,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=ee.isObject(e);if(s&&ee.isHTMLForm(e)&&(e=new FormData(e)),ee.isFormData(e))return i&&i?JSON.stringify(wL(e)):e;if(ee.isArrayBuffer(e)||ee.isBuffer(e)||ee.isStream(e)||ee.isFile(e)||ee.isBlob(e))return e;if(ee.isArrayBufferView(e))return e.buffer;if(ee.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return qQ(e,this.formSerializer).toString();if((l=ee.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ey(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),HQ(e)):e}],transformResponse:[function(e){const n=this.transitional||IT.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&ee.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?yt.from(l,yt.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:us.classes.FormData,Blob:us.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],t=>{IT.headers[t]={}});const ST=IT,GQ=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QQ=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&GQ[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},YA=Symbol("internals");function Th(t){return t&&String(t).trim().toLowerCase()}function xm(t){return t===!1||t==null?t:ee.isArray(t)?t.map(xm):String(t)}function YQ(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const XQ=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function f0(t,e,n,r,i){if(ee.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ee.isString(e)){if(ee.isString(r))return e.indexOf(r)!==-1;if(ee.isRegExp(r))return r.test(e)}}function JQ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function ZQ(t,e){const n=ee.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Ty{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,c,h){const f=Th(c);if(!f)throw new Error("header name must be a non-empty string");const p=ee.findKey(i,f);(!p||i[p]===void 0||h===!0||h===void 0&&i[p]!==!1)&&(i[p||c]=xm(l))}const o=(l,c)=>ee.forEach(l,(h,f)=>s(h,f,c));return ee.isPlainObject(e)||e instanceof this.constructor?o(e,n):ee.isString(e)&&(e=e.trim())&&!XQ(e)?o(QQ(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=Th(e),e){const r=ee.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return YQ(i);if(ee.isFunction(n))return n.call(this,i,r);if(ee.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Th(e),e){const r=ee.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||f0(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Th(o),o){const l=ee.findKey(r,o);l&&(!n||f0(r,r[l],l,n))&&(delete r[l],i=!0)}}return ee.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||f0(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return ee.forEach(this,(i,s)=>{const o=ee.findKey(r,s);if(o){n[o]=xm(i),delete n[s];return}const l=e?JQ(s):String(s).trim();l!==s&&delete n[s],n[l]=xm(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ee.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ee.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[YA]=this[YA]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=Th(o);r[l]||(ZQ(i,o),r[l]=!0)}return ee.isArray(e)?e.forEach(s):s(e),this}}Ty.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(Ty.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ee.freezeMethods(Ty);const Qs=Ty;function d0(t,e){const n=this||ST,r=e||n,i=Qs.from(r.headers);let s=r.data;return ee.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function EL(t){return!!(t&&t.__CANCEL__)}function Ed(t,e,n){yt.call(this,t??"canceled",yt.ERR_CANCELED,e,n),this.name="CanceledError"}ee.inherits(Ed,yt,{__CANCEL__:!0});function eY(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new yt("Request failed with status code "+n.status,[yt.ERR_BAD_REQUEST,yt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const tY=us.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,l){const c=[];c.push(n+"="+encodeURIComponent(r)),ee.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),ee.isString(s)&&c.push("path="+s),ee.isString(o)&&c.push("domain="+o),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function nY(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function rY(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function TL(t,e){return t&&!nY(e)?rY(t,e):e}const iY=us.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const l=ee.isString(o)?i(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function sY(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function oY(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const h=Date.now(),f=r[s];o||(o=h),n[i]=c,r[i]=h;let p=s,m=0;for(;p!==i;)m+=n[p++],p=p%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),h-o<e)return;const y=f&&h-f;return y?Math.round(m*1e3/y):void 0}}function XA(t,e){let n=0;const r=oY(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,l=s-n,c=r(l),h=s<=o;n=s;const f={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&h?(o-s)/c:void 0,event:i};f[e?"download":"upload"]=!0,t(f)}}const aY=typeof XMLHttpRequest<"u",lY=aY&&function(t){return new Promise(function(n,r){let i=t.data;const s=Qs.from(t.headers).normalize(),o=t.responseType;let l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let h;ee.isFormData(i)&&(us.isStandardBrowserEnv||us.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.getContentType(/^\s*multipart\/form-data/)?ee.isString(h=s.getContentType())&&s.setContentType(h.replace(/^\s*(multipart\/form-data);+/,"$1")):s.setContentType("multipart/form-data"));let f=new XMLHttpRequest;if(t.auth){const v=t.auth.username||"",E=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(v+":"+E))}const p=TL(t.baseURL,t.url);f.open(t.method.toUpperCase(),vL(p,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function m(){if(!f)return;const v=Qs.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),R={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:v,config:t,request:f};eY(function(I){n(I),c()},function(I){r(I),c()},R),f=null}if("onloadend"in f?f.onloadend=m:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(m)},f.onabort=function(){f&&(r(new yt("Request aborted",yt.ECONNABORTED,t,f)),f=null)},f.onerror=function(){r(new yt("Network Error",yt.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let E=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const R=t.transitional||_L;t.timeoutErrorMessage&&(E=t.timeoutErrorMessage),r(new yt(E,R.clarifyTimeoutError?yt.ETIMEDOUT:yt.ECONNABORTED,t,f)),f=null},us.isStandardBrowserEnv){const v=(t.withCredentials||iY(p))&&t.xsrfCookieName&&tY.read(t.xsrfCookieName);v&&s.set(t.xsrfHeaderName,v)}i===void 0&&s.setContentType(null),"setRequestHeader"in f&&ee.forEach(s.toJSON(),function(E,R){f.setRequestHeader(R,E)}),ee.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),o&&o!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",XA(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",XA(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=v=>{f&&(r(!v||v.type?new Ed(null,t,f):v),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const y=sY(p);if(y&&us.protocols.indexOf(y)===-1){r(new yt("Unsupported protocol "+y+":",yt.ERR_BAD_REQUEST,t));return}f.send(i||null)})},tE={http:NQ,xhr:lY};ee.forEach(tE,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const JA=t=>`- ${t}`,uY=t=>ee.isFunction(t)||t===null||t===!1,IL={getAdapter:t=>{t=ee.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!uY(n)&&(r=tE[(o=String(n)).toLowerCase()],r===void 0))throw new yt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(JA).join(`
`):" "+JA(s[0]):"as no adapter specified";throw new yt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:tE};function p0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ed(null,t)}function ZA(t){return p0(t),t.headers=Qs.from(t.headers),t.data=d0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),IL.getAdapter(t.adapter||ST.adapter)(t).then(function(r){return p0(t),r.data=d0.call(t,t.transformResponse,r),r.headers=Qs.from(r.headers),r},function(r){return EL(r)||(p0(t),r&&r.response&&(r.response.data=d0.call(t,t.transformResponse,r.response),r.response.headers=Qs.from(r.response.headers))),Promise.reject(r)})}const eC=t=>t instanceof Qs?t.toJSON():t;function ac(t,e){e=e||{};const n={};function r(h,f,p){return ee.isPlainObject(h)&&ee.isPlainObject(f)?ee.merge.call({caseless:p},h,f):ee.isPlainObject(f)?ee.merge({},f):ee.isArray(f)?f.slice():f}function i(h,f,p){if(ee.isUndefined(f)){if(!ee.isUndefined(h))return r(void 0,h,p)}else return r(h,f,p)}function s(h,f){if(!ee.isUndefined(f))return r(void 0,f)}function o(h,f){if(ee.isUndefined(f)){if(!ee.isUndefined(h))return r(void 0,h)}else return r(void 0,f)}function l(h,f,p){if(p in e)return r(h,f);if(p in t)return r(void 0,h)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(h,f)=>i(eC(h),eC(f),!0)};return ee.forEach(Object.keys(Object.assign({},t,e)),function(f){const p=c[f]||i,m=p(t[f],e[f],f);ee.isUndefined(m)&&p!==l||(n[f]=m)}),n}const SL="1.5.1",xT={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{xT[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const tC={};xT.transitional=function(e,n,r){function i(s,o){return"[Axios v"+SL+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new yt(i(o," has been removed"+(n?" in "+n:"")),yt.ERR_DEPRECATED);return n&&!tC[o]&&(tC[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};function cY(t,e,n){if(typeof t!="object")throw new yt("options must be an object",yt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],c=l===void 0||o(l,s,t);if(c!==!0)throw new yt("option "+s+" must be "+c,yt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new yt("Unknown option "+s,yt.ERR_BAD_OPTION)}}const nE={assertOptions:cY,validators:xT},Ro=nE.validators;class wg{constructor(e){this.defaults=e,this.interceptors={request:new QA,response:new QA}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ac(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&nE.assertOptions(r,{silentJSONParsing:Ro.transitional(Ro.boolean),forcedJSONParsing:Ro.transitional(Ro.boolean),clarifyTimeoutError:Ro.transitional(Ro.boolean)},!1),i!=null&&(ee.isFunction(i)?n.paramsSerializer={serialize:i}:nE.assertOptions(i,{encode:Ro.function,serialize:Ro.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&ee.merge(s.common,s[n.method]);s&&ee.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),n.headers=Qs.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(c=c&&E.synchronous,l.unshift(E.fulfilled,E.rejected))});const h=[];this.interceptors.response.forEach(function(E){h.push(E.fulfilled,E.rejected)});let f,p=0,m;if(!c){const v=[ZA.bind(this),void 0];for(v.unshift.apply(v,l),v.push.apply(v,h),m=v.length,f=Promise.resolve(n);p<m;)f=f.then(v[p++],v[p++]);return f}m=l.length;let y=n;for(p=0;p<m;){const v=l[p++],E=l[p++];try{y=v(y)}catch(R){E.call(this,R);break}}try{f=ZA.call(this,y)}catch(v){return Promise.reject(v)}for(p=0,m=h.length;p<m;)f=f.then(h[p++],h[p++]);return f}getUri(e){e=ac(this.defaults,e);const n=TL(e.baseURL,e.url);return vL(n,e.params,e.paramsSerializer)}}ee.forEach(["delete","get","head","options"],function(e){wg.prototype[e]=function(n,r){return this.request(ac(r||{},{method:e,url:n,data:(r||{}).data}))}});ee.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(ac(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}wg.prototype[e]=n(),wg.prototype[e+"Form"]=n(!0)});const Rm=wg;class RT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new Ed(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new RT(function(i){e=i}),cancel:e}}}const hY=RT;function fY(t){return function(n){return t.apply(null,n)}}function dY(t){return ee.isObject(t)&&t.isAxiosError===!0}const rE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rE).forEach(([t,e])=>{rE[e]=t});const pY=rE;function xL(t){const e=new Rm(t),n=oL(Rm.prototype.request,e);return ee.extend(n,Rm.prototype,e,{allOwnKeys:!0}),ee.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return xL(ac(t,i))},n}const Dn=xL(ST);Dn.Axios=Rm;Dn.CanceledError=Ed;Dn.CancelToken=hY;Dn.isCancel=EL;Dn.VERSION=SL;Dn.toFormData=Ey;Dn.AxiosError=yt;Dn.Cancel=Dn.CanceledError;Dn.all=function(e){return Promise.all(e)};Dn.spread=fY;Dn.isAxiosError=dY;Dn.mergeConfig=ac;Dn.AxiosHeaders=Qs;Dn.formToJSON=t=>wL(ee.isHTMLForm(t)?new FormData(t):t);Dn.getAdapter=IL.getAdapter;Dn.HttpStatusCode=pY;Dn.default=Dn;const RL=Dn,mY="https://pokeapi.co/api/v2/type/",gY="zh-Hant",nC=t=>RL(t).then(e=>e.data),yY=()=>{const t="pokemon_details",e=`query ${t} {
            pokemon_v2_pokemon(order_by: {id: asc}) {
                name
                id
                pokemon_v2_pokemonsprites {
                    id
                    sprites
                }
                pokemon_v2_pokemontypes {
                    pokemon_v2_type {
                        name
                    }
                }
            }
            pokemon_v2_pokemonspecies(order_by: {id: asc}) {
                name
                id
                pokemon_v2_pokemonspeciesnames {
                name
                language_id
                pokemon_v2_language {
                    name
                }
                }
            }
        }`;return Dk({queryKey:["pokemonInfo"],queryFn:()=>RL({method:"POST",url:"https://beta.pokeapi.co/graphql/v1beta",data:JSON.stringify({query:e,operationName:t})}),staleTime:1/0})},vY=()=>{var e;const t=Dk({queryKey:["AllTypes"],queryFn:()=>nC(mY)});return Kq({queries:(((e=t==null?void 0:t.data)==null?void 0:e.results)??[]).map(n=>{const{url:r}=n;return{queryKey:["TypeDetail",r],queryFn:()=>nC(r),enabled:!!r}})})},_Y=()=>{const{handleStoreAllPokemon:t,handleStoreAllTypes:e}=Or(),n=yY(),r=vY(),i=n.data&&!n.isError&!n.isLoading&&r.every(s=>!s.isLoading&&!s.isError&&s.data);x.useEffect(()=>{var h,f;if(!i)return;e(r);const{pokemon_v2_pokemon:s,pokemon_v2_pokemonspecies:o}=(f=(h=n.data)==null?void 0:h.data)==null?void 0:f.data,c=s.map(p=>{const m=o.find(y=>p.id===y.id);return{...p,...m}}).map((p,m)=>{const{id:y,name:v,pokemon_v2_pokemonspeciesnames:E,pokemon_v2_pokemonsprites:R,pokemon_v2_pokemontypes:T}=p;try{const I=E.map(O=>{const{name:D,pokemon_v2_language:N}=O;return{type:N.name,name:D}}),S=E.filter(O=>{var D;return((D=O==null?void 0:O.pokemon_v2_language)==null?void 0:D.name)===gY}),w=R.map(O=>{const{sprites:D}=O;return D.other["official-artwork"].front_default}),P=T.map(O=>{var Y;const{pokemon_v2_type:D}=O,N=md.filter(ie=>ie.enName===D.name)[0],K=r.filter(ie=>ie.data.name===N.enName)[0];return{...N,damage_relations:(Y=K==null?void 0:K.data)==null?void 0:Y.damage_relations}});return{pokeId:y,enName:v,zhName:S[0].name,allLanguage:I,sprite:w[0],Types:P,damage_relations:0}}catch{}});t(c)},[i])},rC=(t,e)=>{if(t.length===0)return[];const n=t.map(i=>{const s=i==null?void 0:i.Types.map(o=>{var c,h;return(e?((c=o==null?void 0:o.damage_relations)==null?void 0:c.double_damage_from)??[]:((h=o==null?void 0:o.damage_relations)==null?void 0:h.half_damage_from)??[]).map(f=>f==null?void 0:f.name)});return[].concat(...s)}),r=new Set(n[0]);return n.forEach(i=>{const s=new Set(i);r.forEach(o=>{s.has(o)||r.delete(o)})}),Array.from(r)},wY=()=>{const{selectImg:t,handleBestDamage:e}=Or();x.useEffect(()=>{const n=rC(t,!0),r=rC(t,!1),i=new Set(n);r.forEach(o=>{i.has(o)&&i.delete(o)});const s=md.filter(o=>{if(i.has(o.enName))return o});e(s)},[t])};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},EY=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},AL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,y=h&63;c||(y=64,o||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||p==null)throw new TY;const m=s<<2|l>>4;if(r.push(m),h!==64){const y=l<<4&240|h>>2;if(r.push(y),p!==64){const v=h<<6&192|p;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IY=function(t){const e=bL(t);return AL.encodeByteArray(e,!0)},Eg=function(t){return IY(t).replace(/\./g,"")},SY=function(t){try{return AL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Tg(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!xY(n)||(t[n]=Tg(t[n],e[n]));return t}function xY(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bY=()=>RY().__FIREBASE_DEFAULTS__,AY=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CY=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SY(t[1]);return e&&JSON.parse(e)},CL=()=>{try{return bY()||AY()||CY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PL=()=>{var t;return(t=CL())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Eg(JSON.stringify(n)),Eg(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DL(){var t;const e=(t=CL())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OY(){return typeof self=="object"&&self.self===self}function DY(){return!DL()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kL(){try{return typeof indexedDB=="object"}catch{return!1}}function kY(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NY="FirebaseError";class _a extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NY,Object.setPrototypeOf(this,_a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iy.prototype.create)}}class Iy{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?LY(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new _a(i,l,r)}}function LY(t,e){return t.replace(MY,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const MY=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function sE(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(sC(s)&&sC(o)){if(!sE(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function sC(t){return t!==null&&typeof t=="object"}function FY(t,e){const n=new VY(t,e);return n.subscribe.bind(n)}class VY{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$Y(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=m0),i.error===void 0&&(i.error=m0),i.complete===void 0&&(i.complete=m0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $Y(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function m0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class io{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jY{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new PY;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UY(e))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ua){return this.instances.has(e)}getOptions(e=Ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BY(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ua){return this.component?this.component.multipleInstances?e:Ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BY(t){return t===Ua?void 0:t}function UY(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jY(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=[];var mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mt||(mt={}));const NL={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},qY=mt.INFO,WY={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},KY=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WY[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class AT{constructor(e){this.name=e,this._logLevel=qY,this._logHandler=KY,this._userLogHandler=null,bT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}function HY(t){bT.forEach(e=>{e.setLogLevel(t)})}function GY(t,e){for(const n of bT){let r=null;e&&e.level&&(r=NL[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const l=o.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");s>=(r??i.logLevel)&&t({level:mt[s].toLowerCase(),message:l,args:o,type:i.name})}}}const QY=(t,e)=>e.some(n=>t instanceof n);let oC,aC;function YY(){return oC||(oC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XY(){return aC||(aC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LL=new WeakMap,oE=new WeakMap,ML=new WeakMap,g0=new WeakMap,CT=new WeakMap;function JY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Jo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&LL.set(n,t)}).catch(()=>{}),CT.set(e,t),e}function ZY(t){if(oE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});oE.set(t,e)}let aE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return oE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ML.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eX(t){aE=t(aE)}function tX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(y0(this),e,...n);return ML.set(r,e.sort?e.sort():[e]),Jo(r)}:XY().includes(t)?function(...e){return t.apply(y0(this),e),Jo(LL.get(this))}:function(...e){return Jo(t.apply(y0(this),e))}}function nX(t){return typeof t=="function"?tX(t):(t instanceof IDBTransaction&&ZY(t),QY(t,YY())?new Proxy(t,aE):t)}function Jo(t){if(t instanceof IDBRequest)return JY(t);if(g0.has(t))return g0.get(t);const e=nX(t);return e!==t&&(g0.set(t,e),CT.set(e,t)),e}const y0=t=>CT.get(t);function rX(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Jo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Jo(o.result),c.oldVersion,c.newVersion,Jo(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const iX=["get","getKey","getAll","getAllKeys","count"],sX=["put","add","delete","clear"],v0=new Map;function lC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(v0.get(e))return v0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iX.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&c.done]))[0]};return v0.set(e,s),s}eX(t=>({...t,get:(e,n,r)=>lC(e,n)||t.get(e,n,r),has:(e,n)=>!!lC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aX(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aX(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lE="@firebase/app",uC="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new AT("@firebase/app"),lX="@firebase/app-compat",uX="@firebase/analytics-compat",cX="@firebase/analytics",hX="@firebase/app-check-compat",fX="@firebase/app-check",dX="@firebase/auth",pX="@firebase/auth-compat",mX="@firebase/database",gX="@firebase/database-compat",yX="@firebase/functions",vX="@firebase/functions-compat",_X="@firebase/installations",wX="@firebase/installations-compat",EX="@firebase/messaging",TX="@firebase/messaging-compat",IX="@firebase/performance",SX="@firebase/performance-compat",xX="@firebase/remote-config",RX="@firebase/remote-config-compat",bX="@firebase/storage",AX="@firebase/storage-compat",CX="@firebase/firestore",PX="@firebase/firestore-compat",OX="firebase",DX="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="[DEFAULT]",kX={[lE]:"fire-core",[lX]:"fire-core-compat",[cX]:"fire-analytics",[uX]:"fire-analytics-compat",[fX]:"fire-app-check",[hX]:"fire-app-check-compat",[dX]:"fire-auth",[pX]:"fire-auth-compat",[mX]:"fire-rtdb",[gX]:"fire-rtdb-compat",[yX]:"fire-fn",[vX]:"fire-fn-compat",[_X]:"fire-iid",[wX]:"fire-iid-compat",[EX]:"fire-fcm",[TX]:"fire-fcm-compat",[IX]:"fire-perf",[SX]:"fire-perf-compat",[xX]:"fire-rc",[RX]:"fire-rc-compat",[bX]:"fire-gcs",[AX]:"fire-gcs-compat",[CX]:"fire-fst",[PX]:"fire-fst-compat","fire-js":"fire-js",[OX]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new Map,Ff=new Map;function Ig(t,e){try{t.container.addComponent(e)}catch(n){_l.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function FL(t,e){t.container.addOrOverwriteComponent(e)}function wl(t){const e=t.name;if(Ff.has(e))return _l.debug(`There were multiple attempts to register component ${e}.`),!1;Ff.set(e,t);for(const n of ia.values())Ig(n,t);return!0}function VL(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function NX(t,e,n=ra){VL(t,e).clearInstance(n)}function LX(){Ff.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ys=new Iy("app","Firebase",MX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FX=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=DX;function PT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ra,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ys.create("bad-app-name",{appName:String(i)});if(n||(n=PL()),!n)throw Ys.create("no-options");const s=ia.get(i);if(s){if(sE(n,s.options)&&sE(r,s.config))return s;throw Ys.create("duplicate-app",{appName:i})}const o=new zY(i);for(const c of Ff.values())o.addComponent(c);const l=new FX(n,r,o);return ia.set(i,l),l}function VX(t=ra){const e=ia.get(t);if(!e&&t===ra&&PL())return PT();if(!e)throw Ys.create("no-app",{appName:t});return e}function $X(){return Array.from(ia.values())}async function $L(t){const e=t.name;ia.has(e)&&(ia.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function vs(t,e,n){var r;let i=(r=kX[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_l.warn(l.join(" "));return}wl(new io(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function jL(t,e){if(t!==null&&typeof t!="function")throw Ys.create("invalid-log-argument");GY(t,e)}function BL(t){HY(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jX="firebase-heartbeat-database",BX=1,Vf="firebase-heartbeat-store";let _0=null;function UL(){return _0||(_0=rX(jX,BX,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vf)}}}).catch(t=>{throw Ys.create("idb-open",{originalErrorMessage:t.message})})),_0}async function UX(t){try{return await(await UL()).transaction(Vf).objectStore(Vf).get(zL(t))}catch(e){if(e instanceof _a)_l.warn(e.message);else{const n=Ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_l.warn(n.message)}}}async function cC(t,e){try{const r=(await UL()).transaction(Vf,"readwrite");await r.objectStore(Vf).put(e,zL(t)),await r.done}catch(n){if(n instanceof _a)_l.warn(n.message);else{const r=Ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_l.warn(r.message)}}}function zL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zX=1024,qX=30*24*60*60*1e3;class WX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=hC();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=qX}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=hC(),{heartbeatsToSend:n,unsentEntries:r}=KX(this._heartbeatsCache.heartbeats),i=Eg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function hC(){return new Date().toISOString().substring(0,10)}function KX(t,e=zX){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),fC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kL()?kY().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await UX(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function fC(t){return Eg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GX(t){wl(new io("platform-logger",e=>new oX(e),"PRIVATE")),wl(new io("heartbeat",e=>new WX(e),"PRIVATE")),vs(lE,uC,t),vs(lE,uC,"esm2017"),vs("fire-js","")}GX("");const QX=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:_a,SDK_VERSION:Sy,_DEFAULT_ENTRY_NAME:ra,_addComponent:Ig,_addOrOverwriteComponent:FL,_apps:ia,_clearComponents:LX,_components:Ff,_getProvider:VL,_registerComponent:wl,_removeServiceInstance:NX,deleteApp:$L,getApp:VX,getApps:$X,initializeApp:PT,onLog:jL,registerVersion:vs,setLogLevel:BL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YX{constructor(e,n){this._delegate=e,this.firebase=n,Ig(e,new io("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),$L(this._delegate)))}_getService(e,n=ra){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ra){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Ig(this._delegate,e)}_addOrOverwriteComponent(e){FL(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XX={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},dC=new Iy("app-compat","Firebase",XX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JX(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:vs,setLogLevel:BL,onLog:jL,apps:null,SDK_VERSION:Sy,INTERNAL:{registerComponent:l,removeApp:r,useAsService:c,modularAPIs:QX}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(h){delete e[h]}function i(h){if(h=h||ra,!iC(e,h))throw dC.create("no-app",{appName:h});return e[h]}i.App=t;function s(h,f={}){const p=PT(h,f);if(iC(e,p.name))return e[p.name];const m=new t(p,n);return e[p.name]=m,m}function o(){return Object.keys(e).map(h=>e[h])}function l(h){const f=h.name,p=f.replace("-compat","");if(wl(h)&&h.type==="PUBLIC"){const m=(y=i())=>{if(typeof y[p]!="function")throw dC.create("invalid-app-argument",{appName:f});return y[p]()};h.serviceProps!==void 0&&Tg(m,h.serviceProps),n[p]=m,t.prototype[p]=function(...y){return this._getService.bind(this,f).apply(this,h.multipleInstances?y:[])}}return h.type==="PUBLIC"?n[p]:null}function c(h,f){return f==="serverAuth"?null:f}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(){const t=JX(YX);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:qL,extendNamespace:e,createSubscribe:FY,ErrorFactory:Iy,deepExtend:Tg});function e(n){Tg(t,n)}return t}const ZX=qL();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new AT("@firebase/app-compat"),eJ="@firebase/app-compat",tJ="0.2.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nJ(t){vs(eJ,tJ,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(OY()&&self.firebase!==void 0){pC.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&pC.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Pc=ZX;nJ();var rJ="firebase",iJ="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pc.registerVersion(rJ,iJ,"app-compat");var sJ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_e,OT=OT||{},He=sJ||self;function xy(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Td(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function oJ(t){return Object.prototype.hasOwnProperty.call(t,w0)&&t[w0]||(t[w0]=++aJ)}var w0="closure_uid_"+(1e9*Math.random()>>>0),aJ=0;function lJ(t,e,n){return t.call.apply(t.bind,arguments)}function uJ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?dr=lJ:dr=uJ,dr.apply(null,arguments)}function Xp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Hn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[i].apply(r,o)}}function wa(){this.s=this.s,this.o=this.o}var cJ=0;wa.prototype.s=!1;wa.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),cJ!=0)&&oJ(this)};wa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const WL=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function DT(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function mC(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(xy(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function pr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}pr.prototype.h=function(){this.defaultPrevented=!0};var hJ=function(){if(!He.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{He.addEventListener("test",()=>{},e),He.removeEventListener("test",()=>{},e)}catch{}return t}();function $f(t){return/^[\s\xa0]*$/.test(t)}function Ry(){var t=He.navigator;return t&&(t=t.userAgent)?t:""}function as(t){return Ry().indexOf(t)!=-1}function kT(t){return kT[" "](t),t}kT[" "]=function(){};function fJ(t,e){var n=iZ;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var dJ=as("Opera"),lc=as("Trident")||as("MSIE"),KL=as("Edge"),uE=KL||lc,HL=as("Gecko")&&!(Ry().toLowerCase().indexOf("webkit")!=-1&&!as("Edge"))&&!(as("Trident")||as("MSIE"))&&!as("Edge"),pJ=Ry().toLowerCase().indexOf("webkit")!=-1&&!as("Edge");function GL(){var t=He.document;return t?t.documentMode:void 0}var cE;e:{var E0="",T0=function(){var t=Ry();if(HL)return/rv:([^\);]+)(\)|;)/.exec(t);if(KL)return/Edge\/([\d\.]+)/.exec(t);if(lc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(pJ)return/WebKit\/(\S+)/.exec(t);if(dJ)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(T0&&(E0=T0?T0[1]:""),lc){var I0=GL();if(I0!=null&&I0>parseFloat(E0)){cE=String(I0);break e}}cE=E0}var hE;if(He.document&&lc){var gC=GL();hE=gC||parseInt(cE,10)||void 0}else hE=void 0;var mJ=hE;function jf(t,e){if(pr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(HL){e:{try{kT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:gJ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&jf.$.h.call(this)}}Hn(jf,pr);var gJ={2:"touch",3:"pen",4:"mouse"};jf.prototype.h=function(){jf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Id="closure_listenable_"+(1e6*Math.random()|0),yJ=0;function vJ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++yJ,this.fa=this.ia=!1}function by(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function NT(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function _J(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function QL(t){const e={};for(const n in t)e[n]=t[n];return e}const yC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function YL(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<yC.length;s++)n=yC[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ay(t){this.src=t,this.g={},this.h=0}Ay.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=dE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new vJ(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function fE(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=WL(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(by(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function dE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var LT="closure_lm_"+(1e6*Math.random()|0),S0={};function XL(t,e,n,r,i){if(r&&r.once)return ZL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)XL(t,e[s],n,r,i);return null}return n=VT(n),t&&t[Id]?t.O(e,n,Td(r)?!!r.capture:!!r,i):JL(t,e,n,!1,r,i)}function JL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Td(i)?!!i.capture:!!i,l=FT(t);if(l||(t[LT]=l=new Ay(t)),n=l.add(e,n,r,o,s),n.proxy)return n;if(r=wJ(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)hJ||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(tM(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function wJ(){function t(n){return e.call(t.src,t.listener,n)}const e=EJ;return t}function ZL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ZL(t,e[s],n,r,i);return null}return n=VT(n),t&&t[Id]?t.P(e,n,Td(r)?!!r.capture:!!r,i):JL(t,e,n,!0,r,i)}function eM(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)eM(t,e[s],n,r,i);else r=Td(r)?!!r.capture:!!r,n=VT(n),t&&t[Id]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=dE(s,n,r,i),-1<n&&(by(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=FT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=dE(e,n,r,i)),(n=-1<t?e[t]:null)&&MT(n))}function MT(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Id])fE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(tM(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=FT(e))?(fE(n,t),n.h==0&&(n.src=null,e[LT]=null)):by(t)}}}function tM(t){return t in S0?S0[t]:S0[t]="on"+t}function EJ(t,e){if(t.fa)t=!0;else{e=new jf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&MT(t),t=n.call(r,e)}return t}function FT(t){return t=t[LT],t instanceof Ay?t:null}var x0="__closure_events_fn_"+(1e9*Math.random()>>>0);function VT(t){return typeof t=="function"?t:(t[x0]||(t[x0]=function(e){return t.handleEvent(e)}),t[x0])}function Kn(){wa.call(this),this.i=new Ay(this),this.S=this,this.J=null}Hn(Kn,wa);Kn.prototype[Id]=!0;Kn.prototype.removeEventListener=function(t,e,n,r){eM(this,t,e,n,r)};function rr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new pr(e,t);else if(e instanceof pr)e.target=e.target||t;else{var i=e;e=new pr(r,t),YL(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Jp(o,r,!0,e)&&i}if(o=e.g=t,i=Jp(o,r,!0,e)&&i,i=Jp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Jp(o,r,!1,e)&&i}Kn.prototype.N=function(){if(Kn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)by(n[r]);delete t.g[e],t.h--}}this.J=null};Kn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Kn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Jp(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var l=o.listener,c=o.la||o.src;o.ia&&fE(t.i,o),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var $T=He.JSON.stringify;class TJ{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function IJ(){var t=jT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class SJ{constructor(){this.h=this.g=null}add(e,n){const r=nM.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var nM=new TJ(()=>new xJ,t=>t.reset());class xJ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function RJ(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function bJ(t){He.setTimeout(()=>{throw t},0)}let Bf,Uf=!1,jT=new SJ,rM=()=>{const t=He.Promise.resolve(void 0);Bf=()=>{t.then(AJ)}};var AJ=()=>{for(var t;t=IJ();){try{t.h.call(t.g)}catch(n){bJ(n)}var e=nM;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Uf=!1};function Cy(t,e){Kn.call(this),this.h=t||1,this.g=e||He,this.j=dr(this.qb,this),this.l=Date.now()}Hn(Cy,Kn);_e=Cy.prototype;_e.ga=!1;_e.T=null;_e.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rr(this,"tick"),this.ga&&(BT(this),this.start()))}};_e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function BT(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}_e.N=function(){Cy.$.N.call(this),BT(this),delete this.g};function UT(t,e,n){if(typeof t=="function")n&&(t=dr(t,n));else if(t&&typeof t.handleEvent=="function")t=dr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:He.setTimeout(t,e||0)}function iM(t){t.g=UT(()=>{t.g=null,t.i&&(t.i=!1,iM(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class CJ extends wa{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:iM(this)}N(){super.N(),this.g&&(He.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zf(t){wa.call(this),this.h=t,this.g={}}Hn(zf,wa);var vC=[];function sM(t,e,n,r){Array.isArray(n)||(n&&(vC[0]=n.toString()),n=vC);for(var i=0;i<n.length;i++){var s=XL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function oM(t){NT(t.g,function(e,n){this.g.hasOwnProperty(n)&&MT(e)},t),t.g={}}zf.prototype.N=function(){zf.$.N.call(this),oM(this)};zf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Py(){this.g=!0}Py.prototype.Ea=function(){this.g=!1};function PJ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var f=h[0];h=h[1];var p=f.split("_");o=2<=p.length&&p[1]=="type"?o+(f+"="+h+"&"):o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function OJ(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Nu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+kJ(t,n)+(r?" "+r:"")})}function DJ(t,e){t.info(function(){return"TIMEOUT: "+e})}Py.prototype.info=function(){};function kJ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return $T(n)}catch{return e}}var Ml={},_C=null;function Oy(){return _C=_C||new Kn}Ml.Ta="serverreachability";function aM(t){pr.call(this,Ml.Ta,t)}Hn(aM,pr);function qf(t){const e=Oy();rr(e,new aM(e))}Ml.STAT_EVENT="statevent";function lM(t,e){pr.call(this,Ml.STAT_EVENT,t),this.stat=e}Hn(lM,pr);function Sr(t){const e=Oy();rr(e,new lM(e,t))}Ml.Ua="timingevent";function uM(t,e){pr.call(this,Ml.Ua,t),this.size=e}Hn(uM,pr);function Sd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return He.setTimeout(function(){t()},e)}var Dy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},cM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function zT(){}zT.prototype.h=null;function wC(t){return t.h||(t.h=t.i())}function hM(){}var xd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qT(){pr.call(this,"d")}Hn(qT,pr);function WT(){pr.call(this,"c")}Hn(WT,pr);var pE;function ky(){}Hn(ky,zT);ky.prototype.g=function(){return new XMLHttpRequest};ky.prototype.i=function(){return{}};pE=new ky;function Rd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new zf(this),this.P=NJ,t=uE?125:void 0,this.V=new Cy(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new fM}function fM(){this.i=null,this.g="",this.h=!1}var NJ=45e3,mE={},Sg={};_e=Rd.prototype;_e.setTimeout=function(t){this.P=t};function gE(t,e,n){t.L=1,t.v=Ly(so(e)),t.s=n,t.S=!0,dM(t,null)}function dM(t,e){t.G=Date.now(),bd(t),t.A=so(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),EM(n.i,"t",r),t.C=0,n=t.l.J,t.h=new fM,t.g=UM(t.l,n?e:null,!t.s),0<t.O&&(t.M=new CJ(dr(t.Pa,t,t.g),t.O)),sM(t.U,t.g,"readystatechange",t.nb),e=t.I?QL(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),qf(),PJ(t.j,t.u,t.A,t.m,t.W,t.s)}_e.nb=function(t){t=t.target;const e=this.M;e&&cs(t)==3?e.l():this.Pa(t)};_e.Pa=function(t){try{if(t==this.g)e:{const f=cs(this.g);var e=this.g.Ia();const p=this.g.da();if(!(3>f)&&(f!=3||uE||this.g&&(this.h.h||this.g.ja()||SC(this.g)))){this.J||f!=4||e==7||(e==8||0>=p?qf(3):qf(2)),Ny(this);var n=this.g.da();this.ca=n;t:if(pM(this)){var r=SC(this.g);t="";var i=r.length,s=cs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tl(this),rf(this);var o="";break t}this.h.i=new He.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,OJ(this.j,this.u,this.A,this.m,this.W,f,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$f(l)){var h=l;break t}}h=null}if(n=h)Nu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yE(this,n);else{this.i=!1,this.o=3,Sr(12),tl(this),rf(this);break e}}this.S?(mM(this,f,o),uE&&this.i&&f==3&&(sM(this.U,this.V,"tick",this.mb),this.V.start())):(Nu(this.j,this.m,o,null),yE(this,o)),f==4&&tl(this),this.i&&!this.J&&(f==4?VM(this.l,this):(this.i=!1,bd(this)))}else tZ(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Sr(12)):(this.o=0,Sr(13)),tl(this),rf(this)}}}catch{}finally{}};function pM(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function mM(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=LJ(t,n),i==Sg){e==4&&(t.o=4,Sr(14),r=!1),Nu(t.j,t.m,null,"[Incomplete Response]");break}else if(i==mE){t.o=4,Sr(15),Nu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Nu(t.j,t.m,i,null),yE(t,i);pM(t)&&i!=Sg&&i!=mE&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Sr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),XT(e),e.M=!0,Sr(11))):(Nu(t.j,t.m,n,"[Invalid Chunked Response]"),tl(t),rf(t))}_e.mb=function(){if(this.g){var t=cs(this.g),e=this.g.ja();this.C<e.length&&(Ny(this),mM(this,t,e),this.i&&t!=4&&bd(this))}};function LJ(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Sg:(n=Number(e.substring(n,r)),isNaN(n)?mE:(r+=1,r+n>e.length?Sg:(e=e.slice(r,r+n),t.C=r+n,e)))}_e.cancel=function(){this.J=!0,tl(this)};function bd(t){t.Y=Date.now()+t.P,gM(t,t.P)}function gM(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Sd(dr(t.lb,t),e)}function Ny(t){t.B&&(He.clearTimeout(t.B),t.B=null)}_e.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(DJ(this.j,this.A),this.L!=2&&(qf(),Sr(17)),tl(this),this.o=2,rf(this)):gM(this,this.Y-t)};function rf(t){t.l.H==0||t.J||VM(t.l,t)}function tl(t){Ny(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,BT(t.V),oM(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function yE(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||vE(n.i,t))){if(!t.K&&vE(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)bg(n),$y(n);else break e;YT(n),Sr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Sd(dr(n.ib,n),6e3));if(1>=SM(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else nl(n,11)}else if((t.K||n.g==t)&&bg(n),!$f(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.K=h[1],n.pa=h[2];const f=h[3];f!=null&&(n.ra=f,n.l.info("VER="+n.ra));const p=h[4];p!=null&&(n.Ga=p,n.l.info("SVER="+n.Ga));const m=h[5];m!=null&&typeof m=="number"&&0<m&&(r=1.5*m,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=t.g;if(y){const v=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(KT(s,s.h),s.h=null))}if(r.F){const E=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,Ht(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=BM(r,r.J?r.pa:null,r.Y),o.K){xM(r.i,o);var l=o,c=r.L;c&&l.setTimeout(c),l.B&&(Ny(l),bd(l)),r.g=o}else MM(r);0<n.j.length&&jy(n)}else h[0]!="stop"&&h[0]!="close"||nl(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?nl(n,7):QT(n):h[0]!="noop"&&n.h&&n.h.Aa(h),n.A=0)}}qf(4)}catch{}}function MJ(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(xy(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function FJ(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(xy(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function yM(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(xy(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=FJ(t),r=MJ(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var vM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VJ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ll(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ll){this.h=t.h,xg(this,t.j),this.s=t.s,this.g=t.g,Rg(this,t.m),this.l=t.l;var e=t.i,n=new Wf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),EC(this,n),this.o=t.o}else t&&(e=String(t).match(vM))?(this.h=!1,xg(this,e[1]||"",!0),this.s=Vh(e[2]||""),this.g=Vh(e[3]||"",!0),Rg(this,e[4]),this.l=Vh(e[5]||"",!0),EC(this,e[6]||"",!0),this.o=Vh(e[7]||"")):(this.h=!1,this.i=new Wf(null,this.h))}ll.prototype.toString=function(){var t=[],e=this.j;e&&t.push($h(e,TC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push($h(e,TC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push($h(n,n.charAt(0)=="/"?BJ:jJ,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$h(n,zJ)),t.join("")};function so(t){return new ll(t)}function xg(t,e,n){t.j=n?Vh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Rg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function EC(t,e,n){e instanceof Wf?(t.i=e,qJ(t.i,t.h)):(n||(e=$h(e,UJ)),t.i=new Wf(e,t.h))}function Ht(t,e,n){t.i.set(e,n)}function Ly(t){return Ht(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Vh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $h(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,$J),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $J(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var TC=/[#\/\?@]/g,jJ=/[#\?:]/g,BJ=/[#\?]/g,UJ=/[#\?@]/g,zJ=/#/g;function Wf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ea(t){t.g||(t.g=new Map,t.h=0,t.i&&VJ(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}_e=Wf.prototype;_e.add=function(t,e){Ea(this),this.i=null,t=Oc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function _M(t,e){Ea(t),e=Oc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function wM(t,e){return Ea(t),e=Oc(t,e),t.g.has(e)}_e.forEach=function(t,e){Ea(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};_e.ta=function(){Ea(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};_e.Z=function(t){Ea(this);let e=[];if(typeof t=="string")wM(this,t)&&(e=e.concat(this.g.get(Oc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};_e.set=function(t,e){return Ea(this),this.i=null,t=Oc(this,t),wM(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};_e.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function EM(t,e,n){_M(t,e),0<n.length&&(t.i=null,t.g.set(Oc(t,e),DT(n)),t.h+=n.length)}_e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Oc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function qJ(t,e){e&&!t.j&&(Ea(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(_M(this,r),EM(this,i,n))},t)),t.j=e}var WJ=class{constructor(t,e){this.g=t,this.map=e}};function TM(t){this.l=t||KJ,He.PerformanceNavigationTiming?(t=He.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(He.g&&He.g.Ka&&He.g.Ka()&&He.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var KJ=10;function IM(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function SM(t){return t.h?1:t.g?t.g.size:0}function vE(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function KT(t,e){t.g?t.g.add(e):t.h=e}function xM(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}TM.prototype.cancel=function(){if(this.i=RM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function RM(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return DT(t.i)}var HJ=class{stringify(t){return He.JSON.stringify(t,void 0)}parse(t){return He.JSON.parse(t,void 0)}};function GJ(){this.g=new HJ}function QJ(t,e,n){const r=n||"";try{yM(t,function(i,s){let o=i;Td(i)&&(o=$T(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function YJ(t,e){const n=new Py;if(He.Image){const r=new Image;r.onload=Xp(Zp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Xp(Zp,n,r,"TestLoadImage: error",!1,e),r.onabort=Xp(Zp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Xp(Zp,n,r,"TestLoadImage: timeout",!1,e),He.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Zp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function My(t){this.l=t.ec||null,this.j=t.ob||!1}Hn(My,zT);My.prototype.g=function(){return new Fy(this.l,this.j)};My.prototype.i=function(t){return function(){return t}}({});function Fy(t,e){Kn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=HT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hn(Fy,Kn);var HT=0;_e=Fy.prototype;_e.open=function(t,e){if(this.readyState!=HT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Kf(this)};_e.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||He).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};_e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ad(this)),this.readyState=HT};_e.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Kf(this)),this.g&&(this.readyState=3,Kf(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof He.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bM(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function bM(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}_e.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ad(this):Kf(this),this.readyState==3&&bM(this)}};_e.Za=function(t){this.g&&(this.response=this.responseText=t,Ad(this))};_e.Ya=function(t){this.g&&(this.response=t,Ad(this))};_e.ka=function(){this.g&&Ad(this)};function Ad(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Kf(t)}_e.setRequestHeader=function(t,e){this.v.append(t,e)};_e.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};_e.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Kf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Fy.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var XJ=He.JSON.parse;function En(t){Kn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=AM,this.L=this.M=!1}Hn(En,Kn);var AM="",JJ=/^https?$/i,ZJ=["POST","PUT"];_e=En.prototype;_e.Oa=function(t){this.M=t};_e.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():pE.g(),this.C=this.u?wC(this.u):wC(pE),this.g.onreadystatechange=dr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){IC(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=He.FormData&&t instanceof He.FormData,!(0<=WL(ZJ,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{OM(this),0<this.B&&((this.L=eZ(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dr(this.ua,this)):this.A=UT(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){IC(this,s)}};function eZ(t){return lc&&typeof t.timeout=="number"&&t.ontimeout!==void 0}_e.ua=function(){typeof OT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rr(this,"timeout"),this.abort(8))};function IC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,CM(t),Vy(t)}function CM(t){t.F||(t.F=!0,rr(t,"complete"),rr(t,"error"))}_e.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rr(this,"complete"),rr(this,"abort"),Vy(this))};_e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vy(this,!0)),En.$.N.call(this)};_e.La=function(){this.s||(this.G||this.v||this.l?PM(this):this.kb())};_e.kb=function(){PM(this)};function PM(t){if(t.h&&typeof OT<"u"&&(!t.C[1]||cs(t)!=4||t.da()!=2)){if(t.v&&cs(t)==4)UT(t.La,0,t);else if(rr(t,"readystatechange"),cs(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(vM)[1]||null;!i&&He.self&&He.self.location&&(i=He.self.location.protocol.slice(0,-1)),r=!JJ.test(i?i.toLowerCase():"")}n=r}if(n)rr(t,"complete"),rr(t,"success");else{t.m=6;try{var s=2<cs(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",CM(t)}}finally{Vy(t)}}}}function Vy(t,e){if(t.g){OM(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||rr(t,"ready");try{n.onreadystatechange=r}catch{}}}function OM(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(He.clearTimeout(t.A),t.A=null)}_e.isActive=function(){return!!this.g};function cs(t){return t.g?t.g.readyState:0}_e.da=function(){try{return 2<cs(this)?this.g.status:-1}catch{return-1}};_e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};_e.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),XJ(e)}};function SC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case AM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function tZ(t){const e={};t=(t.g&&2<=cs(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if($f(t[r]))continue;var n=RJ(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}_J(e,function(r){return r.join(", ")})}_e.Ia=function(){return this.m};_e.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function DM(t){let e="";return NT(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function GT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=DM(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ht(t,e,n))}function Ih(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function kM(t){this.Ga=0,this.j=[],this.l=new Py,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ih("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ih("baseRetryDelayMs",5e3,t),this.hb=Ih("retryDelaySeedMs",1e4,t),this.eb=Ih("forwardChannelMaxRetries",2,t),this.xa=Ih("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new TM(t&&t.concurrentRequestLimit),this.Ja=new GJ,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}_e=kM.prototype;_e.ra=8;_e.H=1;function QT(t){if(NM(t),t.H==3){var e=t.W++,n=so(t.I);if(Ht(n,"SID",t.K),Ht(n,"RID",e),Ht(n,"TYPE","terminate"),Cd(t,n),e=new Rd(t,t.l,e),e.L=2,e.v=Ly(so(n)),n=!1,He.navigator&&He.navigator.sendBeacon)try{n=He.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&He.Image&&(new Image().src=e.v,n=!0),n||(e.g=UM(e.l,null),e.g.ha(e.v)),e.G=Date.now(),bd(e)}jM(t)}function $y(t){t.g&&(XT(t),t.g.cancel(),t.g=null)}function NM(t){$y(t),t.u&&(He.clearTimeout(t.u),t.u=null),bg(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&He.clearTimeout(t.m),t.m=null)}function jy(t){if(!IM(t.i)&&!t.m){t.m=!0;var e=t.Na;Bf||rM(),Uf||(Bf(),Uf=!0),jT.add(e,t),t.C=0}}function nZ(t,e){return SM(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Sd(dr(t.Na,t,e),$M(t,t.C)),t.C++,!0)}_e.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Rd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=QL(s),YL(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=LM(this,i,e),n=so(this.I),Ht(n,"RID",t),Ht(n,"CVER",22),this.F&&Ht(n,"X-HTTP-Session-Id",this.F),Cd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(DM(s)))+"&"+e:this.o&&GT(n,this.o,s)),KT(this.i,i),this.bb&&Ht(n,"TYPE","init"),this.P?(Ht(n,"$req",e),Ht(n,"SID","null"),i.aa=!0,gE(i,n,null)):gE(i,n,e),this.H=2}}else this.H==3&&(t?xC(this,t):this.j.length==0||IM(this.i)||xC(this))};function xC(t,e){var n;e?n=e.m:n=t.W++;const r=so(t.I);Ht(r,"SID",t.K),Ht(r,"RID",n),Ht(r,"AID",t.V),Cd(t,r),t.o&&t.s&&GT(r,t.o,t.s),n=new Rd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=LM(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),KT(t.i,n),gE(n,r,e)}function Cd(t,e){t.na&&NT(t.na,function(n,r){Ht(e,r,n)}),t.h&&yM({},function(n,r){Ht(e,r,n)})}function LM(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let c=0;c<n;c++){let h=i[c].g;const f=i[c].map;if(h-=s,0>h)s=Math.max(0,i[c].g-100),l=!1;else try{QJ(f,o,"req"+h+"_")}catch{r&&r(f)}}if(l){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function MM(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Bf||rM(),Uf||(Bf(),Uf=!0),jT.add(e,t),t.A=0}}function YT(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Sd(dr(t.Ma,t),$M(t,t.A)),t.A++,!0)}_e.Ma=function(){if(this.u=null,FM(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Sd(dr(this.jb,this),t)}};_e.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Sr(10),$y(this),FM(this))};function XT(t){t.B!=null&&(He.clearTimeout(t.B),t.B=null)}function FM(t){t.g=new Rd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=so(t.wa);Ht(e,"RID","rpc"),Ht(e,"SID",t.K),Ht(e,"AID",t.V),Ht(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ht(e,"TO",t.qa),Ht(e,"TYPE","xmlhttp"),Cd(t,e),t.o&&t.s&&GT(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Ly(so(e)),n.s=null,n.S=!0,dM(n,t)}_e.ib=function(){this.v!=null&&(this.v=null,$y(this),YT(this),Sr(19))};function bg(t){t.v!=null&&(He.clearTimeout(t.v),t.v=null)}function VM(t,e){var n=null;if(t.g==e){bg(t),XT(t),t.g=null;var r=2}else if(vE(t.i,e))n=e.F,xM(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Oy(),rr(r,new uM(r,n)),jy(t)}else MM(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&nZ(t,e)||r==2&&YT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:nl(t,5);break;case 4:nl(t,10);break;case 3:nl(t,6);break;default:nl(t,2)}}}function $M(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function nl(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=dr(t.pb,t);n||(n=new ll("//www.google.com/images/cleardot.gif"),He.location&&He.location.protocol=="http"||xg(n,"https"),Ly(n)),YJ(n.toString(),r)}else Sr(2);t.H=0,t.h&&t.h.za(e),jM(t),NM(t)}_e.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Sr(2)):(this.l.info("Failed to ping google.com"),Sr(1))};function jM(t){if(t.H=0,t.ma=[],t.h){const e=RM(t.i);(e.length!=0||t.j.length!=0)&&(mC(t.ma,e),mC(t.ma,t.j),t.i.i.length=0,DT(t.j),t.j.length=0),t.h.ya()}}function BM(t,e,n){var r=n instanceof ll?so(n):new ll(n);if(r.g!="")e&&(r.g=e+"."+r.g),Rg(r,r.m);else{var i=He.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ll(null);r&&xg(s,r),e&&(s.g=e),i&&Rg(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ht(r,n,e),Ht(r,"VER",t.ra),Cd(t,r),r}function UM(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new En(new My({ob:!0})):new En(t.va),e.Oa(t.J),e}_e.isActive=function(){return!!this.h&&this.h.isActive(this)};function zM(){}_e=zM.prototype;_e.Ba=function(){};_e.Aa=function(){};_e.za=function(){};_e.ya=function(){};_e.isActive=function(){return!0};_e.Va=function(){};function Ag(){if(lc&&!(10<=Number(mJ)))throw Error("Environmental error: no available transport.")}Ag.prototype.g=function(t,e){return new oi(t,e)};function oi(t,e){Kn.call(this),this.g=new kM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!$f(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$f(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Dc(this)}Hn(oi,Kn);oi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Sr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=BM(t,null,t.Y),jy(t)};oi.prototype.close=function(){QT(this.g)};oi.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=$T(t),t=n);e.j.push(new WJ(e.fb++,t)),e.H==3&&jy(e)};oi.prototype.N=function(){this.g.h=null,delete this.j,QT(this.g),delete this.g,oi.$.N.call(this)};function qM(t){qT.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Hn(qM,qT);function WM(){WT.call(this),this.status=1}Hn(WM,WT);function Dc(t){this.g=t}Hn(Dc,zM);Dc.prototype.Ba=function(){rr(this.g,"a")};Dc.prototype.Aa=function(t){rr(this.g,new qM(t))};Dc.prototype.za=function(t){rr(this.g,new WM)};Dc.prototype.ya=function(){rr(this.g,"b")};function rZ(){this.blockSize=-1}function Yi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Hn(Yi,rZ);Yi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function R0(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Yi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)R0(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){R0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){R0(this,r),i=0;break}}this.h=i,this.i+=e};Yi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Dt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var iZ={};function JT(t){return-128<=t&&128>t?fJ(t,function(e){return new Dt([e|0],0>e?-1:0)}):new Dt([t|0],0>t?-1:0)}function hs(t){if(isNaN(t)||!isFinite(t))return zu;if(0>t)return er(hs(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=_E;return new Dt(e,0)}function KM(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return er(KM(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=hs(Math.pow(e,8)),r=zu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=hs(Math.pow(e,s)),r=r.R(s).add(hs(o))):(r=r.R(n),r=r.add(hs(o)))}return r}var _E=4294967296,zu=JT(0),wE=JT(1),RC=JT(16777216);_e=Dt.prototype;_e.ea=function(){if(Ti(this))return-er(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:_E+r)*e,e*=_E}return t};_e.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(zs(this))return"0";if(Ti(this))return"-"+er(this).toString(t);for(var e=hs(Math.pow(t,6)),n=this,r="";;){var i=Pg(n,e).g;n=Cg(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,zs(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};_e.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function zs(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ti(t){return t.h==-1}_e.X=function(t){return t=Cg(this,t),Ti(t)?-1:zs(t)?0:1};function er(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Dt(n,~t.h).add(wE)}_e.abs=function(){return Ti(this)?er(this):this};_e.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Dt(n,n[n.length-1]&-2147483648?-1:0)};function Cg(t,e){return t.add(er(e))}_e.R=function(t){if(zs(this)||zs(t))return zu;if(Ti(this))return Ti(t)?er(this).R(er(t)):er(er(this).R(t));if(Ti(t))return er(this.R(er(t)));if(0>this.X(RC)&&0>t.X(RC))return hs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,l=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,em(n,2*r+2*i),n[2*r+2*i+1]+=s*c,em(n,2*r+2*i+1),n[2*r+2*i+1]+=o*l,em(n,2*r+2*i+1),n[2*r+2*i+2]+=s*l,em(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Dt(n,0)};function em(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Sh(t,e){this.g=t,this.h=e}function Pg(t,e){if(zs(e))throw Error("division by zero");if(zs(t))return new Sh(zu,zu);if(Ti(t))return e=Pg(er(t),e),new Sh(er(e.g),er(e.h));if(Ti(e))return e=Pg(t,er(e)),new Sh(er(e.g),e.h);if(30<t.g.length){if(Ti(t)||Ti(e))throw Error("slowDivide_ only works with positive integers.");for(var n=wE,r=e;0>=r.X(t);)n=bC(n),r=bC(r);var i=au(n,1),s=au(r,1);for(r=au(r,2),n=au(n,2);!zs(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=au(r,1),n=au(n,1)}return e=Cg(t,i.R(e)),new Sh(i,e)}for(i=zu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=hs(n),o=s.R(e);Ti(o)||0<o.X(t);)n-=r,s=hs(n),o=s.R(e);zs(s)&&(s=wE),i=i.add(s),t=Cg(t,o)}return new Sh(i,t)}_e.gb=function(t){return Pg(this,t).h};_e.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Dt(n,this.h&t.h)};_e.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Dt(n,this.h|t.h)};_e.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Dt(n,this.h^t.h)};function bC(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Dt(n,t.h)}function au(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Dt(i,t.h)}Ag.prototype.createWebChannel=Ag.prototype.g;oi.prototype.send=oi.prototype.u;oi.prototype.open=oi.prototype.m;oi.prototype.close=oi.prototype.close;Dy.NO_ERROR=0;Dy.TIMEOUT=8;Dy.HTTP_ERROR=6;cM.COMPLETE="complete";hM.EventType=xd;xd.OPEN="a";xd.CLOSE="b";xd.ERROR="c";xd.MESSAGE="d";Kn.prototype.listen=Kn.prototype.O;En.prototype.listenOnce=En.prototype.P;En.prototype.getLastError=En.prototype.Sa;En.prototype.getLastErrorCode=En.prototype.Ia;En.prototype.getStatus=En.prototype.da;En.prototype.getResponseJson=En.prototype.Wa;En.prototype.getResponseText=En.prototype.ja;En.prototype.send=En.prototype.ha;En.prototype.setWithCredentials=En.prototype.Oa;Yi.prototype.digest=Yi.prototype.l;Yi.prototype.reset=Yi.prototype.reset;Yi.prototype.update=Yi.prototype.j;Dt.prototype.add=Dt.prototype.add;Dt.prototype.multiply=Dt.prototype.R;Dt.prototype.modulo=Dt.prototype.gb;Dt.prototype.compare=Dt.prototype.X;Dt.prototype.toNumber=Dt.prototype.ea;Dt.prototype.toString=Dt.prototype.toString;Dt.prototype.getBits=Dt.prototype.D;Dt.fromNumber=hs;Dt.fromString=KM;var sZ=function(){return new Ag},oZ=function(){return Oy()},b0=Dy,aZ=cM,lZ=Ml,AC={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tm=hM,uZ=En,cZ=Yi,qu=Dt;const CC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new AT("@firebase/firestore");function mu(){return sa.logLevel}function hZ(t){sa.setLogLevel(t)}function re(t,...e){if(sa.logLevel<=mt.DEBUG){const n=e.map(ZT);sa.debug(`Firestore (${kc}): ${t}`,...n)}}function An(t,...e){if(sa.logLevel<=mt.ERROR){const n=e.map(ZT);sa.error(`Firestore (${kc}): ${t}`,...n)}}function Xi(t,...e){if(sa.logLevel<=mt.WARN){const n=e.map(ZT);sa.warn(`Firestore (${kc}): ${t}`,...n)}}function ZT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t="Unexpected state"){const e=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: `+t;throw An(e),new Error(e)}function ke(t,e){t||Ie()}function fZ(t,e){t||Ie()}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends _a{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zn.UNAUTHENTICATED))}shutdown(){}}class pZ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mZ{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Wn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new HM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new zn(e)}}class gZ{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yZ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new gZ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vZ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _Z{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new vZ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wZ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=wZ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Je(t,e){return t<e?-1:t>e?1:0}function uc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function QM(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.timestamp=e}static fromTimestamp(e){return new De(e)}static min(){return new De(new rn(0,0))}static max(){return new De(new rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(),r===void 0?r=e.length-n:r>e.length-n&&Ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class vt extends Hf{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const EZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends Hf{construct(e,n,r){return new wn(e,n,r)}static isValidIdentifier(e){return EZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new te(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new te(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(n)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(vt.fromString(e))}static fromName(e){return new de(vt.fromString(e).popFirst(5))}static empty(){return new de(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function EE(t){return t.fields.find(e=>e.kind===2)}function za(t){return t.fields.filter(e=>e.kind!==2)}Og.UNKNOWN_ID=-1;class bm{constructor(e,n){this.fieldPath=e,this.kind=n}}class Gf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Gf(0,ai.min())}}function YM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new rn(n+1,0):new rn(n,r));return new ai(i,de.empty(),e)}function XM(t){return new ai(t.readTime,t.key,-1)}class ai{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ai(De.min(),de.empty(),-1)}static max(){return new ai(De.max(),de.empty(),-1)}}function eI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==JM)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const h=c;n(e[h]).next(f=>{o[h]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.m=new Wn,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{n.error?this.m.reject(new sf(e,n.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=tI(r.target.error);this.m.reject(new sf(e,i))}}static open(e,n,r,i){try{return new By(n,e.transaction(i,r))}catch(s){throw new sf(n,s)}}get g(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}p(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new IZ(n)}}class qi{constructor(e,n,r){this.name=e,this.version=n,this.S=r,qi.D(iE())===12.2&&An("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return re("SimpleDb","Removing database:",e),qa(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!kL())return!1;if(qi.v())return!0;const e=iE(),n=qi.D(e),r=0<n&&n<10,i=qi.F(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.M)==="YES"}static O(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static F(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async N(e){return this.db||(re("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new sf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new te(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new te(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new sf(e,o))},i.onupgradeneeded=s=>{re("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.S.B(o,i.transaction,s.oldVersion,this.version).next(()=>{re("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.N(e);const l=By.open(this.db,e,s?"readonly":"readwrite",r),c=i(l).next(h=>(l.p(),h)).catch(h=>(l.abort(h),U.reject(h))).toPromise();return c.catch(()=>{}),await l.g,c}catch(l){const c=l,h=c.name!=="FirebaseError"&&o<3;if(re("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),this.close(),!h)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class TZ{constructor(e){this.q=e,this.K=!1,this.$=null}get isDone(){return this.K}get U(){return this.$}set cursor(e){this.q=e}done(){this.K=!0}W(e){this.$=e}delete(){return qa(this.q.delete())}}class sf extends te{constructor(e,n){super(W.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ia(t){return t.name==="IndexedDbTransactionError"}class IZ{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(re("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(re("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),qa(r)}add(e){return re("SimpleDb","ADD",this.store.name,e,e),qa(this.store.add(e))}get(e){return qa(this.store.get(e)).next(n=>(n===void 0&&(n=null),re("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return re("SimpleDb","DELETE",this.store.name,e),qa(this.store.delete(e))}count(){return re("SimpleDb","COUNT",this.store.name),qa(this.store.count())}G(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.j(i,(o,l)=>{s.push(l)}).next(()=>s)}{const i=this.store.getAll(r.range);return new U((s,o)=>{i.onerror=l=>{o(l.target.error)},i.onsuccess=l=>{s(l.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new U((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}J(e,n){re("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.j(i,(s,o,l)=>l.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.j(i,n)}X(e){const n=this.cursor({});return new U((r,i)=>{n.onerror=s=>{const o=tI(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():r()}):r()}})}j(e,n){const r=[];return new U((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void i();const c=new TZ(l),h=n(l.primaryKey,l.value,c);if(h instanceof U){const f=h.catch(p=>(c.done(),U.reject(p)));r.push(f)}c.isDone?i():c.U===null?l.continue():l.continue(c.U)}}).next(()=>U.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function qa(t){return new U((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=tI(r.target.error);n(i)}})}let PC=!1;function tI(t){const e=qi.D(iE());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return PC||(PC=!0,setTimeout(()=>{throw r},0)),r}}return t}class SZ{constructor(e,n){this.asyncQueue=e,this.ee=n,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){re("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{re("IndexBackiller",`Documents written: ${await this.ee.ne()}`)}catch(n){Ia(n)?re("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Ta(n)}await this.te(6e4)})}}class xZ{constructor(e,n){this.localStore=e,this.persistence=n}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.re(n,e))}re(e,n){const r=new Set;let i=n,s=!0;return U.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return re("IndexBackiller",`Processing collection: ${o}`),this.ie(e,o,i).next(l=>{i-=l,r.add(o)});s=!1})).next(()=>n-i)}ie(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.se(i,s)).next(l=>(re("IndexBackiller",`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l))).next(()=>o.size)}))}se(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=XM(s);eI(o,r)>0&&(r=o)}),new ai(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$r.ae=-1;function Pd(t){return t==null}function Qf(t){return t===0&&1/t==-1/0}function eF(t){return typeof t=="number"&&Number.isInteger(t)&&!Qf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=OC(e)),e=RZ(t.get(n),e);return OC(e)}function RZ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function OC(t){return t+""}function fs(t){const e=t.length;if(ke(e>=2),e===2)return ke(t.charAt(0)===""&&t.charAt(1)===""),vt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&Ie(),t.charAt(o+1)){case"":const l=t.substring(s,o);let c;i.length===0?c=l:(i+=l,c=i,i=""),r.push(c);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Ie()}s=o+2}return new vt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t,e){return[t,Rr(e)]}function tF(t,e,n){return[t,Rr(e),n]}const bZ={},AZ=["prefixPath","collectionGroup","readTime","documentId"],CZ=["prefixPath","collectionGroup","documentId"],PZ=["collectionGroup","readTime","prefixPath","documentId"],OZ=["canonicalId","targetId"],DZ=["targetId","path"],kZ=["path","targetId"],NZ=["collectionId","parent"],LZ=["indexId","uid"],MZ=["uid","sequenceNumber"],FZ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],VZ=["indexId","uid","orderedDocumentKey"],$Z=["userId","collectionPath","documentId"],jZ=["userId","collectionPath","largestBatchId"],BZ=["userId","collectionGroup","largestBatchId"],nF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],UZ=[...nF,"documentOverlays"],rF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],iF=rF,zZ=[...iF,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE extends ZM{constructor(e,n){super(),this.ue=e,this.currentSequenceNumber=n}}function Gn(t,e){const n=ve(t);return qi.O(n.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){this.comparator=e,this.root=n||Zn.EMPTY}insert(e,n){return new Ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nm(this.root,e,this.comparator,!1)}getReverseIterator(){return new nm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nm(this.root,e,this.comparator,!0)}}class nm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Zn.RED,this.left=i??Zn.EMPTY,this.right=s??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Zn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NC(this.data.getIterator())}getIteratorFrom(e){return new NC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class NC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function lu(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new jr([])}unionWith(e){let n=new Bt(wn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qZ(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new oF("Invalid base64 string: "+s):s}}(e);return new $n(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new $n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$n.EMPTY_BYTE_STRING=new $n("");const WZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(t){if(ke(!!t),typeof t=="string"){let e=0;const n=WZ.exec(t);if(ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vn(t.seconds),nanos:vn(t.nanos)}}function vn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function aa(t){return typeof t=="string"?$n.fromBase64String(t):$n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nI(t){const e=t.mapValue.fields.__previous_value__;return Uy(e)?nI(e):e}function Yf(t){const e=oa(t.mapValue.fields.__local_write_time__.timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KZ{constructor(e,n,r,i,s,o,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h}}class la{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new la("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof la&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Cm={nullValue:"NULL_VALUE"};function El(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uy(t)?4:aF(t)?9007199254740991:10:Ie()}function Es(t,e){if(t===e)return!0;const n=El(t);if(n!==El(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yf(t).isEqual(Yf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=oa(i.timestampValue),l=oa(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return aa(i.bytesValue).isEqual(aa(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return vn(i.geoPointValue.latitude)===vn(s.geoPointValue.latitude)&&vn(i.geoPointValue.longitude)===vn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return vn(i.integerValue)===vn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=vn(i.doubleValue),l=vn(s.doubleValue);return o===l?Qf(o)===Qf(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return uc(t.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(kC(o)!==kC(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Es(o[c],l[c])))return!1;return!0}(t,e);default:return Ie()}}function Xf(t,e){return(t.values||[]).find(n=>Es(n,e))!==void 0}function ua(t,e){if(t===e)return 0;const n=El(t),r=El(e);if(n!==r)return Je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=vn(s.integerValue||s.doubleValue),c=vn(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return LC(t.timestampValue,e.timestampValue);case 4:return LC(Yf(t),Yf(e));case 5:return Je(t.stringValue,e.stringValue);case 6:return function(s,o){const l=aa(s),c=aa(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let h=0;h<l.length&&h<c.length;h++){const f=Je(l[h],c[h]);if(f!==0)return f}return Je(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Je(vn(s.latitude),vn(o.latitude));return l!==0?l:Je(vn(s.longitude),vn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],c=o.values||[];for(let h=0;h<l.length&&h<c.length;++h){const f=ua(l[h],c[h]);if(f)return f}return Je(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Uo.mapValue&&o===Uo.mapValue)return 0;if(s===Uo.mapValue)return 1;if(o===Uo.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),h=o.fields||{},f=Object.keys(h);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const m=Je(c[p],f[p]);if(m!==0)return m;const y=ua(l[c[p]],h[f[p]]);if(y!==0)return y}return Je(c.length,f.length)}(t.mapValue,e.mapValue);default:throw Ie()}}function LC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=oa(t),r=oa(e),i=Je(n.seconds,r.seconds);return i!==0?i:Je(n.nanos,r.nanos)}function cc(t){return IE(t)}function IE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=oa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return aa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=IE(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${IE(n.fields[o])}`;return i+"}"}(t.mapValue):Ie()}function Tl(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function SE(t){return!!t&&"integerValue"in t}function Jf(t){return!!t&&"arrayValue"in t}function MC(t){return!!t&&"nullValue"in t}function FC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pm(t){return!!t&&"mapValue"in t}function of(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=of(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=of(t.arrayValue.values[n]);return e}return Object.assign({},t)}function aF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function HZ(t){return"nullValue"in t?Cm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Tl(la.empty(),de.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Ie()}function GZ(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Tl(la.empty(),de.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Uo:Ie()}function VC(t,e){const n=ua(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function $C(t,e){const n=ua(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=of(n)}setAll(e){let n=wn.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=of(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Pm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Pm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tr(of(this.value))}}function lF(t){const e=[];return Fl(t.fields,(n,r)=>{const i=new wn([n]);if(Pm(r)){const s=lF(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Gt(e,0,De.min(),De.min(),De.min(),tr.empty(),0)}static newFoundDocument(e,n,r,i){return new Gt(e,1,n,De.min(),r,i,0)}static newNoDocument(e,n){return new Gt(e,2,n,De.min(),De.min(),tr.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,De.min(),De.min(),tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.position=e,this.inclusive=n}}function jC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=ua(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function BC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Es(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function QZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{}class ft extends uF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new YZ(e,n,r):n==="array-contains"?new ZZ(e,r):n==="in"?new mF(e,r):n==="not-in"?new eee(e,r):n==="array-contains-any"?new tee(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new XZ(e,r):new JZ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ua(n,this.value)):n!==null&&El(this.value)===El(n)&&this.matchesComparison(ua(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Pt extends uF{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Pt(e,n)}matches(e){return hc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function hc(t){return t.op==="and"}function xE(t){return t.op==="or"}function rI(t){return cF(t)&&hc(t)}function cF(t){for(const e of t.filters)if(e instanceof Pt)return!1;return!0}function RE(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+cc(t.value);if(rI(t))return t.filters.map(e=>RE(e)).join(",");{const e=t.filters.map(n=>RE(n)).join(",");return`${t.op}(${e})`}}function hF(t,e){return t instanceof ft?function(r,i){return i instanceof ft&&r.op===i.op&&r.field.isEqual(i.field)&&Es(r.value,i.value)}(t,e):t instanceof Pt?function(r,i){return i instanceof Pt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&hF(o,i.filters[l]),!0):!1}(t,e):void Ie()}function fF(t,e){const n=t.filters.concat(e);return Pt.create(n,t.op)}function dF(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${cc(n.value)}`}(t):t instanceof Pt?function(n){return n.op.toString()+" {"+n.getFilters().map(dF).join(" ,")+"}"}(t):"Filter"}class YZ extends ft{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class XZ extends ft{constructor(e,n){super(e,"in",n),this.keys=pF("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class JZ extends ft{constructor(e,n){super(e,"not-in",n),this.keys=pF("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pF(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class ZZ extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jf(n)&&Xf(n.arrayValue,this.value)}}class mF extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xf(this.value.arrayValue,n)}}class eee extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xf(this.value.arrayValue,n)}}class tee extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nee{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.he=null}}function bE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new nee(t,e,n,r,i,s,o)}function Il(t){const e=ve(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>RE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>cc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>cc(r)).join(",")),e.he=n}return e.he}function Od(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QZ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BC(t.startAt,e.startAt)&&BC(t.endAt,e.endAt)}function Dg(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function kg(t,e){return t.filters.filter(n=>n instanceof ft&&n.field.isEqual(e))}function UC(t,e,n){let r=Cm,i=!0;for(const s of kg(t,e)){let o=Cm,l=!0;switch(s.op){case"<":case"<=":o=HZ(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,l=!1;break;case"!=":case"not-in":o=Cm}VC({value:r,inclusive:i},{value:o,inclusive:l})<0&&(r=o,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];VC({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function zC(t,e,n){let r=Uo,i=!0;for(const s of kg(t,e)){let o=Uo,l=!0;switch(s.op){case">=":case">":o=GZ(s.value),l=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,l=!1;break;case"!=":case"not-in":o=Uo}$C({value:r,inclusive:i},{value:o,inclusive:l})>0&&(r=o,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];$C({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function gF(t,e,n,r,i,s,o,l){return new ho(t,e,n,r,i,s,o,l)}function Nc(t){return new ho(t)}function qC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function zy(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function sI(t){return t.collectionGroup!==null}function Ku(t){const e=ve(t);if(e.Pe===null){e.Pe=[];const n=zy(e),r=iI(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Wu(n)),e.Pe.push(new Wu(wn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Wu(wn.keyField(),s))}}}return e.Pe}function br(t){const e=ve(t);return e.Ie||(e.Ie=ree(e,Ku(t))),e.Ie}function ree(t,e){if(t.limitType==="F")return bE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wu(i.field,s)});const n=t.endAt?new ca(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ca(t.startAt.position,t.startAt.inclusive):null;return bE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function AE(t,e){e.getFirstInequalityField(),zy(t);const n=t.filters.concat([e]);return new ho(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ng(t,e,n){return new ho(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dd(t,e){return Od(br(t),br(e))&&t.limitType===e.limitType}function yF(t){return`${Il(br(t))}|lt:${t.limitType}`}function gu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>dF(i)).join(", ")}]`),Pd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>cc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>cc(i)).join(",")),`Target(${r})`}(br(t))}; limitType=${t.limitType})`}function kd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):de.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ku(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const h=jC(o,l,c);return o.inclusive?h<=0:h<0}(r.startAt,Ku(r),i)||r.endAt&&!function(o,l,c){const h=jC(o,l,c);return o.inclusive?h>=0:h>0}(r.endAt,Ku(r),i))}(t,e)}function vF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _F(t){return(e,n)=>{let r=!1;for(const i of Ku(t)){const s=iee(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function iee(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),h=l.data.field(s);return c!==null&&h!==null?ua(c,h):Ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return sF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const see=new Ut(de.comparator);function Br(){return see}const wF=new Ut(de.comparator);function jh(...t){let e=wF;for(const n of t)e=e.insert(n.key,n);return e}function EF(t){let e=wF;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ds(){return af()}function TF(){return af()}function af(){return new Sa(t=>t.toString(),(t,e)=>t.isEqual(e))}const oee=new Ut(de.comparator),aee=new Bt(de.comparator);function tt(...t){let e=aee;for(const n of t)e=e.add(n);return e}const lee=new Bt(Je);function oI(){return lee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(e)?"-0":e}}function SF(t){return{integerValue:""+t}}function xF(t,e){return eF(e)?SF(e):IF(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(){this._=void 0}}function uee(t,e,n){return t instanceof fc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Uy(s)&&(s=nI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Sl?bF(t,e):t instanceof xl?AF(t,e):function(i,s){const o=RF(i,s),l=WC(o)+WC(i.Te);return SE(o)&&SE(i.Te)?SF(l):IF(i.serializer,l)}(t,e)}function cee(t,e,n){return t instanceof Sl?bF(t,e):t instanceof xl?AF(t,e):n}function RF(t,e){return t instanceof dc?function(r){return SE(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class fc extends qy{}class Sl extends qy{constructor(e){super(),this.elements=e}}function bF(t,e){const n=CF(e);for(const r of t.elements)n.some(i=>Es(i,r))||n.push(r);return{arrayValue:{values:n}}}class xl extends qy{constructor(e){super(),this.elements=e}}function AF(t,e){let n=CF(e);for(const r of t.elements)n=n.filter(i=>!Es(i,r));return{arrayValue:{values:n}}}class dc extends qy{constructor(e,n){super(),this.serializer=e,this.Te=n}}function WC(t){return vn(t.integerValue||t.doubleValue)}function CF(t){return Jf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n){this.field=e,this.transform=n}}function hee(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Sl&&i instanceof Sl||r instanceof xl&&i instanceof xl?uc(r.elements,i.elements,Es):r instanceof dc&&i instanceof dc?Es(r.Te,i.Te):r instanceof fc&&i instanceof fc}(t.transform,e.transform)}class fee{constructor(e,n){this.version=e,this.transformResults=n}}class nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nn}static exists(e){return new nn(void 0,e)}static updateTime(e){return new nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Om(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wy{}function PF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mc(t.key,nn.none()):new Lc(t.key,t.data,nn.none());{const n=t.data,r=tr.empty();let i=new Bt(wn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fo(t.key,r,new jr(i.toArray()),nn.none())}}function dee(t,e,n){t instanceof Lc?function(i,s,o){const l=i.value.clone(),c=HC(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof fo?function(i,s,o){if(!Om(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=HC(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(OF(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function lf(t,e,n,r){return t instanceof Lc?function(s,o,l,c){if(!Om(s.precondition,o))return l;const h=s.value.clone(),f=GC(s.fieldTransforms,c,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof fo?function(s,o,l,c){if(!Om(s.precondition,o))return l;const h=GC(s.fieldTransforms,c,o),f=o.data;return f.setAll(OF(s)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,l){return Om(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function pee(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=RF(r.transform,i||null);s!=null&&(n===null&&(n=tr.empty()),n.set(r.field,s))}return n||null}function KC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&uc(r,i,(s,o)=>hee(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lc extends Wy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fo extends Wy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function OF(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function HC(t,e,n){const r=new Map;ke(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,cee(o,l,n[i]))}return r}function GC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,uee(s,o,e))}return r}class Mc extends Wy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aI extends Wy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&dee(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=lf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=lf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TF();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=PF(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&uc(this.mutations,e.mutations,(n,r)=>KC(n,r))&&uc(this.baseMutations,e.baseMutations,(n,r)=>KC(n,r))}}class uI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ke(e.mutations.length===r.length);let i=function(){return oee}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new uI(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mee{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn,gt;function DF(t){switch(t){default:return Ie();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function kF(t){if(t===void 0)return An("GRPC error has no .code"),W.UNKNOWN;switch(t){case Pn.OK:return W.OK;case Pn.CANCELLED:return W.CANCELLED;case Pn.UNKNOWN:return W.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return W.INTERNAL;case Pn.UNAVAILABLE:return W.UNAVAILABLE;case Pn.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Pn.NOT_FOUND:return W.NOT_FOUND;case Pn.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Pn.ABORTED:return W.ABORTED;case Pn.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Pn.DATA_LOSS:return W.DATA_LOSS;default:return Ie()}}(gt=Pn||(Pn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gee=new qu([4294967295,4294967295],0);function QC(t){const e=NF().encode(t),n=new cZ;return n.update(e),new Uint8Array(n.digest())}function YC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qu([n,r],0),new qu([i,s],0)]}class hI{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bh(`Invalid padding: ${n}`);if(r<0)throw new Bh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bh(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=qu.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(qu.fromNumber(r)));return i.compare(gee)===1&&(i=new qu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=QC(e),[r,i]=YC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new hI(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ae===0)return;const n=QC(e),[r,i]=YC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Md.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ld(De.min(),i,new Ut(Je),Br(),tt())}}class Md{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Md(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class LF{constructor(e,n){this.targetId=e,this.ye=n}}class MF{constructor(e,n,r=$n.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class XC{constructor(){this.we=0,this.Se=ZC(),this.be=$n.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=tt(),n=tt(),r=tt();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ie()}}),new Md(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=ZC()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class yee{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=Br(),this.Ue=JC(),this.We=new Ut(Je)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:Ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const s=i.target;if(Dg(s))if(r===0){const o=new de(s.path);this.je(n,o,Gt.newNoDocument(o,De.min()))}else ke(r===1);else{const o=this.tt(n);if(o!==r){const l=this.nt(e),c=l?this.rt(l,e,o):1;if(c!==0){this.Ze(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,h)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=aa(r).toUint8Array()}catch(c){if(c instanceof oF)return Xi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new hI(o,i,s)}catch(c){return Xi(c instanceof Bh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ae===0?null:l}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.je(n,s,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((s,o)=>{const l=this.et(o);if(l){if(s.current&&Dg(l.target)){const c=new de(l.target.path);this.$e.get(c)!==null||this.ut(o,c)||this.je(o,c,Gt.newNoDocument(c,e))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=tt();this.Ue.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const h=this.et(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new Ld(e,n,this.We,this.$e,r);return this.$e=Br(),this.Ue=JC(),this.We=new Ut(Je),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new XC,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Bt(Je),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new XC),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function JC(){return new Ut(de.comparator)}function ZC(){return new Ut(de.comparator)}const vee=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),_ee=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),wee=(()=>({and:"AND",or:"OR"}))();class Eee{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function CE(t,e){return t.useProto3Json||Pd(e)?e:{value:e}}function pc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Tee(t,e){return pc(t,e.toTimestamp())}function Cn(t){return ke(!!t),De.fromTimestamp(function(n){const r=oa(n);return new rn(r.seconds,r.nanos)}(t))}function fI(t,e){return function(r){return new vt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function VF(t){const e=vt.fromString(t);return ke(HF(e)),e}function Zf(t,e){return fI(t.databaseId,e.path)}function _s(t,e){const n=VF(e);if(n.get(1)!==t.databaseId.projectId)throw new te(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(jF(n))}function PE(t,e){return fI(t.databaseId,e)}function $F(t){const e=VF(t);return e.length===4?vt.emptyPath():jF(e)}function ed(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jF(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function eP(t,e,n){return{name:Zf(t,e),fields:n.value.mapValue.fields}}function BF(t,e,n){const r=_s(t,e.name),i=Cn(e.updateTime),s=e.createTime?Cn(e.createTime):De.min(),o=new tr({mapValue:{fields:e.fields}}),l=Gt.newFoundDocument(r,i,s,o);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function Iee(t,e){return"found"in e?function(r,i){ke(!!i.found),i.found.name,i.found.updateTime;const s=_s(r,i.found.name),o=Cn(i.found.updateTime),l=i.found.createTime?Cn(i.found.createTime):De.min(),c=new tr({mapValue:{fields:i.found.fields}});return Gt.newFoundDocument(s,o,l,c)}(t,e):"missing"in e?function(r,i){ke(!!i.missing),ke(!!i.readTime);const s=_s(r,i.missing),o=Cn(i.readTime);return Gt.newNoDocument(s,o)}(t,e):Ie()}function See(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(ke(f===void 0||typeof f=="string"),$n.fromBase64String(f||"")):(ke(f===void 0||f instanceof Uint8Array),$n.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const f=h.code===void 0?W.UNKNOWN:kF(h.code);return new te(f,h.message||"")}(o);n=new MF(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_s(t,r.document.name),s=Cn(r.document.updateTime),o=r.document.createTime?Cn(r.document.createTime):De.min(),l=new tr({mapValue:{fields:r.document.fields}}),c=Gt.newFoundDocument(i,s,o,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new Dm(h,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_s(t,r.document),s=r.readTime?Cn(r.readTime):De.min(),o=Gt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Dm([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_s(t,r.document),s=r.removedTargetIds||[];n=new Dm([],s,i,null)}else{if(!("filter"in e))return Ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new mee(i,s),l=r.targetId;n=new LF(l,o)}}return n}function td(t,e){let n;if(e instanceof Lc)n={update:eP(t,e.key,e.value)};else if(e instanceof Mc)n={delete:Zf(t,e.key)};else if(e instanceof fo)n={update:eP(t,e.key,e.data),updateMask:Pee(e.fieldMask)};else{if(!(e instanceof aI))return Ie();n={verify:Zf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof fc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Sl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof xl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof dc)return{fieldPath:o.field.canonicalString(),increment:l.Te};throw Ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Tee(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ie()}(t,e.precondition)),n}function OE(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?nn.updateTime(Cn(s.updateTime)):s.exists!==void 0?nn.exists(s.exists):nn.none()}(e.currentDocument):nn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,l){let c=null;if("setToServerValue"in l)ke(l.setToServerValue==="REQUEST_TIME"),c=new fc;else if("appendMissingElements"in l){const f=l.appendMissingElements.values||[];c=new Sl(f)}else if("removeAllFromArray"in l){const f=l.removeAllFromArray.values||[];c=new xl(f)}else"increment"in l?c=new dc(o,l.increment):Ie();const h=wn.fromServerFormat(l.fieldPath);return new Nd(h,c)}(t,i)):[];if(e.update){e.update.name;const i=_s(t,e.update.name),s=new tr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(c){const h=c.fieldPaths||[];return new jr(h.map(f=>wn.fromServerFormat(f)))}(e.updateMask);return new fo(i,s,o,n,r)}return new Lc(i,s,n,r)}if(e.delete){const i=_s(t,e.delete);return new Mc(i,n)}if(e.verify){const i=_s(t,e.verify);return new aI(i,n)}return Ie()}function xee(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Cn(i.updateTime):Cn(s);return o.isEqual(De.min())&&(o=Cn(s)),new fee(o,i.transformResults||[])}(n,e))):[]}function UF(t,e){return{documents:[PE(t,e.path)]}}function zF(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=PE(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=PE(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(c.length!==0)return KF(Pt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:yu(p.field),direction:bee(p.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=CE(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function qF(t){let e=$F(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ke(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const m=WF(p);return m instanceof Pt&&rI(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(v){return new Wu(vu(v.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Pd(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){const m=!!p.before,y=p.values||[];return new ca(y,m)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const m=!p.before,y=p.values||[];return new ca(y,m)}(n.endAt)),gF(e,i,o,s,l,"F",c,h)}function Ree(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WF(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vu(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=vu(n.unaryFilter.field);return ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=vu(n.unaryFilter.field);return ft.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vu(n.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(t):t.fieldFilter!==void 0?function(n){return ft.create(vu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pt.create(n.compositeFilter.filters.map(r=>WF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie()}}(n.compositeFilter.op))}(t):Ie()}function bee(t){return vee[t]}function Aee(t){return _ee[t]}function Cee(t){return wee[t]}function yu(t){return{fieldPath:t.canonicalString()}}function vu(t){return wn.fromServerFormat(t.fieldPath)}function KF(t){return t instanceof ft?function(n){if(n.op==="=="){if(FC(n.value))return{unaryFilter:{field:yu(n.field),op:"IS_NAN"}};if(MC(n.value))return{unaryFilter:{field:yu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FC(n.value))return{unaryFilter:{field:yu(n.field),op:"IS_NOT_NAN"}};if(MC(n.value))return{unaryFilter:{field:yu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yu(n.field),op:Aee(n.op),value:n.value}}}(t):t instanceof Pt?function(n){const r=n.getFilters().map(i=>KF(i));return r.length===1?r[0]:{compositeFilter:{op:Cee(n.op),filters:r}}}(t):Ie()}function Pee(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r,i,s=De.min(),o=De.min(),l=$n.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.ht=e}}function Oee(t,e){let n;if(e.document)n=BF(t.ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=de.fromSegments(e.noDocument.path),i=bl(e.noDocument.readTime);n=Gt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ie();{const r=de.fromSegments(e.unknownDocument.path),i=bl(e.unknownDocument.version);n=Gt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new rn(i[0],i[1]);return De.fromTimestamp(s)}(e.readTime)),n}function tP(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Lg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Zf(s,o.key),fields:o.data.value.mapValue.fields,updateTime:pc(s,o.version.toTimestamp()),createTime:pc(s,o.createTime.toTimestamp())}}(t.ht,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Rl(e.version)};else{if(!e.isUnknownDocument())return Ie();r.unknownDocument={path:n.path.toArray(),version:Rl(e.version)}}return r}function Lg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Rl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bl(t){const e=new rn(t.seconds,t.nanoseconds);return De.fromTimestamp(e)}function Wa(t,e){const n=(e.baseMutations||[]).map(s=>OE(t.ht,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const l=e.mutations[s+1];o.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>OE(t.ht,s)),i=rn.fromMillis(e.localWriteTimeMs);return new lI(e.batchId,i,n,r)}function Uh(t){const e=bl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?bl(t.lastLimboFreeSnapshotVersion):De.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return ke(s.documents.length===1),br(Nc($F(s.documents[0])))}(t.query):function(s){return br(qF(s))}(t.query),new qs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,$n.fromBase64String(t.resumeToken))}function QF(t,e){const n=Rl(e.snapshotVersion),r=Rl(e.lastLimboFreeSnapshotVersion);let i;i=Dg(e.target)?UF(t.ht,e.target):zF(t.ht,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Il(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function dI(t){const e=qF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ng(e,e.limit,"L"):e}function A0(t,e){return new cI(e.largestBatchId,OE(t.ht,e.overlayMutation))}function nP(t,e){const n=e.path.lastSegment();return[t,Rr(e.path.popLast()),n]}function rP(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Rl(r.readTime),documentKey:Rr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dee{getBundleMetadata(e,n){return iP(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:bl(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return iP(e).put(function(i){return{bundleId:i.id,createTime:Rl(Cn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return sP(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:dI(s.bundledQuery),readTime:bl(s.readTime)}}(r)})}saveNamedQuery(e,n){return sP(e).put(function(i){return{name:i.name,readTime:Rl(Cn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function iP(t){return Gn(t,"bundles")}function sP(t){return Gn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n){this.serializer=e,this.userId=n}static Pt(e,n){const r=n.uid||"";return new Ky(e,r)}getOverlay(e,n){return xh(e).get(nP(this.userId,n)).next(r=>r?A0(this.serializer,r):null)}getOverlays(e,n){const r=ds();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const l=new cI(n,o);i.push(this.It(e,l))}),U.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Rr(o.getCollectionPath())));const s=[];return i.forEach(o=>{const l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(xh(e).J("collectionPathOverlayIndex",l))}),U.waitFor(s)}getOverlaysForCollection(e,n,r){const i=ds(),s=Rr(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return xh(e).G("collectionPathOverlayIndex",o).next(l=>{for(const c of l){const h=A0(this.serializer,c);i.set(h.getKey(),h)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=ds();let o;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return xh(e).Z({index:"collectionGroupOverlayIndex",range:l},(c,h,f)=>{const p=A0(this.serializer,h);s.size()<i||p.largestBatchId===o?(s.set(p.getKey(),p),o=p.largestBatchId):f.done()}).next(()=>s)}It(e,n){return xh(e).put(function(i,s,o){const[l,c,h]=nP(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:h,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:td(i.ht,o.mutation)}}(this.serializer,this.userId,n))}}function xh(t){return Gn(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){}dt(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.At(n,5);else if("booleanValue"in e)this.At(n,10),n.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(n,15),n.Rt(vn(e.integerValue));else if("doubleValue"in e){const r=vn(e.doubleValue);isNaN(r)?this.At(n,13):(this.At(n,15),Qf(r)?n.Rt(0):n.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(n,20),typeof r=="string"?n.Vt(r):(n.Vt(`${r.seconds||""}`),n.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,n),this.gt(n);else if("bytesValue"in e)this.At(n,30),n.yt(aa(e.bytesValue)),this.gt(n);else if("referenceValue"in e)this.wt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(n,45),n.Rt(r.latitude||0),n.Rt(r.longitude||0)}else"mapValue"in e?aF(e)?this.At(n,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,n),this.gt(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.gt(n)):Ie()}ft(e,n){this.At(n,25),this.Dt(e,n)}Dt(e,n){n.Vt(e)}St(e,n){const r=e.fields||{};this.At(n,55);for(const i of Object.keys(r))this.ft(i,n),this.Tt(r[i],n)}bt(e,n){const r=e.values||[];this.At(n,50);for(const i of r)this.Tt(i,n)}wt(e,n){this.At(n,37),de.fromName(e).path.forEach(r=>{this.At(n,60),this.Dt(r,n)})}At(e,n){e.Rt(n)}gt(e){e.Rt(2)}}Ka.Ct=new Ka;function kee(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function oP(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=kee(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class Nee{constructor(){this.buffer=new Uint8Array(1024),this.position=0}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=oP(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=oP(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Lee{constructor(e){this.jt=e}yt(e){this.jt.vt(e)}Vt(e){this.jt.Bt(e)}Rt(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Mee{constructor(e){this.jt=e}yt(e){this.jt.xt(e)}Vt(e){this.jt.Lt(e)}Rt(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Rh{constructor(){this.jt=new Nee,this.Ht=new Lee(this.jt),this.Jt=new Mee(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ha(this.indexId,this.documentKey,this.arrayValue,r)}}function bo(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=aP(t.arrayValue,e.arrayValue),n!==0?n:(n=aP(t.directionalValue,e.directionalValue),n!==0?n:de.comparator(t.documentKey,e.documentKey)))}function aP(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Xt=e.orderBy,this.en=[];for(const n of e.filters){const r=n;r.isInequality()?this.tn=r:this.en.push(r)}}nn(e){ke(e.collectionGroup===this.collectionId);const n=EE(e);if(n!==void 0&&!this.rn(n))return!1;const r=za(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.rn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.tn!==void 0){if(!i.has(this.tn.field.canonicalString())){const l=r[s];if(!this.sn(this.tn,l)||!this.on(this.Xt[o++],l))return!1}++s}for(;s<r.length;++s){const l=r[s];if(o>=this.Xt.length||!this.on(this.Xt[o++],l))return!1}return!0}_n(){let e=new Bt(wn.comparator);const n=[];for(const r of this.en)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new bm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new bm(r.field,0))}for(const r of this.Xt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new bm(r.field,r.dir==="asc"?0:1)));return new Og(Og.UNKNOWN_ID,this.collectionId,n,Gf.empty())}rn(e){for(const n of this.en)if(this.sn(n,e))return!0;return!1}sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}on(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t){var e,n;if(ke(t instanceof ft||t instanceof Pt),t instanceof ft){if(t instanceof mF){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>ft.create(t.field,"==",s)))||[];return Pt.create(i,"or")}return t}const r=t.filters.map(i=>YF(i));return Pt.create(r,t.op)}function Fee(t){if(t.getFilters().length===0)return[];const e=NE(YF(t));return ke(XF(e)),DE(e)||kE(e)?[e]:e.getFilters()}function DE(t){return t instanceof ft}function kE(t){return t instanceof Pt&&rI(t)}function XF(t){return DE(t)||kE(t)||function(n){if(n instanceof Pt&&xE(n)){for(const r of n.getFilters())if(!DE(r)&&!kE(r))return!1;return!0}return!1}(t)}function NE(t){if(ke(t instanceof ft||t instanceof Pt),t instanceof ft)return t;if(t.filters.length===1)return NE(t.filters[0]);const e=t.filters.map(r=>NE(r));let n=Pt.create(e,t.op);return n=Mg(n),XF(n)?n:(ke(n instanceof Pt),ke(hc(n)),ke(n.filters.length>1),n.filters.reduce((r,i)=>pI(r,i)))}function pI(t,e){let n;return ke(t instanceof ft||t instanceof Pt),ke(e instanceof ft||e instanceof Pt),n=t instanceof ft?e instanceof ft?function(i,s){return Pt.create([i,s],"and")}(t,e):uP(t,e):e instanceof ft?uP(e,t):function(i,s){if(ke(i.filters.length>0&&s.filters.length>0),hc(i)&&hc(s))return fF(i,s.getFilters());const o=xE(i)?i:s,l=xE(i)?s:i,c=o.filters.map(h=>pI(h,l));return Pt.create(c,"or")}(t,e),Mg(n)}function uP(t,e){if(hc(e))return fF(e,t.getFilters());{const n=e.filters.map(r=>pI(t,r));return Pt.create(n,"or")}}function Mg(t){if(ke(t instanceof ft||t instanceof Pt),t instanceof ft)return t;const e=t.getFilters();if(e.length===1)return Mg(e[0]);if(cF(t))return t;const n=e.map(i=>Mg(i)),r=[];return n.forEach(i=>{i instanceof ft?r.push(i):i instanceof Pt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Pt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vee{constructor(){this.an=new mI}addToCollectionParentIndex(e,n){return this.an.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(ai.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(ai.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class mI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bt(vt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new Uint8Array(0);class $ee{constructor(e,n){this.user=e,this.databaseId=n,this.un=new mI,this.cn=new Sa(r=>Il(r),(r,i)=>Od(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.un.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.un.add(n)});const s={collectionId:r,parent:Rr(i)};return cP(e).put(s)}return U.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[QM(n),""],!1,!0);return cP(e).G(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(fs(o.parent))}return r})}addFieldIndex(e,n){const r=bh(e),i=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=cu(e);return s.next(l=>{o.put(rP(l,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=bh(e),i=cu(e),s=uu(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=bh(e),r=uu(e),i=cu(e);return n.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,n){return U.forEach(this.ln(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new lP(r);return this.addFieldIndex(e,s._n())}}))}getDocumentsMatchingTarget(e,n){const r=uu(e);let i=!0;const s=new Map;return U.forEach(this.ln(n),o=>this.hn(e,o).next(l=>{i&&(i=!!l),s.set(o,l)})).next(()=>{if(i){let o=tt();const l=[];return U.forEach(s,(c,h)=>{re("IndexedDbIndexManager",`Using index ${function(S){return`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`}(c)} to execute ${Il(n)}`);const f=function(S,w){const P=EE(w);if(P===void 0)return null;for(const O of kg(S,P.fieldPath))switch(O.op){case"array-contains-any":return O.value.arrayValue.values||[];case"array-contains":return[O.value]}return null}(h,c),p=function(S,w){const P=new Map;for(const O of za(w))for(const D of kg(S,O.fieldPath))switch(D.op){case"==":case"in":P.set(O.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return P.set(O.fieldPath.canonicalString(),D.value),Array.from(P.values())}return null}(h,c),m=function(S,w){const P=[];let O=!0;for(const D of za(w)){const N=D.kind===0?UC(S,D.fieldPath,S.startAt):zC(S,D.fieldPath,S.startAt);P.push(N.value),O&&(O=N.inclusive)}return new ca(P,O)}(h,c),y=function(S,w){const P=[];let O=!0;for(const D of za(w)){const N=D.kind===0?zC(S,D.fieldPath,S.endAt):UC(S,D.fieldPath,S.endAt);P.push(N.value),O&&(O=N.inclusive)}return new ca(P,O)}(h,c),v=this.Pn(c,h,m),E=this.Pn(c,h,y),R=this.In(c,h,p),T=this.dn(c.indexId,f,v,m.inclusive,E,y.inclusive,R);return U.forEach(T,I=>r.H(I,n.limit).next(S=>{S.forEach(w=>{const P=de.fromSegments(w.documentKey);o.has(P)||(o=o.add(P),l.push(P))})}))}).next(()=>l)}return U.resolve(null)})}ln(e){let n=this.cn.get(e);return n||(e.filters.length===0?n=[e]:n=Fee(Pt.create(e.filters,"and")).map(r=>bE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.cn.set(e,n),n)}dn(e,n,r,i,s,o,l){const c=(n!=null?n.length:1)*Math.max(r.length,s.length),h=c/(n!=null?n.length:1),f=[];for(let p=0;p<c;++p){const m=n?this.Tn(n[p/h]):rm,y=this.En(e,m,r[p%h],i),v=this.An(e,m,s[p%h],o),E=l.map(R=>this.En(e,m,R,!0));f.push(...this.createRange(y,v,E))}return f}En(e,n,r,i){const s=new Ha(e,de.empty(),n,r);return i?s:s.Zt()}An(e,n,r,i){const s=new Ha(e,de.empty(),n,r);return i?s.Zt():s}hn(e,n){const r=new lP(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const l of s)r.nn(l)&&(!o||l.fields.length>o.fields.length)&&(o=l);return o})}getIndexType(e,n){let r=2;const i=this.ln(n);return U.forEach(i,s=>this.hn(e,s).next(o=>{o?r!==0&&o.fields.length<function(c){let h=new Bt(wn.comparator),f=!1;for(const p of c.filters)for(const m of p.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?f=!0:h=h.add(m.field));for(const p of c.orderBy)p.field.isKeyField()||(h=h.add(p.field));return h.size+(f?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Rn(e,n){const r=new Rh;for(const i of za(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Yt(i.kind);Ka.Ct.dt(s,o)}return r.zt()}Tn(e){const n=new Rh;return Ka.Ct.dt(e,n.Yt(0)),n.zt()}Vn(e,n){const r=new Rh;return Ka.Ct.dt(Tl(this.databaseId,n),r.Yt(function(s){const o=za(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}In(e,n,r){if(r===null)return[];let i=[];i.push(new Rh);let s=0;for(const o of za(e)){const l=r[s++];for(const c of i)if(this.mn(n,o.fieldPath)&&Jf(l))i=this.fn(i,o,l);else{const h=c.Yt(o.kind);Ka.Ct.dt(l,h)}}return this.gn(i)}Pn(e,n,r){return this.In(e,n,r.position)}gn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}fn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const l of i){const c=new Rh;c.seed(l.zt()),Ka.Ct.dt(o,c.Yt(n.kind)),s.push(c)}return s}mn(e,n){return!!e.filters.find(r=>r instanceof ft&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=bh(e),i=cu(e);return(n?r.G("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.G()).next(s=>{const o=[];return U.forEach(s,l=>i.get([l.indexId,this.uid]).next(c=>{o.push(function(f,p){const m=p?new Gf(p.sequenceNumber,new ai(bl(p.readTime),new de(fs(p.documentKey)),p.largestBatchId)):Gf.empty(),y=f.fields.map(([v,E])=>new bm(wn.fromServerFormat(v),E));return new Og(f.indexId,f.collectionGroup,y,m)}(l,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Je(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=bh(e),s=cu(e);return this.pn(e).next(o=>i.G("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(l=>U.forEach(l,c=>s.put(rP(c.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return U.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?U.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(l=>(r.set(i.collectionGroup,l),U.forEach(l,c=>this.yn(e,i,c).next(h=>{const f=this.wn(s,c);return h.isEqual(f)?U.resolve():this.Sn(e,s,c,h,f)}))))})}bn(e,n,r,i){return uu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Vn(r,n.key),documentKey:n.key.path.toArray()})}Dn(e,n,r,i){return uu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Vn(r,n.key),n.key.path.toArray()])}yn(e,n,r){const i=uu(e);let s=new Bt(bo);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Vn(r,n)])},(o,l)=>{s=s.add(new Ha(r.indexId,n,l.arrayValue,l.directionalValue))}).next(()=>s)}wn(e,n){let r=new Bt(bo);const i=this.Rn(n,e);if(i==null)return r;const s=EE(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Jf(o))for(const l of o.arrayValue.values||[])r=r.add(new Ha(n.indexId,e.key,this.Tn(l),i))}else r=r.add(new Ha(n.indexId,e.key,rm,i));return r}Sn(e,n,r,i,s){re("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(c,h,f,p,m){const y=c.getIterator(),v=h.getIterator();let E=lu(y),R=lu(v);for(;E||R;){let T=!1,I=!1;if(E&&R){const S=f(E,R);S<0?I=!0:S>0&&(T=!0)}else E!=null?I=!0:T=!0;T?(p(R),R=lu(v)):I?(m(E),E=lu(y)):(E=lu(y),R=lu(v))}}(i,s,bo,l=>{o.push(this.bn(e,n,r,l))},l=>{o.push(this.Dn(e,n,r,l))}),U.waitFor(o)}pn(e){let n=1;return cu(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,l)=>bo(o,l)).filter((o,l,c)=>!l||bo(o,c[l-1])!==0);const i=[];i.push(e);for(const o of r){const l=bo(o,e),c=bo(o,n);if(l===0)i[0]=e.Zt();else if(l>0&&c<0)i.push(o),i.push(o.Zt());else if(c>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const l=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,rm,[]],c=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,rm,[]];s.push(IDBKeyRange.bound(l,c))}return s}Cn(e,n){return bo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(hP)}getMinOffset(e,n){return U.mapArray(this.ln(n),r=>this.hn(e,r).next(i=>i||Ie())).next(hP)}}function cP(t){return Gn(t,"collectionParents")}function uu(t){return Gn(t,"indexEntries")}function bh(t){return Gn(t,"indexConfiguration")}function cu(t){return Gn(t,"indexState")}function hP(t){ke(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;eI(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ai(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Mr(e,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let l=0;const c=r.Z({range:o},(f,p,m)=>(l++,m.delete()));s.push(c.next(()=>{ke(l===1)}));const h=[];for(const f of n.mutations){const p=tF(e,f.key.path,n.batchId);s.push(i.delete(p)),h.push(f.key)}return U.waitFor(s).next(()=>h)}function Fg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ie();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(41943040,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);class Hy{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.vn={}}static Pt(e,n,r,i){ke(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Hy(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ao(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=_u(e),o=Ao(e);return o.add({}).next(l=>{ke(typeof l=="number");const c=new lI(l,n,r,i),h=function(y,v,E){const R=E.baseMutations.map(I=>td(y.ht,I)),T=E.mutations.map(I=>td(y.ht,I));return{userId:v,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:R,mutations:T}}(this.serializer,this.userId,c),f=[];let p=new Bt((m,y)=>Je(m.canonicalString(),y.canonicalString()));for(const m of i){const y=tF(this.userId,m.key.path,l);p=p.add(m.key.path.popLast()),f.push(o.put(h)),f.push(s.put(y,bZ))}return p.forEach(m=>{f.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.vn[l]=c.keys()}),U.waitFor(f).next(()=>c)})}lookupMutationBatch(e,n){return Ao(e).get(n).next(r=>r?(ke(r.userId===this.userId),Wa(this.serializer,r)):null)}Fn(e,n){return this.vn[n]?U.resolve(this.vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.vn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Ao(e).Z({index:"userMutationsIndex",range:i},(o,l,c)=>{l.userId===this.userId&&(ke(l.batchId>=r),s=Wa(this.serializer,l)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ao(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ao(e).G("userMutationsIndex",n).next(r=>r.map(i=>Wa(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Am(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return _u(e).Z({range:i},(o,l,c)=>{const[h,f,p]=o,m=fs(f);if(h===this.userId&&n.path.isEqual(m))return Ao(e).get(p).next(y=>{if(!y)throw Ie();ke(y.userId===this.userId),s.push(Wa(this.serializer,y))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(Je);const i=[];return n.forEach(s=>{const o=Am(this.userId,s.path),l=IDBKeyRange.lowerBound(o),c=_u(e).Z({range:l},(h,f,p)=>{const[m,y,v]=h,E=fs(y);m===this.userId&&s.path.isEqual(E)?r=r.add(v):p.done()});i.push(c)}),U.waitFor(i).next(()=>this.Mn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Am(this.userId,r),o=IDBKeyRange.lowerBound(s);let l=new Bt(Je);return _u(e).Z({range:o},(c,h,f)=>{const[p,m,y]=c,v=fs(m);p===this.userId&&r.isPrefixOf(v)?v.length===i&&(l=l.add(y)):f.done()}).next(()=>this.Mn(e,l))}Mn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Ao(e).get(s).next(o=>{if(o===null)throw Ie();ke(o.userId===this.userId),r.push(Wa(this.serializer,o))}))}),U.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return JF(e.ue,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.xn(n.batchId)}),U.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}xn(e){delete this.vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return U.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return _u(e).Z({range:r},(s,o,l)=>{if(s[0]===this.userId){const c=fs(s[1]);i.push(c)}else l.done()}).next(()=>{ke(i.length===0)})})}containsKey(e,n){return ZF(e,this.userId,n)}On(e){return eV(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ZF(t,e,n){const r=Am(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return _u(t).Z({range:s,Y:!0},(l,c,h)=>{const[f,p,m]=l;f===e&&p===i&&(o=!0),h.done()}).next(()=>o)}function Ao(t){return Gn(t,"mutations")}function _u(t){return Gn(t,"documentMutations")}function eV(t){return Gn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new Al(0)}static Ln(){return new Al(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jee{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.kn(e).next(n=>{const r=new Al(n.highestTargetId);return n.highestTargetId=r.next(),this.qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.kn(e).next(n=>De.fromTimestamp(new rn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.kn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.kn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.qn(e,i)))}addTargetData(e,n){return this.Qn(e,n).next(()=>this.kn(e).next(r=>(r.targetCount+=1,this.Kn(n,r),this.qn(e,r))))}updateTargetData(e,n){return this.Qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>hu(e).delete(n.targetId)).next(()=>this.kn(e)).next(r=>(ke(r.targetCount>0),r.targetCount-=1,this.qn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return hu(e).Z((o,l)=>{const c=Uh(l);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>U.waitFor(s)).next(()=>i)}forEachTarget(e,n){return hu(e).Z((r,i)=>{const s=Uh(i);n(s)})}kn(e){return dP(e).get("targetGlobalKey").next(n=>(ke(n!==null),n))}qn(e,n){return dP(e).put("targetGlobalKey",n)}Qn(e,n){return hu(e).put(QF(this.serializer,n))}Kn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.kn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Il(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return hu(e).Z({range:i,index:"queryTargetsIndex"},(o,l,c)=>{const h=Uh(l);Od(n,h.target)&&(s=h,c.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Fo(e);return n.forEach(o=>{const l=Rr(o.path);i.push(s.put({targetId:r,path:l})),i.push(this.referenceDelegate.addReference(e,r,o))}),U.waitFor(i)}removeMatchingKeys(e,n,r){const i=Fo(e);return U.forEach(n,s=>{const o=Rr(s.path);return U.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Fo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Fo(e);let s=tt();return i.Z({range:r,Y:!0},(o,l,c)=>{const h=fs(o[1]),f=new de(h);s=s.add(f)}).next(()=>s)}containsKey(e,n){const r=Rr(n.path),i=IDBKeyRange.bound([r],[QM(r)],!1,!0);let s=0;return Fo(e).Z({index:"documentTargetsIndex",Y:!0,range:i},([o,l],c,h)=>{o!==0&&(s++,h.done())}).next(()=>s>0)}lt(e,n){return hu(e).get(n).next(r=>r?Uh(r):null)}}function hu(t){return Gn(t,"targets")}function dP(t){return Gn(t,"targetGlobal")}function Fo(t){return Gn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP([t,e],[n,r]){const i=Je(t,n);return i===0?Je(e,r):i}class Bee{constructor(e){this.$n=e,this.buffer=new Bt(pP),this.Un=0}Wn(){return++this.Un}Gn(e){const n=[e,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();pP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Uee{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.zn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.jn(6e4)}stop(){this.zn&&(this.zn.cancel(),this.zn=null)}get started(){return this.zn!==null}jn(e){re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.zn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ia(n)?re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ta(n)}await this.jn(3e5)})}}class zee{constructor(e,n){this.Hn=e,this.params=n}calculateTargetCount(e,n){return this.Hn.Jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve($r.ae);const r=new Bee(n);return this.Hn.forEachTarget(e,i=>r.Gn(i.sequenceNumber)).next(()=>this.Hn.Yn(e,i=>r.Gn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Hn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Hn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(fP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fP):this.Zn(e,n))}getCacheSize(e){return this.Hn.getCacheSize(e)}Zn(e,n){let r,i,s,o,l,c,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(h=Date.now(),mu()<=mt.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(h-c)+`ms
Total Duration: ${h-f}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function qee(t,e){return new zee(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee{constructor(e,n){this.db=e,this.garbageCollector=qee(this,n)}Jn(e){const n=this.Xn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Xn(e){let n=0;return this.Yn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Yn(e,n){return this.er(e,(r,i)=>n(i))}addReference(e,n,r){return im(e,r)}removeReference(e,n,r){return im(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return im(e,n)}tr(e,n){return function(i,s){let o=!1;return eV(i).X(l=>ZF(i,l,s).next(c=>(c&&(o=!0),U.resolve(!c)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.er(e,(o,l)=>{if(l<=n){const c=this.tr(e,o).next(h=>{if(!h)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,De.min()),Fo(e).delete(function(p){return[0,Rr(p.path)]}(o))))});i.push(c)}}).next(()=>U.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return im(e,n)}er(e,n){const r=Fo(e);let i,s=$r.ae;return r.Z({index:"documentTargetsIndex"},([o,l],{path:c,sequenceNumber:h})=>{o===0?(s!==$r.ae&&n(new de(fs(i)),s),s=h,i=c):s=$r.ae}).next(()=>{s!==$r.ae&&n(new de(fs(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function im(t,e){return Fo(t).put(function(r,i){return{targetId:0,path:Rr(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this.changes=new Sa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kee{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return $a(e).put(r)}removeEntry(e,n,r){return $a(e).delete(function(s,o){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Lg(o),l[l.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.nr(e,r)))}getEntry(e,n){let r=Gt.newInvalidDocument(n);return $a(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ah(n))},(i,s)=>{r=this.rr(n,s)}).next(()=>r)}ir(e,n){let r={size:0,document:Gt.newInvalidDocument(n)};return $a(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ah(n))},(i,s)=>{r={document:this.rr(n,s),size:Fg(s)}}).next(()=>r)}getEntries(e,n){let r=Br();return this.sr(e,n,(i,s)=>{const o=this.rr(i,s);r=r.insert(i,o)}).next(()=>r)}_r(e,n){let r=Br(),i=new Ut(de.comparator);return this.sr(e,n,(s,o)=>{const l=this.rr(s,o);r=r.insert(s,l),i=i.insert(s,Fg(o))}).next(()=>({documents:r,ar:i}))}sr(e,n,r){if(n.isEmpty())return U.resolve();let i=new Bt(yP);n.forEach(c=>i=i.add(c));const s=IDBKeyRange.bound(Ah(i.first()),Ah(i.last())),o=i.getIterator();let l=o.getNext();return $a(e).Z({index:"documentKeyIndex",range:s},(c,h,f)=>{const p=de.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;l&&yP(l,p)<0;)r(l,null),l=o.getNext();l&&l.isEqual(p)&&(r(l,h),l=o.hasNext()?o.getNext():null),l?f.W(Ah(l)):f.done()}).next(()=>{for(;l;)r(l,null),l=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,l=[o.popLast().toArray(),o.lastSegment(),Lg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $a(e).G(IDBKeyRange.bound(l,c,!0)).next(h=>{s==null||s.incrementDocumentReadCount(h.length);let f=Br();for(const p of h){const m=this.rr(de.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);m.isFoundDocument()&&(kd(n,m)||i.has(m.key))&&(f=f.insert(m.key,m))}return f})}getAllFromCollectionGroup(e,n,r,i){let s=Br();const o=gP(n,r),l=gP(n,ai.max());return $a(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,l,!0)},(c,h,f)=>{const p=this.rr(de.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);s=s.insert(p.key,p),s.size===i&&f.done()}).next(()=>s)}newChangeBuffer(e){return new Hee(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return mP(e).get("remoteDocumentGlobalKey").next(n=>(ke(!!n),n))}nr(e,n){return mP(e).put("remoteDocumentGlobalKey",n)}rr(e,n){if(n){const r=Oee(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(De.min())))return r}return Gt.newInvalidDocument(e)}}function nV(t){return new Kee(t)}class Hee extends tV{constructor(e,n){super(),this.ur=e,this.trackRemovals=n,this.cr=new Sa(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Bt((s,o)=>Je(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const l=this.cr.get(s);if(n.push(this.ur.removeEntry(e,s,l.readTime)),o.isValidDocument()){const c=tP(this.ur.serializer,o);i=i.add(s.path.popLast());const h=Fg(c);r+=h-l.size,n.push(this.ur.addEntry(e,s,c))}else if(r-=l.size,this.trackRemovals){const c=tP(this.ur.serializer,o.convertToNoDocument(De.min()));n.push(this.ur.addEntry(e,s,c))}}),i.forEach(s=>{n.push(this.ur.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ur.updateMetadata(e,r)),U.waitFor(n)}getFromCache(e,n){return this.ur.ir(e,n).next(r=>(this.cr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ur._r(e,n).next(({documents:r,ar:i})=>(i.forEach((s,o)=>{this.cr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function mP(t){return Gn(t,"remoteDocumentGlobal")}function $a(t){return Gn(t,"remoteDocumentsV14")}function Ah(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gP(t,e){const n=e.documentKey.path.toArray();return[t,Lg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function yP(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Je(n[s],r[s]),i)return i;return i=Je(n.length,r.length),i||(i=Je(n[n.length-2],r[r.length-2]),i||Je(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&lf(r.mutation,i,jr.empty(),rn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=tt()){const i=ds();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=jh();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ds();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,tt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Br();const o=af(),l=function(){return af()}();return n.forEach((c,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof fo)?s=s.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),lf(f.mutation,h,f.mutation.getFieldMask(),rn.now())):o.set(h.key,jr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,f)=>o.set(h,f)),n.forEach((h,f)=>{var p;return l.set(h,new Gee(f,(p=o.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=af();let i=new Ut((o,l)=>o-l),s=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let f=r.get(c)||jr.empty();f=l.applyToLocalView(h,f),r.set(c,f);const p=(i.get(l.batchId)||tt()).add(c);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,f=c.value,p=TF();f.forEach(m=>{if(!s.has(m)){const y=PF(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(ds());let l=-1,c=s;return o.next(h=>U.forEach(h,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?U.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{c=c.insert(f,m)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,tt())).next(f=>({batchId:l,changes:EF(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=jh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=jh();return this.indexManager.getCollectionParents(e,s).next(l=>U.forEach(l,c=>{const h=function(p,m){return new ho(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,Gt.newInvalidDocument(f)))});let l=jh();return o.forEach((c,h)=>{const f=s.get(c);f!==void 0&&lf(f.mutation,h,jr.empty(),rn.now()),kd(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return U.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Cn(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:dI(i.bundledQuery),readTime:Cn(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yee{constructor(){this.overlays=new Ut(de.comparator),this.Pr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ds();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.It(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=ds(),s=n.length+1,o=new de(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ut((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=s.get(h.largestBatchId);f===null&&(f=ds(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=ds(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return U.resolve(l)}It(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cI(n,r));let s=this.Pr.get(n);s===void 0&&(s=tt(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.Ir=new Bt(Bn.dr),this.Tr=new Bt(Bn.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new Bn(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new Bn(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new de(new vt([])),r=new Bn(n,e),i=new Bn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new de(new vt([])),r=new Bn(n,e),i=new Bn(n,e+1);let s=tt();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Bn(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bn{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return de.comparator(e.key,n.key)||Je(e.yr,n.yr)}static Er(e,n){return Je(e.yr,n.yr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Bt(Bn.dr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new lI(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Sr=this.Sr.add(new Bn(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bn(n,0),i=new Bn(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const l=this.br(o.yr);s.push(l)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(Je);return n.forEach(i=>{const s=new Bn(i,0),o=new Bn(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],l=>{r=r.add(l.yr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;de.isDocumentKey(s)||(s=s.child(""));const o=new Bn(new de(s),0);let l=new Bt(Je);return this.Sr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.yr)),!0)},o),U.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ke(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return U.forEach(n.mutations,i=>{const s=new Bn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new Bn(n,0),i=this.Sr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jee{constructor(e){this.Fr=e,this.docs=function(){return new Ut(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=Br();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Br();const o=n.path,l=new de(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||eI(XM(f),r)<=0||(i.has(f.key)||kd(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ie()}Mr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Zee(this)}getSize(e){return U.resolve(this.size)}}class Zee extends tV{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ete{constructor(e){this.persistence=e,this.Or=new Sa(n=>Il(n),Od),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.Nr=0,this.Br=new gI,this.targetCount=0,this.Lr=Al.Bn()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),U.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Al(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Qn(n),U.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n){this.kr={},this.overlays={},this.qr=new $r(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new ete(this),this.indexManager=new Vee,this.remoteDocumentCache=function(i){return new Jee(i)}(r=>this.referenceDelegate.$r(r)),this.serializer=new GF(n),this.Ur=new Qee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Yee,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new Xee(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new tte(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(e,n){return U.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class tte extends ZM{constructor(e){super(),this.currentSequenceNumber=e}}class Gy{constructor(e){this.persistence=e,this.jr=new gI,this.Hr=null}static Jr(e){return new Gy(e)}get Yr(){if(this.Hr)return this.Hr;throw Ie()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),U.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Yr,r=>{const i=de.fromPath(r);return this.Zr(e,i).next(s=>{s||n.removeEntry(i,De.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return U.or([()=>U.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nte{constructor(e){this.serializer=e}B(e,n,r,i){const s=new By("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DC,{unique:!0}),c.createObjectStore("documentMutations")}(e),vP(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=U.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),vP(e)),o=o.next(()=>function(c){const h=c.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:De.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",f)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(c,h){return h.store("mutations").G().next(f=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DC,{unique:!0});const p=h.store("mutations"),m=f.map(y=>p.put(y));return U.waitFor(m)})}(e,s))),o=o.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ei(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ti(s)))),r<7&&i>=7&&(o=o.next(()=>this.ni(s))),r<8&&i>=8&&(o=o.next(()=>this.ri(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ii(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(c){const h=c.createObjectStore("documentOverlays",{keyPath:$Z});h.createIndex("collectionPathOverlayIndex",jZ,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",BZ,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(c){const h=c.createObjectStore("remoteDocumentsV14",{keyPath:AZ});h.createIndex("documentKeyIndex",CZ),h.createIndex("collectionGroupIndex",PZ)}(e)).next(()=>this.si(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.oi(e,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:LZ}).createIndex("sequenceNumberIndex",MZ,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:FZ}).createIndex("documentKeyIndex",VZ,{unique:!1})}(e))),o}ti(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=Fg(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ei(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next(i=>U.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",o).next(l=>U.forEach(l,c=>{ke(c.userId===s.userId);const h=Wa(this.serializer,c);return JF(e,s.userId,h).next(()=>{})}))}))}ni(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,l)=>{const c=new vt(o),h=function(p){return[0,Rr(p)]}(c);s.push(n.get(h).next(f=>f?U.resolve():(p=>n.put({targetId:0,path:Rr(p),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>U.waitFor(s))})}ri(e,n){e.createObjectStore("collectionParents",{keyPath:NZ});const r=n.store("collectionParents"),i=new mI,s=o=>{if(i.add(o)){const l=o.lastSegment(),c=o.popLast();return r.put({collectionId:l,parent:Rr(c)})}};return n.store("remoteDocuments").Z({Y:!0},(o,l)=>{const c=new vt(o);return s(c.popLast())}).next(()=>n.store("documentMutations").Z({Y:!0},([o,l,c],h)=>{const f=fs(l);return s(f.popLast())}))}ii(e){const n=e.store("targets");return n.Z((r,i)=>{const s=Uh(i),o=QF(this.serializer,s);return n.put(o)})}si(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const l=n.store("remoteDocumentsV14"),c=function(p){return p.document?new de(vt.fromString(p.document.name).popFirst(5)):p.noDocument?de.fromSegments(p.noDocument.path):p.unknownDocument?de.fromSegments(p.unknownDocument.path):Ie()}(o).path.toArray(),h={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(l.put(h))}).next(()=>U.waitFor(i))}oi(e,n){const r=n.store("mutations"),i=nV(this.serializer),s=new iV(Gy.Jr,this.serializer.ht);return r.G().next(o=>{const l=new Map;return o.forEach(c=>{var h;let f=(h=l.get(c.userId))!==null&&h!==void 0?h:tt();Wa(this.serializer,c).keys().forEach(p=>f=f.add(p)),l.set(c.userId,f)}),U.forEach(l,(c,h)=>{const f=new zn(h),p=Ky.Pt(this.serializer,f),m=s.getIndexManager(f),y=Hy.Pt(f,this.serializer,m,s.referenceDelegate);return new rV(i,y,p,m).recalculateAndSaveOverlaysForDocumentKeys(new TE(n,$r.ae),c).next()})})}}function vP(t){t.createObjectStore("targetDocuments",{keyPath:DZ}).createIndex("documentTargetsIndex",kZ,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",OZ,{unique:!0}),t.createObjectStore("targetGlobal")}const C0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yI{constructor(e,n,r,i,s,o,l,c,h,f,p=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this._i=s,this.window=o,this.document=l,this.ai=h,this.ui=f,this.ci=p,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.li=null,this.inForeground=!1,this.hi=null,this.Pi=null,this.Ii=Number.NEGATIVE_INFINITY,this.di=m=>Promise.resolve(),!yI.C())throw new te(W.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Wee(this,i),this.Ti=n+"main",this.serializer=new GF(c),this.Ei=new qi(this.Ti,this.ci,new nte(this.serializer)),this.Kr=new jee(this.referenceDelegate,this.serializer),this.remoteDocumentCache=nV(this.serializer),this.Ur=new Dee,this.window&&this.window.localStorage?this.Ai=this.window.localStorage:(this.Ai=null,f===!1&&An("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ri().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new te(W.FAILED_PRECONDITION,C0);return this.Vi(),this.mi(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Kr.getHighestSequenceNumber(e))}).then(e=>{this.qr=new $r(e,this.ai)}).then(()=>{this.Qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}gi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.k(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this._i.enqueueAndForget(async()=>{this.started&&await this.Ri()}))}Ri(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>sm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.pi(e).next(n=>{n||(this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.yi(e)).next(n=>this.isPrimary&&!n?this.wi(e).next(()=>!1):!!n&&this.Si(e).next(()=>!0))).catch(e=>{if(Ia(e))return re("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this._i.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}pi(e){return Ch(e).get("owner").next(n=>U.resolve(this.bi(n)))}Di(e){return sm(e).delete(this.clientId)}async Ci(){if(this.isPrimary&&!this.vi(this.Ii,18e5)){this.Ii=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Gn(n,"clientMetadata");return r.G().next(i=>{const s=this.Fi(i,18e5),o=i.filter(l=>s.indexOf(l)===-1);return U.forEach(o,l=>r.delete(l.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ai)for(const n of e)this.Ai.removeItem(this.Mi(n.clientId))}}fi(){this.Pi=this._i.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ri().then(()=>this.Ci()).then(()=>this.fi()))}bi(e){return!!e&&e.ownerId===this.clientId}yi(e){return this.ui?U.resolve(!0):Ch(e).get("owner").next(n=>{if(n!==null&&this.vi(n.leaseTimestampMs,5e3)&&!this.xi(n.ownerId)){if(this.bi(n)&&this.networkEnabled)return!0;if(!this.bi(n)){if(!n.allowTabSynchronization)throw new te(W.FAILED_PRECONDITION,C0);return!1}}return!(!this.networkEnabled||!this.inForeground)||sm(e).G().next(r=>this.Fi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,l=this.networkEnabled===i.networkEnabled;if(s||o&&l)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&re("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Qr=!1,this.Oi(),this.Pi&&(this.Pi.cancel(),this.Pi=null),this.Ni(),this.Bi(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new TE(e,$r.ae);return this.wi(n).next(()=>this.Di(n))}),this.Ei.close(),this.Li()}Fi(e,n){return e.filter(r=>this.vi(r.updateTimeMs,n)&&!this.xi(r.clientId))}ki(){return this.runTransaction("getActiveClients","readonly",e=>sm(e).G().next(n=>this.Fi(n,18e5).map(r=>r.clientId)))}get started(){return this.Qr}getMutationQueue(e,n){return Hy.Pt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $ee(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return Ky.Pt(this.serializer,e)}getBundleCache(){return this.Ur}runTransaction(e,n,r){re("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(c){return c===15?zZ:c===14?iF:c===13?rF:c===12?UZ:c===11?nF:void Ie()}(this.ci);let o;return this.Ei.runTransaction(e,i,s,l=>(o=new TE(l,this.qr?this.qr.next():$r.ae),n==="readwrite-primary"?this.pi(o).next(c=>!!c||this.yi(o)).next(c=>{if(!c)throw An(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)),new te(W.FAILED_PRECONDITION,JM);return r(o)}).next(c=>this.Si(o).next(()=>c)):this.qi(o).next(()=>r(o)))).then(l=>(o.raiseOnCommittedEvent(),l))}qi(e){return Ch(e).get("owner").next(n=>{if(n!==null&&this.vi(n.leaseTimestampMs,5e3)&&!this.xi(n.ownerId)&&!this.bi(n)&&!(this.ui||this.allowTabSynchronization&&n.allowTabSynchronization))throw new te(W.FAILED_PRECONDITION,C0)})}Si(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ch(e).put("owner",n)}static C(){return qi.C()}wi(e){const n=Ch(e);return n.get("owner").next(r=>this.bi(r)?(re("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):U.resolve())}vi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(An(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Vi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.hi=()=>{this._i.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ri()))},this.document.addEventListener("visibilitychange",this.hi),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.hi&&(this.document.removeEventListener("visibilitychange",this.hi),this.hi=null)}mi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.li=()=>{this.Oi();const n=/(?:Version|Mobile)\/1[456]/;DY()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this._i.enterRestrictedMode(!0),this._i.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.li))}Bi(){this.li&&(this.window.removeEventListener("pagehide",this.li),this.li=null)}xi(e){var n;try{const r=((n=this.Ai)===null||n===void 0?void 0:n.getItem(this.Mi(e)))!==null;return re("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return An("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Oi(){if(this.Ai)try{this.Ai.setItem(this.Mi(this.clientId),String(Date.now()))}catch(e){An("Failed to set zombie client id.",e)}}Li(){if(this.Ai)try{this.Ai.removeItem(this.Mi(this.clientId))}catch{}}Mi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ch(t){return Gn(t,"owner")}function sm(t){return Gn(t,"clientMetadata")}function vI(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(e,n){let r=tt(),i=tt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _I(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Hi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new rte;return this.Yi(e,n,o).next(l=>{if(s.result=l,this.Wi)return this.Zi(e,n,o,l.size)})}).next(()=>s.result)}Zi(e,n,r,i){return r.documentReadCount<this.Gi?(mu()<=mt.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",gu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),U.resolve()):(mu()<=mt.DEBUG&&re("QueryEngine","Query:",gu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(mu()<=mt.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",gu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):U.resolve())}Hi(e,n){if(qC(n))return U.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ng(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=tt(...s);return this.ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.Xi(n,l);return this.es(n,h,o,c.readTime)?this.Hi(e,Ng(n,null,"F")):this.ts(e,h,n,c)}))})))}Ji(e,n,r,i){return qC(n)||i.isEqual(De.min())?U.resolve(null):this.ji.getDocuments(e,r).next(s=>{const o=this.Xi(n,s);return this.es(n,o,r,i)?U.resolve(null):(mu()<=mt.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gu(n)),this.ts(e,o,n,YM(i,-1)).next(l=>l))})}Xi(e,n){let r=new Bt(_F(e));return n.forEach((i,s)=>{kd(e,s)&&(r=r.add(s))}),r}es(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(e,n,r){return mu()<=mt.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",gu(n)),this.ji.getDocumentsMatchingQuery(e,n,ai.min(),r)}ts(e,n,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ite{constructor(e,n,r,i){this.persistence=e,this.ns=n,this.serializer=i,this.rs=new Ut(Je),this.ss=new Sa(s=>Il(s),Od),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rV(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function oV(t,e,n,r){return new ite(t,e,n,r)}async function aV(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=tt();for(const h of i){o.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}for(const h of s){l.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(h=>({cs:h,removedBatchIds:o,addedBatchIds:l}))})})}function ste(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n._s.newChangeBuffer({trackRemovals:!0});return function(l,c,h,f){const p=h.batch,m=p.keys();let y=U.resolve();return m.forEach(v=>{y=y.next(()=>f.getEntry(c,v)).next(E=>{const R=h.docVersions.get(v);ke(R!==null),E.version.compareTo(R)<0&&(p.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),f.addEntry(E)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=tt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function lV(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function ote(t,e){const n=ve(t),r=e.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const l=[];e.targetChanges.forEach((f,p)=>{const m=i.get(p);if(!m)return;l.push(n.Kr.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Kr.addMatchingKeys(s,f.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken($n.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),function(E,R,T){return E.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,y,f)&&l.push(n.Kr.updateTargetData(s,y))});let c=Br(),h=tt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(uV(s,o,e.documentUpdates).next(f=>{c=f.ls,h=f.hs})),!r.isEqual(De.min())){const f=n.Kr.getLastRemoteSnapshotVersion(s).next(p=>n.Kr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return U.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(n.rs=i,s))}function uV(t,e,n){let r=tt(),i=tt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Br();return n.forEach((l,c)=>{const h=s.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(De.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):re("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{ls:o,hs:i}})}function ate(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mc(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Kr.allocateTargetId(r).next(o=>(i=new qs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}async function gc(t,e,n){const r=ve(t),i=r.rs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ia(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}function Vg(t,e,n){const r=ve(t);let i=De.min(),s=tt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,f){const p=ve(c),m=p.ss.get(f);return m!==void 0?U.resolve(p.rs.get(m)):p.Kr.getTargetData(h,f)}(r,o,br(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ns.getDocumentsMatchingQuery(o,e,n?i:De.min(),n?s:tt())).next(l=>(fV(r,vF(e),l),{documents:l,Ps:s})))}function cV(t,e){const n=ve(t),r=ve(n.Kr),i=n.rs.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.lt(s,e).next(o=>o?o.target:null))}function hV(t,e){const n=ve(t),r=n.os.get(e)||De.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n._s.getAllFromCollectionGroup(i,e,YM(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(fV(n,e,i),i))}function fV(t,e,n){let r=t.os.get(e)||De.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.os.set(e,r)}async function lte(t,e,n,r){const i=ve(t);let s=tt(),o=Br();for(const h of n){const f=e.Is(h.metadata.name);h.document&&(s=s.add(f));const p=e.ds(h);p.setReadTime(e.Ts(h.metadata.readTime)),o=o.insert(f,p)}const l=i._s.newChangeBuffer({trackRemovals:!0}),c=await mc(i,function(f){return br(Nc(vt.fromString(`__bundle__/docs/${f}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",h=>uV(h,l,o).next(f=>(l.apply(h),f)).next(f=>i.Kr.removeMatchingKeysForTargetId(h,c.targetId).next(()=>i.Kr.addMatchingKeys(h,s,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,f.ls,f.hs)).next(()=>f.ls)))}async function ute(t,e,n=tt()){const r=await mc(t,br(dI(e.bundledQuery))),i=ve(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Cn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ur.saveNamedQuery(s,e);const l=r.withResumeToken($n.EMPTY_BYTE_STRING,o);return i.rs=i.rs.insert(l.targetId,l),i.Kr.updateTargetData(s,l).next(()=>i.Kr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Kr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Ur.saveNamedQuery(s,e))})}function _P(t,e){return`firestore_clients_${t}_${e}`}function wP(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function P0(t,e){return`firestore_targets_${t}_${e}`}class $g{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new te(i.error.code,i.error.message))),o?new $g(e,n,i.state,s):(An("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}As(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class uf{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new te(r.error.code,r.error.message))),s?new uf(e,r.state,i):(An("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}As(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jg{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=oI();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=eF(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new jg(e,s):(An("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class wI{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new wI(n.clientId,n.onlineState):(An("SharedClientState",`Failed to parse online state: ${e}`),null)}}class LE{constructor(){this.activeTargetIds=oI()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O0{constructor(e,n,r,i,s){this.window=e,this._i=n,this.persistenceKey=r,this.fs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.gs=this.ps.bind(this),this.ys=new Ut(Je),this.started=!1,this.ws=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ss=_P(this.persistenceKey,this.fs),this.bs=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.ys=this.ys.insert(this.fs,new LE),this.Ds=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Cs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.vs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Fs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Ms=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.gs)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.ki();for(const r of e){if(r===this.fs)continue;const i=this.getItem(_P(this.persistenceKey,r));if(i){const s=jg.Es(r,i);s&&(this.ys=this.ys.insert(s.clientId,s))}}this.xs();const n=this.storage.getItem(this.Fs);if(n){const r=this.Os(n);r&&this.Ns(r)}for(const r of this.ws)this.ps(r);this.ws=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Bs(this.ys)}isActiveQueryTarget(e){let n=!1;return this.ys.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.ks(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(P0(this.persistenceKey,e));if(r){const i=uf.Es(e,r);i&&(n=i.state)}}return this.qs.Rs(e),this.xs(),n}removeLocalQueryTarget(e){this.qs.Vs(e),this.xs()}isLocalQueryTarget(e){return this.qs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(P0(this.persistenceKey,e))}updateQueryState(e,n,r){this.Qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.ks(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ks(e)}notifyBundleLoaded(e){this.$s(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.gs),this.removeItem(this.Ss),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return re("SharedClientState","READ",e,n),n}setItem(e,n){re("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){re("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ps(e){const n=e;if(n.storageArea===this.storage){if(re("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ss)return void An("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._i.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ds.test(n.key)){if(n.newValue==null){const r=this.Us(n.key);return this.Ws(r,null)}{const r=this.Gs(n.key,n.newValue);if(r)return this.Ws(r.clientId,r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(this.vs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(n.key===this.Fs){if(n.newValue!==null){const r=this.Os(n.newValue);if(r)return this.Ns(r)}}else if(n.key===this.bs){const r=function(s){let o=$r.ae;if(s!=null)try{const l=JSON.parse(s);ke(typeof l=="number"),o=l}catch(l){An("SharedClientState","Failed to read sequence number from WebStorage",l)}return o}(n.newValue);r!==$r.ae&&this.sequenceNumberHandler(r)}else if(n.key===this.Ms){const r=this.Ys(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Zs(i)))}}}else this.ws.push(n)})}}get qs(){return this.ys.get(this.fs)}xs(){this.setItem(this.Ss,this.qs.As())}Ls(e,n,r){const i=new $g(this.currentUser,e,n,r),s=wP(this.persistenceKey,this.currentUser,e);this.setItem(s,i.As())}ks(e){const n=wP(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Ks(e){const n={clientId:this.fs,onlineState:e};this.storage.setItem(this.Fs,JSON.stringify(n))}Qs(e,n,r){const i=P0(this.persistenceKey,e),s=new uf(e,n,r);this.setItem(i,s.As())}$s(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Ms,n)}Us(e){const n=this.Ds.exec(e);return n?n[1]:null}Gs(e,n){const r=this.Us(e);return jg.Es(r,n)}zs(e,n){const r=this.Cs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return $g.Es(new zn(s),i,n)}Hs(e,n){const r=this.vs.exec(e),i=Number(r[1]);return uf.Es(i,n)}Os(e){return wI.Es(e)}Ys(e){return JSON.parse(e)}async js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Xs(e.batchId,e.state,e.error);re("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Js(e){return this.syncEngine.eo(e.targetId,e.state,e.error)}Ws(e,n){const r=n?this.ys.insert(e,n):this.ys.remove(e),i=this.Bs(this.ys),s=this.Bs(r),o=[],l=[];return s.forEach(c=>{i.has(c)||o.push(c)}),i.forEach(c=>{s.has(c)||l.push(c)}),this.syncEngine.no(o,l).then(()=>{this.ys=r})}Ns(e){this.ys.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Bs(e){let n=oI();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class dV{constructor(){this.ro=new LE,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new LE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let om=null;function D0(){return om===null?om=function(){return 268435456+Math.round(2147483648*Math.random())}():om++,"0x"+om.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="WebChannelConnection";class dte extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(n,r,i,s,o){const l=D0(),c=this.Do(n,r);re("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(h,s,o),this.vo(n,c,h,i).then(f=>(re("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw Xi("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",c,"request:",i),f})}Fo(n,r,i,s,o,l){return this.bo(n,r,i,s,o)}Co(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Do(n,r){const i=hte[n];return`${this.po}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=D0();return new Promise((o,l)=>{const c=new uZ;c.setWithCredentials(!0),c.listenOnce(aZ.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case b0.NO_ERROR:const f=c.getResponseJson();re(cr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case b0.TIMEOUT:re(cr,`RPC '${e}' ${s} timed out`),l(new te(W.DEADLINE_EXCEEDED,"Request time out"));break;case b0.HTTP_ERROR:const p=c.getStatus();if(re(cr,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const v=function(R){const T=R.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(T)>=0?T:W.UNKNOWN}(y.status);l(new te(v,y.message))}else l(new te(W.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new te(W.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{re(cr,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);re(cr,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)})}Mo(e,n,r){const i=D0(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=sZ(),l=oZ(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Co(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");re(cr,`Creating RPC '${e}' stream ${i}: ${f}`,c);const p=o.createWebChannel(f,c);let m=!1,y=!1;const v=new fte({ho:R=>{y?re(cr,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(re(cr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),re(cr,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Po:()=>p.close()}),E=(R,T,I)=>{R.listen(T,S=>{try{I(S)}catch(w){setTimeout(()=>{throw w},0)}})};return E(p,tm.EventType.OPEN,()=>{y||re(cr,`RPC '${e}' stream ${i} transport opened.`)}),E(p,tm.EventType.CLOSE,()=>{y||(y=!0,re(cr,`RPC '${e}' stream ${i} transport closed`),v.mo())}),E(p,tm.EventType.ERROR,R=>{y||(y=!0,Xi(cr,`RPC '${e}' stream ${i} transport errored:`,R),v.mo(new te(W.UNAVAILABLE,"The operation could not be completed")))}),E(p,tm.EventType.MESSAGE,R=>{var T;if(!y){const I=R.data[0];ke(!!I);const S=I,w=S.error||((T=S[0])===null||T===void 0?void 0:T.error);if(w){re(cr,`RPC '${e}' stream ${i} received error:`,w);const P=w.status;let O=function(K){const Y=Pn[K];if(Y!==void 0)return kF(Y)}(P),D=w.message;O===void 0&&(O=W.INTERNAL,D="Unknown error status: "+P+" with message "+w.message),y=!0,v.mo(new te(O,D)),p.close()}else re(cr,`RPC '${e}' stream ${i} received:`,I),v.fo(I)}}),E(l,lZ.STAT_EVENT,R=>{R.stat===AC.PROXY?re(cr,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===AC.NOPROXY&&re(cr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Vo()},0),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(){return typeof window<"u"?window:null}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t){return new Eee(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n,r,i,s,o,l,c){this._i=e,this.Uo=r,this.Wo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new EI(e,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(An(n.toString()),An("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{e(()=>{const i=new te(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pte extends mV{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=See(this.serializer,e),r=function(s){if(!("targetChange"in s))return De.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?De.min():o.readTime?Cn(o.readTime):De.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=ed(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=Dg(c)?{documents:UF(s,c)}:{query:zF(s,c)},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=FF(s,o.resumeToken);const h=CE(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(De.min())>0){l.readTime=pc(s,o.snapshotVersion.toTimestamp());const h=CE(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=Ree(this.serializer,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=ed(this.serializer),n.removeTarget=e,this.n_(n)}}class mte extends mV{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=xee(e.writeResults,e.commitTime),r=Cn(e.commitTime);return this.listener.T_(r,n)}return ke(!e.writeResults||e.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=ed(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>td(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gte extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new te(W.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(W.UNKNOWN,i.toString())})}Fo(e,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(W.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class yte{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(An(n),this.p_=!1):re("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vte{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(o=>{r.enqueueAndForget(async()=>{xa(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(c){const h=ve(c);h.F_.add(4),await Fc(h),h.O_.set("Unknown"),h.F_.delete(4),await Vd(h)}(this))})}),this.O_=new yte(r,i)}}async function Vd(t){if(xa(t))for(const e of t.M_)await e(!0)}async function Fc(t){for(const e of t.M_)await e(!1)}function Qy(t,e){const n=ve(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),SI(n)?II(n):$c(n).Yo()&&TI(n,e))}function nd(t,e){const n=ve(t),r=$c(n);n.v_.delete(e),r.Yo()&&gV(n,e),n.v_.size===0&&(r.Yo()?r.e_():xa(n)&&n.O_.set("Unknown"))}function TI(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$c(t).l_(e)}function gV(t,e){t.N_.Le(e),$c(t).h_(e)}function II(t){t.N_=new yee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),$c(t).start(),t.O_.y_()}function SI(t){return xa(t)&&!$c(t).Jo()&&t.v_.size>0}function xa(t){return ve(t).F_.size===0}function yV(t){t.N_=void 0}async function _te(t){t.v_.forEach((e,n)=>{TI(t,e)})}async function wte(t,e){yV(t),SI(t)?(t.O_.b_(e),II(t)):t.O_.set("Unknown")}async function Ete(t,e,n){if(t.O_.set("Online"),e instanceof MF&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.v_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.v_.delete(l),i.N_.removeTarget(l))}(t,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bg(t,r)}else if(e instanceof Dm?t.N_.Ge(e):e instanceof LF?t.N_.Xe(e):t.N_.He(e),!n.isEqual(De.min()))try{const r=await lV(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.N_._t(o);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.v_.get(h);f&&s.v_.set(h,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,h)=>{const f=s.v_.get(c);if(!f)return;s.v_.set(c,f.withResumeToken($n.EMPTY_BYTE_STRING,f.snapshotVersion)),gV(s,c);const p=new qs(f.target,c,h,f.sequenceNumber);TI(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await Bg(t,r)}}async function Bg(t,e,n){if(!Ia(e))throw e;t.F_.add(1),await Fc(t),t.O_.set("Offline"),n||(n=()=>lV(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.F_.delete(1),await Vd(t)})}function vV(t,e){return e().catch(n=>Bg(t,n,e))}async function Vc(t){const e=ve(t),n=ha(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;Tte(e);)try{const i=await ate(e.localStore,r);if(i===null){e.C_.length===0&&n.e_();break}r=i.batchId,Ite(e,i)}catch(i){await Bg(e,i)}_V(e)&&wV(e)}function Tte(t){return xa(t)&&t.C_.length<10}function Ite(t,e){t.C_.push(e);const n=ha(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function _V(t){return xa(t)&&!ha(t).Jo()&&t.C_.length>0}function wV(t){ha(t).start()}async function Ste(t){ha(t).A_()}async function xte(t){const e=ha(t);for(const n of t.C_)e.d_(n.mutations)}async function Rte(t,e,n){const r=t.C_.shift(),i=uI.from(r,e,n);await vV(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Vc(t)}async function bte(t,e){e&&ha(t).I_&&await async function(r,i){if(function(o){return DF(o)&&o!==W.ABORTED}(i.code)){const s=r.C_.shift();ha(r).Xo(),await vV(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Vc(r)}}(t,e),_V(t)&&wV(t)}async function TP(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=xa(n);n.F_.add(3),await Fc(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),await Vd(n)}async function ME(t,e){const n=ve(t);e?(n.F_.delete(2),await Vd(n)):e||(n.F_.add(2),await Fc(n),n.O_.set("Unknown"))}function $c(t){return t.B_||(t.B_=function(n,r,i){const s=ve(n);return s.V_(),new pte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:_te.bind(null,t),Eo:wte.bind(null,t),c_:Ete.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),SI(t)?II(t):t.O_.set("Unknown")):(await t.B_.stop(),yV(t))})),t.B_}function ha(t){return t.L_||(t.L_=function(n,r,i){const s=ve(n);return s.V_(),new mte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:Ste.bind(null,t),Eo:bte.bind(null,t),E_:xte.bind(null,t),T_:Rte.bind(null,t)}),t.M_.push(async e=>{e?(t.L_.Xo(),await Vc(t)):(await t.L_.stop(),t.C_.length>0&&(re("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new xI(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jc(t,e){if(An("AsyncQueue",`${e}: ${t}`),Ia(t))return new te(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=jh(),this.sortedSet=new Ut(this.comparator)}static emptySet(e){return new Hu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.k_=new Ut(de.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?e.type!==0&&r.type===3?this.k_=this.k_.insert(n,e):e.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.k_=this.k_.remove(n):e.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):Ie():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class yc{constructor(e,n,r,i,s,o,l,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new yc(e,n,Hu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ate{constructor(){this.Q_=void 0,this.listeners=[]}}class Cte{constructor(){this.queries=new Sa(e=>yF(e),Dd),this.onlineState="Unknown",this.K_=new Set}}async function RI(t,e){const n=ve(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ate),i)try{s.Q_=await n.onListen(r)}catch(o){const l=jc(o,`Initialization of query '${gu(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.listeners.push(e),e.U_(n.onlineState),s.Q_&&e.W_(s.Q_)&&AI(n)}async function bI(t,e){const n=ve(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Pte(t,e){const n=ve(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.listeners)l.W_(i)&&(r=!0);o.Q_=i}}r&&AI(n)}function Ote(t,e,n){const r=ve(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function AI(t){t.K_.forEach(e=>{e.next()})}class CI{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dte{constructor(e,n){this.X_=e,this.byteLength=n}ea(){return"metadata"in this.X_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.serializer=e}Is(e){return _s(this.serializer,e)}ds(e){return e.metadata.exists?BF(this.serializer,e.document,!1):Gt.newNoDocument(this.Is(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Cn(e)}}class kte{constructor(e,n,r){this.ta=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=EV(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++n;const r=vt.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ra(e){const n=new Map,r=new SP(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Is(i.metadata.name);for(const o of i.metadata.queries){const l=(n.get(o)||tt()).add(s);n.set(o,l)}}return n}async complete(){const e=await lte(this.localStore,new SP(this.serializer),this.documents,this.ta.id),n=this.ra(this.documents);for(const r of this.queries)await ute(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function EV(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e){this.key=e}}class IV{constructor(e){this.key=e}}class SV{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=tt(),this.mutatedKeys=tt(),this.ua=_F(e),this.ca=new Hu(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new IP,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const m=i.get(f),y=kd(this.query,p)?p:null,v=!!m&&this.mutatedKeys.has(m.key),E=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let R=!1;m&&y?m.data.isEqual(y.data)?v!==E&&(r.track({type:3,doc:y}),R=!0):this.Ia(m,y)||(r.track({type:2,doc:y}),R=!0,(c&&this.ua(y,c)>0||h&&this.ua(y,h)<0)&&(l=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(c||h)&&(l=!0)),R&&(y?(o=o.add(y),s=E?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{ca:o,Pa:r,es:l,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.q_();s.sort((h,f)=>function(m,y){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return v(m)-v(y)}(h.type,f.type)||this.ua(h.doc,f.doc)),this.da(r);const o=n?this.Ta():[],l=this.aa.size===0&&this.current?1:0,c=l!==this._a;return this._a=l,s.length!==0||c?{snapshot:new yc(this.query,e.ca,i,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new IP,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=tt(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new IV(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new TV(r))}),n}Ra(e){this.oa=e.Ps,this.aa=tt();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return yc.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class Nte{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Lte{constructor(e){this.key=e,this.ma=!1}}class Mte{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Sa(l=>yF(l),Dd),this.pa=new Map,this.ya=new Set,this.wa=new Ut(de.comparator),this.Sa=new Map,this.ba=new gI,this.Da={},this.Ca=new Map,this.va=Al.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function Fte(t,e){const n=NI(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await mc(n.localStore,br(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await PI(n,e,r,l==="current",o.resumeToken),n.isPrimaryClient&&Qy(n.remoteStore,o)}return i}async function PI(t,e,n,r,i){t.Ma=(p,m,y)=>async function(E,R,T,I){let S=R.view.ha(T);S.es&&(S=await Vg(E.localStore,R.query,!1).then(({documents:O})=>R.view.ha(O,S)));const w=I&&I.targetChanges.get(R.targetId),P=R.view.applyChanges(S,E.isPrimaryClient,w);return FE(E,R.targetId,P.Ea),P.snapshot}(t,p,m,y);const s=await Vg(t.localStore,e,!0),o=new SV(e,s.Ps),l=o.ha(s.documents),c=Md.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(l,t.isPrimaryClient,c);FE(t,n,h.Ea);const f=new Nte(e,n,o);return t.ga.set(e,f),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),h.snapshot}async function Vte(t,e){const n=ve(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Dd(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await gc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),nd(n.remoteStore,r.targetId),vc(n,r.targetId)}).catch(Ta)):(vc(n,r.targetId),await gc(n.localStore,r.targetId,!0))}async function $te(t,e,n){const r=LI(t);try{const i=await function(o,l){const c=ve(o),h=rn.now(),f=l.reduce((y,v)=>y.add(v.key),tt());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let v=Br(),E=tt();return c._s.getEntries(y,f).next(R=>{v=R,v.forEach((T,I)=>{I.isValidDocument()||(E=E.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,v)).next(R=>{p=R;const T=[];for(const I of l){const S=pee(I,p.get(I.key).overlayedDocument);S!=null&&T.push(new fo(I.key,S,lF(S.value.mapValue),nn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,h,T,l)}).next(R=>{m=R;const T=R.applyToLocalDocumentSet(p,E);return c.documentOverlayCache.saveOverlays(y,R.batchId,T)})}).then(()=>({batchId:m.batchId,changes:EF(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let h=o.Da[o.currentUser.toKey()];h||(h=new Ut(Je)),h=h.insert(l,c),o.Da[o.currentUser.toKey()]=h}(r,i.batchId,n),await po(r,i.changes),await Vc(r.remoteStore)}catch(i){const s=jc(i,"Failed to persist write");n.reject(s)}}async function xV(t,e){const n=ve(t);try{const r=await ote(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?ke(o.ma):i.removedDocuments.size>0&&(ke(o.ma),o.ma=!1))}),await po(n,r,e)}catch(r){await Ta(r)}}function xP(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const l=o.view.U_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=ve(o);c.onlineState=l;let h=!1;c.queries.forEach((f,p)=>{for(const m of p.listeners)m.U_(l)&&(h=!0)}),h&&AI(c)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jte(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Ut(de.comparator);o=o.insert(s,Gt.newNoDocument(s,De.min()));const l=tt().add(s),c=new Ld(De.min(),new Map,new Ut(Je),o,l);await xV(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),kI(r)}else await gc(r.localStore,e,!1).then(()=>vc(r,e,n)).catch(Ta)}async function Bte(t,e){const n=ve(t),r=e.batch.batchId;try{const i=await ste(n.localStore,e);DI(n,r,null),OI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await po(n,i)}catch(i){await Ta(i)}}async function Ute(t,e,n){const r=ve(t);try{const i=await function(o,l){const c=ve(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return c.mutationQueue.lookupMutationBatch(h,l).next(p=>(ke(p!==null),f=p.keys(),c.mutationQueue.removeMutationBatch(h,p))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>c.localDocuments.getDocuments(h,f))})}(r.localStore,e);DI(r,e,n),OI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await po(r,i)}catch(i){await Ta(i)}}async function zte(t,e){const n=ve(t);xa(n.remoteStore)||re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const l=ve(o);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>l.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Ca.get(r)||[];i.push(e),n.Ca.set(r,i)}catch(r){const i=jc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function OI(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function DI(t,e,n){const r=ve(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function vc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||RV(t,r)})}function RV(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(nd(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),kI(t))}function FE(t,e,n){for(const r of n)r instanceof TV?(t.ba.addReference(r.key,e),qte(t,r)):r instanceof IV?(re("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||RV(t,r.key)):Ie()}function qte(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(re("SyncEngine","New document in limbo: "+n),t.ya.add(r),kI(t))}function kI(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new de(vt.fromString(e)),r=t.va.next();t.Sa.set(r,new Lte(n)),t.wa=t.wa.insert(n,r),Qy(t.remoteStore,new qs(br(Nc(n.path)),r,"TargetPurposeLimboResolution",$r.ae))}}async function po(t,e,n){const r=ve(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((l,c)=>{o.push(r.Ma(c,e,n).then(h=>{if((h||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,h!=null&&h.fromCache?"not-current":"current"),h){i.push(h);const f=_I.$i(c.targetId,h);s.push(f)}}))}),await Promise.all(o),r.fa.c_(i),await async function(c,h){const f=ve(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(h,m=>U.forEach(m.Qi,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>U.forEach(m.Ki,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Ia(p))throw p;re("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const y=f.rs.get(m),v=y.snapshotVersion,E=y.withLastLimboFreeSnapshotVersion(v);f.rs=f.rs.insert(m,E)}}}(r.localStore,s))}async function Wte(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=await aV(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(l=>{l.forEach(c=>{c.reject(new te(W.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await po(n,r.cs)}}function Kte(t,e){const n=ve(t),r=n.Sa.get(e);if(r&&r.ma)return tt().add(r.key);{let i=tt();const s=n.pa.get(e);if(!s)return i;for(const o of s){const l=n.ga.get(o);i=i.unionWith(l.view.la)}return i}}async function Hte(t,e){const n=ve(t),r=await Vg(n.localStore,e.query,!0),i=e.view.Ra(r);return n.isPrimaryClient&&FE(n,e.targetId,i.Ea),i}async function Gte(t,e){const n=ve(t);return hV(n.localStore,e).then(r=>po(n,r))}async function Qte(t,e,n,r){const i=ve(t),s=await function(l,c){const h=ve(l),f=ve(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",p=>f.Fn(p,c).next(m=>m?h.localDocuments.getDocuments(p,m):U.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Vc(i.remoteStore):n==="acknowledged"||n==="rejected"?(DI(i,e,r||null),OI(i,e),function(l,c){ve(ve(l).mutationQueue).xn(c)}(i.localStore,e)):Ie(),await po(i,s)):re("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Yte(t,e){const n=ve(t);if(NI(n),LI(n),e===!0&&n.Fa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await RP(n,r.toArray());n.Fa=!0,await ME(n.remoteStore,!0);for(const s of i)Qy(n.remoteStore,s)}else if(e===!1&&n.Fa!==!1){const r=[];let i=Promise.resolve();n.pa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(vc(n,o),gc(n.localStore,o,!0))),nd(n.remoteStore,o)}),await i,await RP(n,r),function(o){const l=ve(o);l.Sa.forEach((c,h)=>{nd(l.remoteStore,h)}),l.ba.gr(),l.Sa=new Map,l.wa=new Ut(de.comparator)}(n),n.Fa=!1,await ME(n.remoteStore,!1)}}async function RP(t,e,n){const r=ve(t),i=[],s=[];for(const o of e){let l;const c=r.pa.get(o);if(c&&c.length!==0){l=await mc(r.localStore,br(c[0]));for(const h of c){const f=r.ga.get(h),p=await Hte(r,f);p.snapshot&&s.push(p.snapshot)}}else{const h=await cV(r.localStore,o);l=await mc(r.localStore,h),await PI(r,bV(h),o,!1,l.resumeToken)}i.push(l)}return r.fa.c_(s),i}function bV(t){return gF(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Xte(t){return function(n){return ve(ve(n).persistence).ki()}(ve(t).localStore)}async function Jte(t,e,n,r){const i=ve(t);if(i.Fa)return void re("SyncEngine","Ignoring unexpected query state notification.");const s=i.pa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await hV(i.localStore,vF(s[0])),l=Ld.createSynthesizedRemoteEventForCurrentChange(e,n==="current",$n.EMPTY_BYTE_STRING);await po(i,o,l);break}case"rejected":await gc(i.localStore,e,!0),vc(i,e,r);break;default:Ie()}}async function Zte(t,e,n){const r=NI(t);if(r.Fa){for(const i of e){if(r.pa.has(i)){re("SyncEngine","Adding an already active target "+i);continue}const s=await cV(r.localStore,i),o=await mc(r.localStore,s);await PI(r,bV(s),o.targetId,!1,o.resumeToken),Qy(r.remoteStore,o)}for(const i of n)r.pa.has(i)&&await gc(r.localStore,i,!1).then(()=>{nd(r.remoteStore,i),vc(r,i)}).catch(Ta)}}function NI(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jte.bind(null,e),e.fa.c_=Pte.bind(null,e.eventManager),e.fa.xa=Ote.bind(null,e.eventManager),e}function LI(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bte.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ute.bind(null,e),e}function ene(t,e,n){const r=ve(t);(async function(s,o,l){try{const c=await o.getMetadata();if(await function(y,v){const E=ve(y),R=Cn(v.createTime);return E.persistence.runTransaction("hasNewerBundle","readonly",T=>E.Ur.getBundleMetadata(T,v.id)).then(T=>!!T&&T.createTime.compareTo(R)>=0)}(s.localStore,c))return await o.close(),l._completeWith(function(y){return{taskState:"Success",documentsLoaded:y.totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}}(c)),Promise.resolve(new Set);l._updateProgress(EV(c));const h=new kte(c,s.localStore,o.serializer);let f=await o.Oa();for(;f;){const m=await h.na(f);m&&l._updateProgress(m),f=await o.Oa()}const p=await h.complete();return await po(s,p.sa,void 0),await function(y,v){const E=ve(y);return E.persistence.runTransaction("Save bundle","readwrite",R=>E.Ur.saveBundleMetadata(R,v))}(s.localStore,c),l._completeWith(p.progress),Promise.resolve(p.ia)}catch(c){return Xi("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class VE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Fd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return oV(this.persistence,new sV,e.initialUser,this.serializer)}createPersistence(e){return new iV(Gy.Jr,this.serializer)}createSharedClientState(e){return new dV}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class AV extends VE{constructor(e,n,r){super(),this.Na=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await LI(this.Na.syncEngine),await Vc(this.Na.remoteStore),await this.persistence.gi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return oV(this.persistence,new sV,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Uee(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new xZ(n,this.persistence);return new SZ(e.asyncQueue,r)}createPersistence(e){const n=vI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new yI(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,pV(),km(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new dV}}class tne extends AV{constructor(e,n){super(e,n,!1),this.Na=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Na.syncEngine;this.sharedClientState instanceof O0&&(this.sharedClientState.syncEngine={Xs:Qte.bind(null,n),eo:Jte.bind(null,n),no:Zte.bind(null,n),ki:Xte.bind(null,n),Zs:Gte.bind(null,n)},await this.sharedClientState.start()),await this.persistence.gi(async r=>{await Yte(this.Na.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=pV();if(!O0.C(n))throw new te(W.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=vI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new O0(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class MI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wte.bind(null,this.syncEngine),await ME(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Cte}()}createDatastore(e){const n=Fd(e.databaseInfo.databaseId),r=function(s){return new dte(s)}(e.databaseInfo);return function(s,o,l,c){return new gte(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new vte(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>xP(this.syncEngine,n,0),function(){return EP.C()?new EP:new cte}())}createSyncEngine(e,n){return function(i,s,o,l,c,h,f){const p=new Mte(i,s,o,l,c,h);return f&&(p.Fa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ve(n);re("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await Fc(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):An("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(e,n){this.ka=e,this.serializer=n,this.metadata=new Wn,this.buffer=new Uint8Array,this.qa=function(){return new TextDecoder("utf-8")}(),this.Qa().then(r=>{r&&r.ea()?this.metadata.resolve(r.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.X_)}`))},r=>this.metadata.reject(r))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(e===null)return null;const n=this.qa.decode(e),r=Number(n);isNaN(r)&&this.$a(`length string (${n}) is not valid number`);const i=await this.Ua(r);return new Dte(JSON.parse(i),e.length+r)}Wa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(this.buffer.length===0)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const n=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ga(){const e=await this.ka.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new te(W.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(i,s){const o=ve(i),l=ed(o.serializer)+"/documents",c={documents:s.map(m=>Zf(o.serializer,m))},h=await o.Fo("BatchGetDocuments",l,c,s.length),f=new Map;h.forEach(m=>{const y=Iee(o.serializer,m);f.set(y.key.toString(),y)});const p=[];return s.forEach(m=>{const y=f.get(m.toString());ke(!!y),p.push(y)}),p}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=de.fromPath(r);this.mutations.push(new aI(i,this.precondition(i)))}),await async function(r,i){const s=ve(r),o=ed(s.serializer)+"/documents",l={writes:i.map(c=>td(s.serializer,c))};await s.bo("Commit",o,l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ie();n=De.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new te(W.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(De.min())?nn.exists(!1):nn.updateTime(n):nn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(De.min()))throw new te(W.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nn.updateTime(n)}return nn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.za=r.maxAttempts,this.Ho=new EI(this.asyncQueue,"transaction_retry")}run(){this.za-=1,this.ja()}ja(){this.Ho.Qo(async()=>{const e=new rne(this.datastore),n=this.Ha(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Ja(i)}))}).catch(r=>{this.Ja(r)})})}Ha(e){try{const n=this.updateFunction(e);return!Pd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ja(e){this.za>0&&this.Ya(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.ja(),Promise.resolve()))):this.deferred.reject(e)}Ya(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!DF(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sne{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zn.UNAUTHENTICATED,this.clientId=GM.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{re("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(re("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Nm(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await aV(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $E(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FI(t);re("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>TP(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>TP(e.remoteStore,s)),t._onlineComponents=e}function CV(t){return t.name==="FirebaseError"?t.code===W.FAILED_PRECONDITION||t.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function FI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await Nm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!CV(n))throw n;Xi("Error using user provided cache. Falling back to memory cache: "+n),await Nm(t,new VE)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await Nm(t,new VE);return t._offlineComponents}async function Xy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await $E(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await $E(t,new MI))),t._onlineComponents}function PV(t){return FI(t).then(e=>e.persistence)}function VI(t){return FI(t).then(e=>e.localStore)}function OV(t){return Xy(t).then(e=>e.remoteStore)}function $I(t){return Xy(t).then(e=>e.syncEngine)}function one(t){return Xy(t).then(e=>e.datastore)}async function _c(t){const e=await Xy(t),n=e.eventManager;return n.onListen=Fte.bind(null,e.syncEngine),n.onUnlisten=Vte.bind(null,e.syncEngine),n}function ane(t){return t.asyncQueue.enqueue(async()=>{const e=await PV(t),n=await OV(t);return e.setNetworkEnabled(!0),function(i){const s=ve(i);return s.F_.delete(0),Vd(s)}(n)})}function lne(t){return t.asyncQueue.enqueue(async()=>{const e=await PV(t),n=await OV(t);return e.setNetworkEnabled(!1),async function(i){const s=ve(i);s.F_.add(0),await Fc(s),s.O_.set("Offline")}(n)})}function une(t,e){const n=new Wn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const l=await function(h,f){const p=ve(h);return p.persistence.runTransaction("read document","readonly",m=>p.localDocuments.getDocument(m,f))}(i,s);l.isFoundDocument()?o.resolve(l):l.isNoDocument()?o.resolve(null):o.reject(new te(W.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=jc(l,`Failed to get document '${s} from cache`);o.reject(c)}}(await VI(t),e,n)),n.promise}function DV(t,e,n={}){const r=new Wn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,h){const f=new Yy({next:m=>{o.enqueueAndForget(()=>bI(s,p));const y=m.docs.has(l);!y&&m.fromCache?h.reject(new te(W.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?h.reject(new te(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new CI(Nc(l.path),f,{includeMetadataChanges:!0,Z_:!0});return RI(s,p)}(await _c(t),t.asyncQueue,e,n,r)),r.promise}function cne(t,e){const n=new Wn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const l=await Vg(i,s,!0),c=new SV(s,l.Ps),h=c.ha(l.documents),f=c.applyChanges(h,!1);o.resolve(f.snapshot)}catch(l){const c=jc(l,`Failed to execute query '${s} against cache`);o.reject(c)}}(await VI(t),e,n)),n.promise}function kV(t,e,n={}){const r=new Wn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,h){const f=new Yy({next:m=>{o.enqueueAndForget(()=>bI(s,p)),m.fromCache&&c.source==="server"?h.reject(new te(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new CI(l,f,{includeMetadataChanges:!0,Z_:!0});return RI(s,p)}(await _c(t),t.asyncQueue,e,n,r)),r.promise}function hne(t,e){const n=new Yy(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){ve(i).K_.add(s),s.next()}(await _c(t),n)),()=>{n.La(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){ve(i).K_.delete(s)}(await _c(t),n))}}function fne(t,e,n,r){const i=function(o,l){let c;return c=typeof o=="string"?NF().encode(o):o,function(f,p){return new nne(f,p)}(function(f,p){if(f instanceof Uint8Array)return bP(f,p);if(f instanceof ArrayBuffer)return bP(new Uint8Array(f),p);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),l)}(n,Fd(e));t.asyncQueue.enqueueAndForget(async()=>{ene(await $I(t),i,r)})}function dne(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=ve(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Ur.getNamedQuery(o,i))}(await VI(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t,e,n){if(!n)throw new te(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LV(t,e,n,r){if(e===!0&&r===!0)throw new te(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CP(t){if(!de.isDocumentKey(t))throw new te(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PP(t){if(de.isDocumentKey(t))throw new te(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie()}function Tt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jy(t);throw new te(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function MV(t,e){if(e<=0)throw new te(W.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NV((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $d{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OP(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dZ;switch(r.type){case"firstParty":return new yZ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=AP.get(n);r&&(re("ComponentProvider","Removing Datastore"),AP.delete(n),r.terminate())}(this),Promise.resolve()}}function pne(t,e,n,r={}){var i;const s=(t=Tt(t,$d))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Xi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=zn.MOCK_USER;else{l=OL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new te(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new zn(h)}t._authCredentials=new pZ(new HM(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ar=class FV{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new FV(this.firestore,e,this._query)}},hn=class VV{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new VV(this.firestore,e,this._key)}},Zo=class $V extends Ar{constructor(e,n,r){super(e,n,Nc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new de(e))}withConverter(e){return new $V(this.firestore,e,this._path)}};function jV(t,e,...n){if(t=Mt(t),jI("collection","path",e),t instanceof $d){const r=vt.fromString(e,...n);return PP(r),new Zo(t,null,r)}{if(!(t instanceof hn||t instanceof Zo))throw new te(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return PP(r),new Zo(t.firestore,null,r)}}function mne(t,e){if(t=Tt(t,$d),jI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new te(W.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ar(t,null,function(r){return new ho(vt.emptyPath(),r)}(e))}function Ug(t,e,...n){if(t=Mt(t),arguments.length===1&&(e=GM.V()),jI("doc","path",e),t instanceof $d){const r=vt.fromString(e,...n);return CP(r),new hn(t,null,new de(r))}{if(!(t instanceof hn||t instanceof Zo))throw new te(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return CP(r),new hn(t.firestore,t instanceof Zo?t.converter:null,new de(r))}}function BV(t,e){return t=Mt(t),e=Mt(e),(t instanceof hn||t instanceof Zo)&&(e instanceof hn||e instanceof Zo)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function UV(t,e){return t=Mt(t),e=Mt(e),t instanceof Ar&&e instanceof Ar&&t.firestore===e.firestore&&Dd(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gne{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new EI(this,"async_queue_retry"),this.ou=()=>{const n=km();n&&re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=km();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new Wn;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!Ia(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{this.nu=r,this.ru=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw An("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const i=xI.createAndSchedule(this,e,n,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&Ie()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}function jE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class yne{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vne=-1;let Tn=class extends $d{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new gne}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zV(this),this._firestoreClient.terminate()}};function Qn(t){return t._firestoreClient||zV(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function zV(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,h,f){return new KZ(l,c,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,NV(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new sne(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function _ne(t,e){WV(t=Tt(t,Tn));const n=Qn(t);if(n._uninitializedComponentsProvider)throw new te(W.FAILED_PRECONDITION,"SDK cache is already specified.");Xi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new MI;return qV(n,i,new AV(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function wne(t){WV(t=Tt(t,Tn));const e=Qn(t);if(e._uninitializedComponentsProvider)throw new te(W.FAILED_PRECONDITION,"SDK cache is already specified.");Xi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new MI;return qV(e,r,new tne(r,n.cacheSizeBytes))}function qV(t,e,n){const r=new Wn;return t.asyncQueue.enqueue(async()=>{try{await Nm(t,n),await $E(t,e),r.resolve()}catch(i){const s=i;if(!CV(s))throw s;Xi("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function Ene(t){if(t._initialized&&!t._terminated)throw new te(W.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wn;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!qi.C())return Promise.resolve();const i=r+"main";await qi.delete(i)}(vI(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Tne(t){return function(n){const r=new Wn;return n.asyncQueue.enqueueAndForget(async()=>zte(await $I(n),r)),r.promise}(Qn(t=Tt(t,Tn)))}function Ine(t){return ane(Qn(t=Tt(t,Tn)))}function Sne(t){return lne(Qn(t=Tt(t,Tn)))}function xne(t,e){const n=Qn(t=Tt(t,Tn)),r=new yne;return fne(n,t._databaseId,e,r),r}function Rne(t,e){return dne(Qn(t=Tt(t,Tn)),e).then(n=>n?new Ar(t,null,n.query):null)}function WV(t){if(t._initialized||t._terminated)throw new te(W.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts($n.fromBase64String(e))}catch(n){throw new te(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ts($n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bne=/^__.*__$/;class Ane{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lc(e,this.data,n,this.fieldTransforms)}}class KV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class ev{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new ev(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return zg(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(e.length===0)throw this.gu("Document fields must not be empty");if(HV(this.Tu)&&bne.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class Cne{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fd(e)}wu(e,n,r,i=!1){return new ev({Tu:e,methodName:n,yu:r,path:wn.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $l(t){const e=t._freezeSettings(),n=Fd(t._databaseId);return new Cne(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tv(t,e,n,r,i,s={}){const o=t.wu(s.merge||s.mergeFields?2:0,e,n,i);qI("Data must be an object, but it was:",o,r);const l=YV(r,o);let c,h;if(s.merge)c=new jr(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const m=BE(e,p,n);if(!o.contains(m))throw new te(W.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);JV(f,m)||f.push(m)}c=new jr(f),h=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,h=o.fieldTransforms;return new Ane(new tr(l),c,h)}class jd extends Vl{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.gu(`${this._methodName}() can only appear at the top level of your update data`):e.gu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jd}}function GV(t,e,n){return new ev({Tu:3,yu:e.settings.yu,methodName:t._methodName,Ru:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class BI extends Vl{_toFieldTransform(e){return new Nd(e.path,new fc)}isEqual(e){return e instanceof BI}}class Pne extends Vl{constructor(e,n){super(e),this.Su=n}_toFieldTransform(e){const n=GV(this,e,!0),r=this.Su.map(s=>jl(s,n)),i=new Sl(r);return new Nd(e.path,i)}isEqual(e){return this===e}}class One extends Vl{constructor(e,n){super(e),this.Su=n}_toFieldTransform(e){const n=GV(this,e,!0),r=this.Su.map(s=>jl(s,n)),i=new xl(r);return new Nd(e.path,i)}isEqual(e){return this===e}}class Dne extends Vl{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=new dc(e.serializer,xF(e.serializer,this.bu));return new Nd(e.path,n)}isEqual(e){return this===e}}function UI(t,e,n,r){const i=t.wu(1,e,n);qI("Data must be an object, but it was:",i,r);const s=[],o=tr.empty();Fl(r,(c,h)=>{const f=WI(e,c,n);h=Mt(h);const p=i.mu(f);if(h instanceof jd)s.push(f);else{const m=jl(h,p);m!=null&&(s.push(f),o.set(f,m))}});const l=new jr(s);return new KV(o,l,i.fieldTransforms)}function zI(t,e,n,r,i,s){const o=t.wu(1,e,n),l=[BE(e,r,n)],c=[i];if(s.length%2!=0)throw new te(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(BE(e,s[m])),c.push(s[m+1]);const h=[],f=tr.empty();for(let m=l.length-1;m>=0;--m)if(!JV(h,l[m])){const y=l[m];let v=c[m];v=Mt(v);const E=o.mu(y);if(v instanceof jd)h.push(y);else{const R=jl(v,E);R!=null&&(h.push(y),f.set(y,R))}}const p=new jr(h);return new KV(f,p,o.fieldTransforms)}function QV(t,e,n,r=!1){return jl(n,t.wu(r?4:3,e))}function jl(t,e){if(XV(t=Mt(t)))return qI("Unsupported field value:",e,t),YV(t,e);if(t instanceof Vl)return function(r,i){if(!HV(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&e.Tu!==4)throw e.gu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=jl(l,i.fu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=rn.fromDate(r);return{timestampValue:pc(i.serializer,s)}}if(r instanceof rn){const s=new rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pc(i.serializer,s)}}if(r instanceof Zy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ts)return{bytesValue:FF(i.serializer,r._byteString)};if(r instanceof hn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:fI(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${Jy(r)}`)}(t,e)}function YV(t,e){const n={};return sF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fl(t,(r,i)=>{const s=jl(i,e.Au(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function XV(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rn||t instanceof Zy||t instanceof Ts||t instanceof hn||t instanceof Vl)}function qI(t,e,n){if(!XV(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Jy(n);throw r==="an object"?e.gu(t+" a custom object"):e.gu(t+" "+r)}}function BE(t,e,n){if((e=Mt(e))instanceof fa)return e._internalPath;if(typeof e=="string")return WI(t,e);throw zg("Field path arguments must be of type string or ",t,!1,void 0,n)}const kne=new RegExp("[~\\*/\\[\\]]");function WI(t,e,n){if(e.search(kne)>=0)throw zg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fa(...e.split("."))._internalPath}catch{throw zg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new te(W.INVALID_ARGUMENT,l+t+c)}function JV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Nne extends rd{data(){return super.data()}}function nv(t,e){return typeof e=="string"?WI(t,e):e instanceof fa?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KI{}class Bd extends KI{}function Co(t,e,...n){let r=[];e instanceof KI&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof HI).length,l=s.filter(c=>c instanceof rv).length;if(o>1||o>0&&l>0)throw new te(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class rv extends Bd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new rv(e,n,r)}_apply(e){const n=this._parse(e);return t$(e._query,n),new Ar(e.firestore,e.converter,AE(e._query,n))}_parse(e){const n=$l(e.firestore);return function(s,o,l,c,h,f,p){let m;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new te(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){kP(p,f);const y=[];for(const v of p)y.push(DP(c,s,v));m={arrayValue:{values:y}}}else m=DP(c,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||kP(p,f),m=QV(l,o,p,f==="in"||f==="not-in");return ft.create(h,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Lne(t,e,n){const r=e,i=nv("where",t);return rv._create(i,r,n)}class HI extends KI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new HI(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)t$(o,c),o=AE(o,c)}(e._query,n),new Ar(e.firestore,e.converter,AE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class GI extends Bd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new GI(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new te(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new te(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Wu(s,o);return function(h,f){if(iI(h)===null){const p=zy(h);p!==null&&n$(h,p,f.field)}}(i,l),l}(e._query,this._field,this._direction);return new Ar(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ho(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Mne(t,e="asc"){const n=e,r=nv("orderBy",t);return GI._create(r,n)}class iv extends Bd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new iv(e,n,r)}_apply(e){return new Ar(e.firestore,e.converter,Ng(e._query,this._limit,this._limitType))}}function Fne(t){return MV("limit",t),iv._create("limit",t,"F")}function Vne(t){return MV("limitToLast",t),iv._create("limitToLast",t,"L")}class sv extends Bd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new sv(e,n,r)}_apply(e){const n=e$(e,this.type,this._docOrFields,this._inclusive);return new Ar(e.firestore,e.converter,function(i,s){return new ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function $ne(...t){return sv._create("startAt",t,!0)}function jne(...t){return sv._create("startAfter",t,!1)}class ov extends Bd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ov(e,n,r)}_apply(e){const n=e$(e,this.type,this._docOrFields,this._inclusive);return new Ar(e.firestore,e.converter,function(i,s){return new ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function Bne(...t){return ov._create("endBefore",t,!1)}function Une(...t){return ov._create("endAt",t,!0)}function e$(t,e,n,r){if(n[0]=Mt(n[0]),n[0]instanceof rd)return function(s,o,l,c,h){if(!c)throw new te(W.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const f=[];for(const p of Ku(s))if(p.field.isKeyField())f.push(Tl(o,c.key));else{const m=c.data.field(p.field);if(Uy(m))throw new te(W.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){const y=p.field.canonicalString();throw new te(W.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}f.push(m)}return new ca(f,h)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=$l(t.firestore);return function(o,l,c,h,f,p){const m=o.explicitOrderBy;if(f.length>m.length)throw new te(W.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let v=0;v<f.length;v++){const E=f[v];if(m[v].field.isKeyField()){if(typeof E!="string")throw new te(W.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof E}`);if(!sI(o)&&E.indexOf("/")!==-1)throw new te(W.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${E}' contains a slash.`);const R=o.path.child(vt.fromString(E));if(!de.isDocumentKey(R))throw new te(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const T=new de(R);y.push(Tl(l,T))}else{const R=QV(c,h,E);y.push(R)}}return new ca(y,p)}(t._query,t.firestore._databaseId,i,e,n,r)}}function DP(t,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new te(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sI(e)&&n.indexOf("/")!==-1)throw new te(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vt.fromString(n));if(!de.isDocumentKey(r))throw new te(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tl(t,new de(r))}if(n instanceof hn)return Tl(t,n._key);throw new te(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jy(n)}.`)}function kP(t,e){if(!Array.isArray(t)||t.length===0)throw new te(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t$(t,e){if(e.isInequality()){const r=zy(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new te(W.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=iI(t);s!==null&&n$(t,i,s)}const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function n$(t,e,n){if(!n.isEqual(e))throw new te(W.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class QI{convertValue(e,n="none"){switch(El(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Zy(vn(e.latitude),vn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yf(e));default:return null}}convertTimestamp(e){const n=oa(e);return new rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);ke(HF(r));const i=new la(r.get(1),r.get(3)),s=new de(r.popFirst(5));return i.isEqual(n)||An(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class zne extends QI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let oo=class extends rd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},cf=class extends oo{data(e={}){return super.data(e)}},da=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new rl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cf(this._firestore,this._userDataWriter,r.key,r,new rl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new cf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new rl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new cf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new rl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:qne(l.type),doc:c,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function qne(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}function r$(t,e){return t instanceof oo&&e instanceof oo?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof da&&e instanceof da&&t._firestore===e._firestore&&UV(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wne(t){t=Tt(t,hn);const e=Tt(t.firestore,Tn);return DV(Qn(e),t._key).then(n=>YI(e,t,n))}class Bl extends QI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function Kne(t){t=Tt(t,hn);const e=Tt(t.firestore,Tn),n=Qn(e),r=new Bl(e);return une(n,t._key).then(i=>new oo(e,r,t._key,i,new rl(i!==null&&i.hasLocalMutations,!0),t.converter))}function Hne(t){t=Tt(t,hn);const e=Tt(t.firestore,Tn);return DV(Qn(e),t._key,{source:"server"}).then(n=>YI(e,t,n))}function Gne(t){t=Tt(t,Ar);const e=Tt(t.firestore,Tn),n=Qn(e),r=new Bl(e);return ZV(t._query),kV(n,t._query).then(i=>new da(e,r,t,i))}function Qne(t){t=Tt(t,Ar);const e=Tt(t.firestore,Tn),n=Qn(e),r=new Bl(e);return cne(n,t._query).then(i=>new da(e,r,t,i))}function Yne(t){t=Tt(t,Ar);const e=Tt(t.firestore,Tn),n=Qn(e),r=new Bl(e);return kV(n,t._query,{source:"server"}).then(i=>new da(e,r,t,i))}function NP(t,e,n){t=Tt(t,hn);const r=Tt(t.firestore,Tn),i=av(t.converter,e,n);return Ud(r,[tv($l(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,nn.none())])}function LP(t,e,n,...r){t=Tt(t,hn);const i=Tt(t.firestore,Tn),s=$l(i);let o;return o=typeof(e=Mt(e))=="string"||e instanceof fa?zI(s,"updateDoc",t._key,e,n,r):UI(s,"updateDoc",t._key,e),Ud(i,[o.toMutation(t._key,nn.exists(!0))])}function Xne(t){return Ud(Tt(t.firestore,Tn),[new Mc(t._key,nn.none())])}function Jne(t,e){const n=Tt(t.firestore,Tn),r=Ug(t),i=av(t.converter,e);return Ud(n,[tv($l(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,nn.exists(!1))]).then(()=>r)}function i$(t,...e){var n,r,i;t=Mt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||jE(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges};if(jE(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,h,f;if(t instanceof hn)h=Tt(t.firestore,Tn),f=Nc(t._key.path),c={next:p=>{e[o]&&e[o](YI(h,t,p))},error:e[o+1],complete:e[o+2]};else{const p=Tt(t,Ar);h=Tt(p.firestore,Tn),f=p._query;const m=new Bl(h);c={next:y=>{e[o]&&e[o](new da(h,m,p,y))},error:e[o+1],complete:e[o+2]},ZV(t._query)}return function(m,y,v,E){const R=new Yy(E),T=new CI(y,R,v);return m.asyncQueue.enqueueAndForget(async()=>RI(await _c(m),T)),()=>{R.La(),m.asyncQueue.enqueueAndForget(async()=>bI(await _c(m),T))}}(Qn(h),f,l,c)}function Zne(t,e){return hne(Qn(t=Tt(t,Tn)),jE(e)?e:{next:e})}function Ud(t,e){return function(r,i){const s=new Wn;return r.asyncQueue.enqueueAndForget(async()=>$te(await $I(r),i,s)),s.promise}(Qn(t),e)}function YI(t,e,n){const r=n.docs.get(e._key),i=new Bl(t);return new oo(t,i,e._key,r,new rl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ere={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tre=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=$l(e)}set(e,n,r){this._verifyNotCommitted();const i=Vo(e,this._firestore),s=av(i.converter,n,r),o=tv(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,nn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Vo(e,this._firestore);let o;return o=typeof(n=Mt(n))=="string"||n instanceof fa?zI(this._dataReader,"WriteBatch.update",s._key,n,r,i):UI(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,nn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Vo(e,this._firestore);return this._mutations=this._mutations.concat(new Mc(n._key,nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new te(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Vo(t,e){if((t=Mt(t)).firestore!==e)throw new te(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nre=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=$l(n)}get(n){const r=Vo(n,this._firestore),i=new zne(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return Ie();const o=s[0];if(o.isFoundDocument())return new rd(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new rd(this._firestore,i,r._key,null,r.converter);throw Ie()})}set(n,r,i){const s=Vo(n,this._firestore),o=av(s.converter,r,i),l=tv(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,l),this}update(n,r,i,...s){const o=Vo(n,this._firestore);let l;return l=typeof(r=Mt(r))=="string"||r instanceof fa?zI(this._dataReader,"Transaction.update",o._key,r,i,s):UI(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,l),this}delete(n){const r=Vo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Vo(e,this._firestore),r=new Bl(this._firestore);return super.get(e).then(i=>new oo(this._firestore,r,n._key,i._document,new rl(!1,!1),n.converter))}};function rre(t,e,n){t=Tt(t,Tn);const r=Object.assign(Object.assign({},ere),n);return function(s){if(s.maxAttempts<1)throw new te(W.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,l){const c=new Wn;return s.asyncQueue.enqueueAndForget(async()=>{const h=await one(s);new ine(s.asyncQueue,h,l,o,c).run()}),c.promise}(Qn(t),i=>e(new nre(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ire(){return new jd("deleteField")}function sre(){return new BI("serverTimestamp")}function ore(...t){return new Pne("arrayUnion",t)}function are(...t){return new One("arrayRemove",t)}function lre(t){return new Dne("increment",t)}(function(e,n=!0){(function(i){kc=i})(Sy),wl(new io("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Tn(new mZ(r.getProvider("auth-internal")),new _Z(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new te(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new la(h.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),vs(CC,"4.2.0",e),vs(CC,"4.2.0","esm2017")})();const ure={apiKey:"AIzaSyD7w6wRVPsf0DaH2YARMaFKXWJHjPsSd3s",authDomain:"pokemon-go-gym.firebaseapp.com",projectId:"pokemon-go-gym",storageBucket:"pokemon-go-gym.appspot.com",messagingSenderId:"48932195856",appId:"1:48932195856:web:93f21318228a7976e34495"};Pc.initializeApp(ure);const cre="@firebase/firestore-compat",hre="0.3.18";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new te("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(){if(typeof Uint8Array>"u")throw new te("unimplemented","Uint8Arrays are not available in this environment.")}function FP(){if(!qZ())throw new te("unimplemented","Blobs are unavailable in Firestore in this environment.")}let s$=class UE{constructor(e){this._delegate=e}static fromBase64String(e){return FP(),new UE(Ts.fromBase64String(e))}static fromUint8Array(e){return MP(),new UE(Ts.fromUint8Array(e))}toBase64(){return FP(),this._delegate.toBase64()}toUint8Array(){return MP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t){return fre(t,["next","error","complete"])}function fre(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dre{enableIndexedDbPersistence(e,n){return _ne(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return wne(e._delegate)}clearIndexedDbPersistence(e){return Ene(e._delegate)}}class o${constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof la||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Xi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){pne(this._delegate,e,n,r)}enableNetwork(){return Ine(this._delegate)}disableNetwork(){return Sne(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,LV("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Tne(this._delegate)}onSnapshotsInSync(e){return Zne(this._delegate,e)}get app(){if(!this._appCompat)throw new te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new wc(this,jV(this._delegate,e))}catch(n){throw Tr(n,"collection()","Firestore.collection()")}}doc(e){try{return new Si(this,Ug(this._delegate,e))}catch(n){throw Tr(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Er(this,mne(this._delegate,e))}catch(n){throw Tr(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return rre(this._delegate,n=>e(new a$(this,n)))}batch(){return Qn(this._delegate),new l$(new tre(this._delegate,e=>Ud(this._delegate,e)))}loadBundle(e){return xne(this._delegate,e)}namedQuery(e){return Rne(this._delegate,e).then(n=>n?new Er(this,n):null)}}class lv extends QI{constructor(e){super(),this.firestore=e}convertBytes(e){return new s$(new Ts(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Si.forKey(n,this.firestore,null)}}function pre(t){hZ(t)}class a${constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new lv(e)}get(e){const n=il(e);return this._delegate.get(n).then(r=>new id(this._firestore,new oo(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=il(e);return r?(XI("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=il(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=il(e);return this._delegate.delete(n),this}}class l${constructor(e){this._delegate=e}set(e,n,r){const i=il(e);return r?(XI("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=il(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=il(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Cl{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new cf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sd(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Cl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Cl(e,new lv(e),n),i.set(n,s)),s}}Cl.INSTANCES=new WeakMap;class Si{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new lv(e)}static forPath(e,n,r){if(e.length%2!==0)throw new te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Si(n,new hn(n._delegate,r,new de(e)))}static forKey(e,n,r){return new Si(n,new hn(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new wc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new wc(this.firestore,jV(this._delegate,e))}catch(n){throw Tr(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Mt(e),e instanceof hn?BV(this._delegate,e):!1}set(e,n){n=XI("DocumentReference.set",n);try{return n?NP(this._delegate,e,n):NP(this._delegate,e)}catch(r){throw Tr(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?LP(this._delegate,e):LP(this._delegate,e,n,...r)}catch(i){throw Tr(i,"updateDoc()","DocumentReference.update()")}}delete(){return Xne(this._delegate)}onSnapshot(...e){const n=u$(e),r=c$(e,i=>new id(this.firestore,new oo(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return i$(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Kne(this._delegate):(e==null?void 0:e.source)==="server"?n=Hne(this._delegate):n=Wne(this._delegate),n.then(r=>new id(this.firestore,new oo(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Si(this.firestore,e?this._delegate.withConverter(Cl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Tr(t,e,n){return t.message=t.message.replace(e,n),t}function u$(t){for(const e of t)if(typeof e=="object"&&!zE(e))return e;return{}}function c$(t,e){var n,r;let i;return zE(t[0])?i=t[0]:zE(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class id{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Si(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return r$(this._delegate,e._delegate)}}class sd extends id{data(e){const n=this._delegate.data(e);return fZ(n!==void 0),n}}class Er{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new lv(e)}where(e,n,r){try{return new Er(this.firestore,Co(this._delegate,Lne(e,n,r)))}catch(i){throw Tr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Er(this.firestore,Co(this._delegate,Mne(e,n)))}catch(r){throw Tr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Er(this.firestore,Co(this._delegate,Fne(e)))}catch(n){throw Tr(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Er(this.firestore,Co(this._delegate,Vne(e)))}catch(n){throw Tr(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Er(this.firestore,Co(this._delegate,$ne(...e)))}catch(n){throw Tr(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Er(this.firestore,Co(this._delegate,jne(...e)))}catch(n){throw Tr(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Er(this.firestore,Co(this._delegate,Bne(...e)))}catch(n){throw Tr(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Er(this.firestore,Co(this._delegate,Une(...e)))}catch(n){throw Tr(n,"endAt()","Query.endAt()")}}isEqual(e){return UV(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Qne(this._delegate):(e==null?void 0:e.source)==="server"?n=Yne(this._delegate):n=Gne(this._delegate),n.then(r=>new qE(this.firestore,new da(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=u$(e),r=c$(e,i=>new qE(this.firestore,new da(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return i$(this._delegate,n,r)}withConverter(e){return new Er(this.firestore,e?this._delegate.withConverter(Cl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class mre{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new sd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class qE{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Er(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new sd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new mre(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new sd(this._firestore,r))})}isEqual(e){return r$(this._delegate,e._delegate)}}class wc extends Er{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Si(this.firestore,e):null}doc(e){try{return e===void 0?new Si(this.firestore,Ug(this._delegate)):new Si(this.firestore,Ug(this._delegate,e))}catch(n){throw Tr(n,"doc()","CollectionReference.doc()")}}add(e){return Jne(this._delegate,e).then(n=>new Si(this.firestore,n))}isEqual(e){return BV(this._delegate,e._delegate)}withConverter(e){return new wc(this.firestore,e?this._delegate.withConverter(Cl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function il(t){return Tt(t,hn)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(...e){this._delegate=new fa(...e)}static documentId(){return new JI(wn.keyField().canonicalString())}isEqual(e){return e=Mt(e),e instanceof fa?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this._delegate=e}static serverTimestamp(){const e=sre();return e._methodName="FieldValue.serverTimestamp",new Ga(e)}static delete(){const e=ire();return e._methodName="FieldValue.delete",new Ga(e)}static arrayUnion(...e){const n=ore(...e);return n._methodName="FieldValue.arrayUnion",new Ga(n)}static arrayRemove(...e){const n=are(...e);return n._methodName="FieldValue.arrayRemove",new Ga(n)}static increment(e){const n=lre(e);return n._methodName="FieldValue.increment",new Ga(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gre={Firestore:o$,GeoPoint:Zy,Timestamp:rn,Blob:s$,Transaction:a$,WriteBatch:l$,DocumentReference:Si,DocumentSnapshot:id,Query:Er,QueryDocumentSnapshot:sd,QuerySnapshot:qE,CollectionReference:wc,FieldPath:JI,FieldValue:Ga,setLogLevel:pre,CACHE_SIZE_UNLIMITED:vne};function yre(t,e){t.INTERNAL.registerComponent(new io("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},gre)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vre(t){yre(t,(e,n)=>new o$(e,n,new dre)),t.registerVersion(cre,hre)}vre(Pc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$="firebasestorage.googleapis.com",f$="storageBucket",_re=2*60*1e3,wre=10*60*1e3,Ere=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn extends _a{constructor(e,n,r=0){super(k0(e),`Firebase Storage: ${n} (${k0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return k0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xt||(Xt={}));function k0(t){return"storage/"+t}function ZI(){const t="An unknown error occurred, please check the error payload for server response.";return new dn(Xt.UNKNOWN,t)}function Tre(t){return new dn(Xt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Ire(t){return new dn(Xt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Sre(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dn(Xt.UNAUTHENTICATED,t)}function xre(){return new dn(Xt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Rre(t){return new dn(Xt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function d$(){return new dn(Xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function p$(){return new dn(Xt.CANCELED,"User canceled the upload/download.")}function bre(t){return new dn(Xt.INVALID_URL,"Invalid URL '"+t+"'.")}function Are(t){return new dn(Xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Cre(){return new dn(Xt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+f$+"' property when initializing the app?")}function m$(){return new dn(Xt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Pre(){return new dn(Xt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Ore(){return new dn(Xt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Dre(t){return new dn(Xt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Gu(t){return new dn(Xt.INVALID_ARGUMENT,t)}function g$(){return new dn(Xt.APP_DELETED,"The Firebase app was deleted.")}function y$(t){return new dn(Xt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hf(t,e){return new dn(Xt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ph(t){throw new dn(Xt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=fr.makeFromUrl(e,n)}catch{return new fr(e,"")}if(r.path==="")return r;throw Are(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function h(w){w.path_=decodeURIComponent(w.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${f}/b/${i}/o${m}`,"i"),v={bucket:1,path:3},E=n===h$?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",T=new RegExp(`^https?://${E}/${i}/${R}`,"i"),S=[{regex:l,indices:c,postModify:s},{regex:y,indices:v,postModify:h},{regex:T,indices:{bucket:1,path:2},postModify:h}];for(let w=0;w<S.length;w++){const P=S[w],O=P.regex.exec(e);if(O){const D=O[P.indices.bucket];let N=O[P.indices.path];N||(N=""),r=new fr(D,N),P.postModify(r);break}}if(r==null)throw bre(e);return r}}class kre{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nre(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function c(){return l===2}let h=!1;function f(...R){h||(h=!0,e.apply(null,R))}function p(R){i=setTimeout(()=>{i=null,t(y,c())},R)}function m(){s&&clearTimeout(s)}function y(R,...T){if(h){m();return}if(R){m(),f.call(null,R,...T);return}if(c()||o){m(),f.call(null,R,...T);return}r<64&&(r*=2);let S;l===1?(l=2,S=0):S=(r+Math.random())*1e3,p(S)}let v=!1;function E(R){v||(v=!0,m(),!h&&(i!==null?(R||(l=2),clearTimeout(i),p(0)):R||(l=1)))}return p(0),s=setTimeout(()=>{o=!0,E(!0)},n),E}function Lre(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mre(t){return t!==void 0}function Fre(t){return typeof t=="function"}function Vre(t){return typeof t=="object"&&!Array.isArray(t)}function uv(t){return typeof t=="string"||t instanceof String}function VP(t){return eS()&&t instanceof Blob}function eS(){return typeof Blob<"u"&&!DL()}function WE(t,e,n,r){if(r<e)throw Gu(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Gu(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function v$(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ul;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ul||(ul={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $re{constructor(e,n,r,i,s,o,l,c,h,f,p,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=p,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,v)=>{this.resolve_=y,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new am(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const c=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===ul.NO_ERROR,c=s.getStatus();if(!l||_$(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===ul.ABORT;r(!1,new am(!1,null,f));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new am(h,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Mre(c)?s(c):s()}catch(c){o(c)}else if(l!==null){const c=ZI();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?g$():p$();o(c)}else{const c=d$();o(c)}};this.canceled_?n(!1,new am(!1,null,!0)):this.backoffId_=Nre(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Lre(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class am{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function jre(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Bre(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ure(t,e){e&&(t["X-Firebase-GMPID"]=e)}function zre(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function qre(t,e,n,r,i,s,o=!0){const l=v$(t.urlParams),c=t.url+l,h=Object.assign({},t.headers);return Ure(h,e),jre(h,n),Bre(h,s),zre(h,r),new $re(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wre(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Kre(...t){const e=Wre();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(eS())return new Blob(t);throw new dn(Xt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Hre(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gre(t){if(typeof atob>"u")throw Dre("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class N0{constructor(e,n){this.data=e,this.contentType=n||null}}function w$(t,e){switch(t){case xi.RAW:return new N0(E$(e));case xi.BASE64:case xi.BASE64URL:return new N0(T$(t,e));case xi.DATA_URL:return new N0(Yre(e),Xre(e))}throw ZI()}function E$(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Qre(t){let e;try{e=decodeURIComponent(t)}catch{throw hf(xi.DATA_URL,"Malformed data URL.")}return E$(e)}function T$(t,e){switch(t){case xi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw hf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case xi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw hf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Gre(e)}catch(i){throw i.message.includes("polyfill")?i:hf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class I${constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw hf(xi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Jre(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Yre(t){const e=new I$(t);return e.base64?T$(xi.BASE64,e.rest):Qre(e.rest)}function Xre(t){return new I$(t).contentType}function Jre(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){let r=0,i="";VP(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(VP(this.data_)){const r=this.data_,i=Hre(r,e,n);return i===null?null:new js(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new js(r,!0)}}static getBlob(...e){if(eS()){const n=e.map(r=>r instanceof js?r.data_:r);return new js(Kre.apply(null,n))}else{const n=e.map(o=>uv(o)?w$(xi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new js(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t){let e;try{e=JSON.parse(t)}catch{return null}return Vre(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zre(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function eie(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function S$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tie(t,e){return e}class _r{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||tie}}let lm=null;function nie(t){return!uv(t)||t.length<2?t:S$(t)}function cv(){if(lm)return lm;const t=[];t.push(new _r("bucket")),t.push(new _r("generation")),t.push(new _r("metageneration")),t.push(new _r("name","fullPath",!0));function e(s,o){return nie(o)}const n=new _r("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new _r("size");return i.xform=r,t.push(i),t.push(new _r("timeCreated")),t.push(new _r("updated")),t.push(new _r("md5Hash",null,!0)),t.push(new _r("cacheControl",null,!0)),t.push(new _r("contentDisposition",null,!0)),t.push(new _r("contentEncoding",null,!0)),t.push(new _r("contentLanguage",null,!0)),t.push(new _r("contentType",null,!0)),t.push(new _r("metadata","customMetadata",!0)),lm=t,lm}function rie(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new fr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function iie(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return rie(r,t),r}function x$(t,e,n){const r=tS(e);return r===null?null:iie(t,r,n)}function sie(t,e,n,r){const i=tS(e);if(i===null||!uv(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(h=>{const f=t.bucket,p=t.fullPath,m="/b/"+o(f)+"/o/"+o(p),y=Ra(m,n,r),v=v$({alt:"media",token:h});return y+v})[0]}function nS(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="prefixes",jP="items";function oie(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[$P])for(const i of n[$P]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new fr(e,s));r.prefixes.push(o)}if(n[jP])for(const i of n[jP]){const s=t._makeStorageReference(new fr(e,i.name));r.items.push(s)}return r}function aie(t,e,n){const r=tS(n);return r===null?null:oie(t,e,r)}class mo{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t){if(!t)throw ZI()}function hv(t,e){function n(r,i){const s=x$(t,i,e);return ws(s!==null),s}return n}function lie(t,e){function n(r,i){const s=aie(t,e,i);return ws(s!==null),s}return n}function uie(t,e){function n(r,i){const s=x$(t,i,e);return ws(s!==null),sie(s,i,t.host,t._protocol)}return n}function Bc(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=xre():i=Sre():n.getStatus()===402?i=Ire(t.bucket):n.getStatus()===403?i=Rre(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function fv(t){const e=Bc(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Tre(t.path)),s.serverResponse=i.serverResponse,s}return n}function R$(t,e,n){const r=e.fullServerUrl(),i=Ra(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new mo(i,s,hv(t,n),o);return l.errorHandler=fv(e),l}function cie(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),l=Ra(o,t.host,t._protocol),c="GET",h=t.maxOperationRetryTime,f=new mo(l,c,lie(t,e.bucket),h);return f.urlParams=s,f.errorHandler=Bc(e),f}function hie(t,e,n){const r=e.fullServerUrl(),i=Ra(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new mo(i,s,uie(t,n),o);return l.errorHandler=fv(e),l}function fie(t,e,n,r){const i=e.fullServerUrl(),s=Ra(i,t.host,t._protocol),o="PATCH",l=nS(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=t.maxOperationRetryTime,f=new mo(s,o,hv(t,r),h);return f.headers=c,f.body=l,f.errorHandler=fv(e),f}function die(t,e){const n=e.fullServerUrl(),r=Ra(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(c,h){}const l=new mo(r,i,o,s);return l.successCodes=[200,204],l.errorHandler=fv(e),l}function pie(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function b$(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=pie(null,e)),r}function mie(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let S="";for(let w=0;w<2;w++)S=S+Math.random().toString().slice(2);return S}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const h=b$(e,r,i),f=nS(h,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+c+"--",y=js.getBlob(p,r,m);if(y===null)throw m$();const v={name:h.fullPath},E=Ra(s,t.host,t._protocol),R="POST",T=t.maxUploadRetryTime,I=new mo(E,R,hv(t,n),T);return I.urlParams=v,I.headers=o,I.body=y.uploadData(),I.errorHandler=Bc(e),I}class qg{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function rS(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ws(!1)}return ws(!!n&&(e||["active"]).indexOf(n)!==-1),n}function gie(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=b$(e,r,i),l={name:o.fullPath},c=Ra(s,t.host,t._protocol),h="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},p=nS(o,n),m=t.maxUploadRetryTime;function y(E){rS(E);let R;try{R=E.getResponseHeader("X-Goog-Upload-URL")}catch{ws(!1)}return ws(uv(R)),R}const v=new mo(c,h,y,m);return v.urlParams=l,v.headers=f,v.body=p,v.errorHandler=Bc(e),v}function yie(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(h){const f=rS(h,["active","final"]);let p=null;try{p=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ws(!1)}p||ws(!1);const m=Number(p);return ws(!isNaN(m)),new qg(m,r.size(),f==="final")}const o="POST",l=t.maxUploadRetryTime,c=new mo(n,o,s,l);return c.headers=i,c.errorHandler=Bc(e),c}const BP=256*1024;function vie(t,e,n,r,i,s,o,l){const c=new qg(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw Pre();const h=c.total-c.current;let f=h;i>0&&(f=Math.min(f,i));const p=c.current,m=p+f;let y="";f===0?y="finalize":h===f?y="upload, finalize":y="upload";const v={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${c.current}`},E=r.slice(p,m);if(E===null)throw m$();function R(w,P){const O=rS(w,["active","final"]),D=c.current+f,N=r.size();let K;return O==="final"?K=hv(e,s)(w,P):K=null,new qg(D,N,O==="final",K)}const T="POST",I=e.maxUploadRetryTime,S=new mo(n,T,R,I);return S.headers=v,S.body=E.uploadData(),S.progressCallback=l||null,S.errorHandler=Bc(t),S}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ie={STATE_CHANGED:"state_changed"},Ir={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function L0(t){switch(t){case"running":case"pausing":case"canceling":return Ir.RUNNING;case"paused":return Ir.PAUSED;case"success":return Ir.SUCCESS;case"canceled":return Ir.CANCELED;case"error":return Ir.ERROR;default:return Ir.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wie{constructor(e,n,r){if(Fre(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Eie{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ul.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ul.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ul.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ph("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ph("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ph("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ph("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ph("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Tie extends Eie{initXhr(){this.xhr_.responseType="text"}}function ls(){return new Tie}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=cv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Xt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(_$(i.status,[]))if(s)i=d$();else{this.sleepTime=Math.max(this.sleepTime*2,Ere),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Xt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=gie(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ls,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=yie(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,ls,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=BP*this._chunkMultiplier,n=new qg(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=vie(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const l=this._ref.storage._makeRequest(o,ls,i,s,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){BP*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=R$(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ls,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=mie(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ls,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=p$(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=L0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new wie(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(L0(this._state)){case Ir.SUCCESS:fu(this._resolve.bind(null,this.snapshot))();break;case Ir.CANCELED:case Ir.ERROR:const n=this._reject;fu(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(L0(this._state)){case Ir.RUNNING:case Ir.PAUSED:e.next&&fu(e.next.bind(e,this.snapshot))();break;case Ir.SUCCESS:e.complete&&fu(e.complete.bind(e))();break;case Ir.CANCELED:case Ir.ERROR:e.error&&fu(e.error.bind(e,this._error))();break;default:e.error&&fu(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this._service=e,n instanceof fr?this._location=n:this._location=fr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Pl(e,n)}get root(){const e=new fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return S$(this._location.path)}get storage(){return this._service}get parent(){const e=Zre(this._location.path);if(e===null)return null;const n=new fr(this._location.bucket,e);return new Pl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw y$(e)}}function Iie(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new A$(t,new js(e),n)}function Sie(t){const e={prefixes:[],items:[]};return C$(t,e).then(()=>e)}async function C$(t,e,n){const i=await P$(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await C$(t,e,i.nextPageToken)}function P$(t,e){e!=null&&typeof e.maxResults=="number"&&WE("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=cie(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,ls)}function xie(t){t._throwIfRoot("getMetadata");const e=R$(t.storage,t._location,cv());return t.storage.makeRequestWithTokens(e,ls)}function Rie(t,e){t._throwIfRoot("updateMetadata");const n=fie(t.storage,t._location,e,cv());return t.storage.makeRequestWithTokens(n,ls)}function bie(t){t._throwIfRoot("getDownloadURL");const e=hie(t.storage,t._location,cv());return t.storage.makeRequestWithTokens(e,ls).then(n=>{if(n===null)throw Ore();return n})}function Aie(t){t._throwIfRoot("deleteObject");const e=die(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ls)}function O$(t,e){const n=eie(t._location.path,e),r=new fr(t._location.bucket,n);return new Pl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cie(t){return/^[A-Za-z]+:\/\//.test(t)}function Pie(t,e){return new Pl(t,e)}function D$(t,e){if(t instanceof iS){const n=t;if(n._bucket==null)throw Cre();const r=new Pl(n,n._bucket);return e!=null?D$(r,e):r}else return e!==void 0?O$(t,e):t}function Oie(t,e){if(e&&Cie(e)){if(t instanceof iS)return Pie(t,e);throw Gu("To use ref(service, url), the first argument must be a Storage instance.")}else return D$(t,e)}function UP(t,e){const n=e==null?void 0:e[f$];return n==null?null:fr.makeFromBucketSpec(n,t)}function Die(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:OL(i,t.app.options.projectId))}class iS{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=h$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_re,this._maxUploadRetryTime=wre,this._requests=new Set,i!=null?this._bucket=fr.makeFromBucketSpec(i,this._host):this._bucket=UP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,e):this._bucket=UP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){WE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){WE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new kre(g$());{const o=qre(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const zP="@firebase/storage",qP="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kie="storage";function Nie(t,e,n){return t=Mt(t),Iie(t,e,n)}function Lie(t){return t=Mt(t),xie(t)}function Mie(t,e){return t=Mt(t),Rie(t,e)}function Fie(t,e){return t=Mt(t),P$(t,e)}function Vie(t){return t=Mt(t),Sie(t)}function $ie(t){return t=Mt(t),bie(t)}function jie(t){return t=Mt(t),Aie(t)}function WP(t,e){return t=Mt(t),Oie(t,e)}function Bie(t,e){return O$(t,e)}function Uie(t,e,n,r={}){Die(t,e,n,r)}function zie(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new iS(n,r,i,e,Sy)}function qie(){wl(new io(kie,zie,"PUBLIC").setMultipleInstances(!0)),vs(zP,qP,""),vs(zP,qP,"esm2017")}qie();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new um(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new um(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(typeof n=="function"?s=o=>n(new um(o,this,this._ref)):s={next:n.next?o=>n.next(new um(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class HP{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Xs(e,this._service))}get items(){return this._delegate.items.map(e=>new Xs(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=Bie(this._delegate,e);return new Xs(n,this.storage)}get root(){return new Xs(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new Xs(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new KP(Nie(this._delegate,e,n),this)}putString(e,n=xi.RAW,r){this._throwIfRoot("putString");const i=w$(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new KP(new A$(this._delegate,new js(i.data,!0),s),this)}listAll(){return Vie(this._delegate).then(e=>new HP(e,this.storage))}list(e){return Fie(this._delegate,e||void 0).then(n=>new HP(n,this.storage))}getMetadata(){return Lie(this._delegate)}updateMetadata(e){return Mie(this._delegate,e)}getDownloadURL(){return $ie(this._delegate)}delete(){return this._throwIfRoot("delete"),jie(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw y$(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(GP(e))throw Gu("ref() expected a child path but got a URL, use refFromURL instead.");return new Xs(WP(this._delegate,e),this)}refFromURL(e){if(!GP(e))throw Gu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{fr.makeFromUrl(e,this._delegate.host)}catch{throw Gu("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xs(WP(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){Uie(this._delegate,e,n,r)}}function GP(t){return/^[A-Za-z]+:\/\//.test(t)}const Wie="@firebase/storage-compat",Kie="0.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hie="storage-compat";function Gie(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new k$(n,r)}function Qie(t){const e={TaskState:Ir,TaskEvent:_ie,StringFormat:xi,Storage:k$,Reference:Xs};t.INTERNAL.registerComponent(new io(Hie,Gie,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(Wie,Kie)}Qie(Pc);const dv=Pc.firestore(),Yie=async()=>{const t=await dv.collection("tier_collections").get();if(!t){console.log("tier collection is not exists.");return}const e=t.docs.map(r=>({tier:r.id,data:r.data()}));return await Promise.all(e)},Xie=()=>{const{handleTierPokemon:t,bestDamage:e,storeAllPokemon:n}=Or();x.useEffect(()=>{Yie().then(r=>{const i=r.sort((l,c)=>l.data.Order-c.data.Order),s={};for(let l=0;l<i.length;l++){const c=i[l].tier;s[c]||(s[c]=[]),s[c].push(i[l].data.Names)}const o=n.reduce((l,c)=>{if(c===void 0)return l;const{enName:h}=c,f=Object.keys(s).find(p=>s[p][0].includes(h));return f&&(l[f]||(l[f]=[]),l[f].push(c)),l},{});o&&t(o)})},[e])},Jie=async(t,e)=>{try{return(await t.get()).exists?(console.log(`${e} is ready exist!`),!0):(console.log(`${e} is not exist!`),!1)}catch(n){throw n}},Zie=(t,e,n)=>{const{Types:r,zhName:i,enName:s,pokeId:o,sprite:l}=n,c=dv.batch();c.set(t,{enName:s});for(let h=0;h<e;h++){const f=t.collection("shards").doc(h.toString());c.set(f,{count:0})}return c.commit()},ese=(t,e,n)=>{const r=Math.floor(Math.random()*e).toString();return t.collection("shards").doc(r).update("count",Pc.firestore.FieldValue.increment(n))},tse=async()=>{console.log("get all pokemon order");try{const t=await dv.collection("popular_pokemon_v2").get();if(!t)return;const e=t.docs.map(async r=>{const i=r.data().enName,o=await r.ref.collection("shards").get();if(!o)return;let l=0;return o.forEach(c=>{l+=c.data().count}),{enName:i,total:l}});return await Promise.all(e)}catch(t){throw t}},nse=t=>{try{t.forEach((e,n)=>{rse({value:e,zhName:n})}),console.log("post success")}catch(e){console.log("post error",e)}},rse=async t=>{console.log("post data to firebase");const{zhName:e,value:n}=t,r=10,i=dv.collection("popular_pokemon_v2").doc(e);await Jie(i,e)||Zie(i,r,n).then(o=>console.log(`Create new pokemon ${e} successful.`)).catch(o=>console.log(`Something wrong when create pokemon, msg:${o.message}`)),await ese(i,r,n.amount).then(o=>console.log(`${e} count is increase`)).catch(o=>console.log(o.message))},ise=()=>{const{handlePopularPokemon:t}=Or();x.useEffect(()=>{tse().then(e=>{e.sort((n,r)=>r.total-n.total),t(e)})},[])},sse=()=>b.jsx("div",{style:{width:"100%",textAlign:"center"},children:b.jsx("div",{className:"loading"})}),ose=x.lazy(()=>I8(()=>Promise.resolve().then(()=>ZG),void 0)),ase=()=>{const{page:t,clickImg:e,selectImg:n,AddRemoveImg:r,RemoveImg:i,showInfo_select:s,showType_select:o,showInfo_beenSelect:l,showType_beenSelect:c,showInfo_bestDamage:h,showType_bestDamage:f,storeAllPokemon:p,bestDamage:m,filterBestPokemon:y,tierPokemon:v,popularPokemon:E}=Or();_Y(),wY(),console.log("production"),ise(),Xie(),x.useEffect(()=>{const T=I=>(I.preventDefault(),e.size>0&&nse(e),I.returnValue="Are you sure you want to exit?");return window.addEventListener("beforeunload",T),()=>{window.removeEventListener("beforeunload",T)}},[e]);const R=()=>{if(n.length!==0)return m.length===0?b.jsx("p",{className:"best-damage-no-data",children:"沒有共同相剋的屬性!"}):Object.keys(v).length>0?b.jsx(iL,{showInfo_select:h.type,showType_select:f.type,displayTier:v,bestDamage:m}):b.jsxs(b.Fragment,{children:[b.jsx("p",{}),b.jsx("p",{className:"best-damage-no-data",children:"目前沒有推薦屬性的神奇寶貝"})]})};return b.jsx("main",{children:b.jsxs("section",{className:"hero",children:[b.jsx(u0,{title:t0[0].title,typeClass:s.type,id:Gi,children:b.jsx(x.Suspense,{fallback:b.jsx(sse,{}),children:b.jsx(ose,{showInfo_select:s.type,showType_select:o.type,displayCharacter:p.slice(0,t),handleClick:r,id:Gi})})}),b.jsx(u0,{title:t0[1].title,typeClass:l.type,id:Y1,children:b.jsx(sL,{showInfo_select:l.type,showType_select:c.type,displayCharacter:n,handleClick:i})}),b.jsx(u0,{title:t0[2].title,typeClass:h.type,id:pd,children:b.jsx(R,{})})]})})},M0=()=>b.jsx(b.Fragment,{children:b.jsxs(k8,{children:[b.jsx(ase,{}),b.jsx(Qk,{})]})}),lse=()=>{const t=new Date().getFullYear(),{textColor:e,bgColor:n}=va();return b.jsx("footer",{className:`bg-${n} p-3`,children:b.jsx("div",{className:"container",children:b.jsxs("p",{className:"text-center",children:["Copyright © ",t," Pokemon Gym. All Rights Reserved."]})})})},use="/pokemon-Gym/assets/logo-0fa1e8ab.png";function cse(t){return dd({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z",clipRule:"evenodd"}}]})(t)}function hse(t){return dd({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.768 3.96v.001l-.002-.005a9.08 9.08 0 0 0-.218-.779c-.13-.394.21-.8.602-.67.29.096.575.205.855.328l.01.005A10.002 10.002 0 0 1 12 22a10.002 10.002 0 0 1-9.162-5.985l-.004-.01a9.722 9.722 0 0 1-.329-.855c-.13-.392.277-.732.67-.602.257.084.517.157.78.218l.004.002A9 9 0 0 0 14.999 6a9.09 9.09 0 0 0-.231-2.04ZM16.5 6c0 5.799-4.701 10.5-10.5 10.5-.426 0-.847-.026-1.26-.075A8.5 8.5 0 1 0 16.425 4.74c.05.413.075.833.075 1.259Z"}}]})(t)}function fse(t){return dd({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 19a7 7 0 1 1 0-14 7 7 0 0 1 0 14Zm0-1.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 1 0 0 11Zm-5.657.157a.75.75 0 0 1 0 1.06l-1.768 1.768a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.767-1.768a.75.75 0 0 1 1.061 0ZM3.515 3.515a.75.75 0 0 1 1.06 0l1.768 1.768a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L3.515 4.575a.75.75 0 0 1 0-1.06ZM12 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 12 0ZM4 12a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 12Zm8 8a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 12 20Zm12-8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 24 12Zm-6.343 5.657a.75.75 0 0 1 1.06 0l1.768 1.768a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-1.768-1.767a.75.75 0 0 1 0-1.061Zm2.828-14.142a.75.75 0 0 1 0 1.06l-1.768 1.768a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l1.767-1.768a.75.75 0 0 1 1.061 0Z"}}]})(t)}const dse=()=>{const{isDarkMode:t,handleIsDarkMode:e}=va();return b.jsx(b.Fragment,{children:b.jsx(Yp,{expand:"md","data-bs-theme":"dark",className:"bg-primary",children:b.jsxs(sT,{expand:"md",children:[b.jsxs(Yp.Brand,{as:pu,to:"Gym",children:[b.jsx("img",{src:use,width:"30",height:"30",className:"d-inline-block align-top",alt:"Welcome to pokemon gym"}),b.jsx("span",{className:"text-capitalize",children:"pokemon gym"})]}),b.jsx(Yp.Toggle,{"aria-controls":"responsive-navbar-nav",children:b.jsx(cse,{})}),b.jsx(Yp.Collapse,{id:"responsive-navbar-nav",className:"justify-content-end",children:b.jsxs(Eh,{children:[b.jsx("div",{className:"theme-toggle",onClick:()=>{e()},children:t?b.jsx(hse,{}):b.jsx(fse,{})}),b.jsx(Eh.Link,{as:pu,to:"About",children:"關於"}),b.jsx(Eh.Link,{as:pu,to:"Pokedex",children:"圖鑑"}),b.jsx(Eh.Link,{as:pu,to:"Gym",children:"道館"}),b.jsx(Eh.Link,{as:pu,to:"Login",children:"登入/註冊"})]})})]})})})},pse=()=>b.jsx(b.Fragment,{children:b.jsxs(BG,{children:[b.jsx(dse,{}),b.jsx(Qk,{}),b.jsx(lse,{})]})}),F0=()=>b.jsxs("div",{id:"error-page",className:"text-center pt-5",children:[b.jsx("h1",{className:"text-danger",children:"Oops!"}),b.jsx("p",{className:"text-secondary",children:"Sorry, an unexpected error has occurred."}),b.jsx("p",{})]}),mse="/pokemon-Gym/assets/personal-avatar-234ffb1f.jpg",gse=()=>(va(),b.jsx("section",{className:"text-center",children:b.jsxs(sT,{children:[b.jsx("h1",{children:"關於"}),b.jsx("hr",{}),b.jsxs(UA,{className:"justify-content-md-center",children:[b.jsx(Fh,{md:"5",children:b.jsx("p",{children:"Pokemon Gym是一款在打道館時，可以快速選擇相抗衡角色的網頁工具。"})}),b.jsx(Fh,{md:"5",children:b.jsx("p",{children:"開發理念在於不需要記下屬性相抗表、角色屬性，只需要透過搜尋、選擇，自動幫使用者帶出推薦的資料，節省查詢角色、開新視窗，進一步透過塞選屬性功能，在多選時也能夠帶出推薦的屬性。"})})]}),b.jsxs(UA,{className:"justify-content-md-center align-items-end",children:[b.jsx(Fh,{md:"auto",children:b.jsx("img",{id:"avatar",src:mse,alt:"personal avatar"})}),b.jsx(Fh,{md:"6",children:b.jsx("div",{style:{fontSize:"0.8rem"},children:"本網頁由PaddyTian獨立開發，使用JavaScript, React開發，了解更多可以留言私訊。"})})]})]})})),du=t=>t.map(({name:e})=>md.filter(({enName:n})=>e===n)[0]),yse=({title:t,detail_item:e,textColor:n})=>b.jsxs(b.Fragment,{children:[b.jsx("h6",{className:`text-${n}`,children:t}),b.jsx("div",{className:"mb-2",children:e.length===0?b.jsx("span",{className:`text-${n}`,children:"-"}):e.map(({zhName:r,bgColor:i})=>b.jsx("span",{className:"ps-2 pe-2 ms-1 me-1 rounded-3 text-light",style:{backgroundColor:i,cursor:"pointer"},children:r},Hi()))})]}),QP=()=>{const{isDarkMode:t,bgColor:e,textColor:n}=va(),{storeAllTypes:r}=Or();let i=Wk(),{type:s}=q7(),o=md.filter(K=>K.enName===s)[0],l=o==null?void 0:o.zhName,c=o==null?void 0:o.bgColor,h=r.filter(K=>K.name===s)[0],{damage_relations:f}=h||{},{double_damage_from:p,double_damage_to:m,half_damage_from:y,half_damage_to:v,no_damage_from:E,no_damage_to:R}=f||{},T=du(p),I=du(m),S=du(y),w=du(v),P=du(E),O=du(R);function D(){i(-1)}const N=[{title:"效果絕佳",detail_item:I},{title:"效果不好",detail_item:w},{title:"沒有效果",detail_item:O},{title:"遭受效果絕佳",detail_item:T},{title:"遭受效果不好",detail_item:S},{title:"沒有傷害",detail_item:P}];return b.jsxs($s,{show:!0,onHide:D,id:"typeView",fullscreen:"xs-down",children:[b.jsx($s.Header,{closeButton:!0,className:t?"bg-darkBg":"text-white-50",children:b.jsxs($s.Title,{children:[b.jsx("span",{style:{color:c},children:l}),b.jsx("span",{className:`text-${n}`,children:"屬性"})]})}),b.jsx($s.Body,{className:t?"bg-darkBg":"text-white-50",children:N.map(({title:K,detail_item:Y})=>b.jsx(yse,{title:K,detail_item:Y,textColor:n},Hi()))})]})},YP=()=>(va(),b.jsx("section",{className:"text-center fst-italic",children:b.jsx(sT,{children:b.jsx("h3",{children:"Coming Soon..."})})})),vse=l8([{path:"/Pokemon-Gym",element:b.jsx(pse,{}),errorElement:b.jsx(F0,{}),children:[{errorElement:b.jsx(F0,{}),children:[{index:!0,element:b.jsx(M0,{})},{path:"/Pokemon-Gym/",element:b.jsx(M0,{}),children:[{path:"type/:type",element:b.jsx(QP,{})}]},{path:"/Pokemon-Gym/Gym",element:b.jsx(M0,{}),children:[{path:"type/:type",element:b.jsx(QP,{})}]},{path:"/Pokemon-Gym/About",element:b.jsx(gse,{})},{path:"/Pokemon-Gym/Pokedex",element:b.jsx(YP,{})},{path:"/Pokemon-Gym/Login",element:b.jsx(YP,{})},{path:"*",element:b.jsx(F0,{})}]}]}]),_se=new Aq;V0.createRoot(document.getElementById("root")).render(b.jsx(Qt.StrictMode,{children:b.jsxs(Uq,{client:_se,children:[b.jsx(g8,{router:vse}),b.jsx(Gq,{initialIsOpen:!1})]})}));
