function j6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function od(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var YP={exports:{}},Wg={},XP={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ad=Symbol.for("react.element"),B6=Symbol.for("react.portal"),U6=Symbol.for("react.fragment"),z6=Symbol.for("react.strict_mode"),q6=Symbol.for("react.profiler"),W6=Symbol.for("react.provider"),K6=Symbol.for("react.context"),H6=Symbol.for("react.forward_ref"),G6=Symbol.for("react.suspense"),Q6=Symbol.for("react.memo"),Y6=Symbol.for("react.lazy"),CR=Symbol.iterator;function X6(t){return t===null||typeof t!="object"?null:(t=CR&&t[CR]||t["@@iterator"],typeof t=="function"?t:null)}var JP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZP=Object.assign,eO={};function Ec(t,e,n){this.props=t,this.context=e,this.refs=eO,this.updater=n||JP}Ec.prototype.isReactComponent={};Ec.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ec.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tO(){}tO.prototype=Ec.prototype;function qE(t,e,n){this.props=t,this.context=e,this.refs=eO,this.updater=n||JP}var WE=qE.prototype=new tO;WE.constructor=qE;ZP(WE,Ec.prototype);WE.isPureReactComponent=!0;var PR=Array.isArray,nO=Object.prototype.hasOwnProperty,KE={current:null},rO={key:!0,ref:!0,__self:!0,__source:!0};function iO(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)nO.call(e,r)&&!rO.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ad,type:t,key:s,ref:o,props:i,_owner:KE.current}}function J6(t,e){return{$$typeof:ad,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function HE(t){return typeof t=="object"&&t!==null&&t.$$typeof===ad}function Z6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var OR=/\/+/g;function S_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Z6(""+t.key):e.toString(36)}function cm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ad:case B6:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+S_(o,0):r,PR(i)?(n="",t!=null&&(n=t.replace(OR,"$&/")+"/"),cm(i,e,n,"",function(h){return h})):i!=null&&(HE(i)&&(i=J6(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(OR,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",PR(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+S_(s,l);o+=cm(s,e,n,c,i)}else if(c=X6(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+S_(s,l++),o+=cm(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Pp(t,e,n){if(t==null)return t;var r=[],i=0;return cm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function e9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cr={current:null},hm={transition:null},t9={ReactCurrentDispatcher:Cr,ReactCurrentBatchConfig:hm,ReactCurrentOwner:KE};dt.Children={map:Pp,forEach:function(t,e,n){Pp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pp(t,function(){e++}),e},toArray:function(t){return Pp(t,function(e){return e})||[]},only:function(t){if(!HE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};dt.Component=Ec;dt.Fragment=U6;dt.Profiler=q6;dt.PureComponent=qE;dt.StrictMode=z6;dt.Suspense=G6;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t9;dt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ZP({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=KE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)nO.call(e,c)&&!rO.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:ad,type:t.type,key:i,ref:s,props:r,_owner:o}};dt.createContext=function(t){return t={$$typeof:K6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:W6,_context:t},t.Consumer=t};dt.createElement=iO;dt.createFactory=function(t){var e=iO.bind(null,t);return e.type=t,e};dt.createRef=function(){return{current:null}};dt.forwardRef=function(t){return{$$typeof:H6,render:t}};dt.isValidElement=HE;dt.lazy=function(t){return{$$typeof:Y6,_payload:{_status:-1,_result:t},_init:e9}};dt.memo=function(t,e){return{$$typeof:Q6,type:t,compare:e===void 0?null:e}};dt.startTransition=function(t){var e=hm.transition;hm.transition={};try{t()}finally{hm.transition=e}};dt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};dt.useCallback=function(t,e){return Cr.current.useCallback(t,e)};dt.useContext=function(t){return Cr.current.useContext(t)};dt.useDebugValue=function(){};dt.useDeferredValue=function(t){return Cr.current.useDeferredValue(t)};dt.useEffect=function(t,e){return Cr.current.useEffect(t,e)};dt.useId=function(){return Cr.current.useId()};dt.useImperativeHandle=function(t,e,n){return Cr.current.useImperativeHandle(t,e,n)};dt.useInsertionEffect=function(t,e){return Cr.current.useInsertionEffect(t,e)};dt.useLayoutEffect=function(t,e){return Cr.current.useLayoutEffect(t,e)};dt.useMemo=function(t,e){return Cr.current.useMemo(t,e)};dt.useReducer=function(t,e,n){return Cr.current.useReducer(t,e,n)};dt.useRef=function(t){return Cr.current.useRef(t)};dt.useState=function(t){return Cr.current.useState(t)};dt.useSyncExternalStore=function(t,e,n){return Cr.current.useSyncExternalStore(t,e,n)};dt.useTransition=function(){return Cr.current.useTransition()};dt.version="18.2.0";XP.exports=dt;var x=XP.exports;const Qt=od(x),n9=j6({__proto__:null,default:Qt},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r9=x,i9=Symbol.for("react.element"),s9=Symbol.for("react.fragment"),o9=Object.prototype.hasOwnProperty,a9=r9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l9={key:!0,ref:!0,__self:!0,__source:!0};function sO(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)o9.call(e,r)&&!l9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:i9,type:t,key:s,ref:o,props:i,_owner:a9.current}}Wg.Fragment=s9;Wg.jsx=sO;Wg.jsxs=sO;YP.exports=Wg;var b=YP.exports,F0={},oO={exports:{}},ai={},aO={exports:{}},lO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,ce){var ae=H.length;H.push(ce);e:for(;0<ae;){var we=ae-1>>>1,Ae=H[we];if(0<i(Ae,ce))H[we]=ce,H[ae]=Ae,ae=we;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ce=H[0],ae=H.pop();if(ae!==ce){H[0]=ae;e:for(var we=0,Ae=H.length,$e=Ae>>>1;we<$e;){var je=2*(we+1)-1,ke=H[je],et=je+1,Jt=H[et];if(0>i(ke,ae))et<Ae&&0>i(Jt,ke)?(H[we]=Jt,H[et]=ae,we=et):(H[we]=ke,H[je]=ae,we=je);else if(et<Ae&&0>i(Jt,ae))H[we]=Jt,H[et]=ae,we=et;else break e}}return ce}function i(H,ce){var ae=H.sortIndex-ce.sortIndex;return ae!==0?ae:H.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],h=[],f=1,p=null,m=3,y=!1,v=!1,w=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(H){for(var ce=n(h);ce!==null;){if(ce.callback===null)r(h);else if(ce.startTime<=H)r(h),ce.sortIndex=ce.expirationTime,e(c,ce);else break;ce=n(h)}}function E(H){if(w=!1,I(H),!v)if(n(c)!==null)v=!0,Ve(P);else{var ce=n(h);ce!==null&&Me(E,ce.startTime-H)}}function P(H,ce){v=!1,w&&(w=!1,T(N),N=-1),y=!0;var ae=m;try{for(I(ce),p=n(c);p!==null&&(!(p.expirationTime>ce)||H&&!ie());){var we=p.callback;if(typeof we=="function"){p.callback=null,m=p.priorityLevel;var Ae=we(p.expirationTime<=ce);ce=t.unstable_now(),typeof Ae=="function"?p.callback=Ae:p===n(c)&&r(c),I(ce)}else r(c);p=n(c)}if(p!==null)var $e=!0;else{var je=n(h);je!==null&&Me(E,je.startTime-ce),$e=!1}return $e}finally{p=null,m=ae,y=!1}}var O=!1,D=null,N=-1,W=5,Y=-1;function ie(){return!(t.unstable_now()-Y<W)}function fe(){if(D!==null){var H=t.unstable_now();Y=H;var ce=!0;try{ce=D(!0,H)}finally{ce?_e():(O=!1,D=null)}}else O=!1}var _e;if(typeof S=="function")_e=function(){S(fe)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,Ce=Fe.port2;Fe.port1.onmessage=fe,_e=function(){Ce.postMessage(null)}}else _e=function(){R(fe,0)};function Ve(H){D=H,O||(O=!0,_e())}function Me(H,ce){N=R(function(){H(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,Ve(P))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(H){switch(m){case 1:case 2:case 3:var ce=3;break;default:ce=m}var ae=m;m=ce;try{return H()}finally{m=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ce){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ae=m;m=H;try{return ce()}finally{m=ae}},t.unstable_scheduleCallback=function(H,ce,ae){var we=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?we+ae:we):ae=we,H){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=ae+Ae,H={id:f++,callback:ce,priorityLevel:H,startTime:ae,expirationTime:Ae,sortIndex:-1},ae>we?(H.sortIndex=ae,e(h,H),n(c)===null&&H===n(h)&&(w?(T(N),N=-1):w=!0,Me(E,ae-we))):(H.sortIndex=Ae,e(c,H),v||y||(v=!0,Ve(P))),H},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(H){var ce=m;return function(){var ae=m;m=ce;try{return H.apply(this,arguments)}finally{m=ae}}}})(lO);aO.exports=lO;var u9=aO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uO=x,ri=u9;function ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cO=new Set,ff={};function Ol(t,e){Qu(t,e),Qu(t+"Capture",e)}function Qu(t,e){for(ff[t]=e,t=0;t<e.length;t++)cO.add(e[t])}var Js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),V0=Object.prototype.hasOwnProperty,c9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DR={},kR={};function h9(t){return V0.call(kR,t)?!0:V0.call(DR,t)?!1:c9.test(t)?kR[t]=!0:(DR[t]=!0,!1)}function f9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function d9(t,e,n,r){if(e===null||typeof e>"u"||f9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ir[t]=new Pr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ir[e]=new Pr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ir[t]=new Pr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ir[t]=new Pr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ir[t]=new Pr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ir[t]=new Pr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ir[t]=new Pr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ir[t]=new Pr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ir[t]=new Pr(t,5,!1,t.toLowerCase(),null,!1,!1)});var GE=/[\-:]([a-z])/g;function QE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(GE,QE);ir[e]=new Pr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(GE,QE);ir[e]=new Pr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(GE,QE);ir[e]=new Pr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ir[t]=new Pr(t,1,!1,t.toLowerCase(),null,!1,!1)});ir.xlinkHref=new Pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ir[t]=new Pr(t,1,!1,t.toLowerCase(),null,!0,!0)});function YE(t,e,n,r){var i=ir.hasOwnProperty(e)?ir[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(d9(e,n,i,r)&&(n=null),r||i===null?h9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ao=uO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Op=Symbol.for("react.element"),wu=Symbol.for("react.portal"),Eu=Symbol.for("react.fragment"),XE=Symbol.for("react.strict_mode"),$0=Symbol.for("react.profiler"),hO=Symbol.for("react.provider"),fO=Symbol.for("react.context"),JE=Symbol.for("react.forward_ref"),j0=Symbol.for("react.suspense"),B0=Symbol.for("react.suspense_list"),ZE=Symbol.for("react.memo"),Oo=Symbol.for("react.lazy"),dO=Symbol.for("react.offscreen"),NR=Symbol.iterator;function ah(t){return t===null||typeof t!="object"?null:(t=NR&&t[NR]||t["@@iterator"],typeof t=="function"?t:null)}var fn=Object.assign,x_;function Oh(t){if(x_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);x_=e&&e[1]||""}return`
`+x_+t}var R_=!1;function b_(t,e){if(!t||R_)return"";R_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{R_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oh(t):""}function p9(t){switch(t.tag){case 5:return Oh(t.type);case 16:return Oh("Lazy");case 13:return Oh("Suspense");case 19:return Oh("SuspenseList");case 0:case 2:case 15:return t=b_(t.type,!1),t;case 11:return t=b_(t.type.render,!1),t;case 1:return t=b_(t.type,!0),t;default:return""}}function U0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Eu:return"Fragment";case wu:return"Portal";case $0:return"Profiler";case XE:return"StrictMode";case j0:return"Suspense";case B0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fO:return(t.displayName||"Context")+".Consumer";case hO:return(t._context.displayName||"Context")+".Provider";case JE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ZE:return e=t.displayName||null,e!==null?e:U0(t.type)||"Memo";case Oo:e=t._payload,t=t._init;try{return U0(t(e))}catch{}}return null}function m9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U0(e);case 8:return e===XE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ea(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function g9(t){var e=pO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dp(t){t._valueTracker||(t._valueTracker=g9(t))}function mO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=pO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function z0(t,e){var n=e.checked;return fn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function LR(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ea(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gO(t,e){e=e.checked,e!=null&&YE(t,"checked",e,!1)}function q0(t,e){gO(t,e);var n=ea(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?W0(t,e.type,n):e.hasOwnProperty("defaultValue")&&W0(t,e.type,ea(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function MR(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function W0(t,e,n){(e!=="number"||Lm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Dh=Array.isArray;function Lu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ea(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function K0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return fn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function FR(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ue(92));if(Dh(n)){if(1<n.length)throw Error(ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ea(n)}}function yO(t,e){var n=ea(e.value),r=ea(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function VR(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function H0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kp,_O=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kp=kp||document.createElement("div"),kp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function df(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y9=["Webkit","ms","Moz","O"];Object.keys(zh).forEach(function(t){y9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zh[e]=zh[t]})});function wO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zh.hasOwnProperty(t)&&zh[t]?(""+e).trim():e+"px"}function EO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=wO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var v9=fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function G0(t,e){if(e){if(v9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function Q0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y0=null;function e1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var X0=null,Mu=null,Fu=null;function $R(t){if(t=cd(t)){if(typeof X0!="function")throw Error(ue(280));var e=t.stateNode;e&&(e=Yg(e),X0(t.stateNode,t.type,e))}}function TO(t){Mu?Fu?Fu.push(t):Fu=[t]:Mu=t}function IO(){if(Mu){var t=Mu,e=Fu;if(Fu=Mu=null,$R(t),e)for(t=0;t<e.length;t++)$R(e[t])}}function SO(t,e){return t(e)}function xO(){}var A_=!1;function RO(t,e,n){if(A_)return t(e,n);A_=!0;try{return SO(t,e,n)}finally{A_=!1,(Mu!==null||Fu!==null)&&(xO(),IO())}}function pf(t,e){var n=t.stateNode;if(n===null)return null;var r=Yg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,e,typeof n));return n}var J0=!1;if(Js)try{var lh={};Object.defineProperty(lh,"passive",{get:function(){J0=!0}}),window.addEventListener("test",lh,lh),window.removeEventListener("test",lh,lh)}catch{J0=!1}function _9(t,e,n,r,i,s,o,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var qh=!1,Mm=null,Fm=!1,Z0=null,w9={onError:function(t){qh=!0,Mm=t}};function E9(t,e,n,r,i,s,o,l,c){qh=!1,Mm=null,_9.apply(w9,arguments)}function T9(t,e,n,r,i,s,o,l,c){if(E9.apply(this,arguments),qh){if(qh){var h=Mm;qh=!1,Mm=null}else throw Error(ue(198));Fm||(Fm=!0,Z0=h)}}function Dl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jR(t){if(Dl(t)!==t)throw Error(ue(188))}function I9(t){var e=t.alternate;if(!e){if(e=Dl(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return jR(i),t;if(s===r)return jR(i),e;s=s.sibling}throw Error(ue(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:e}function AO(t){return t=I9(t),t!==null?CO(t):null}function CO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=CO(t);if(e!==null)return e;t=t.sibling}return null}var PO=ri.unstable_scheduleCallback,BR=ri.unstable_cancelCallback,S9=ri.unstable_shouldYield,x9=ri.unstable_requestPaint,bn=ri.unstable_now,R9=ri.unstable_getCurrentPriorityLevel,t1=ri.unstable_ImmediatePriority,OO=ri.unstable_UserBlockingPriority,Vm=ri.unstable_NormalPriority,b9=ri.unstable_LowPriority,DO=ri.unstable_IdlePriority,Kg=null,ds=null;function A9(t){if(ds&&typeof ds.onCommitFiberRoot=="function")try{ds.onCommitFiberRoot(Kg,t,void 0,(t.current.flags&128)===128)}catch{}}var Wi=Math.clz32?Math.clz32:O9,C9=Math.log,P9=Math.LN2;function O9(t){return t>>>=0,t===0?32:31-(C9(t)/P9|0)|0}var Np=64,Lp=4194304;function kh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $m(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=kh(l):(s&=o,s!==0&&(r=kh(s)))}else o=n&~i,o!==0?r=kh(o):s!==0&&(r=kh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wi(e),i=1<<n,r|=t[n],e&=~i;return r}function D9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k9(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Wi(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=D9(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function ew(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kO(){var t=Np;return Np<<=1,!(Np&4194240)&&(Np=64),t}function C_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ld(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wi(e),t[e]=n}function N9(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function n1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ot=0;function NO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var LO,r1,MO,FO,VO,tw=!1,Mp=[],zo=null,qo=null,Wo=null,mf=new Map,gf=new Map,Lo=[],L9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function UR(t,e){switch(t){case"focusin":case"focusout":zo=null;break;case"dragenter":case"dragleave":qo=null;break;case"mouseover":case"mouseout":Wo=null;break;case"pointerover":case"pointerout":mf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(e.pointerId)}}function uh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=cd(e),e!==null&&r1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function M9(t,e,n,r,i){switch(e){case"focusin":return zo=uh(zo,t,e,n,r,i),!0;case"dragenter":return qo=uh(qo,t,e,n,r,i),!0;case"mouseover":return Wo=uh(Wo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return mf.set(s,uh(mf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gf.set(s,uh(gf.get(s)||null,t,e,n,r,i)),!0}return!1}function $O(t){var e=Qa(t.target);if(e!==null){var n=Dl(e);if(n!==null){if(e=n.tag,e===13){if(e=bO(n),e!==null){t.blockedOn=e,VO(t.priority,function(){MO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Y0=r,n.target.dispatchEvent(r),Y0=null}else return e=cd(n),e!==null&&r1(e),t.blockedOn=n,!1;e.shift()}return!0}function zR(t,e,n){fm(t)&&n.delete(e)}function F9(){tw=!1,zo!==null&&fm(zo)&&(zo=null),qo!==null&&fm(qo)&&(qo=null),Wo!==null&&fm(Wo)&&(Wo=null),mf.forEach(zR),gf.forEach(zR)}function ch(t,e){t.blockedOn===e&&(t.blockedOn=null,tw||(tw=!0,ri.unstable_scheduleCallback(ri.unstable_NormalPriority,F9)))}function yf(t){function e(i){return ch(i,t)}if(0<Mp.length){ch(Mp[0],t);for(var n=1;n<Mp.length;n++){var r=Mp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zo!==null&&ch(zo,t),qo!==null&&ch(qo,t),Wo!==null&&ch(Wo,t),mf.forEach(e),gf.forEach(e),n=0;n<Lo.length;n++)r=Lo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Lo.length&&(n=Lo[0],n.blockedOn===null);)$O(n),n.blockedOn===null&&Lo.shift()}var Vu=ao.ReactCurrentBatchConfig,jm=!0;function V9(t,e,n,r){var i=Ot,s=Vu.transition;Vu.transition=null;try{Ot=1,i1(t,e,n,r)}finally{Ot=i,Vu.transition=s}}function $9(t,e,n,r){var i=Ot,s=Vu.transition;Vu.transition=null;try{Ot=4,i1(t,e,n,r)}finally{Ot=i,Vu.transition=s}}function i1(t,e,n,r){if(jm){var i=nw(t,e,n,r);if(i===null)$_(t,e,r,Bm,n),UR(t,r);else if(M9(i,t,e,n,r))r.stopPropagation();else if(UR(t,r),e&4&&-1<L9.indexOf(t)){for(;i!==null;){var s=cd(i);if(s!==null&&LO(s),s=nw(t,e,n,r),s===null&&$_(t,e,r,Bm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else $_(t,e,r,null,n)}}var Bm=null;function nw(t,e,n,r){if(Bm=null,t=e1(r),t=Qa(t),t!==null)if(e=Dl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bm=t,null}function jO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R9()){case t1:return 1;case OO:return 4;case Vm:case b9:return 16;case DO:return 536870912;default:return 16}default:return 16}}var $o=null,s1=null,dm=null;function BO(){if(dm)return dm;var t,e=s1,n=e.length,r,i="value"in $o?$o.value:$o.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return dm=i.slice(t,1<r?1-r:void 0)}function pm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fp(){return!0}function qR(){return!1}function li(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fp:qR,this.isPropagationStopped=qR,this}return fn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fp)},persist:function(){},isPersistent:Fp}),e}var Tc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},o1=li(Tc),ud=fn({},Tc,{view:0,detail:0}),j9=li(ud),P_,O_,hh,Hg=fn({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hh&&(hh&&t.type==="mousemove"?(P_=t.screenX-hh.screenX,O_=t.screenY-hh.screenY):O_=P_=0,hh=t),P_)},movementY:function(t){return"movementY"in t?t.movementY:O_}}),WR=li(Hg),B9=fn({},Hg,{dataTransfer:0}),U9=li(B9),z9=fn({},ud,{relatedTarget:0}),D_=li(z9),q9=fn({},Tc,{animationName:0,elapsedTime:0,pseudoElement:0}),W9=li(q9),K9=fn({},Tc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),H9=li(K9),G9=fn({},Tc,{data:0}),KR=li(G9),Q9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=X9[t])?!!e[t]:!1}function a1(){return J9}var Z9=fn({},ud,{key:function(t){if(t.key){var e=Q9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Y9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a1,charCode:function(t){return t.type==="keypress"?pm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ez=li(Z9),tz=fn({},Hg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),HR=li(tz),nz=fn({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a1}),rz=li(nz),iz=fn({},Tc,{propertyName:0,elapsedTime:0,pseudoElement:0}),sz=li(iz),oz=fn({},Hg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),az=li(oz),lz=[9,13,27,32],l1=Js&&"CompositionEvent"in window,Wh=null;Js&&"documentMode"in document&&(Wh=document.documentMode);var uz=Js&&"TextEvent"in window&&!Wh,UO=Js&&(!l1||Wh&&8<Wh&&11>=Wh),GR=String.fromCharCode(32),QR=!1;function zO(t,e){switch(t){case"keyup":return lz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tu=!1;function cz(t,e){switch(t){case"compositionend":return qO(e);case"keypress":return e.which!==32?null:(QR=!0,GR);case"textInput":return t=e.data,t===GR&&QR?null:t;default:return null}}function hz(t,e){if(Tu)return t==="compositionend"||!l1&&zO(t,e)?(t=BO(),dm=s1=$o=null,Tu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return UO&&e.locale!=="ko"?null:e.data;default:return null}}var fz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fz[t.type]:e==="textarea"}function WO(t,e,n,r){TO(r),e=Um(e,"onChange"),0<e.length&&(n=new o1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kh=null,vf=null;function dz(t){nD(t,0)}function Gg(t){var e=xu(t);if(mO(e))return t}function pz(t,e){if(t==="change")return e}var KO=!1;if(Js){var k_;if(Js){var N_="oninput"in document;if(!N_){var XR=document.createElement("div");XR.setAttribute("oninput","return;"),N_=typeof XR.oninput=="function"}k_=N_}else k_=!1;KO=k_&&(!document.documentMode||9<document.documentMode)}function JR(){Kh&&(Kh.detachEvent("onpropertychange",HO),vf=Kh=null)}function HO(t){if(t.propertyName==="value"&&Gg(vf)){var e=[];WO(e,vf,t,e1(t)),RO(dz,e)}}function mz(t,e,n){t==="focusin"?(JR(),Kh=e,vf=n,Kh.attachEvent("onpropertychange",HO)):t==="focusout"&&JR()}function gz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gg(vf)}function yz(t,e){if(t==="click")return Gg(e)}function vz(t,e){if(t==="input"||t==="change")return Gg(e)}function _z(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gi=typeof Object.is=="function"?Object.is:_z;function _f(t,e){if(Gi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!V0.call(e,i)||!Gi(t[i],e[i]))return!1}return!0}function ZR(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eb(t,e){var n=ZR(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ZR(n)}}function GO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?GO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function QO(){for(var t=window,e=Lm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lm(t.document)}return e}function u1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wz(t){var e=QO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&GO(n.ownerDocument.documentElement,n)){if(r!==null&&u1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=eb(n,s);var o=eb(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ez=Js&&"documentMode"in document&&11>=document.documentMode,Iu=null,rw=null,Hh=null,iw=!1;function tb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;iw||Iu==null||Iu!==Lm(r)||(r=Iu,"selectionStart"in r&&u1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hh&&_f(Hh,r)||(Hh=r,r=Um(rw,"onSelect"),0<r.length&&(e=new o1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Iu)))}function Vp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Su={animationend:Vp("Animation","AnimationEnd"),animationiteration:Vp("Animation","AnimationIteration"),animationstart:Vp("Animation","AnimationStart"),transitionend:Vp("Transition","TransitionEnd")},L_={},YO={};Js&&(YO=document.createElement("div").style,"AnimationEvent"in window||(delete Su.animationend.animation,delete Su.animationiteration.animation,delete Su.animationstart.animation),"TransitionEvent"in window||delete Su.transitionend.transition);function Qg(t){if(L_[t])return L_[t];if(!Su[t])return t;var e=Su[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in YO)return L_[t]=e[n];return t}var XO=Qg("animationend"),JO=Qg("animationiteration"),ZO=Qg("animationstart"),eD=Qg("transitionend"),tD=new Map,nb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pa(t,e){tD.set(t,e),Ol(e,[t])}for(var M_=0;M_<nb.length;M_++){var F_=nb[M_],Tz=F_.toLowerCase(),Iz=F_[0].toUpperCase()+F_.slice(1);pa(Tz,"on"+Iz)}pa(XO,"onAnimationEnd");pa(JO,"onAnimationIteration");pa(ZO,"onAnimationStart");pa("dblclick","onDoubleClick");pa("focusin","onFocus");pa("focusout","onBlur");pa(eD,"onTransitionEnd");Qu("onMouseEnter",["mouseout","mouseover"]);Qu("onMouseLeave",["mouseout","mouseover"]);Qu("onPointerEnter",["pointerout","pointerover"]);Qu("onPointerLeave",["pointerout","pointerover"]);Ol("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ol("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ol("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ol("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ol("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ol("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nh));function rb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,T9(r,e,void 0,t),t.currentTarget=null}function nD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;rb(i,l,h),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;rb(i,l,h),s=c}}}if(Fm)throw t=Z0,Fm=!1,Z0=null,t}function Kt(t,e){var n=e[uw];n===void 0&&(n=e[uw]=new Set);var r=t+"__bubble";n.has(r)||(rD(e,t,2,!1),n.add(r))}function V_(t,e,n){var r=0;e&&(r|=4),rD(n,t,r,e)}var $p="_reactListening"+Math.random().toString(36).slice(2);function wf(t){if(!t[$p]){t[$p]=!0,cO.forEach(function(n){n!=="selectionchange"&&(Sz.has(n)||V_(n,!1,t),V_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$p]||(e[$p]=!0,V_("selectionchange",!1,e))}}function rD(t,e,n,r){switch(jO(e)){case 1:var i=V9;break;case 4:i=$9;break;default:i=i1}n=i.bind(null,e,n,t),i=void 0,!J0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $_(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Qa(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}RO(function(){var h=s,f=e1(n),p=[];e:{var m=tD.get(t);if(m!==void 0){var y=o1,v=t;switch(t){case"keypress":if(pm(n)===0)break e;case"keydown":case"keyup":y=ez;break;case"focusin":v="focus",y=D_;break;case"focusout":v="blur",y=D_;break;case"beforeblur":case"afterblur":y=D_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=WR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=U9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=rz;break;case XO:case JO:case ZO:y=W9;break;case eD:y=sz;break;case"scroll":y=j9;break;case"wheel":y=az;break;case"copy":case"cut":case"paste":y=H9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=HR}var w=(e&4)!==0,R=!w&&t==="scroll",T=w?m!==null?m+"Capture":null:m;w=[];for(var S=h,I;S!==null;){I=S;var E=I.stateNode;if(I.tag===5&&E!==null&&(I=E,T!==null&&(E=pf(S,T),E!=null&&w.push(Ef(S,E,I)))),R)break;S=S.return}0<w.length&&(m=new y(m,v,null,n,f),p.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==Y0&&(v=n.relatedTarget||n.fromElement)&&(Qa(v)||v[Zs]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=h,v=v?Qa(v):null,v!==null&&(R=Dl(v),v!==R||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=h),y!==v)){if(w=WR,E="onMouseLeave",T="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(w=HR,E="onPointerLeave",T="onPointerEnter",S="pointer"),R=y==null?m:xu(y),I=v==null?m:xu(v),m=new w(E,S+"leave",y,n,f),m.target=R,m.relatedTarget=I,E=null,Qa(f)===h&&(w=new w(T,S+"enter",v,n,f),w.target=I,w.relatedTarget=R,E=w),R=E,y&&v)t:{for(w=y,T=v,S=0,I=w;I;I=iu(I))S++;for(I=0,E=T;E;E=iu(E))I++;for(;0<S-I;)w=iu(w),S--;for(;0<I-S;)T=iu(T),I--;for(;S--;){if(w===T||T!==null&&w===T.alternate)break t;w=iu(w),T=iu(T)}w=null}else w=null;y!==null&&ib(p,m,y,w,!1),v!==null&&R!==null&&ib(p,R,v,w,!0)}}e:{if(m=h?xu(h):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var P=pz;else if(YR(m))if(KO)P=vz;else{P=gz;var O=mz}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=yz);if(P&&(P=P(t,h))){WO(p,P,n,f);break e}O&&O(t,m,h),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&W0(m,"number",m.value)}switch(O=h?xu(h):window,t){case"focusin":(YR(O)||O.contentEditable==="true")&&(Iu=O,rw=h,Hh=null);break;case"focusout":Hh=rw=Iu=null;break;case"mousedown":iw=!0;break;case"contextmenu":case"mouseup":case"dragend":iw=!1,tb(p,n,f);break;case"selectionchange":if(Ez)break;case"keydown":case"keyup":tb(p,n,f)}var D;if(l1)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Tu?zO(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(UO&&n.locale!=="ko"&&(Tu||N!=="onCompositionStart"?N==="onCompositionEnd"&&Tu&&(D=BO()):($o=f,s1="value"in $o?$o.value:$o.textContent,Tu=!0)),O=Um(h,N),0<O.length&&(N=new KR(N,t,null,n,f),p.push({event:N,listeners:O}),D?N.data=D:(D=qO(n),D!==null&&(N.data=D)))),(D=uz?cz(t,n):hz(t,n))&&(h=Um(h,"onBeforeInput"),0<h.length&&(f=new KR("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:h}),f.data=D))}nD(p,e)})}function Ef(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Um(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=pf(t,n),s!=null&&r.unshift(Ef(t,s,i)),s=pf(t,e),s!=null&&r.push(Ef(t,s,i))),t=t.return}return r}function iu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ib(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=pf(n,s),c!=null&&o.unshift(Ef(n,c,l))):i||(c=pf(n,s),c!=null&&o.push(Ef(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var xz=/\r\n?/g,Rz=/\u0000|\uFFFD/g;function sb(t){return(typeof t=="string"?t:""+t).replace(xz,`
`).replace(Rz,"")}function jp(t,e,n){if(e=sb(e),sb(t)!==e&&n)throw Error(ue(425))}function zm(){}var sw=null,ow=null;function aw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lw=typeof setTimeout=="function"?setTimeout:void 0,bz=typeof clearTimeout=="function"?clearTimeout:void 0,ob=typeof Promise=="function"?Promise:void 0,Az=typeof queueMicrotask=="function"?queueMicrotask:typeof ob<"u"?function(t){return ob.resolve(null).then(t).catch(Cz)}:lw;function Cz(t){setTimeout(function(){throw t})}function j_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yf(e)}function Ko(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ab(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ic=Math.random().toString(36).slice(2),is="__reactFiber$"+Ic,Tf="__reactProps$"+Ic,Zs="__reactContainer$"+Ic,uw="__reactEvents$"+Ic,Pz="__reactListeners$"+Ic,Oz="__reactHandles$"+Ic;function Qa(t){var e=t[is];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zs]||n[is]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ab(t);t!==null;){if(n=t[is])return n;t=ab(t)}return e}t=n,n=t.parentNode}return null}function cd(t){return t=t[is]||t[Zs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function Yg(t){return t[Tf]||null}var cw=[],Ru=-1;function ma(t){return{current:t}}function Yt(t){0>Ru||(t.current=cw[Ru],cw[Ru]=null,Ru--)}function jt(t,e){Ru++,cw[Ru]=t.current,t.current=e}var ta={},mr=ma(ta),Br=ma(!1),cl=ta;function Yu(t,e){var n=t.type.contextTypes;if(!n)return ta;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ur(t){return t=t.childContextTypes,t!=null}function qm(){Yt(Br),Yt(mr)}function lb(t,e,n){if(mr.current!==ta)throw Error(ue(168));jt(mr,e),jt(Br,n)}function iD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ue(108,m9(t)||"Unknown",i));return fn({},n,r)}function Wm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ta,cl=mr.current,jt(mr,t),jt(Br,Br.current),!0}function ub(t,e,n){var r=t.stateNode;if(!r)throw Error(ue(169));n?(t=iD(t,e,cl),r.__reactInternalMemoizedMergedChildContext=t,Yt(Br),Yt(mr),jt(mr,t)):Yt(Br),jt(Br,n)}var Ms=null,Xg=!1,B_=!1;function sD(t){Ms===null?Ms=[t]:Ms.push(t)}function Dz(t){Xg=!0,sD(t)}function ga(){if(!B_&&Ms!==null){B_=!0;var t=0,e=Ot;try{var n=Ms;for(Ot=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ms=null,Xg=!1}catch(i){throw Ms!==null&&(Ms=Ms.slice(t+1)),PO(t1,ga),i}finally{Ot=e,B_=!1}}return null}var bu=[],Au=0,Km=null,Hm=0,wi=[],Ei=0,hl=null,Bs=1,Us="";function ja(t,e){bu[Au++]=Hm,bu[Au++]=Km,Km=t,Hm=e}function oD(t,e,n){wi[Ei++]=Bs,wi[Ei++]=Us,wi[Ei++]=hl,hl=t;var r=Bs;t=Us;var i=32-Wi(r)-1;r&=~(1<<i),n+=1;var s=32-Wi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Bs=1<<32-Wi(e)+i|n<<i|r,Us=s+t}else Bs=1<<s|n<<i|r,Us=t}function c1(t){t.return!==null&&(ja(t,1),oD(t,1,0))}function h1(t){for(;t===Km;)Km=bu[--Au],bu[Au]=null,Hm=bu[--Au],bu[Au]=null;for(;t===hl;)hl=wi[--Ei],wi[Ei]=null,Us=wi[--Ei],wi[Ei]=null,Bs=wi[--Ei],wi[Ei]=null}var ni=null,ti=null,tn=!1,Ui=null;function aD(t,e){var n=Ii(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ni=t,ti=Ko(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ni=t,ti=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hl!==null?{id:Bs,overflow:Us}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ii(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ni=t,ti=null,!0):!1;default:return!1}}function hw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fw(t){if(tn){var e=ti;if(e){var n=e;if(!cb(t,e)){if(hw(t))throw Error(ue(418));e=Ko(n.nextSibling);var r=ni;e&&cb(t,e)?aD(r,n):(t.flags=t.flags&-4097|2,tn=!1,ni=t)}}else{if(hw(t))throw Error(ue(418));t.flags=t.flags&-4097|2,tn=!1,ni=t}}}function hb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ni=t}function Bp(t){if(t!==ni)return!1;if(!tn)return hb(t),tn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!aw(t.type,t.memoizedProps)),e&&(e=ti)){if(hw(t))throw lD(),Error(ue(418));for(;e;)aD(t,e),e=Ko(e.nextSibling)}if(hb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ti=Ko(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ti=null}}else ti=ni?Ko(t.stateNode.nextSibling):null;return!0}function lD(){for(var t=ti;t;)t=Ko(t.nextSibling)}function Xu(){ti=ni=null,tn=!1}function f1(t){Ui===null?Ui=[t]:Ui.push(t)}var kz=ao.ReactCurrentBatchConfig;function $i(t,e){if(t&&t.defaultProps){e=fn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Gm=ma(null),Qm=null,Cu=null,d1=null;function p1(){d1=Cu=Qm=null}function m1(t){var e=Gm.current;Yt(Gm),t._currentValue=e}function dw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $u(t,e){Qm=t,d1=Cu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fr=!0),t.firstContext=null)}function Ai(t){var e=t._currentValue;if(d1!==t)if(t={context:t,memoizedValue:e,next:null},Cu===null){if(Qm===null)throw Error(ue(308));Cu=t,Qm.dependencies={lanes:0,firstContext:t}}else Cu=Cu.next=t;return e}var Ya=null;function g1(t){Ya===null?Ya=[t]:Ya.push(t)}function uD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,g1(e)):(n.next=i.next,i.next=n),e.interleaved=n,eo(t,r)}function eo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Do=!1;function y1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ws(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ho(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Et&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,eo(t,n)}return i=r.interleaved,i===null?(e.next=e,g1(r)):(e.next=i.next,i.next=e),r.interleaved=e,eo(t,n)}function mm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,n1(t,n)}}function fb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ym(t,e,n,r){var i=t.updateQueue;Do=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,o===null?s=h:o.next=h,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;o=0,f=h=c=null,l=s;do{var m=l.lane,y=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,w=l;switch(m=e,y=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){p=v.call(y,p,m);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,m=typeof v=="function"?v.call(y,p,m):v,m==null)break e;p=fn({},p,m);break e;case 2:Do=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=y,c=p):f=f.next=y,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(f===null&&(c=p),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);dl|=o,t.lanes=o,t.memoizedState=p}}function db(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ue(191,i));i.call(r)}}}var hD=new uO.Component().refs;function pw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:fn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jg={isMounted:function(t){return(t=t._reactInternals)?Dl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xr(),i=Qo(t),s=Ws(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ho(t,s,i),e!==null&&(Ki(e,t,i,r),mm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xr(),i=Qo(t),s=Ws(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ho(t,s,i),e!==null&&(Ki(e,t,i,r),mm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xr(),r=Qo(t),i=Ws(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ho(t,i,r),e!==null&&(Ki(e,t,r,n),mm(e,t,r))}};function pb(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!_f(n,r)||!_f(i,s):!0}function fD(t,e,n){var r=!1,i=ta,s=e.contextType;return typeof s=="object"&&s!==null?s=Ai(s):(i=Ur(e)?cl:mr.current,r=e.contextTypes,s=(r=r!=null)?Yu(t,i):ta),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function mb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jg.enqueueReplaceState(e,e.state,null)}function mw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=hD,y1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ai(s):(s=Ur(e)?cl:mr.current,i.context=Yu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(pw(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jg.enqueueReplaceState(i,i.state,null),Ym(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===hD&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,t))}return t}function Up(t,e){throw t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gb(t){var e=t._init;return e(t._payload)}function dD(t){function e(T,S){if(t){var I=T.deletions;I===null?(T.deletions=[S],T.flags|=16):I.push(S)}}function n(T,S){if(!t)return null;for(;S!==null;)e(T,S),S=S.sibling;return null}function r(T,S){for(T=new Map;S!==null;)S.key!==null?T.set(S.key,S):T.set(S.index,S),S=S.sibling;return T}function i(T,S){return T=Yo(T,S),T.index=0,T.sibling=null,T}function s(T,S,I){return T.index=I,t?(I=T.alternate,I!==null?(I=I.index,I<S?(T.flags|=2,S):I):(T.flags|=2,S)):(T.flags|=1048576,S)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function l(T,S,I,E){return S===null||S.tag!==6?(S=G_(I,T.mode,E),S.return=T,S):(S=i(S,I),S.return=T,S)}function c(T,S,I,E){var P=I.type;return P===Eu?f(T,S,I.props.children,E,I.key):S!==null&&(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Oo&&gb(P)===S.type)?(E=i(S,I.props),E.ref=fh(T,S,I),E.return=T,E):(E=Em(I.type,I.key,I.props,null,T.mode,E),E.ref=fh(T,S,I),E.return=T,E)}function h(T,S,I,E){return S===null||S.tag!==4||S.stateNode.containerInfo!==I.containerInfo||S.stateNode.implementation!==I.implementation?(S=Q_(I,T.mode,E),S.return=T,S):(S=i(S,I.children||[]),S.return=T,S)}function f(T,S,I,E,P){return S===null||S.tag!==7?(S=ol(I,T.mode,E,P),S.return=T,S):(S=i(S,I),S.return=T,S)}function p(T,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return S=G_(""+S,T.mode,I),S.return=T,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Op:return I=Em(S.type,S.key,S.props,null,T.mode,I),I.ref=fh(T,null,S),I.return=T,I;case wu:return S=Q_(S,T.mode,I),S.return=T,S;case Oo:var E=S._init;return p(T,E(S._payload),I)}if(Dh(S)||ah(S))return S=ol(S,T.mode,I,null),S.return=T,S;Up(T,S)}return null}function m(T,S,I,E){var P=S!==null?S.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return P!==null?null:l(T,S,""+I,E);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Op:return I.key===P?c(T,S,I,E):null;case wu:return I.key===P?h(T,S,I,E):null;case Oo:return P=I._init,m(T,S,P(I._payload),E)}if(Dh(I)||ah(I))return P!==null?null:f(T,S,I,E,null);Up(T,I)}return null}function y(T,S,I,E,P){if(typeof E=="string"&&E!==""||typeof E=="number")return T=T.get(I)||null,l(S,T,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Op:return T=T.get(E.key===null?I:E.key)||null,c(S,T,E,P);case wu:return T=T.get(E.key===null?I:E.key)||null,h(S,T,E,P);case Oo:var O=E._init;return y(T,S,I,O(E._payload),P)}if(Dh(E)||ah(E))return T=T.get(I)||null,f(S,T,E,P,null);Up(S,E)}return null}function v(T,S,I,E){for(var P=null,O=null,D=S,N=S=0,W=null;D!==null&&N<I.length;N++){D.index>N?(W=D,D=null):W=D.sibling;var Y=m(T,D,I[N],E);if(Y===null){D===null&&(D=W);break}t&&D&&Y.alternate===null&&e(T,D),S=s(Y,S,N),O===null?P=Y:O.sibling=Y,O=Y,D=W}if(N===I.length)return n(T,D),tn&&ja(T,N),P;if(D===null){for(;N<I.length;N++)D=p(T,I[N],E),D!==null&&(S=s(D,S,N),O===null?P=D:O.sibling=D,O=D);return tn&&ja(T,N),P}for(D=r(T,D);N<I.length;N++)W=y(D,T,N,I[N],E),W!==null&&(t&&W.alternate!==null&&D.delete(W.key===null?N:W.key),S=s(W,S,N),O===null?P=W:O.sibling=W,O=W);return t&&D.forEach(function(ie){return e(T,ie)}),tn&&ja(T,N),P}function w(T,S,I,E){var P=ah(I);if(typeof P!="function")throw Error(ue(150));if(I=P.call(I),I==null)throw Error(ue(151));for(var O=P=null,D=S,N=S=0,W=null,Y=I.next();D!==null&&!Y.done;N++,Y=I.next()){D.index>N?(W=D,D=null):W=D.sibling;var ie=m(T,D,Y.value,E);if(ie===null){D===null&&(D=W);break}t&&D&&ie.alternate===null&&e(T,D),S=s(ie,S,N),O===null?P=ie:O.sibling=ie,O=ie,D=W}if(Y.done)return n(T,D),tn&&ja(T,N),P;if(D===null){for(;!Y.done;N++,Y=I.next())Y=p(T,Y.value,E),Y!==null&&(S=s(Y,S,N),O===null?P=Y:O.sibling=Y,O=Y);return tn&&ja(T,N),P}for(D=r(T,D);!Y.done;N++,Y=I.next())Y=y(D,T,N,Y.value,E),Y!==null&&(t&&Y.alternate!==null&&D.delete(Y.key===null?N:Y.key),S=s(Y,S,N),O===null?P=Y:O.sibling=Y,O=Y);return t&&D.forEach(function(fe){return e(T,fe)}),tn&&ja(T,N),P}function R(T,S,I,E){if(typeof I=="object"&&I!==null&&I.type===Eu&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Op:e:{for(var P=I.key,O=S;O!==null;){if(O.key===P){if(P=I.type,P===Eu){if(O.tag===7){n(T,O.sibling),S=i(O,I.props.children),S.return=T,T=S;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Oo&&gb(P)===O.type){n(T,O.sibling),S=i(O,I.props),S.ref=fh(T,O,I),S.return=T,T=S;break e}n(T,O);break}else e(T,O);O=O.sibling}I.type===Eu?(S=ol(I.props.children,T.mode,E,I.key),S.return=T,T=S):(E=Em(I.type,I.key,I.props,null,T.mode,E),E.ref=fh(T,S,I),E.return=T,T=E)}return o(T);case wu:e:{for(O=I.key;S!==null;){if(S.key===O)if(S.tag===4&&S.stateNode.containerInfo===I.containerInfo&&S.stateNode.implementation===I.implementation){n(T,S.sibling),S=i(S,I.children||[]),S.return=T,T=S;break e}else{n(T,S);break}else e(T,S);S=S.sibling}S=Q_(I,T.mode,E),S.return=T,T=S}return o(T);case Oo:return O=I._init,R(T,S,O(I._payload),E)}if(Dh(I))return v(T,S,I,E);if(ah(I))return w(T,S,I,E);Up(T,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,S!==null&&S.tag===6?(n(T,S.sibling),S=i(S,I),S.return=T,T=S):(n(T,S),S=G_(I,T.mode,E),S.return=T,T=S),o(T)):n(T,S)}return R}var Ju=dD(!0),pD=dD(!1),hd={},ps=ma(hd),If=ma(hd),Sf=ma(hd);function Xa(t){if(t===hd)throw Error(ue(174));return t}function v1(t,e){switch(jt(Sf,e),jt(If,t),jt(ps,hd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:H0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=H0(e,t)}Yt(ps),jt(ps,e)}function Zu(){Yt(ps),Yt(If),Yt(Sf)}function mD(t){Xa(Sf.current);var e=Xa(ps.current),n=H0(e,t.type);e!==n&&(jt(If,t),jt(ps,n))}function _1(t){If.current===t&&(Yt(ps),Yt(If))}var ln=ma(0);function Xm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var U_=[];function w1(){for(var t=0;t<U_.length;t++)U_[t]._workInProgressVersionPrimary=null;U_.length=0}var gm=ao.ReactCurrentDispatcher,z_=ao.ReactCurrentBatchConfig,fl=0,cn=null,Fn=null,Un=null,Jm=!1,Gh=!1,xf=0,Nz=0;function lr(){throw Error(ue(321))}function E1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gi(t[n],e[n]))return!1;return!0}function T1(t,e,n,r,i,s){if(fl=s,cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gm.current=t===null||t.memoizedState===null?Vz:$z,t=n(r,i),Gh){s=0;do{if(Gh=!1,xf=0,25<=s)throw Error(ue(301));s+=1,Un=Fn=null,e.updateQueue=null,gm.current=jz,t=n(r,i)}while(Gh)}if(gm.current=Zm,e=Fn!==null&&Fn.next!==null,fl=0,Un=Fn=cn=null,Jm=!1,e)throw Error(ue(300));return t}function I1(){var t=xf!==0;return xf=0,t}function rs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?cn.memoizedState=Un=t:Un=Un.next=t,Un}function Ci(){if(Fn===null){var t=cn.alternate;t=t!==null?t.memoizedState:null}else t=Fn.next;var e=Un===null?cn.memoizedState:Un.next;if(e!==null)Un=e,Fn=t;else{if(t===null)throw Error(ue(310));Fn=t,t={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},Un===null?cn.memoizedState=Un=t:Un=Un.next=t}return Un}function Rf(t,e){return typeof e=="function"?e(t):e}function q_(t){var e=Ci(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=Fn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,h=s;do{var f=h.lane;if((fl&f)===f)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=p,o=r):c=c.next=p,cn.lanes|=f,dl|=f}h=h.next}while(h!==null&&h!==s);c===null?o=r:c.next=l,Gi(r,e.memoizedState)||(Fr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,cn.lanes|=s,dl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function W_(t){var e=Ci(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Gi(s,e.memoizedState)||(Fr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function gD(){}function yD(t,e){var n=cn,r=Ci(),i=e(),s=!Gi(r.memoizedState,i);if(s&&(r.memoizedState=i,Fr=!0),r=r.queue,S1(wD.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Un!==null&&Un.memoizedState.tag&1){if(n.flags|=2048,bf(9,_D.bind(null,n,r,i,e),void 0,null),qn===null)throw Error(ue(349));fl&30||vD(n,e,i)}return i}function vD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _D(t,e,n,r){e.value=n,e.getSnapshot=r,ED(e)&&TD(t)}function wD(t,e,n){return n(function(){ED(e)&&TD(t)})}function ED(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gi(t,n)}catch{return!0}}function TD(t){var e=eo(t,1);e!==null&&Ki(e,t,1,-1)}function yb(t){var e=rs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rf,lastRenderedState:t},e.queue=t,t=t.dispatch=Fz.bind(null,cn,t),[e.memoizedState,t]}function bf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ID(){return Ci().memoizedState}function ym(t,e,n,r){var i=rs();cn.flags|=t,i.memoizedState=bf(1|e,n,void 0,r===void 0?null:r)}function Zg(t,e,n,r){var i=Ci();r=r===void 0?null:r;var s=void 0;if(Fn!==null){var o=Fn.memoizedState;if(s=o.destroy,r!==null&&E1(r,o.deps)){i.memoizedState=bf(e,n,s,r);return}}cn.flags|=t,i.memoizedState=bf(1|e,n,s,r)}function vb(t,e){return ym(8390656,8,t,e)}function S1(t,e){return Zg(2048,8,t,e)}function SD(t,e){return Zg(4,2,t,e)}function xD(t,e){return Zg(4,4,t,e)}function RD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bD(t,e,n){return n=n!=null?n.concat([t]):null,Zg(4,4,RD.bind(null,e,t),n)}function x1(){}function AD(t,e){var n=Ci();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&E1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function CD(t,e){var n=Ci();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&E1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function PD(t,e,n){return fl&21?(Gi(n,e)||(n=kO(),cn.lanes|=n,dl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fr=!0),t.memoizedState=n)}function Lz(t,e){var n=Ot;Ot=n!==0&&4>n?n:4,t(!0);var r=z_.transition;z_.transition={};try{t(!1),e()}finally{Ot=n,z_.transition=r}}function OD(){return Ci().memoizedState}function Mz(t,e,n){var r=Qo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DD(t))kD(e,n);else if(n=uD(t,e,n,r),n!==null){var i=xr();Ki(n,t,r,i),ND(n,e,r)}}function Fz(t,e,n){var r=Qo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DD(t))kD(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Gi(l,o)){var c=e.interleaved;c===null?(i.next=i,g1(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=uD(t,e,i,r),n!==null&&(i=xr(),Ki(n,t,r,i),ND(n,e,r))}}function DD(t){var e=t.alternate;return t===cn||e!==null&&e===cn}function kD(t,e){Gh=Jm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ND(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,n1(t,n)}}var Zm={readContext:Ai,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useInsertionEffect:lr,useLayoutEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useMutableSource:lr,useSyncExternalStore:lr,useId:lr,unstable_isNewReconciler:!1},Vz={readContext:Ai,useCallback:function(t,e){return rs().memoizedState=[t,e===void 0?null:e],t},useContext:Ai,useEffect:vb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ym(4194308,4,RD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ym(4194308,4,t,e)},useInsertionEffect:function(t,e){return ym(4,2,t,e)},useMemo:function(t,e){var n=rs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Mz.bind(null,cn,t),[r.memoizedState,t]},useRef:function(t){var e=rs();return t={current:t},e.memoizedState=t},useState:yb,useDebugValue:x1,useDeferredValue:function(t){return rs().memoizedState=t},useTransition:function(){var t=yb(!1),e=t[0];return t=Lz.bind(null,t[1]),rs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=cn,i=rs();if(tn){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=e(),qn===null)throw Error(ue(349));fl&30||vD(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,vb(wD.bind(null,r,s,t),[t]),r.flags|=2048,bf(9,_D.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=rs(),e=qn.identifierPrefix;if(tn){var n=Us,r=Bs;n=(r&~(1<<32-Wi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Nz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$z={readContext:Ai,useCallback:AD,useContext:Ai,useEffect:S1,useImperativeHandle:bD,useInsertionEffect:SD,useLayoutEffect:xD,useMemo:CD,useReducer:q_,useRef:ID,useState:function(){return q_(Rf)},useDebugValue:x1,useDeferredValue:function(t){var e=Ci();return PD(e,Fn.memoizedState,t)},useTransition:function(){var t=q_(Rf)[0],e=Ci().memoizedState;return[t,e]},useMutableSource:gD,useSyncExternalStore:yD,useId:OD,unstable_isNewReconciler:!1},jz={readContext:Ai,useCallback:AD,useContext:Ai,useEffect:S1,useImperativeHandle:bD,useInsertionEffect:SD,useLayoutEffect:xD,useMemo:CD,useReducer:W_,useRef:ID,useState:function(){return W_(Rf)},useDebugValue:x1,useDeferredValue:function(t){var e=Ci();return Fn===null?e.memoizedState=t:PD(e,Fn.memoizedState,t)},useTransition:function(){var t=W_(Rf)[0],e=Ci().memoizedState;return[t,e]},useMutableSource:gD,useSyncExternalStore:yD,useId:OD,unstable_isNewReconciler:!1};function ec(t,e){try{var n="",r=e;do n+=p9(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function K_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Bz=typeof WeakMap=="function"?WeakMap:Map;function LD(t,e,n){n=Ws(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){tg||(tg=!0,Rw=r),gw(t,e)},n}function MD(t,e,n){n=Ws(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){gw(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){gw(t,e),typeof r!="function"&&(Go===null?Go=new Set([this]):Go.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function _b(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Bz;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=tq.bind(null,t,e,n),e.then(t,t))}function wb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Eb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ws(-1,1),e.tag=2,Ho(n,e,1))),n.lanes|=1),t)}var Uz=ao.ReactCurrentOwner,Fr=!1;function wr(t,e,n,r){e.child=t===null?pD(e,null,n,r):Ju(e,t.child,n,r)}function Tb(t,e,n,r,i){n=n.render;var s=e.ref;return $u(e,i),r=T1(t,e,n,r,s,i),n=I1(),t!==null&&!Fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,to(t,e,i)):(tn&&n&&c1(e),e.flags|=1,wr(t,e,r,i),e.child)}function Ib(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!k1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,FD(t,e,s,r,i)):(t=Em(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:_f,n(o,r)&&t.ref===e.ref)return to(t,e,i)}return e.flags|=1,t=Yo(s,r),t.ref=e.ref,t.return=e,e.child=t}function FD(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(_f(s,r)&&t.ref===e.ref)if(Fr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Fr=!0);else return e.lanes=t.lanes,to(t,e,i)}return yw(t,e,n,r,i)}function VD(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(Ou,ei),ei|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,jt(Ou,ei),ei|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,jt(Ou,ei),ei|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,jt(Ou,ei),ei|=r;return wr(t,e,i,n),e.child}function $D(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function yw(t,e,n,r,i){var s=Ur(n)?cl:mr.current;return s=Yu(e,s),$u(e,i),n=T1(t,e,n,r,s,i),r=I1(),t!==null&&!Fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,to(t,e,i)):(tn&&r&&c1(e),e.flags|=1,wr(t,e,n,i),e.child)}function Sb(t,e,n,r,i){if(Ur(n)){var s=!0;Wm(e)}else s=!1;if($u(e,i),e.stateNode===null)vm(t,e),fD(e,n,r),mw(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Ai(h):(h=Ur(n)?cl:mr.current,h=Yu(e,h));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==h)&&mb(e,o,r,h),Do=!1;var m=e.memoizedState;o.state=m,Ym(e,r,o,i),c=e.memoizedState,l!==r||m!==c||Br.current||Do?(typeof f=="function"&&(pw(e,n,f,r),c=e.memoizedState),(l=Do||pb(e,n,l,r,m,c,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,cD(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:$i(e.type,l),o.props=h,p=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ai(c):(c=Ur(n)?cl:mr.current,c=Yu(e,c));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==c)&&mb(e,o,r,c),Do=!1,m=e.memoizedState,o.state=m,Ym(e,r,o,i);var v=e.memoizedState;l!==p||m!==v||Br.current||Do?(typeof y=="function"&&(pw(e,n,y,r),v=e.memoizedState),(h=Do||pb(e,n,h,r,m,v,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=c,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return vw(t,e,n,r,s,i)}function vw(t,e,n,r,i,s){$D(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ub(e,n,!1),to(t,e,s);r=e.stateNode,Uz.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ju(e,t.child,null,s),e.child=Ju(e,null,l,s)):wr(t,e,l,s),e.memoizedState=r.state,i&&ub(e,n,!0),e.child}function jD(t){var e=t.stateNode;e.pendingContext?lb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lb(t,e.context,!1),v1(t,e.containerInfo)}function xb(t,e,n,r,i){return Xu(),f1(i),e.flags|=256,wr(t,e,n,r),e.child}var _w={dehydrated:null,treeContext:null,retryLane:0};function ww(t){return{baseLanes:t,cachePool:null,transitions:null}}function BD(t,e,n){var r=e.pendingProps,i=ln.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),jt(ln,i&1),t===null)return fw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ny(o,r,0,null),t=ol(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ww(n),e.memoizedState=_w,t):R1(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return zz(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Yo(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Yo(l,s):(s=ol(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ww(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=_w,r}return s=t.child,t=s.sibling,r=Yo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function R1(t,e){return e=ny({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zp(t,e,n,r){return r!==null&&f1(r),Ju(e,t.child,null,n),t=R1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zz(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=K_(Error(ue(422))),zp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ny({mode:"visible",children:r.children},i,0,null),s=ol(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ju(e,t.child,null,o),e.child.memoizedState=ww(o),e.memoizedState=_w,s);if(!(e.mode&1))return zp(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(ue(419)),r=K_(s,r,void 0),zp(t,e,o,r)}if(l=(o&t.childLanes)!==0,Fr||l){if(r=qn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,eo(t,i),Ki(r,t,i,-1))}return D1(),r=K_(Error(ue(421))),zp(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nq.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ti=Ko(i.nextSibling),ni=e,tn=!0,Ui=null,t!==null&&(wi[Ei++]=Bs,wi[Ei++]=Us,wi[Ei++]=hl,Bs=t.id,Us=t.overflow,hl=e),e=R1(e,r.children),e.flags|=4096,e)}function Rb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),dw(t.return,e,n)}function H_(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function UD(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(wr(t,e,r.children,n),r=ln.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rb(t,n,e);else if(t.tag===19)Rb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(jt(ln,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),H_(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}H_(e,!0,n,null,s);break;case"together":H_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function to(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),dl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,n=Yo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qz(t,e,n){switch(e.tag){case 3:jD(e),Xu();break;case 5:mD(e);break;case 1:Ur(e.type)&&Wm(e);break;case 4:v1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;jt(Gm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(jt(ln,ln.current&1),e.flags|=128,null):n&e.child.childLanes?BD(t,e,n):(jt(ln,ln.current&1),t=to(t,e,n),t!==null?t.sibling:null);jt(ln,ln.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return UD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),jt(ln,ln.current),r)break;return null;case 22:case 23:return e.lanes=0,VD(t,e,n)}return to(t,e,n)}var zD,Ew,qD,WD;zD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ew=function(){};qD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xa(ps.current);var s=null;switch(n){case"input":i=z0(t,i),r=z0(t,r),s=[];break;case"select":i=fn({},i,{value:void 0}),r=fn({},r,{value:void 0}),s=[];break;case"textarea":i=K0(t,i),r=K0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zm)}G0(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ff.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ff.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Kt("scroll",t),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};WD=function(t,e,n,r){n!==r&&(e.flags|=4)};function dh(t,e){if(!tn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ur(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Wz(t,e,n){var r=e.pendingProps;switch(h1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(e),null;case 1:return Ur(e.type)&&qm(),ur(e),null;case 3:return r=e.stateNode,Zu(),Yt(Br),Yt(mr),w1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ui!==null&&(Cw(Ui),Ui=null))),Ew(t,e),ur(e),null;case 5:_1(e);var i=Xa(Sf.current);if(n=e.type,t!==null&&e.stateNode!=null)qD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return ur(e),null}if(t=Xa(ps.current),Bp(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[is]=e,r[Tf]=s,t=(e.mode&1)!==0,n){case"dialog":Kt("cancel",r),Kt("close",r);break;case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(i=0;i<Nh.length;i++)Kt(Nh[i],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"details":Kt("toggle",r);break;case"input":LR(r,s),Kt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",r);break;case"textarea":FR(r,s),Kt("invalid",r)}G0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&jp(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&jp(r.textContent,l,t),i=["children",""+l]):ff.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Kt("scroll",r)}switch(n){case"input":Dp(r),MR(r,s,!0);break;case"textarea":Dp(r),VR(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=zm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[is]=e,t[Tf]=r,zD(t,e,!1,!1),e.stateNode=t;e:{switch(o=Q0(n,r),n){case"dialog":Kt("cancel",t),Kt("close",t),i=r;break;case"iframe":case"object":case"embed":Kt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Nh.length;i++)Kt(Nh[i],t);i=r;break;case"source":Kt("error",t),i=r;break;case"img":case"image":case"link":Kt("error",t),Kt("load",t),i=r;break;case"details":Kt("toggle",t),i=r;break;case"input":LR(t,r),i=z0(t,r),Kt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=fn({},r,{value:void 0}),Kt("invalid",t);break;case"textarea":FR(t,r),i=K0(t,r),Kt("invalid",t);break;default:i=r}G0(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?EO(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&_O(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&df(t,c):typeof c=="number"&&df(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ff.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Kt("scroll",t):c!=null&&YE(t,s,c,o))}switch(n){case"input":Dp(t),MR(t,r,!1);break;case"textarea":Dp(t),VR(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ea(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Lu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Lu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ur(e),null;case 6:if(t&&e.stateNode!=null)WD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ue(166));if(n=Xa(Sf.current),Xa(ps.current),Bp(e)){if(r=e.stateNode,n=e.memoizedProps,r[is]=e,(s=r.nodeValue!==n)&&(t=ni,t!==null))switch(t.tag){case 3:jp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jp(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[is]=e,e.stateNode=r}return ur(e),null;case 13:if(Yt(ln),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tn&&ti!==null&&e.mode&1&&!(e.flags&128))lD(),Xu(),e.flags|=98560,s=!1;else if(s=Bp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ue(317));s[is]=e}else Xu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ur(e),s=!1}else Ui!==null&&(Cw(Ui),Ui=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ln.current&1?Vn===0&&(Vn=3):D1())),e.updateQueue!==null&&(e.flags|=4),ur(e),null);case 4:return Zu(),Ew(t,e),t===null&&wf(e.stateNode.containerInfo),ur(e),null;case 10:return m1(e.type._context),ur(e),null;case 17:return Ur(e.type)&&qm(),ur(e),null;case 19:if(Yt(ln),s=e.memoizedState,s===null)return ur(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)dh(s,!1);else{if(Vn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xm(t),o!==null){for(e.flags|=128,dh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return jt(ln,ln.current&1|2),e.child}t=t.sibling}s.tail!==null&&bn()>tc&&(e.flags|=128,r=!0,dh(s,!1),e.lanes=4194304)}else{if(!r)if(t=Xm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),dh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!tn)return ur(e),null}else 2*bn()-s.renderingStartTime>tc&&n!==1073741824&&(e.flags|=128,r=!0,dh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bn(),e.sibling=null,n=ln.current,jt(ln,r?n&1|2:n&1),e):(ur(e),null);case 22:case 23:return O1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ei&1073741824&&(ur(e),e.subtreeFlags&6&&(e.flags|=8192)):ur(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function Kz(t,e){switch(h1(e),e.tag){case 1:return Ur(e.type)&&qm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zu(),Yt(Br),Yt(mr),w1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _1(e),null;case 13:if(Yt(ln),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));Xu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yt(ln),null;case 4:return Zu(),null;case 10:return m1(e.type._context),null;case 22:case 23:return O1(),null;case 24:return null;default:return null}}var qp=!1,hr=!1,Hz=typeof WeakSet=="function"?WeakSet:Set,be=null;function Pu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gn(t,e,r)}else n.current=null}function Tw(t,e,n){try{n()}catch(r){gn(t,e,r)}}var bb=!1;function Gz(t,e){if(sw=jm,t=QO(),u1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,h=0,f=0,p=t,m=null;t:for(;;){for(var y;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===t)break t;if(m===n&&++h===i&&(l=o),m===s&&++f===r&&(c=o),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ow={focusedElem:t,selectionRange:n},jm=!1,be=e;be!==null;)if(e=be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,be=t;else for(;be!==null;){e=be;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,R=v.memoizedState,T=e.stateNode,S=T.getSnapshotBeforeUpdate(e.elementType===e.type?w:$i(e.type,w),R);T.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(E){gn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,be=t;break}be=e.return}return v=bb,bb=!1,v}function Qh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Tw(e,n,s)}i=i.next}while(i!==r)}}function ey(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Iw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function KD(t){var e=t.alternate;e!==null&&(t.alternate=null,KD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[is],delete e[Tf],delete e[uw],delete e[Pz],delete e[Oz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function HD(t){return t.tag===5||t.tag===3||t.tag===4}function Ab(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||HD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zm));else if(r!==4&&(t=t.child,t!==null))for(Sw(t,e,n),t=t.sibling;t!==null;)Sw(t,e,n),t=t.sibling}function xw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xw(t,e,n),t=t.sibling;t!==null;)xw(t,e,n),t=t.sibling}var Jn=null,ji=!1;function xo(t,e,n){for(n=n.child;n!==null;)GD(t,e,n),n=n.sibling}function GD(t,e,n){if(ds&&typeof ds.onCommitFiberUnmount=="function")try{ds.onCommitFiberUnmount(Kg,n)}catch{}switch(n.tag){case 5:hr||Pu(n,e);case 6:var r=Jn,i=ji;Jn=null,xo(t,e,n),Jn=r,ji=i,Jn!==null&&(ji?(t=Jn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Jn.removeChild(n.stateNode));break;case 18:Jn!==null&&(ji?(t=Jn,n=n.stateNode,t.nodeType===8?j_(t.parentNode,n):t.nodeType===1&&j_(t,n),yf(t)):j_(Jn,n.stateNode));break;case 4:r=Jn,i=ji,Jn=n.stateNode.containerInfo,ji=!0,xo(t,e,n),Jn=r,ji=i;break;case 0:case 11:case 14:case 15:if(!hr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Tw(n,e,o),i=i.next}while(i!==r)}xo(t,e,n);break;case 1:if(!hr&&(Pu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){gn(n,e,l)}xo(t,e,n);break;case 21:xo(t,e,n);break;case 22:n.mode&1?(hr=(r=hr)||n.memoizedState!==null,xo(t,e,n),hr=r):xo(t,e,n);break;default:xo(t,e,n)}}function Cb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Hz),e.forEach(function(r){var i=rq.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Jn=l.stateNode,ji=!1;break e;case 3:Jn=l.stateNode.containerInfo,ji=!0;break e;case 4:Jn=l.stateNode.containerInfo,ji=!0;break e}l=l.return}if(Jn===null)throw Error(ue(160));GD(s,o,i),Jn=null,ji=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){gn(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QD(e,t),e=e.sibling}function QD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vi(e,t),ns(t),r&4){try{Qh(3,t,t.return),ey(3,t)}catch(w){gn(t,t.return,w)}try{Qh(5,t,t.return)}catch(w){gn(t,t.return,w)}}break;case 1:Vi(e,t),ns(t),r&512&&n!==null&&Pu(n,n.return);break;case 5:if(Vi(e,t),ns(t),r&512&&n!==null&&Pu(n,n.return),t.flags&32){var i=t.stateNode;try{df(i,"")}catch(w){gn(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&gO(i,s),Q0(l,o);var h=Q0(l,s);for(o=0;o<c.length;o+=2){var f=c[o],p=c[o+1];f==="style"?EO(i,p):f==="dangerouslySetInnerHTML"?_O(i,p):f==="children"?df(i,p):YE(i,f,p,h)}switch(l){case"input":q0(i,s);break;case"textarea":yO(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Lu(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?Lu(i,!!s.multiple,s.defaultValue,!0):Lu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Tf]=s}catch(w){gn(t,t.return,w)}}break;case 6:if(Vi(e,t),ns(t),r&4){if(t.stateNode===null)throw Error(ue(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){gn(t,t.return,w)}}break;case 3:if(Vi(e,t),ns(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yf(e.containerInfo)}catch(w){gn(t,t.return,w)}break;case 4:Vi(e,t),ns(t);break;case 13:Vi(e,t),ns(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(C1=bn())),r&4&&Cb(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(hr=(h=hr)||f,Vi(e,t),hr=h):Vi(e,t),ns(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(be=t,f=t.child;f!==null;){for(p=be=f;be!==null;){switch(m=be,y=m.child,m.tag){case 0:case 11:case 14:case 15:Qh(4,m,m.return);break;case 1:Pu(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){gn(r,n,w)}}break;case 5:Pu(m,m.return);break;case 22:if(m.memoizedState!==null){Ob(p);continue}}y!==null?(y.return=m,be=y):Ob(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=wO("display",o))}catch(w){gn(t,t.return,w)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(w){gn(t,t.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Vi(e,t),ns(t),r&4&&Cb(t);break;case 21:break;default:Vi(e,t),ns(t)}}function ns(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(HD(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(df(i,""),r.flags&=-33);var s=Ab(t);xw(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ab(t);Sw(t,l,o);break;default:throw Error(ue(161))}}catch(c){gn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Qz(t,e,n){be=t,YD(t)}function YD(t,e,n){for(var r=(t.mode&1)!==0;be!==null;){var i=be,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||qp;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||hr;l=qp;var h=hr;if(qp=o,(hr=c)&&!h)for(be=i;be!==null;)o=be,c=o.child,o.tag===22&&o.memoizedState!==null?Db(i):c!==null?(c.return=o,be=c):Db(i);for(;s!==null;)be=s,YD(s),s=s.sibling;be=i,qp=l,hr=h}Pb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,be=s):Pb(t)}}function Pb(t){for(;be!==null;){var e=be;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hr||ey(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$i(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&db(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}db(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&yf(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}hr||e.flags&512&&Iw(e)}catch(m){gn(e,e.return,m)}}if(e===t){be=null;break}if(n=e.sibling,n!==null){n.return=e.return,be=n;break}be=e.return}}function Ob(t){for(;be!==null;){var e=be;if(e===t){be=null;break}var n=e.sibling;if(n!==null){n.return=e.return,be=n;break}be=e.return}}function Db(t){for(;be!==null;){var e=be;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ey(4,e)}catch(c){gn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){gn(e,i,c)}}var s=e.return;try{Iw(e)}catch(c){gn(e,s,c)}break;case 5:var o=e.return;try{Iw(e)}catch(c){gn(e,o,c)}}}catch(c){gn(e,e.return,c)}if(e===t){be=null;break}var l=e.sibling;if(l!==null){l.return=e.return,be=l;break}be=e.return}}var Yz=Math.ceil,eg=ao.ReactCurrentDispatcher,b1=ao.ReactCurrentOwner,Ri=ao.ReactCurrentBatchConfig,Et=0,qn=null,On=null,nr=0,ei=0,Ou=ma(0),Vn=0,Af=null,dl=0,ty=0,A1=0,Yh=null,Mr=null,C1=0,tc=1/0,Ls=null,tg=!1,Rw=null,Go=null,Wp=!1,jo=null,ng=0,Xh=0,bw=null,_m=-1,wm=0;function xr(){return Et&6?bn():_m!==-1?_m:_m=bn()}function Qo(t){return t.mode&1?Et&2&&nr!==0?nr&-nr:kz.transition!==null?(wm===0&&(wm=kO()),wm):(t=Ot,t!==0||(t=window.event,t=t===void 0?16:jO(t.type)),t):1}function Ki(t,e,n,r){if(50<Xh)throw Xh=0,bw=null,Error(ue(185));ld(t,n,r),(!(Et&2)||t!==qn)&&(t===qn&&(!(Et&2)&&(ty|=n),Vn===4&&Mo(t,nr)),zr(t,r),n===1&&Et===0&&!(e.mode&1)&&(tc=bn()+500,Xg&&ga()))}function zr(t,e){var n=t.callbackNode;k9(t,e);var r=$m(t,t===qn?nr:0);if(r===0)n!==null&&BR(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&BR(n),e===1)t.tag===0?Dz(kb.bind(null,t)):sD(kb.bind(null,t)),Az(function(){!(Et&6)&&ga()}),n=null;else{switch(NO(r)){case 1:n=t1;break;case 4:n=OO;break;case 16:n=Vm;break;case 536870912:n=DO;break;default:n=Vm}n=ik(n,XD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function XD(t,e){if(_m=-1,wm=0,Et&6)throw Error(ue(327));var n=t.callbackNode;if(ju()&&t.callbackNode!==n)return null;var r=$m(t,t===qn?nr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rg(t,r);else{e=r;var i=Et;Et|=2;var s=ZD();(qn!==t||nr!==e)&&(Ls=null,tc=bn()+500,sl(t,e));do try{Zz();break}catch(l){JD(t,l)}while(1);p1(),eg.current=s,Et=i,On!==null?e=0:(qn=null,nr=0,e=Vn)}if(e!==0){if(e===2&&(i=ew(t),i!==0&&(r=i,e=Aw(t,i))),e===1)throw n=Af,sl(t,0),Mo(t,r),zr(t,bn()),n;if(e===6)Mo(t,r);else{if(i=t.current.alternate,!(r&30)&&!Xz(i)&&(e=rg(t,r),e===2&&(s=ew(t),s!==0&&(r=s,e=Aw(t,s))),e===1))throw n=Af,sl(t,0),Mo(t,r),zr(t,bn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ue(345));case 2:Ba(t,Mr,Ls);break;case 3:if(Mo(t,r),(r&130023424)===r&&(e=C1+500-bn(),10<e)){if($m(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=lw(Ba.bind(null,t,Mr,Ls),e);break}Ba(t,Mr,Ls);break;case 4:if(Mo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Wi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=bn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Yz(r/1960))-r,10<r){t.timeoutHandle=lw(Ba.bind(null,t,Mr,Ls),r);break}Ba(t,Mr,Ls);break;case 5:Ba(t,Mr,Ls);break;default:throw Error(ue(329))}}}return zr(t,bn()),t.callbackNode===n?XD.bind(null,t):null}function Aw(t,e){var n=Yh;return t.current.memoizedState.isDehydrated&&(sl(t,e).flags|=256),t=rg(t,e),t!==2&&(e=Mr,Mr=n,e!==null&&Cw(e)),t}function Cw(t){Mr===null?Mr=t:Mr.push.apply(Mr,t)}function Xz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mo(t,e){for(e&=~A1,e&=~ty,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wi(e),r=1<<n;t[n]=-1,e&=~r}}function kb(t){if(Et&6)throw Error(ue(327));ju();var e=$m(t,0);if(!(e&1))return zr(t,bn()),null;var n=rg(t,e);if(t.tag!==0&&n===2){var r=ew(t);r!==0&&(e=r,n=Aw(t,r))}if(n===1)throw n=Af,sl(t,0),Mo(t,e),zr(t,bn()),n;if(n===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ba(t,Mr,Ls),zr(t,bn()),null}function P1(t,e){var n=Et;Et|=1;try{return t(e)}finally{Et=n,Et===0&&(tc=bn()+500,Xg&&ga())}}function pl(t){jo!==null&&jo.tag===0&&!(Et&6)&&ju();var e=Et;Et|=1;var n=Ri.transition,r=Ot;try{if(Ri.transition=null,Ot=1,t)return t()}finally{Ot=r,Ri.transition=n,Et=e,!(Et&6)&&ga()}}function O1(){ei=Ou.current,Yt(Ou)}function sl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bz(n)),On!==null)for(n=On.return;n!==null;){var r=n;switch(h1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qm();break;case 3:Zu(),Yt(Br),Yt(mr),w1();break;case 5:_1(r);break;case 4:Zu();break;case 13:Yt(ln);break;case 19:Yt(ln);break;case 10:m1(r.type._context);break;case 22:case 23:O1()}n=n.return}if(qn=t,On=t=Yo(t.current,null),nr=ei=e,Vn=0,Af=null,A1=ty=dl=0,Mr=Yh=null,Ya!==null){for(e=0;e<Ya.length;e++)if(n=Ya[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ya=null}return t}function JD(t,e){do{var n=On;try{if(p1(),gm.current=Zm,Jm){for(var r=cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jm=!1}if(fl=0,Un=Fn=cn=null,Gh=!1,xf=0,b1.current=null,n===null||n.return===null){Vn=1,Af=e,On=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=nr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=wb(o);if(y!==null){y.flags&=-257,Eb(y,o,l,s,e),y.mode&1&&_b(s,h,e),e=y,c=h;var v=e.updateQueue;if(v===null){var w=new Set;w.add(c),e.updateQueue=w}else v.add(c);break e}else{if(!(e&1)){_b(s,h,e),D1();break e}c=Error(ue(426))}}else if(tn&&l.mode&1){var R=wb(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Eb(R,o,l,s,e),f1(ec(c,l));break e}}s=c=ec(c,l),Vn!==4&&(Vn=2),Yh===null?Yh=[s]:Yh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=LD(s,c,e);fb(s,T);break e;case 1:l=c;var S=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Go===null||!Go.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=MD(s,l,e);fb(s,E);break e}}s=s.return}while(s!==null)}tk(n)}catch(P){e=P,On===n&&n!==null&&(On=n=n.return);continue}break}while(1)}function ZD(){var t=eg.current;return eg.current=Zm,t===null?Zm:t}function D1(){(Vn===0||Vn===3||Vn===2)&&(Vn=4),qn===null||!(dl&268435455)&&!(ty&268435455)||Mo(qn,nr)}function rg(t,e){var n=Et;Et|=2;var r=ZD();(qn!==t||nr!==e)&&(Ls=null,sl(t,e));do try{Jz();break}catch(i){JD(t,i)}while(1);if(p1(),Et=n,eg.current=r,On!==null)throw Error(ue(261));return qn=null,nr=0,Vn}function Jz(){for(;On!==null;)ek(On)}function Zz(){for(;On!==null&&!S9();)ek(On)}function ek(t){var e=rk(t.alternate,t,ei);t.memoizedProps=t.pendingProps,e===null?tk(t):On=e,b1.current=null}function tk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Kz(n,e),n!==null){n.flags&=32767,On=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vn=6,On=null;return}}else if(n=Wz(n,e,ei),n!==null){On=n;return}if(e=e.sibling,e!==null){On=e;return}On=e=t}while(e!==null);Vn===0&&(Vn=5)}function Ba(t,e,n){var r=Ot,i=Ri.transition;try{Ri.transition=null,Ot=1,eq(t,e,n,r)}finally{Ri.transition=i,Ot=r}return null}function eq(t,e,n,r){do ju();while(jo!==null);if(Et&6)throw Error(ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(N9(t,s),t===qn&&(On=qn=null,nr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wp||(Wp=!0,ik(Vm,function(){return ju(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ri.transition,Ri.transition=null;var o=Ot;Ot=1;var l=Et;Et|=4,b1.current=null,Gz(t,n),QD(n,t),wz(ow),jm=!!sw,ow=sw=null,t.current=n,Qz(n),x9(),Et=l,Ot=o,Ri.transition=s}else t.current=n;if(Wp&&(Wp=!1,jo=t,ng=i),s=t.pendingLanes,s===0&&(Go=null),A9(n.stateNode),zr(t,bn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tg)throw tg=!1,t=Rw,Rw=null,t;return ng&1&&t.tag!==0&&ju(),s=t.pendingLanes,s&1?t===bw?Xh++:(Xh=0,bw=t):Xh=0,ga(),null}function ju(){if(jo!==null){var t=NO(ng),e=Ri.transition,n=Ot;try{if(Ri.transition=null,Ot=16>t?16:t,jo===null)var r=!1;else{if(t=jo,jo=null,ng=0,Et&6)throw Error(ue(331));var i=Et;for(Et|=4,be=t.current;be!==null;){var s=be,o=s.child;if(be.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(be=h;be!==null;){var f=be;switch(f.tag){case 0:case 11:case 15:Qh(8,f,s)}var p=f.child;if(p!==null)p.return=f,be=p;else for(;be!==null;){f=be;var m=f.sibling,y=f.return;if(KD(f),f===h){be=null;break}if(m!==null){m.return=y,be=m;break}be=y}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var R=w.sibling;w.sibling=null,w=R}while(w!==null)}}be=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,be=o;else e:for(;be!==null;){if(s=be,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qh(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,be=T;break e}be=s.return}}var S=t.current;for(be=S;be!==null;){o=be;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,be=I;else e:for(o=S;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ey(9,l)}}catch(P){gn(l,l.return,P)}if(l===o){be=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,be=E;break e}be=l.return}}if(Et=i,ga(),ds&&typeof ds.onPostCommitFiberRoot=="function")try{ds.onPostCommitFiberRoot(Kg,t)}catch{}r=!0}return r}finally{Ot=n,Ri.transition=e}}return!1}function Nb(t,e,n){e=ec(n,e),e=LD(t,e,1),t=Ho(t,e,1),e=xr(),t!==null&&(ld(t,1,e),zr(t,e))}function gn(t,e,n){if(t.tag===3)Nb(t,t,n);else for(;e!==null;){if(e.tag===3){Nb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Go===null||!Go.has(r))){t=ec(n,t),t=MD(e,t,1),e=Ho(e,t,1),t=xr(),e!==null&&(ld(e,1,t),zr(e,t));break}}e=e.return}}function tq(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xr(),t.pingedLanes|=t.suspendedLanes&n,qn===t&&(nr&n)===n&&(Vn===4||Vn===3&&(nr&130023424)===nr&&500>bn()-C1?sl(t,0):A1|=n),zr(t,e)}function nk(t,e){e===0&&(t.mode&1?(e=Lp,Lp<<=1,!(Lp&130023424)&&(Lp=4194304)):e=1);var n=xr();t=eo(t,e),t!==null&&(ld(t,e,n),zr(t,n))}function nq(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nk(t,n)}function rq(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(e),nk(t,n)}var rk;rk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Br.current)Fr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Fr=!1,qz(t,e,n);Fr=!!(t.flags&131072)}else Fr=!1,tn&&e.flags&1048576&&oD(e,Hm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vm(t,e),t=e.pendingProps;var i=Yu(e,mr.current);$u(e,n),i=T1(null,e,r,t,i,n);var s=I1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ur(r)?(s=!0,Wm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,y1(e),i.updater=Jg,e.stateNode=i,i._reactInternals=e,mw(e,r,t,n),e=vw(null,e,r,!0,s,n)):(e.tag=0,tn&&s&&c1(e),wr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=sq(r),t=$i(r,t),i){case 0:e=yw(null,e,r,t,n);break e;case 1:e=Sb(null,e,r,t,n);break e;case 11:e=Tb(null,e,r,t,n);break e;case 14:e=Ib(null,e,r,$i(r.type,t),n);break e}throw Error(ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),yw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),Sb(t,e,r,i,n);case 3:e:{if(jD(e),t===null)throw Error(ue(387));r=e.pendingProps,s=e.memoizedState,i=s.element,cD(t,e),Ym(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ec(Error(ue(423)),e),e=xb(t,e,r,n,i);break e}else if(r!==i){i=ec(Error(ue(424)),e),e=xb(t,e,r,n,i);break e}else for(ti=Ko(e.stateNode.containerInfo.firstChild),ni=e,tn=!0,Ui=null,n=pD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xu(),r===i){e=to(t,e,n);break e}wr(t,e,r,n)}e=e.child}return e;case 5:return mD(e),t===null&&fw(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,aw(r,i)?o=null:s!==null&&aw(r,s)&&(e.flags|=32),$D(t,e),wr(t,e,o,n),e.child;case 6:return t===null&&fw(e),null;case 13:return BD(t,e,n);case 4:return v1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ju(e,null,r,n):wr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),Tb(t,e,r,i,n);case 7:return wr(t,e,e.pendingProps,n),e.child;case 8:return wr(t,e,e.pendingProps.children,n),e.child;case 12:return wr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,jt(Gm,r._currentValue),r._currentValue=o,s!==null)if(Gi(s.value,o)){if(s.children===i.children&&!Br.current){e=to(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Ws(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?c.next=c:(c.next=f.next,f.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),dw(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ue(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),dw(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}wr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,$u(e,n),i=Ai(i),r=r(i),e.flags|=1,wr(t,e,r,n),e.child;case 14:return r=e.type,i=$i(r,e.pendingProps),i=$i(r.type,i),Ib(t,e,r,i,n);case 15:return FD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),vm(t,e),e.tag=1,Ur(r)?(t=!0,Wm(e)):t=!1,$u(e,n),fD(e,r,i),mw(e,r,i,n),vw(null,e,r,!0,t,n);case 19:return UD(t,e,n);case 22:return VD(t,e,n)}throw Error(ue(156,e.tag))};function ik(t,e){return PO(t,e)}function iq(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(t,e,n,r){return new iq(t,e,n,r)}function k1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sq(t){if(typeof t=="function")return k1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===JE)return 11;if(t===ZE)return 14}return 2}function Yo(t,e){var n=t.alternate;return n===null?(n=Ii(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Em(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")k1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Eu:return ol(n.children,i,s,e);case XE:o=8,i|=8;break;case $0:return t=Ii(12,n,e,i|2),t.elementType=$0,t.lanes=s,t;case j0:return t=Ii(13,n,e,i),t.elementType=j0,t.lanes=s,t;case B0:return t=Ii(19,n,e,i),t.elementType=B0,t.lanes=s,t;case dO:return ny(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hO:o=10;break e;case fO:o=9;break e;case JE:o=11;break e;case ZE:o=14;break e;case Oo:o=16,r=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return e=Ii(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ol(t,e,n,r){return t=Ii(7,t,r,e),t.lanes=n,t}function ny(t,e,n,r){return t=Ii(22,t,r,e),t.elementType=dO,t.lanes=n,t.stateNode={isHidden:!1},t}function G_(t,e,n){return t=Ii(6,t,null,e),t.lanes=n,t}function Q_(t,e,n){return e=Ii(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oq(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=C_(0),this.expirationTimes=C_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=C_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function N1(t,e,n,r,i,s,o,l,c){return t=new oq(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ii(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},y1(s),t}function aq(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sk(t){if(!t)return ta;t=t._reactInternals;e:{if(Dl(t)!==t||t.tag!==1)throw Error(ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ur(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(t.tag===1){var n=t.type;if(Ur(n))return iD(t,n,e)}return e}function ok(t,e,n,r,i,s,o,l,c){return t=N1(n,r,!0,t,i,s,o,l,c),t.context=sk(null),n=t.current,r=xr(),i=Qo(n),s=Ws(r,i),s.callback=e??null,Ho(n,s,i),t.current.lanes=i,ld(t,i,r),zr(t,r),t}function ry(t,e,n,r){var i=e.current,s=xr(),o=Qo(i);return n=sk(n),e.context===null?e.context=n:e.pendingContext=n,e=Ws(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ho(i,e,o),t!==null&&(Ki(t,i,o,s),mm(t,i,o)),o}function ig(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Lb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function L1(t,e){Lb(t,e),(t=t.alternate)&&Lb(t,e)}function lq(){return null}var ak=typeof reportError=="function"?reportError:function(t){console.error(t)};function M1(t){this._internalRoot=t}iy.prototype.render=M1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));ry(t,e,null,null)};iy.prototype.unmount=M1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pl(function(){ry(null,t,null,null)}),e[Zs]=null}};function iy(t){this._internalRoot=t}iy.prototype.unstable_scheduleHydration=function(t){if(t){var e=FO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Lo.length&&e!==0&&e<Lo[n].priority;n++);Lo.splice(n,0,t),n===0&&$O(t)}};function F1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mb(){}function uq(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=ig(o);s.call(h)}}var o=ok(e,r,t,0,null,!1,!1,"",Mb);return t._reactRootContainer=o,t[Zs]=o.current,wf(t.nodeType===8?t.parentNode:t),pl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=ig(c);l.call(h)}}var c=N1(t,0,!1,null,null,!1,!1,"",Mb);return t._reactRootContainer=c,t[Zs]=c.current,wf(t.nodeType===8?t.parentNode:t),pl(function(){ry(e,c,n,r)}),c}function oy(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=ig(o);l.call(c)}}ry(e,o,t,i)}else o=uq(n,e,t,i,r);return ig(o)}LO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=kh(e.pendingLanes);n!==0&&(n1(e,n|1),zr(e,bn()),!(Et&6)&&(tc=bn()+500,ga()))}break;case 13:pl(function(){var r=eo(t,1);if(r!==null){var i=xr();Ki(r,t,1,i)}}),L1(t,1)}};r1=function(t){if(t.tag===13){var e=eo(t,134217728);if(e!==null){var n=xr();Ki(e,t,134217728,n)}L1(t,134217728)}};MO=function(t){if(t.tag===13){var e=Qo(t),n=eo(t,e);if(n!==null){var r=xr();Ki(n,t,e,r)}L1(t,e)}};FO=function(){return Ot};VO=function(t,e){var n=Ot;try{return Ot=t,e()}finally{Ot=n}};X0=function(t,e,n){switch(e){case"input":if(q0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Yg(r);if(!i)throw Error(ue(90));mO(r),q0(r,i)}}}break;case"textarea":yO(t,n);break;case"select":e=n.value,e!=null&&Lu(t,!!n.multiple,e,!1)}};SO=P1;xO=pl;var cq={usingClientEntryPoint:!1,Events:[cd,xu,Yg,TO,IO,P1]},ph={findFiberByHostInstance:Qa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},hq={bundleType:ph.bundleType,version:ph.version,rendererPackageName:ph.rendererPackageName,rendererConfig:ph.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ao.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AO(t),t===null?null:t.stateNode},findFiberByHostInstance:ph.findFiberByHostInstance||lq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kp.isDisabled&&Kp.supportsFiber)try{Kg=Kp.inject(hq),ds=Kp}catch{}}ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cq;ai.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!F1(e))throw Error(ue(200));return aq(t,e,null,n)};ai.createRoot=function(t,e){if(!F1(t))throw Error(ue(299));var n=!1,r="",i=ak;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=N1(t,1,!1,null,null,n,!1,r,i),t[Zs]=e.current,wf(t.nodeType===8?t.parentNode:t),new M1(e)};ai.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=AO(e),t=t===null?null:t.stateNode,t};ai.flushSync=function(t){return pl(t)};ai.hydrate=function(t,e,n){if(!sy(e))throw Error(ue(200));return oy(null,t,e,!0,n)};ai.hydrateRoot=function(t,e,n){if(!F1(t))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ak;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ok(e,null,t,1,n??null,i,!1,s,o),t[Zs]=e.current,wf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new iy(e)};ai.render=function(t,e,n){if(!sy(e))throw Error(ue(200));return oy(null,t,e,!1,n)};ai.unmountComponentAtNode=function(t){if(!sy(t))throw Error(ue(40));return t._reactRootContainer?(pl(function(){oy(null,null,t,!1,function(){t._reactRootContainer=null,t[Zs]=null})}),!0):!1};ai.unstable_batchedUpdates=P1;ai.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sy(n))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return oy(t,e,n,!1,r)};ai.version="18.2.0-next-9e3b772b8-20220608";function lk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lk)}catch(t){console.error(t)}}lk(),oO.exports=ai;var V1=oO.exports;const Du=od(V1);var Fb=V1;F0.createRoot=Fb.createRoot,F0.hydrateRoot=Fb.hydrateRoot;class Sc{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Cf=typeof window>"u"||"Deno"in window;function vi(){}function fq(t,e){return typeof t=="function"?t(e):t}function Pw(t){return typeof t=="number"&&t>=0&&t!==1/0}function Vb(t,e){return t.filter(n=>!e.includes(n))}function dq(t,e,n){const r=t.slice(0);return r[e]=n,r}function uk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Lh(t,e,n){return ay(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function ko(t,e,n){return ay(t)?[{...e,queryKey:t},n]:[t||{},e]}function $b(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(ay(o)){if(r){if(e.queryHash!==$1(o,e.options))return!1}else if(!sg(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function jb(t,e){const{exact:n,fetching:r,predicate:i,mutationKey:s}=t;if(ay(s)){if(!e.options.mutationKey)return!1;if(n){if(Ja(e.options.mutationKey)!==Ja(s))return!1}else if(!sg(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function $1(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ja)(t)}function Ja(t){return JSON.stringify(t,(e,n)=>Dw(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function sg(t,e){return ck(t,e)}function ck(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ck(t[n],e[n])):!1}function hk(t,e){if(t===e)return t;const n=Bb(t)&&Bb(e);if(n||Dw(t)&&Dw(e)){const r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{};let l=0;for(let c=0;c<s;c++){const h=n?c:i[c];o[h]=hk(t[h],e[h]),o[h]===t[h]&&l++}return r===s&&l===r?t:o}return e}function Ow(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Bb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Dw(t){if(!Ub(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!Ub(n)||!n.hasOwnProperty("isPrototypeOf"))}function Ub(t){return Object.prototype.toString.call(t)==="[object Object]"}function ay(t){return Array.isArray(t)}function fk(t){return new Promise(e=>{setTimeout(e,t)})}function zb(t){fk(0).then(t)}function pq(){if(typeof AbortController=="function")return new AbortController}function kw(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?hk(t,e):e}class mq extends Sc{constructor(){super(),this.setup=e=>{if(!Cf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const og=new mq,qb=["online","offline"];class gq extends Sc{constructor(){super(),this.setup=e=>{if(!Cf&&window.addEventListener){const n=()=>e();return qb.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{qb.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const ag=new gq;function yq(t){return Math.min(1e3*2**t,3e4)}function ly(t){return(t??"online")==="online"?ag.isOnline():!0}class dk{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function Tm(t){return t instanceof dk}function pk(t){let e=!1,n=0,r=!1,i,s,o;const l=new Promise((R,T)=>{s=R,o=T}),c=R=>{r||(y(new dk(R)),t.abort==null||t.abort())},h=()=>{e=!0},f=()=>{e=!1},p=()=>!og.isFocused()||t.networkMode!=="always"&&!ag.isOnline(),m=R=>{r||(r=!0,t.onSuccess==null||t.onSuccess(R),i==null||i(),s(R))},y=R=>{r||(r=!0,t.onError==null||t.onError(R),i==null||i(),o(R))},v=()=>new Promise(R=>{i=T=>{const S=r||!p();return S&&R(T),S},t.onPause==null||t.onPause()}).then(()=>{i=void 0,r||t.onContinue==null||t.onContinue()}),w=()=>{if(r)return;let R;try{R=t.fn()}catch(T){R=Promise.reject(T)}Promise.resolve(R).then(m).catch(T=>{var S,I;if(r)return;const E=(S=t.retry)!=null?S:3,P=(I=t.retryDelay)!=null?I:yq,O=typeof P=="function"?P(n,T):P,D=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,T);if(e||!D){y(T);return}n++,t.onFail==null||t.onFail(n,T),fk(O).then(()=>{if(p())return v()}).then(()=>{e?y(T):w()})})};return ly(t.networkMode)?w():v().then(w),{promise:l,cancel:c,continue:()=>(i==null?void 0:i())?l:Promise.resolve(),cancelRetry:h,continueRetry:f}}const j1=console;function vq(){let t=[],e=0,n=f=>{f()},r=f=>{f()};const i=f=>{let p;e++;try{p=f()}finally{e--,e||l()}return p},s=f=>{e?t.push(f):zb(()=>{n(f)})},o=f=>(...p)=>{s(()=>{f(...p)})},l=()=>{const f=t;t=[],f.length&&zb(()=>{r(()=>{f.forEach(p=>{n(p)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{r=f}}}const un=vq();class mk{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pw(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(Cf?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}let _q=class extends mk{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||j1,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||wq(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const r=kw(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(e),r?r.then(vi).catch(vi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!uk(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const y=this.observers.find(v=>v.options.queryFn);y&&this.setOptions(y.options)}const o=pq(),l={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};c(l);const h=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(l)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),f={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:h};if(c(f),(r=this.options.behavior)==null||r.onFetch(f),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=f.fetchOptions)==null?void 0:i.meta)){var p;this.dispatch({type:"fetch",meta:(p=f.fetchOptions)==null?void 0:p.meta})}const m=y=>{if(Tm(y)&&y.silent||this.dispatch({type:"error",error:y}),!Tm(y)){var v,w,R,T;(v=(w=this.cache.config).onError)==null||v.call(w,y,this),(R=(T=this.cache.config).onSettled)==null||R.call(T,this.state.data,y,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=pk({fn:f.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:y=>{var v,w,R,T;if(typeof y>"u"){m(new Error(this.queryHash+" data is undefined"));return}this.setData(y),(v=(w=this.cache.config).onSuccess)==null||v.call(w,y,this),(R=(T=this.cache.config).onSettled)==null||R.call(T,y,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:m,onFail:(y,v)=>{this.dispatch({type:"failed",failureCount:y,error:v})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=r=>{var i,s;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:ly(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return Tm(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),un.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}};function wq(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class Eq extends Sc{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,r){var i;const s=n.queryKey,o=(i=n.queryHash)!=null?i:$1(s,n);let l=this.get(o);return l||(l=new _q({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(l)),l}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){un.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[r]=ko(e,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>$b(r,i))}findAll(e,n){const[r]=ko(e,n);return Object.keys(r).length>0?this.queries.filter(i=>$b(r,i)):this.queries}notify(e){un.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){un.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){un.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}let Tq=class extends mk{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||j1,this.observers=[],this.state=e.state||Iq(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var D;return this.retryer=pk({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(N,W)=>{this.dispatch({type:"failed",failureCount:N,error:W})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(D=this.options.retry)!=null?D:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,s,o,l,c,h,f;if(!n){var p,m,y,v;this.dispatch({type:"loading",variables:this.options.variables}),await((p=(m=this.mutationCache.config).onMutate)==null?void 0:p.call(m,this.state.variables,this));const N=await((y=(v=this.options).onMutate)==null?void 0:y.call(v,this.state.variables));N!==this.state.context&&this.dispatch({type:"loading",context:N,variables:this.state.variables})}const D=await e();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,D,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,D,this.state.variables,this.state.context)),await((l=(c=this.mutationCache.config).onSettled)==null?void 0:l.call(c,D,null,this.state.variables,this.state.context,this)),await((h=(f=this.options).onSettled)==null?void 0:h.call(f,D,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:D}),D}catch(D){try{var w,R,T,S,I,E,P,O;throw await((w=(R=this.mutationCache.config).onError)==null?void 0:w.call(R,D,this.state.variables,this.state.context,this)),await((T=(S=this.options).onError)==null?void 0:T.call(S,D,this.state.variables,this.state.context)),await((I=(E=this.mutationCache.config).onSettled)==null?void 0:I.call(E,void 0,D,this.state.variables,this.state.context,this)),await((P=(O=this.options).onSettled)==null?void 0:P.call(O,void 0,D,this.state.variables,this.state.context)),D}finally{this.dispatch({type:"error",error:D})}}}dispatch(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!ly(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=n(this.state),un.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}};function Iq(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class Sq extends Sc{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,r){const i=new Tq({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){un.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>jb(e,n))}findAll(e){return this.mutations.filter(n=>jb(e,n))}notify(e){un.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return un.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(vi)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function xq(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,r,i,s,o;const l=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,c=(r=t.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,h=c==null?void 0:c.pageParam,f=(c==null?void 0:c.direction)==="forward",p=(c==null?void 0:c.direction)==="backward",m=((s=t.state.data)==null?void 0:s.pages)||[],y=((o=t.state.data)==null?void 0:o.pageParams)||[];let v=y,w=!1;const R=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>{var D;if((D=t.signal)!=null&&D.aborted)w=!0;else{var N;(N=t.signal)==null||N.addEventListener("abort",()=>{w=!0})}return t.signal}})},T=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),S=(O,D,N,W)=>(v=W?[D,...v]:[...v,D],W?[N,...O]:[...O,N]),I=(O,D,N,W)=>{if(w)return Promise.reject("Cancelled");if(typeof N>"u"&&!D&&O.length)return Promise.resolve(O);const Y={queryKey:t.queryKey,pageParam:N,meta:t.options.meta};R(Y);const ie=T(Y);return Promise.resolve(ie).then(_e=>S(O,N,_e,W))};let E;if(!m.length)E=I([]);else if(f){const O=typeof h<"u",D=O?h:Wb(t.options,m);E=I(m,O,D)}else if(p){const O=typeof h<"u",D=O?h:Rq(t.options,m);E=I(m,O,D,!0)}else{v=[];const O=typeof t.options.getNextPageParam>"u";E=(l&&m[0]?l(m[0],0,m):!0)?I([],O,y[0]):Promise.resolve(S([],y[0],m[0]));for(let N=1;N<m.length;N++)E=E.then(W=>{if(l&&m[N]?l(m[N],N,m):!0){const ie=O?y[N]:Wb(t.options,W);return I(W,O,ie)}return Promise.resolve(S(W,y[N],m[N]))})}return E.then(O=>({pages:O,pageParams:v}))}}}}function Wb(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function Rq(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class bq{constructor(e={}){this.queryCache=e.queryCache||new Eq,this.mutationCache=e.mutationCache||new Sq,this.logger=e.logger||j1,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=og.subscribe(()=>{og.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=ag.subscribe(()=>{ag.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[r]=ko(e,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state.data}ensureQueryData(e,n,r){const i=Lh(e,n,r),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.queryCache.find(e),s=i==null?void 0:i.state.data,o=fq(n,s);if(typeof o>"u")return;const l=Lh(e),c=this.defaultQueryOptions(l);return this.queryCache.build(this,c).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return un.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state}removeQueries(e,n){const[r]=ko(e,n),i=this.queryCache;un.batch(()=>{i.findAll(r).forEach(s=>{i.remove(s)})})}resetQueries(e,n,r){const[i,s]=ko(e,n,r),o=this.queryCache,l={type:"active",...i};return un.batch(()=>(o.findAll(i).forEach(c=>{c.reset()}),this.refetchQueries(l,s)))}cancelQueries(e,n,r){const[i,s={}]=ko(e,n,r);typeof s.revert>"u"&&(s.revert=!0);const o=un.batch(()=>this.queryCache.findAll(i).map(l=>l.cancel(s)));return Promise.all(o).then(vi).catch(vi)}invalidateQueries(e,n,r){const[i,s]=ko(e,n,r);return un.batch(()=>{var o,l;if(this.queryCache.findAll(i).forEach(h=>{h.invalidate()}),i.refetchType==="none")return Promise.resolve();const c={...i,type:(o=(l=i.refetchType)!=null?l:i.type)!=null?o:"active"};return this.refetchQueries(c,s)})}refetchQueries(e,n,r){const[i,s]=ko(e,n,r),o=un.batch(()=>this.queryCache.findAll(i).filter(c=>!c.isDisabled()).map(c=>{var h;return c.fetch(void 0,{...s,cancelRefetch:(h=s==null?void 0:s.cancelRefetch)!=null?h:!0,meta:{refetchPage:i.refetchPage}})}));let l=Promise.all(o).then(vi);return s!=null&&s.throwOnError||(l=l.catch(vi)),l}fetchQuery(e,n,r){const i=Lh(e,n,r),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,n,r){return this.fetchQuery(e,n,r).then(vi).catch(vi)}fetchInfiniteQuery(e,n,r){const i=Lh(e,n,r);return i.behavior=xq(),this.fetchQuery(i)}prefetchInfiniteQuery(e,n,r){return this.fetchInfiniteQuery(e,n,r).then(vi).catch(vi)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const r=this.queryDefaults.find(i=>Ja(e)===Ja(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(r=>sg(e,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(e,n){const r=this.mutationDefaults.find(i=>Ja(e)===Ja(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(r=>sg(e,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=$1(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class gk extends Sc{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Kb(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Nw(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Nw(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Ow(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const s=this.hasListeners();s&&Hb(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e),r=this.createResult(n,e);return Cq(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(vi)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),Cf||this.currentResult.isStale||!Pw(this.options.staleTime))return;const n=uk(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Cf||this.options.enabled===!1||!Pw(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||og.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const r=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,l=this.currentResultOptions,c=e!==r,h=c?e.state:this.currentQueryInitialState,f=c?this.currentResult:this.previousQueryResult,{state:p}=e;let{dataUpdatedAt:m,error:y,errorUpdatedAt:v,fetchStatus:w,status:R}=p,T=!1,S=!1,I;if(n._optimisticResults){const N=this.hasListeners(),W=!N&&Kb(e,n),Y=N&&Hb(e,r,n,i);(W||Y)&&(w=ly(e.options.networkMode)?"fetching":"paused",m||(R="loading")),n._optimisticResults==="isRestoring"&&(w="idle")}if(n.keepPreviousData&&!p.dataUpdatedAt&&f!=null&&f.isSuccess&&R!=="error")I=f.data,m=f.dataUpdatedAt,R=f.status,T=!0;else if(n.select&&typeof p.data<"u")if(s&&p.data===(o==null?void 0:o.data)&&n.select===this.selectFn)I=this.selectResult;else try{this.selectFn=n.select,I=n.select(p.data),I=kw(s==null?void 0:s.data,I,n),this.selectResult=I,this.selectError=null}catch(N){this.selectError=N}else I=p.data;if(typeof n.placeholderData<"u"&&typeof I>"u"&&R==="loading"){let N;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))N=s.data;else if(N=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof N<"u")try{N=n.select(N),this.selectError=null}catch(W){this.selectError=W}typeof N<"u"&&(R="success",I=kw(s==null?void 0:s.data,N,n),S=!0)}this.selectError&&(y=this.selectError,I=this.selectResult,v=Date.now(),R="error");const E=w==="fetching",P=R==="loading",O=R==="error";return{status:R,fetchStatus:w,isLoading:P,isSuccess:R==="success",isError:O,isInitialLoading:P&&E,data:I,dataUpdatedAt:m,error:y,errorUpdatedAt:v,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:E,isRefetching:E&&!P,isLoadingError:O&&p.dataUpdatedAt===0,isPaused:w==="paused",isPlaceholderData:S,isPreviousData:T,isRefetchError:O&&p.dataUpdatedAt!==0,isStale:B1(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Ow(r,n))return;this.currentResult=r;const i={cache:!0},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!this.trackedProps.size)return!0;const c=new Set(l??this.trackedProps);return this.options.useErrorBoundary&&c.add("error"),Object.keys(this.currentResult).some(h=>{const f=h;return this.currentResult[f]!==n[f]&&c.has(f)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!Tm(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){un.batch(()=>{if(e.onSuccess){var n,r,i,s;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(s=this.options).onSettled)==null||i.call(s,this.currentResult.data,null)}else if(e.onError){var o,l,c,h;(o=(l=this.options).onError)==null||o.call(l,this.currentResult.error),(c=(h=this.options).onSettled)==null||c.call(h,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:f})=>{f(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Aq(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Kb(t,e){return Aq(t,e)||t.state.dataUpdatedAt>0&&Nw(t,e,e.refetchOnMount)}function Nw(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&B1(t,e)}return!1}function Hb(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&B1(t,n)}function B1(t,e){return t.isStaleByTime(e.staleTime)}function Cq(t,e,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?e.isPlaceholderData:!Ow(t.getCurrentResult(),e)}class Pq extends Sc{constructor(e,n){super(),this.client=e,this.queries=[],this.result=[],this.observers=[],this.observersMap={},n&&this.setQueries(n)}onSubscribe(){this.listeners.size===1&&this.observers.forEach(e=>{e.subscribe(n=>{this.onUpdate(e,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach(e=>{e.destroy()})}setQueries(e,n){this.queries=e,un.batch(()=>{const r=this.observers,i=this.findMatchingObservers(this.queries);i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions,n));const s=i.map(h=>h.observer),o=Object.fromEntries(s.map(h=>[h.options.queryHash,h])),l=s.map(h=>h.getCurrentResult()),c=s.some((h,f)=>h!==r[f]);r.length===s.length&&!c||(this.observers=s,this.observersMap=o,this.result=l,this.hasListeners()&&(Vb(r,s).forEach(h=>{h.destroy()}),Vb(s,r).forEach(h=>{h.subscribe(f=>{this.onUpdate(h,f)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(e=>e.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(e){return this.findMatchingObservers(e).map(n=>n.observer.getOptimisticResult(n.defaultedQueryOptions))}findMatchingObservers(e){const n=this.observers,r=new Map(n.map(y=>[y.options.queryHash,y])),i=e.map(y=>this.client.defaultQueryOptions(y)),s=i.flatMap(y=>{const v=r.get(y.queryHash);return v!=null?[{defaultedQueryOptions:y,observer:v}]:[]}),o=new Set(s.map(y=>y.defaultedQueryOptions.queryHash)),l=i.filter(y=>!o.has(y.queryHash)),c=new Set(s.map(y=>y.observer)),h=n.filter(y=>!c.has(y)),f=y=>{const v=this.client.defaultQueryOptions(y),w=this.observersMap[v.queryHash];return w??new gk(this.client,v)},p=l.map((y,v)=>{if(y.keepPreviousData){const w=h[v];if(w!==void 0)return{defaultedQueryOptions:y,observer:w}}return{defaultedQueryOptions:y,observer:f(y)}}),m=(y,v)=>i.indexOf(y.defaultedQueryOptions)-i.indexOf(v.defaultedQueryOptions);return s.concat(p).sort(m)}onUpdate(e,n){const r=this.observers.indexOf(e);r!==-1&&(this.result=dq(this.result,r,n),this.notify())}notify(){un.batch(()=>{this.listeners.forEach(({listener:e})=>{e(this.result)})})}}var yk={exports:{}},vk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc=x;function Oq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dq=typeof Object.is=="function"?Object.is:Oq,kq=nc.useState,Nq=nc.useEffect,Lq=nc.useLayoutEffect,Mq=nc.useDebugValue;function Fq(t,e){var n=e(),r=kq({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Lq(function(){i.value=n,i.getSnapshot=e,Y_(i)&&s({inst:i})},[t,n,e]),Nq(function(){return Y_(i)&&s({inst:i}),t(function(){Y_(i)&&s({inst:i})})},[t]),Mq(n),n}function Y_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dq(t,n)}catch{return!0}}function Vq(t,e){return e()}var $q=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Vq:Fq;vk.useSyncExternalStore=nc.useSyncExternalStore!==void 0?nc.useSyncExternalStore:$q;yk.exports=vk;var jq=yk.exports;const _k=jq.useSyncExternalStore,Gb=x.createContext(void 0),wk=x.createContext(!1);function Ek(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Gb),window.ReactQueryClientContext):Gb)}const Tk=({context:t}={})=>{const e=x.useContext(Ek(t,x.useContext(wk)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Bq=({client:t,children:e,context:n,contextSharing:r=!1})=>{x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const i=Ek(n,r);return x.createElement(wk.Provider,{value:!n&&r},x.createElement(i.Provider,{value:t},e))},Ik=x.createContext(!1),Sk=()=>x.useContext(Ik);Ik.Provider;function Uq(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const zq=x.createContext(Uq()),xk=()=>x.useContext(zq);function qq(t,e){return typeof t=="function"?t(...e):!!t}const Rk=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},bk=t=>{x.useEffect(()=>{t.clearReset()},[t])},Ak=({result:t,errorResetBoundary:e,useErrorBoundary:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&qq(n,[t.error,r]),Ck=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},Pk=(t,e)=>t.isLoading&&t.isFetching&&!e,Lw=(t,e,n)=>(t==null?void 0:t.suspense)&&Pk(e,n),Mw=(t,e,n)=>e.fetchOptimistic(t).then(({data:r})=>{t.onSuccess==null||t.onSuccess(r),t.onSettled==null||t.onSettled(r,null)}).catch(r=>{n.clearReset(),t.onError==null||t.onError(r),t.onSettled==null||t.onSettled(void 0,r)});function Wq({queries:t,context:e}){const n=Tk({context:e}),r=Sk(),i=xk(),s=x.useMemo(()=>t.map(m=>{const y=n.defaultQueryOptions(m);return y._optimisticResults=r?"isRestoring":"optimistic",y}),[t,n,r]);s.forEach(m=>{Ck(m),Rk(m,i)}),bk(i);const[o]=x.useState(()=>new Pq(n,s)),l=o.getOptimisticResult(s);_k(x.useCallback(m=>r?()=>{}:o.subscribe(un.batchCalls(m)),[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),x.useEffect(()=>{o.setQueries(s,{listeners:!1})},[s,o]);const h=l.some((m,y)=>Lw(s[y],m,r))?l.flatMap((m,y)=>{const v=s[y],w=o.getObservers()[y];if(v&&w){if(Lw(v,m,r))return Mw(v,w,i);Pk(m,r)&&Mw(v,w,i)}return[]}):[];if(h.length>0)throw Promise.all(h);const f=o.getQueries(),p=l.find((m,y)=>{var v,w;return Ak({result:m,errorResetBoundary:i,useErrorBoundary:(v=(w=s[y])==null?void 0:w.useErrorBoundary)!=null?v:!1,query:f[y]})});if(p!=null&&p.error)throw p.error;return l}function Kq(t,e){const n=Tk({context:t.context}),r=Sk(),i=xk(),s=n.defaultQueryOptions(t);s._optimisticResults=r?"isRestoring":"optimistic",s.onError&&(s.onError=un.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=un.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=un.batchCalls(s.onSettled)),Ck(s),Rk(s,i),bk(i);const[o]=x.useState(()=>new e(n,s)),l=o.getOptimisticResult(s);if(_k(x.useCallback(c=>{const h=r?()=>{}:o.subscribe(un.batchCalls(c));return o.updateResult(),h},[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),x.useEffect(()=>{o.setOptions(s,{listeners:!1})},[s,o]),Lw(s,l,r))throw Mw(s,o,i);if(Ak({result:l,errorResetBoundary:i,useErrorBoundary:s.useErrorBoundary,query:o.getCurrentQuery()}))throw l.error;return s.notifyOnChangeProps?l:o.trackResult(l)}function Ok(t,e,n){const r=Lh(t,e,n);return Kq(r,gk)}const Hq=function(){return null};/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yn(){return yn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yn.apply(this,arguments)}var xn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xn||(xn={}));const Qb="popstate";function Gq(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Pf("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:gl(i)}return Yq(e,n,null,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ml(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Qq(){return Math.random().toString(36).substr(2,8)}function Yb(t,e){return{usr:t.state,key:t.key,idx:e}}function Pf(t,e,n,r){return n===void 0&&(n=null),yn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?lo(e):e,{state:n,key:e&&e.key||r||Qq()})}function gl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function lo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Yq(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=xn.Pop,c=null,h=f();h==null&&(h=0,o.replaceState(yn({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=xn.Pop;let R=f(),T=R==null?null:R-h;h=R,c&&c({action:l,location:w.location,delta:T})}function m(R,T){l=xn.Push;let S=Pf(w.location,R,T);n&&n(S,R),h=f()+1;let I=Yb(S,h),E=w.createHref(S);try{o.pushState(I,"",E)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(E)}s&&c&&c({action:l,location:w.location,delta:1})}function y(R,T){l=xn.Replace;let S=Pf(w.location,R,T);n&&n(S,R),h=f();let I=Yb(S,h),E=w.createHref(S);o.replaceState(I,"",E),s&&c&&c({action:l,location:w.location,delta:0})}function v(R){let T=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof R=="string"?R:gl(R);return ut(T,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,T)}let w={get action(){return l},get location(){return t(i,o)},listen(R){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Qb,p),c=R,()=>{i.removeEventListener(Qb,p),c=null}},createHref(R){return e(i,R)},createURL:v,encodeLocation(R){let T=v(R);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:y,go(R){return o.go(R)}};return w}var Rn;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Rn||(Rn={}));const Xq=new Set(["lazy","caseSensitive","path","id","index","children"]);function Jq(t){return t.index===!0}function Fw(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],l=typeof i.id=="string"?i.id:o.join("-");if(ut(i.index!==!0||!i.children,"Cannot specify children on an index route"),ut(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),Jq(i)){let c=yn({},i,e(i),{id:l});return r[l]=c,c}else{let c=yn({},i,e(i),{id:l,children:void 0});return r[l]=c,i.children&&(c.children=Fw(i.children,e,o,r)),c}})}function ku(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?lo(e):e,i=xc(r.pathname||"/",n);if(i==null)return null;let s=Dk(t);e7(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=u7(s[l],f7(i));return o}function Zq(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Dk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(ut(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=Ks([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(ut(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Dk(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:a7(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of kk(s.path))i(s,o,c)}),e}function kk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=kk(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function e7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:l7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const t7=/^:\w+$/,n7=3,r7=2,i7=1,s7=10,o7=-2,Xb=t=>t==="*";function a7(t,e){let n=t.split("/"),r=n.length;return n.some(Xb)&&(r+=o7),e&&(r+=r7),n.filter(i=>!Xb(i)).reduce((i,s)=>i+(t7.test(s)?n7:s===""?i7:s7),r)}function l7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function u7(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=c7({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h);if(!f)return null;Object.assign(r,f.params);let p=l.route;s.push({params:r,pathname:Ks([i,f.pathname]),pathnameBase:g7(Ks([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Ks([i,f.pathnameBase]))}return s}function c7(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=h7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,f,p)=>{let{paramName:m,isOptional:y}=f;if(m==="*"){let w=l[p]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[p];return y&&!v?h[m]=void 0:h[m]=d7(v||"",m),h},{}),pathname:s,pathnameBase:o,pattern:t}}function h7(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ml(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function f7(t){try{return decodeURI(t)}catch(e){return ml(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function d7(t,e){try{return decodeURIComponent(t)}catch(n){return ml(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function xc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function p7(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?lo(t):t;return{pathname:n?n.startsWith("/")?n:m7(n,e):e,search:y7(r),hash:v7(i)}}function m7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function X_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uy(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function U1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=lo(t):(i=yn({},t),ut(!i.pathname||!i.pathname.includes("?"),X_("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),X_("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),X_("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(r||o==null)l=n;else{let p=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let c=p7(i,l),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}const Ks=t=>t.join("/").replace(/\/\/+/g,"/"),g7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),y7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,v7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class z1{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Nk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Lk=["post","put","patch","delete"],_7=new Set(Lk),w7=["get",...Lk],E7=new Set(w7),T7=new Set([301,302,303,307,308]),I7=new Set([307,308]),J_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},S7={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Mk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x7=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Fk="remix-router-transitions";function R7(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ut(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let M=t.detectErrorBoundary;i=j=>({hasErrorBoundary:M(j)})}else i=x7;let s={},o=Fw(t.routes,i,void 0,s),l,c=t.basename||"/",h=yn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),f=null,p=new Set,m=null,y=null,v=null,w=t.hydrationData!=null,R=ku(o,t.history.location,c),T=null;if(R==null){let M=_i(404,{pathname:t.history.location.pathname}),{matches:j,route:K}=sA(o);R=j,T={[K.id]:M}}let S=!R.some(M=>M.route.lazy)&&(!R.some(M=>M.route.loader)||t.hydrationData!=null),I,E={historyAction:t.history.action,location:t.history.location,matches:R,initialized:S,navigation:J_,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||T,fetchers:new Map,blockers:new Map},P=xn.Pop,O=!1,D,N=!1,W=new Map,Y=null,ie=!1,fe=!1,_e=[],Fe=[],Ce=new Map,Ve=0,Me=-1,H=new Map,ce=new Set,ae=new Map,we=new Map,Ae=new Set,$e=new Map,je=new Map,ke=!1;function et(){if(f=t.history.listen(M=>{let{action:j,location:K,delta:he}=M;if(ke){ke=!1;return}ml(je.size===0||he!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let me=Ke({currentLocation:E.location,nextLocation:K,historyAction:j});if(me&&he!=null){ke=!0,t.history.go(he*-1),pe(me,{state:"blocked",location:K,proceed(){pe(me,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),t.history.go(he)},reset(){let Ie=new Map(E.blockers);Ie.set(me,mh),Qe({blockers:Ie})}});return}return wt(j,K)}),n){F7(e,W);let M=()=>V7(e,W);e.addEventListener("pagehide",M),Y=()=>e.removeEventListener("pagehide",M)}return E.initialized||wt(xn.Pop,E.location),I}function Jt(){f&&f(),Y&&Y(),p.clear(),D&&D.abort(),E.fetchers.forEach((M,j)=>Nn(j)),E.blockers.forEach((M,j)=>oe(j))}function _t(M){return p.add(M),()=>p.delete(M)}function Qe(M,j){E=yn({},E,M);let K=[],he=[];h.v7_fetcherPersist&&E.fetchers.forEach((me,Ie)=>{me.state==="idle"&&(Ae.has(Ie)?he.push(Ie):K.push(Ie))}),p.forEach(me=>me(E,{deletedFetchers:he,unstable_viewTransitionOpts:j})),h.v7_fetcherPersist&&(K.forEach(me=>E.fetchers.delete(me)),he.forEach(me=>Nn(me)))}function Vt(M,j){var K,he;let me=E.actionData!=null&&E.navigation.formMethod!=null&&Bi(E.navigation.formMethod)&&E.navigation.state==="loading"&&((K=M.state)==null?void 0:K._isRedirect)!==!0,Ie;j.actionData?Object.keys(j.actionData).length>0?Ie=j.actionData:Ie=null:me?Ie=E.actionData:Ie=null;let Ue=j.loaderData?iA(E.loaderData,j.loaderData,j.matches||[],j.errors):E.loaderData,Pe=E.blockers;Pe.size>0&&(Pe=new Map(Pe),Pe.forEach((Lt,at)=>Pe.set(at,mh)));let Oe=O===!0||E.navigation.formMethod!=null&&Bi(E.navigation.formMethod)&&((he=M.state)==null?void 0:he._isRedirect)!==!0;l&&(o=l,l=void 0),ie||P===xn.Pop||(P===xn.Push?t.history.push(M,M.state):P===xn.Replace&&t.history.replace(M,M.state));let It;if(P===xn.Pop){let Lt=W.get(E.location.pathname);Lt&&Lt.has(M.pathname)?It={currentLocation:E.location,nextLocation:M}:W.has(M.pathname)&&(It={currentLocation:M,nextLocation:E.location})}else if(N){let Lt=W.get(E.location.pathname);Lt?Lt.add(M.pathname):(Lt=new Set([M.pathname]),W.set(E.location.pathname,Lt)),It={currentLocation:E.location,nextLocation:M}}Qe(yn({},j,{actionData:Ie,loaderData:Ue,historyAction:P,location:M,initialized:!0,navigation:J_,revalidation:"idle",restoreScrollPosition:Te(M,j.matches||E.matches),preventScrollReset:Oe,blockers:Pe}),It),P=xn.Pop,O=!1,N=!1,ie=!1,fe=!1,_e=[],Fe=[]}async function ct(M,j){if(typeof M=="number"){t.history.go(M);return}let K=Vw(E.location,E.matches,c,h.v7_prependBasename,M,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:he,submission:me,error:Ie}=Jb(h.v7_normalizeFormMethod,!1,K,j),Ue=E.location,Pe=Pf(E.location,he,j&&j.state);Pe=yn({},Pe,t.history.encodeLocation(Pe));let Oe=j&&j.replace!=null?j.replace:void 0,It=xn.Push;Oe===!0?It=xn.Replace:Oe===!1||me!=null&&Bi(me.formMethod)&&me.formAction===E.location.pathname+E.location.search&&(It=xn.Replace);let Lt=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,at=Ke({currentLocation:Ue,nextLocation:Pe,historyAction:It});if(at){pe(at,{state:"blocked",location:Pe,proceed(){pe(at,{state:"proceeding",proceed:void 0,reset:void 0,location:Pe}),ct(M,j)},reset(){let At=new Map(E.blockers);At.set(at,mh),Qe({blockers:At})}});return}return await wt(It,Pe,{submission:me,pendingError:Ie,preventScrollReset:Lt,replace:j&&j.replace,enableViewTransition:j&&j.unstable_viewTransition})}function xt(){if(kn(),Qe({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){wt(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}wt(P||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation})}}async function wt(M,j,K){D&&D.abort(),D=null,P=M,ie=(K&&K.startUninterruptedRevalidation)===!0,Ee(E.location,E.matches),O=(K&&K.preventScrollReset)===!0,N=(K&&K.enableViewTransition)===!0;let he=l||o,me=K&&K.overrideNavigation,Ie=ku(he,j,c);if(!Ie){let At=_i(404,{pathname:j.pathname}),{matches:sn,route:Ss}=sA(he);U(),Vt(j,{matches:sn,loaderData:{},errors:{[Ss.id]:At}});return}if(E.initialized&&!fe&&O7(E.location,j)&&!(K&&K.submission&&Bi(K.submission.formMethod))){Vt(j,{matches:Ie});return}D=new AbortController;let Ue=yh(t.history,j,D.signal,K&&K.submission),Pe,Oe;if(K&&K.pendingError)Oe={[Jh(Ie).route.id]:K.pendingError};else if(K&&K.submission&&Bi(K.submission.formMethod)){let At=await kt(Ue,j,K.submission,Ie,{replace:K.replace});if(At.shortCircuited)return;Pe=At.pendingActionData,Oe=At.pendingActionError,me=Z_(j,K.submission),Ue=new Request(Ue.url,{signal:Ue.signal})}let{shortCircuited:It,loaderData:Lt,errors:at}=await tt(Ue,j,Ie,me,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,Pe,Oe);It||(D=null,Vt(j,yn({matches:Ie},Pe?{actionData:Pe}:{},{loaderData:Lt,errors:at})))}async function kt(M,j,K,he,me){me===void 0&&(me={}),kn();let Ie=L7(j,K);Qe({navigation:Ie});let Ue,Pe=jw(he,j);if(!Pe.route.action&&!Pe.route.lazy)Ue={type:Rn.error,error:_i(405,{method:M.method,pathname:j.pathname,routeId:Pe.route.id})};else if(Ue=await gh("action",M,Pe,he,s,i,c),M.signal.aborted)return{shortCircuited:!0};if(Bu(Ue)){let Oe;return me&&me.replace!=null?Oe=me.replace:Oe=Ue.location===E.location.pathname+E.location.search,await Nt(E,Ue,{submission:K,replace:Oe}),{shortCircuited:!0}}if(Zh(Ue)){let Oe=Jh(he,Pe.route.id);return(me&&me.replace)!==!0&&(P=xn.Push),{pendingActionData:{},pendingActionError:{[Oe.route.id]:Ue.error}}}if(Za(Ue))throw _i(400,{type:"defer-action"});return{pendingActionData:{[Pe.route.id]:Ue.data}}}async function tt(M,j,K,he,me,Ie,Ue,Pe,Oe){let It=he||Z_(j,me),Lt=me||Ie||lA(It),at=l||o,[At,sn]=Zb(t.history,E,K,Lt,j,fe,_e,Fe,ae,ce,at,c,Pe,Oe);if(U(Rt=>!(K&&K.some(Hr=>Hr.route.id===Rt))||At&&At.some(Hr=>Hr.route.id===Rt)),Me=++Ve,At.length===0&&sn.length===0){let Rt=$();return Vt(j,yn({matches:K,loaderData:{},errors:Oe||null},Pe?{actionData:Pe}:{},Rt?{fetchers:new Map(E.fetchers)}:{})),{shortCircuited:!0}}if(!ie){sn.forEach(Hr=>{let Ji=E.fetchers.get(Hr.key),on=vh(void 0,Ji?Ji.data:void 0);E.fetchers.set(Hr.key,on)});let Rt=Pe||E.actionData;Qe(yn({navigation:It},Rt?Object.keys(Rt).length===0?{actionData:null}:{actionData:Rt}:{},sn.length>0?{fetchers:new Map(E.fetchers)}:{}))}sn.forEach(Rt=>{Ce.has(Rt.key)&&Zt(Rt.key),Rt.controller&&Ce.set(Rt.key,Rt.controller)});let Ss=()=>sn.forEach(Rt=>Zt(Rt.key));D&&D.signal.addEventListener("abort",Ss);let{results:xs,loaderResults:ba,fetcherResults:Uc}=await qt(E.matches,K,At,sn,M);if(M.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Ss),sn.forEach(Rt=>Ce.delete(Rt.key));let ki=oA(xs);if(ki){if(ki.idx>=At.length){let Rt=sn[ki.idx-At.length].key;ce.add(Rt)}return await Nt(E,ki.result,{replace:Ue}),{shortCircuited:!0}}let{loaderData:Xi,errors:Ul}=rA(E,K,At,ba,Oe,sn,Uc,$e);$e.forEach((Rt,Hr)=>{Rt.subscribe(Ji=>{(Ji||Rt.done)&&$e.delete(Hr)})});let zc=$(),zl=se(Me),qc=zc||zl||sn.length>0;return yn({loaderData:Xi,errors:Ul},qc?{fetchers:new Map(E.fetchers)}:{})}function sr(M){return h.v7_fetcherPersist&&(we.set(M,(we.get(M)||0)+1),Ae.has(M)&&Ae.delete(M)),E.fetchers.get(M)||S7}function zt(M,j,K,he){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ce.has(M)&&Zt(M);let me=l||o,Ie=Vw(E.location,E.matches,c,h.v7_prependBasename,K,j,he==null?void 0:he.relative),Ue=ku(me,Ie,c);if(!Ue){pn(M,j,_i(404,{pathname:Ie}));return}let{path:Pe,submission:Oe,error:It}=Jb(h.v7_normalizeFormMethod,!0,Ie,he);if(It){pn(M,j,It);return}let Lt=jw(Ue,Pe);if(O=(he&&he.preventScrollReset)===!0,Oe&&Bi(Oe.formMethod)){Kr(M,j,Pe,Lt,Ue,Oe);return}ae.set(M,{routeId:j,path:Pe}),Di(M,j,Pe,Lt,Ue,Oe)}async function Kr(M,j,K,he,me,Ie){if(kn(),ae.delete(M),!he.route.action&&!he.route.lazy){let on=_i(405,{method:Ie.formMethod,pathname:K,routeId:j});pn(M,j,on);return}let Ue=E.fetchers.get(M),Pe=M7(Ie,Ue);E.fetchers.set(M,Pe),Qe({fetchers:new Map(E.fetchers)});let Oe=new AbortController,It=yh(t.history,K,Oe.signal,Ie);Ce.set(M,Oe);let Lt=Ve,at=await gh("action",It,he,me,s,i,c);if(It.signal.aborted){Ce.get(M)===Oe&&Ce.delete(M);return}if(Ae.has(M)){E.fetchers.set(M,Po(void 0)),Qe({fetchers:new Map(E.fetchers)});return}if(Bu(at))if(Ce.delete(M),Me>Lt){let on=Po(void 0);E.fetchers.set(M,on),Qe({fetchers:new Map(E.fetchers)});return}else{ce.add(M);let on=vh(Ie);return E.fetchers.set(M,on),Qe({fetchers:new Map(E.fetchers)}),Nt(E,at,{fetcherSubmission:Ie})}if(Zh(at)){pn(M,j,at.error);return}if(Za(at))throw _i(400,{type:"defer-action"});let At=E.navigation.location||E.location,sn=yh(t.history,At,Oe.signal),Ss=l||o,xs=E.navigation.state!=="idle"?ku(Ss,E.navigation.location,c):E.matches;ut(xs,"Didn't find any matches after fetcher action");let ba=++Ve;H.set(M,ba);let Uc=vh(Ie,at.data);E.fetchers.set(M,Uc);let[ki,Xi]=Zb(t.history,E,xs,Ie,At,fe,_e,Fe,ae,ce,Ss,c,{[he.route.id]:at.data},void 0);Xi.filter(on=>on.key!==M).forEach(on=>{let Aa=on.key,Ca=E.fetchers.get(Aa),dv=vh(void 0,Ca?Ca.data:void 0);E.fetchers.set(Aa,dv),Ce.has(Aa)&&Zt(Aa),on.controller&&Ce.set(Aa,on.controller)}),Qe({fetchers:new Map(E.fetchers)});let Ul=()=>Xi.forEach(on=>Zt(on.key));Oe.signal.addEventListener("abort",Ul);let{results:zc,loaderResults:zl,fetcherResults:qc}=await qt(E.matches,xs,ki,Xi,sn);if(Oe.signal.aborted)return;Oe.signal.removeEventListener("abort",Ul),H.delete(M),Ce.delete(M),Xi.forEach(on=>Ce.delete(on.key));let Rt=oA(zc);if(Rt){if(Rt.idx>=ki.length){let on=Xi[Rt.idx-ki.length].key;ce.add(on)}return Nt(E,Rt.result)}let{loaderData:Hr,errors:Ji}=rA(E,E.matches,ki,zl,void 0,Xi,qc,$e);if(E.fetchers.has(M)){let on=Po(at.data);E.fetchers.set(M,on)}se(ba),E.navigation.state==="loading"&&ba>Me?(ut(P,"Expected pending action"),D&&D.abort(),Vt(E.navigation.location,{matches:xs,loaderData:Hr,errors:Ji,fetchers:new Map(E.fetchers)})):(Qe({errors:Ji,loaderData:iA(E.loaderData,Hr,xs,Ji),fetchers:new Map(E.fetchers)}),fe=!1)}async function Di(M,j,K,he,me,Ie){let Ue=E.fetchers.get(M),Pe=vh(Ie,Ue?Ue.data:void 0);E.fetchers.set(M,Pe),Qe({fetchers:new Map(E.fetchers)});let Oe=new AbortController,It=yh(t.history,K,Oe.signal);Ce.set(M,Oe);let Lt=Ve,at=await gh("loader",It,he,me,s,i,c);if(Za(at)&&(at=await jk(at,It.signal,!0)||at),Ce.get(M)===Oe&&Ce.delete(M),It.signal.aborted)return;if(Ae.has(M)){E.fetchers.set(M,Po(void 0)),Qe({fetchers:new Map(E.fetchers)});return}if(Bu(at))if(Me>Lt){let sn=Po(void 0);E.fetchers.set(M,sn),Qe({fetchers:new Map(E.fetchers)});return}else{ce.add(M),await Nt(E,at);return}if(Zh(at)){pn(M,j,at.error);return}ut(!Za(at),"Unhandled fetcher deferred data");let At=Po(at.data);E.fetchers.set(M,At),Qe({fetchers:new Map(E.fetchers)})}async function Nt(M,j,K){let{submission:he,fetcherSubmission:me,replace:Ie}=K===void 0?{}:K;j.revalidate&&(fe=!0);let Ue=Pf(M.location,j.location,{_isRedirect:!0});if(ut(Ue,"Expected a location on the redirect navigation"),n){let At=!1;if(j.reloadDocument)At=!0;else if(Mk.test(j.location)){const sn=t.history.createURL(j.location);At=sn.origin!==e.location.origin||xc(sn.pathname,c)==null}if(At){Ie?e.location.replace(j.location):e.location.assign(j.location);return}}D=null;let Pe=Ie===!0?xn.Replace:xn.Push,{formMethod:Oe,formAction:It,formEncType:Lt}=M.navigation;!he&&!me&&Oe&&It&&Lt&&(he=lA(M.navigation));let at=he||me;if(I7.has(j.status)&&at&&Bi(at.formMethod))await wt(Pe,Ue,{submission:yn({},at,{formAction:j.location}),preventScrollReset:O});else{let At=Z_(Ue,he);await wt(Pe,Ue,{overrideNavigation:At,fetcherSubmission:me,preventScrollReset:O})}}async function qt(M,j,K,he,me){let Ie=await Promise.all([...K.map(Oe=>gh("loader",me,Oe,j,s,i,c)),...he.map(Oe=>Oe.matches&&Oe.match&&Oe.controller?gh("loader",yh(t.history,Oe.path,Oe.controller.signal),Oe.match,Oe.matches,s,i,c):{type:Rn.error,error:_i(404,{pathname:Oe.path})})]),Ue=Ie.slice(0,K.length),Pe=Ie.slice(K.length);return await Promise.all([aA(M,K,Ue,Ue.map(()=>me.signal),!1,E.loaderData),aA(M,he.map(Oe=>Oe.match),Pe,he.map(Oe=>Oe.controller?Oe.controller.signal:null),!0)]),{results:Ie,loaderResults:Ue,fetcherResults:Pe}}function kn(){fe=!0,_e.push(...U()),ae.forEach((M,j)=>{Ce.has(j)&&(Fe.push(j),Zt(j))})}function pn(M,j,K){let he=Jh(E.matches,j);Nn(M),Qe({errors:{[he.route.id]:K},fetchers:new Map(E.fetchers)})}function Nn(M){let j=E.fetchers.get(M);Ce.has(M)&&!(j&&j.state==="loading"&&H.has(M))&&Zt(M),ae.delete(M),H.delete(M),ce.delete(M),Ae.delete(M),E.fetchers.delete(M)}function He(M){if(h.v7_fetcherPersist){let j=(we.get(M)||0)-1;j<=0?(we.delete(M),Ae.add(M)):we.set(M,j)}else Nn(M);Qe({fetchers:new Map(E.fetchers)})}function Zt(M){let j=Ce.get(M);ut(j,"Expected fetch controller: "+M),j.abort(),Ce.delete(M)}function J(M){for(let j of M){let K=sr(j),he=Po(K.data);E.fetchers.set(j,he)}}function $(){let M=[],j=!1;for(let K of ce){let he=E.fetchers.get(K);ut(he,"Expected fetcher: "+K),he.state==="loading"&&(ce.delete(K),M.push(K),j=!0)}return J(M),j}function se(M){let j=[];for(let[K,he]of H)if(he<M){let me=E.fetchers.get(K);ut(me,"Expected fetcher: "+K),me.state==="loading"&&(Zt(K),H.delete(K),j.push(K))}return J(j),j.length>0}function le(M,j){let K=E.blockers.get(M)||mh;return je.get(M)!==j&&je.set(M,j),K}function oe(M){E.blockers.delete(M),je.delete(M)}function pe(M,j){let K=E.blockers.get(M)||mh;ut(K.state==="unblocked"&&j.state==="blocked"||K.state==="blocked"&&j.state==="blocked"||K.state==="blocked"&&j.state==="proceeding"||K.state==="blocked"&&j.state==="unblocked"||K.state==="proceeding"&&j.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+j.state);let he=new Map(E.blockers);he.set(M,j),Qe({blockers:he})}function Ke(M){let{currentLocation:j,nextLocation:K,historyAction:he}=M;if(je.size===0)return;je.size>1&&ml(!1,"A router only supports one blocker at a time");let me=Array.from(je.entries()),[Ie,Ue]=me[me.length-1],Pe=E.blockers.get(Ie);if(!(Pe&&Pe.state==="proceeding")&&Ue({currentLocation:j,nextLocation:K,historyAction:he}))return Ie}function U(M){let j=[];return $e.forEach((K,he)=>{(!M||M(he))&&(K.cancel(),j.push(he),$e.delete(he))}),j}function Q(M,j,K){if(m=M,v=j,y=K||null,!w&&E.navigation===J_){w=!0;let he=Te(E.location,E.matches);he!=null&&Qe({restoreScrollPosition:he})}return()=>{m=null,v=null,y=null}}function xe(M,j){return y&&y(M,j.map(he=>Zq(he,E.loaderData)))||M.key}function Ee(M,j){if(m&&v){let K=xe(M,j);m[K]=v()}}function Te(M,j){if(m){let K=xe(M,j),he=m[K];if(typeof he=="number")return he}return null}function rt(M){s={},l=Fw(M,i,void 0,s)}return I={get basename(){return c},get state(){return E},get routes(){return o},get window(){return e},initialize:et,subscribe:_t,enableScrollRestoration:Q,navigate:ct,fetch:zt,revalidate:xt,createHref:M=>t.history.createHref(M),encodeLocation:M=>t.history.encodeLocation(M),getFetcher:sr,deleteFetcher:He,dispose:Jt,getBlocker:le,deleteBlocker:oe,_internalFetchControllers:Ce,_internalActiveDeferreds:$e,_internalSetRoutes:rt},I}function b7(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Vw(t,e,n,r,i,s,o){let l,c;if(s!=null&&o!=="path"){l=[];for(let f of e)if(l.push(f),f.route.id===s){c=f;break}}else l=e,c=e[e.length-1];let h=U1(i||".",uy(l).map(f=>f.pathnameBase),xc(t.pathname,n)||t.pathname,o==="path");return i==null&&(h.search=t.search,h.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!q1(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(h.pathname=h.pathname==="/"?n:Ks([n,h.pathname])),gl(h)}function Jb(t,e,n,r){if(!r||!b7(r))return{path:n};if(r.formMethod&&!N7(r.formMethod))return{path:n,error:_i(405,{method:r.formMethod})};let i=()=>({path:n,error:_i(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=$k(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Bi(o))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,v)=>{let[w,R]=v;return""+y+w+"="+R+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!Bi(o))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}ut(typeof FormData=="function","FormData is not available in this environment");let c,h;if(r.formData)c=$w(r.formData),h=r.formData;else if(r.body instanceof FormData)c=$w(r.body),h=r.body;else if(r.body instanceof URLSearchParams)c=r.body,h=nA(c);else if(r.body==null)c=new URLSearchParams,h=new FormData;else try{c=new URLSearchParams(r.body),h=nA(c)}catch{return i()}let f={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Bi(f.formMethod))return{path:n,submission:f};let p=lo(n);return e&&p.search&&q1(p.search)&&c.append("index",""),p.search="?"+c,{path:gl(p),submission:f}}function A7(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Zb(t,e,n,r,i,s,o,l,c,h,f,p,m,y){let v=y?Object.values(y)[0]:m?Object.values(m)[0]:void 0,w=t.createURL(e.location),R=t.createURL(i),T=y?Object.keys(y)[0]:void 0,I=A7(n,T).filter((P,O)=>{if(P.route.lazy)return!0;if(P.route.loader==null)return!1;if(C7(e.loaderData,e.matches[O],P)||o.some(W=>W===P.route.id))return!0;let D=e.matches[O],N=P;return eA(P,yn({currentUrl:w,currentParams:D.params,nextUrl:R,nextParams:N.params},r,{actionResult:v,defaultShouldRevalidate:s||w.pathname+w.search===R.pathname+R.search||w.search!==R.search||Vk(D,N)}))}),E=[];return c.forEach((P,O)=>{if(!n.some(ie=>ie.route.id===P.routeId))return;let D=ku(f,P.path,p);if(!D){E.push({key:O,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(O),W=jw(D,P.path),Y=!1;h.has(O)?Y=!1:l.includes(O)?Y=!0:N&&N.state!=="idle"&&N.data===void 0?Y=s:Y=eA(W,yn({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:R,nextParams:n[n.length-1].params},r,{actionResult:v,defaultShouldRevalidate:s})),Y&&E.push({key:O,routeId:P.routeId,path:P.path,matches:D,match:W,controller:new AbortController})}),[I,E]}function C7(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Vk(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function eA(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function tA(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ut(i,"No route found in manifest");let s={};for(let o in r){let c=i[o]!==void 0&&o!=="hasErrorBoundary";ml(!c,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!Xq.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,yn({},e(i),{lazy:void 0}))}async function gh(t,e,n,r,i,s,o,l){l===void 0&&(l={});let c,h,f,p=v=>{let w,R=new Promise((T,S)=>w=S);return f=()=>w(),e.signal.addEventListener("abort",f),Promise.race([v({request:e,params:n.params,context:l.requestContext}),R])};try{let v=n.route[t];if(n.route.lazy)if(v){let w,R=await Promise.all([p(v).catch(T=>{w=T}),tA(n.route,s,i)]);if(w)throw w;h=R[0]}else if(await tA(n.route,s,i),v=n.route[t],v)h=await p(v);else if(t==="action"){let w=new URL(e.url),R=w.pathname+w.search;throw _i(405,{method:e.method,pathname:R,routeId:n.route.id})}else return{type:Rn.data,data:void 0};else if(v)h=await p(v);else{let w=new URL(e.url),R=w.pathname+w.search;throw _i(404,{pathname:R})}ut(h!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(v){c=Rn.error,h=v}finally{f&&e.signal.removeEventListener("abort",f)}if(k7(h)){let v=h.status;if(T7.has(v)){let T=h.headers.get("Location");if(ut(T,"Redirects returned/thrown from loaders/actions must have a Location header"),!Mk.test(T))T=Vw(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,T);else if(!l.isStaticRequest){let S=new URL(e.url),I=T.startsWith("//")?new URL(S.protocol+T):new URL(T),E=xc(I.pathname,o)!=null;I.origin===S.origin&&E&&(T=I.pathname+I.search+I.hash)}if(l.isStaticRequest)throw h.headers.set("Location",T),h;return{type:Rn.redirect,status:v,location:T,revalidate:h.headers.get("X-Remix-Revalidate")!==null,reloadDocument:h.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:c===Rn.error?Rn.error:Rn.data,response:h};let w,R=h.headers.get("Content-Type");return R&&/\bapplication\/json\b/.test(R)?w=await h.json():w=await h.text(),c===Rn.error?{type:c,error:new z1(v,h.statusText,w),headers:h.headers}:{type:Rn.data,data:w,statusCode:h.status,headers:h.headers}}if(c===Rn.error)return{type:c,error:h};if(D7(h)){var m,y;return{type:Rn.deferred,deferredData:h,statusCode:(m=h.init)==null?void 0:m.status,headers:((y=h.init)==null?void 0:y.headers)&&new Headers(h.init.headers)}}return{type:Rn.data,data:h}}function yh(t,e,n,r){let i=t.createURL($k(e)).toString(),s={signal:n};if(r&&Bi(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=$w(r.formData):s.body=r.formData}return new Request(i,s)}function $w(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function nA(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function P7(t,e,n,r,i){let s={},o=null,l,c=!1,h={};return n.forEach((f,p)=>{let m=e[p].route.id;if(ut(!Bu(f),"Cannot handle redirect results in processLoaderData"),Zh(f)){let y=Jh(t,m),v=f.error;r&&(v=Object.values(r)[0],r=void 0),o=o||{},o[y.route.id]==null&&(o[y.route.id]=v),s[m]=void 0,c||(c=!0,l=Nk(f.error)?f.error.status:500),f.headers&&(h[m]=f.headers)}else Za(f)?(i.set(m,f.deferredData),s[m]=f.deferredData.data):s[m]=f.data,f.statusCode!=null&&f.statusCode!==200&&!c&&(l=f.statusCode),f.headers&&(h[m]=f.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:h}}function rA(t,e,n,r,i,s,o,l){let{loaderData:c,errors:h}=P7(e,n,r,i,l);for(let f=0;f<s.length;f++){let{key:p,match:m,controller:y}=s[f];ut(o!==void 0&&o[f]!==void 0,"Did not find corresponding fetcher result");let v=o[f];if(!(y&&y.signal.aborted))if(Zh(v)){let w=Jh(t.matches,m==null?void 0:m.route.id);h&&h[w.route.id]||(h=yn({},h,{[w.route.id]:v.error})),t.fetchers.delete(p)}else if(Bu(v))ut(!1,"Unhandled fetcher revalidation redirect");else if(Za(v))ut(!1,"Unhandled fetcher deferred data");else{let w=Po(v.data);t.fetchers.set(p,w)}}return{loaderData:c,errors:h}}function iA(t,e,n,r){let i=yn({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Jh(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function sA(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function _i(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",l='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new z1(t||500,o,new Error(l),!0)}function oA(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Bu(n))return{result:n,idx:e}}}function $k(t){let e=typeof t=="string"?lo(t):t;return gl(yn({},e,{hash:""}))}function O7(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Za(t){return t.type===Rn.deferred}function Zh(t){return t.type===Rn.error}function Bu(t){return(t&&t.type)===Rn.redirect}function D7(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function k7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function N7(t){return E7.has(t.toLowerCase())}function Bi(t){return _7.has(t.toLowerCase())}async function aA(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],c=e[o];if(!c)continue;let h=t.find(p=>p.route.id===c.route.id),f=h!=null&&!Vk(h,c)&&(s&&s[c.route.id])!==void 0;if(Za(l)&&(i||f)){let p=r[o];ut(p,"Expected an AbortSignal for revalidating fetcher deferred result"),await jk(l,p,i).then(m=>{m&&(n[o]=m||n[o])})}}}async function jk(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Rn.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Rn.error,error:i}}return{type:Rn.data,data:t.deferredData.data}}}function q1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function jw(t,e){let n=typeof e=="string"?lo(e).search:e.search;if(t[t.length-1].route.index&&q1(n||""))return t[t.length-1];let r=uy(t);return r[r.length-1]}function lA(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Z_(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function L7(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function vh(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function M7(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Po(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function F7(t,e){try{let n=t.sessionStorage.getItem(Fk);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function V7(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Fk,JSON.stringify(n))}catch(r){ml(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lg.apply(this,arguments)}const cy=x.createContext(null),Bk=x.createContext(null),Rc=x.createContext(null),hy=x.createContext(null),uo=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Uk=x.createContext(null);function $7(t,e){let{relative:n}=e===void 0?{}:e;fd()||ut(!1);let{basename:r,navigator:i}=x.useContext(Rc),{hash:s,pathname:o,search:l}=Wk(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ks([r,o])),i.createHref({pathname:c,search:l,hash:s})}function fd(){return x.useContext(hy)!=null}function fy(){return fd()||ut(!1),x.useContext(hy).location}function zk(t){x.useContext(Rc).static||x.useLayoutEffect(t)}function qk(){let{isDataRoute:t}=x.useContext(uo);return t?e8():j7()}function j7(){fd()||ut(!1);let t=x.useContext(cy),{basename:e,navigator:n}=x.useContext(Rc),{matches:r}=x.useContext(uo),{pathname:i}=fy(),s=JSON.stringify(uy(r).map(c=>c.pathnameBase)),o=x.useRef(!1);return zk(()=>{o.current=!0}),x.useCallback(function(c,h){if(h===void 0&&(h={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=U1(c,JSON.parse(s),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ks([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,s,i,t])}const B7=x.createContext(null);function U7(t){let e=x.useContext(uo).outlet;return e&&x.createElement(B7.Provider,{value:t},e)}function z7(){let{matches:t}=x.useContext(uo),e=t[t.length-1];return e?e.params:{}}function Wk(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=x.useContext(uo),{pathname:i}=fy(),s=JSON.stringify(uy(r).map(o=>o.pathnameBase));return x.useMemo(()=>U1(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function q7(t,e,n){fd()||ut(!1);let{navigator:r}=x.useContext(Rc),{matches:i}=x.useContext(uo),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=fy(),h;if(e){var f;let w=typeof e=="string"?lo(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||ut(!1),h=w}else h=c;let p=h.pathname||"/",m=l==="/"?p:p.slice(l.length)||"/",y=ku(t,{pathname:m}),v=Q7(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Ks([l,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Ks([l,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n);return e&&v?x.createElement(hy.Provider,{value:{location:lg({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:xn.Pop}},v):v}function W7(){let t=Z7(),e=Nk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,s)}const K7=x.createElement(W7,null);class H7 extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?x.createElement(uo.Provider,{value:this.props.routeContext},x.createElement(Uk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G7(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(cy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(uo.Provider,{value:e},r)}function Q7(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let l=s.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id]));l>=0||ut(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,c,h)=>{let f=c.route.id?o==null?void 0:o[c.route.id]:null,p=null;n&&(p=c.route.errorElement||K7);let m=e.concat(s.slice(0,h+1)),y=()=>{let v;return f?v=p:c.route.Component?v=x.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=l,x.createElement(G7,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:n!=null},children:v})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?x.createElement(H7,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var Kk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Kk||{}),ug=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ug||{});function Y7(t){let e=x.useContext(cy);return e||ut(!1),e}function X7(t){let e=x.useContext(Bk);return e||ut(!1),e}function J7(t){let e=x.useContext(uo);return e||ut(!1),e}function Hk(t){let e=J7(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function Z7(){var t;let e=x.useContext(Uk),n=X7(ug.UseRouteError),r=Hk(ug.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function e8(){let{router:t}=Y7(Kk.UseNavigateStable),e=Hk(ug.UseNavigateStable),n=x.useRef(!1);return zk(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,lg({fromRouteId:e},s)))},[t,e])}function Gk(t){return U7(t.context)}function t8(t){let{basename:e="/",children:n=null,location:r,navigationType:i=xn.Pop,navigator:s,static:o=!1}=t;fd()&&ut(!1);let l=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof r=="string"&&(r=lo(r));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:y="default"}=r,v=x.useMemo(()=>{let w=xc(h,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:m,key:y},navigationType:i}},[l,h,f,p,m,y,i]);return v==null?null:x.createElement(Rc.Provider,{value:c},x.createElement(hy.Provider,{children:n,value:v}))}new Promise(()=>{});function n8(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:x.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:x.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Of(){return Of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Of.apply(this,arguments)}function r8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function i8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function s8(t,e){return t.button===0&&(!e||e==="_self")&&!i8(t)}const o8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function a8(t,e){return R7({basename:e==null?void 0:e.basename,future:Of({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Gq({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||l8(),routes:t,mapRouteProperties:n8,window:e==null?void 0:e.window}).initialize()}function l8(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Of({},e,{errors:u8(e.errors)})),e}function u8(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new z1(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const c8=x.createContext({isTransitioning:!1}),h8=x.createContext(new Map),f8="startTransition",uA=n9[f8];function d8(t){uA?uA(t):t()}let p8=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function m8(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=x.useState(n.state),[o,l]=x.useState(),[c,h]=x.useState({isTransitioning:!1}),[f,p]=x.useState(),[m,y]=x.useState(),[v,w]=x.useState(),R=x.useRef(new Map),{v7_startTransition:T}=r||{},S=x.useCallback(D=>{T?d8(D):D()},[T]),I=x.useCallback((D,N)=>{let{deletedFetchers:W,unstable_viewTransitionOpts:Y}=N;W.forEach(ie=>R.current.delete(ie)),D.fetchers.forEach((ie,fe)=>{ie.data!==void 0&&R.current.set(fe,ie.data)}),!Y||n.window==null||typeof n.window.document.startViewTransition!="function"?S(()=>s(D)):m&&f?(f.resolve(),m.skipTransition(),w({state:D,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})):(l(D),h({isTransitioning:!0,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation}))},[n.window,m,f,R,S]);x.useLayoutEffect(()=>n.subscribe(I),[n,I]),x.useEffect(()=>{c.isTransitioning&&p(new p8)},[c.isTransitioning]),x.useEffect(()=>{if(f&&o&&n.window){let D=o,N=f.promise,W=n.window.document.startViewTransition(async()=>{S(()=>s(D)),await N});W.finished.finally(()=>{p(void 0),y(void 0),l(void 0),h({isTransitioning:!1})}),y(W)}},[S,o,f,n.window]),x.useEffect(()=>{f&&o&&i.location.key===o.location.key&&f.resolve()},[f,m,i.location,o]),x.useEffect(()=>{!c.isTransitioning&&v&&(l(v.state),h({isTransitioning:!0,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),w(void 0))},[c.isTransitioning,v]);let E=x.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:D=>n.navigate(D),push:(D,N,W)=>n.navigate(D,{state:N,preventScrollReset:W==null?void 0:W.preventScrollReset}),replace:(D,N,W)=>n.navigate(D,{replace:!0,state:N,preventScrollReset:W==null?void 0:W.preventScrollReset})}),[n]),P=n.basename||"/",O=x.useMemo(()=>({router:n,navigator:E,static:!1,basename:P}),[n,E,P]);return x.createElement(x.Fragment,null,x.createElement(cy.Provider,{value:O},x.createElement(Bk.Provider,{value:i},x.createElement(h8.Provider,{value:R.current},x.createElement(c8.Provider,{value:c},x.createElement(t8,{basename:P,location:i.location,navigationType:i.historyAction,navigator:E},i.initialized?x.createElement(g8,{routes:n.routes,state:i}):e))))),null)}function g8(t){let{routes:e,state:n}=t;return q7(e,void 0,n)}const y8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",v8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pu=x.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:h,preventScrollReset:f,unstable_viewTransition:p}=e,m=r8(e,o8),{basename:y}=x.useContext(Rc),v,w=!1;if(typeof h=="string"&&v8.test(h)&&(v=h,y8))try{let I=new URL(window.location.href),E=h.startsWith("//")?new URL(I.protocol+h):new URL(h),P=xc(E.pathname,y);E.origin===I.origin&&P!=null?h=P+E.search+E.hash:w=!0}catch{}let R=$7(h,{relative:i}),T=_8(h,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,unstable_viewTransition:p});function S(I){r&&r(I),I.defaultPrevented||T(I)}return x.createElement("a",Of({},m,{href:v||R,onClick:w||s?r:S,ref:n,target:c}))});var cA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(cA||(cA={}));var hA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hA||(hA={}));function _8(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=qk(),h=fy(),f=Wk(t,{relative:o});return x.useCallback(p=>{if(s8(p,n)){p.preventDefault();let m=r!==void 0?r:gl(h)===gl(f);c(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[h,c,f,r,i,n,t,s,o,l])}const w8="modulepreload",E8=function(t){return"/pokemon-Gym/"+t},fA={},T8=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=E8(s),s in fA)return;fA[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let f=i.length-1;f>=0;f--){const p=i[f];if(p.href===s&&(!o||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const h=document.createElement("link");if(h.rel=o?"stylesheet":w8,o||(h.as="script",h.crossOrigin=""),h.href=s,document.head.appendChild(h),o)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Qk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dA=Qt.createContext&&Qt.createContext(Qk),Xo=globalThis&&globalThis.__assign||function(){return Xo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Xo.apply(this,arguments)},I8=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Yk(t){return t&&t.map(function(e,n){return Qt.createElement(e.tag,Xo({key:n},e.attr),Yk(e.child))})}function dd(t){return function(e){return Qt.createElement(S8,Xo({attr:Xo({},t.attr)},e),Yk(t.child))}}function S8(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=I8(t,["attr","size","title"]),l=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Qt.createElement("svg",Xo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:Xo(Xo({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Qt.createElement("title",null,s),t.children)};return dA!==void 0?Qt.createElement(dA.Consumer,null,function(n){return e(n)}):e(Qk)}function x8(t){return dd({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 7h-9"}},{tag:"path",attr:{d:"M14 17H5"}},{tag:"circle",attr:{cx:"17",cy:"17",r:"3"}},{tag:"circle",attr:{cx:"7",cy:"7",r:"3"}}]})(t)}let Hi=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const cg="onlyImage",kl="onlyText",W1="imageText",K1="colorText",H1="onlyColor",Xk="defaultNothing",R8="選擇",ms="SelectGroup",b8="你選擇的",G1="BeenSelectGroup",A8="推薦有傷害的",pd="DamageGroup",e0=[{id:1,title:R8},{id:2,title:b8},{id:3,title:A8}],C8=[{id:1,default:!0,type:cg,title:"只顯示圖片"},{id:2,default:!1,type:kl,title:"只顯示文字"},{id:3,default:!1,type:W1,title:"顯示圖片和文字"}],P8=[{id:3,default:!0,type:K1,title:"預設顯示顏色和文字"},{id:1,default:!1,type:H1,title:"只顯示顏色"},{id:2,default:!1,type:kl,title:"只顯示文字"},{id:4,default:!1,type:Xk,title:"都不顯示"}],hg={enName:"all",zhName:"全部",bgColor:"#17CCF0"},md=[{enName:"normal",zhName:"一般",bgColor:"#a8a8a8"},{enName:"fighting",zhName:"格鬥",bgColor:"#c03028"},{enName:"flying",zhName:"飛行",bgColor:"#9096f0"},{enName:"poison",zhName:"毒",bgColor:"#a040a0"},{enName:"ground",zhName:"地面",bgColor:"#e0b668"},{enName:"rock",zhName:"岩石",bgColor:"#b8a038"},{enName:"bug",zhName:"蟲",bgColor:"#9cb820"},{enName:"ghost",zhName:"幽靈",bgColor:"#705898"},{enName:"steel",zhName:"鋼",bgColor:"#6d8f9c"},{enName:"fire",zhName:"火",bgColor:"#f08030"},{enName:"water",zhName:"水",bgColor:"#6890f0"},{enName:"grass",zhName:"草",bgColor:"#22c02a"},{enName:"electric",zhName:"電",bgColor:"#f8d030"},{enName:"psychic",zhName:"超能力",bgColor:"#f85888"},{enName:"ice",zhName:"冰",bgColor:"#98d8d8"},{enName:"dragon",zhName:"龍",bgColor:"#7038f8"},{enName:"dark",zhName:"惡",bgColor:"#504843"},{enName:"fairy",zhName:"妖精",bgColor:"#f09ad9"}],Jk=[{enName:"S_Tier",zhName:"S級",bgColor:"#1b1b1d"},{enName:"A_plus_Tier",zhName:"A+級",bgColor:"#1b1b1d"},{enName:"A_Tier",zhName:"A級",bgColor:"#1b1b1d"},{enName:"B_plus_Tier",zhName:"B+級",bgColor:"#1b1b1d"},{enName:"B_Tier",zhName:"B級",bgColor:"#1b1b1d"},{enName:"C_Tier",zhName:"C級",bgColor:"#1b1b1d"}],O8="/pokemon-Gym/assets/25-759ceafd.png",Zk=x.createContext(),D8=({children:t})=>{const[e,n]=x.useState({}),r=oe=>{n(()=>oe)},[i,s]=x.useState(""),o=oe=>{s(()=>oe)},[l,c]=x.useState([]),h=oe=>{c(()=>oe)},[f,p]=x.useState([]),[m,y]=x.useState(!1),[v,w]=x.useState(100),[R,T]=x.useState(!1),S=oe=>{p(pe=>[...pe,...oe])},I=oe=>{y(()=>oe)},E=oe=>{w(pe=>oe||pe+100)},P=()=>{T(oe=>!oe)},[O,D]=x.useState(new Map),N=oe=>{const{zhName:pe}=oe;D(Ke=>{let U=new Map(Ke),Q=1;return U.has(pe)&&(Q=U.get(pe).amount+1),U.set(pe,{amount:Q,...oe}),console.log(U),U})},[W,Y]=x.useState([]),ie=oe=>{Y(pe=>{const Ke=[...pe];return Ke.some(Q=>Q.enName===oe.enName)?Ke.filter(Q=>Q.enName!==oe.enName):(N(oe),[...Ke,oe])})},fe=oe=>{Y(pe=>pe.filter(Ke=>Ke.enName!==oe.enName))},[_e,Fe]=x.useState([]),Ce=oe=>{Fe(()=>oe)},[Ve,Me]=x.useState([]),H=oe=>{Me(()=>oe.map(pe=>pe.data))},ce=C8.filter(oe=>oe.default===!0)[0],[ae,we]=x.useState({type:ce.type,title:ce.title}),[Ae,$e]=x.useState({type:ce.type,title:ce.title}),[je,ke]=x.useState({type:ce.type,title:ce.title}),et=P8.filter(oe=>oe.default===!0)[0],[Jt,_t]=x.useState({type:et.type,title:et.title}),[Qe,Vt]=x.useState({type:et.type,title:et.title}),[ct,xt]=x.useState({type:et.type,title:et.title}),wt=(oe,pe)=>{we({type:oe,title:pe})},kt=(oe,pe)=>{$e({type:oe,title:pe})},tt=(oe,pe)=>{ke({type:oe,title:pe})},sr=(oe,pe)=>{_t({type:oe,title:pe})},zt=(oe,pe)=>{Vt({type:oe,title:pe})},Kr=(oe,pe)=>{xt({type:oe,title:pe})},[Di,Nt]=x.useState(hg),qt=({enName:oe,zhName:pe,bgColor:Ke})=>{Nt(()=>({enName:oe,zhName:pe,bgColor:Ke}))},[kn,pn]=x.useState(hg),Nn=({enName:oe,zhName:pe,bgColor:Ke})=>{pn(()=>({enName:oe,zhName:pe,bgColor:Ke}))},[He,Zt]=x.useState([]),[J,$]=x.useState([]),se=oe=>{Zt(()=>oe)},le=oe=>{$(()=>oe)};return b.jsx(Zk.Provider,{value:{tierPokemon:e,handleTierPokemon:r,clickImg:O,searchPokemon:i,handleSearchPokemon:o,storeAllPokemon:l,handleStoreAllPokemon:h,storePokemon:f,handleStorePokemon:S,isLoadingPokemon:m,handleIsLoadingPokemon:I,page:v,handleNextPage:E,searchMorePokemon:R,handleSearchMorePokemon:P,selectImg:W,AddRemoveImg:ie,RemoveImg:fe,bestDamage:_e,handleBestDamage:Ce,storeAllTypes:Ve,handleStoreAllTypes:H,showInfo_select:ae,showType_select:Jt,showInfo_beenSelect:Ae,showType_beenSelect:Qe,showInfo_bestDamage:je,showType_bestDamage:ct,filterType:Di,filterTier:kn,handleShowInfo_select:wt,handleShowType_select:sr,handleShowInfo_beenSelect:kt,handleShowType_beenSelect:zt,handleShowInfo_bestDamage:tt,handleShowType_bestDamage:Kr,handleFilterType:qt,handleFilterTier:Nn,popularPokemon:He,filterBestPokemon:J,handlePopularPokemon:se,handleFilterBestPokemon:le},children:t})},ui=()=>x.useContext(Zk);var eN={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var l=n.apply(null,s);l&&r.push(l)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var c in s)e.call(s,c)&&s[c]&&r.push(c)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(eN);var k8=eN.exports;const Be=od(k8);function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bw.apply(this,arguments)}function tN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pA(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function N8(t){var e=L8(t,"string");return typeof e=="symbol"?e:String(e)}function L8(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M8(t,e,n){var r=x.useRef(t!==void 0),i=x.useState(e),s=i[0],o=i[1],l=t!==void 0,c=r.current;return r.current=l,!l&&c&&s!==e&&o(e),[l?t:s,x.useCallback(function(h){for(var f=arguments.length,p=new Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];n&&n.apply(void 0,[h].concat(p)),o(h)},[n])]}function Q1(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[pA(r)],l=s[r],c=tN(s,[pA(r),r].map(N8)),h=e[r],f=M8(l,o,t[h]),p=f[0],m=f[1];return Bw({},c,(i={},i[r]=p,i[h]=m,i))},t)}function Uw(t,e){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uw(t,e)}function F8(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Uw(t,e)}const V8=["xxl","xl","lg","md","sm","xs"],$8="xs",dy=x.createContext({prefixes:{},breakpoints:V8,minBreakpoint:$8});function Xe(t,e){const{prefixes:n}=x.useContext(dy);return t||n[e]||e}function nN(){const{breakpoints:t}=x.useContext(dy);return t}function rN(){const{minBreakpoint:t}=x.useContext(dy);return t}function iN(){const{dir:t}=x.useContext(dy);return t==="rtl"}function gd(t){return t&&t.ownerDocument||document}function j8(t){var e=gd(t);return e&&e.defaultView||window}function B8(t,e){return j8(t).getComputedStyle(t,e)}var U8=/([A-Z])/g;function z8(t){return t.replace(U8,"-$1").toLowerCase()}var q8=/^ms-/;function Hp(t){return z8(t).replace(q8,"-ms-")}var W8=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function K8(t){return!!(t&&W8.test(t))}function Hs(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Hp(e))||B8(t).getPropertyValue(Hp(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(Hp(i)):K8(i)?r+=i+"("+s+") ":n+=Hp(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var sN={exports:{}},H8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",G8=H8,Q8=G8;function oN(){}function aN(){}aN.resetWarningCache=oN;var Y8=function(){function t(r,i,s,o,l,c){if(c!==Q8){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:aN,resetWarningCache:oN};return n.PropTypes=n,n};sN.exports=Y8();var X8=sN.exports;const Gs=od(X8),mA={disabled:!1},lN=Qt.createContext(null);var J8=function(e){return e.scrollTop},Mh="unmounted",No="exited",zi="entering",Vs="entered",Df="exiting",co=function(t){F8(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,l=o&&!o.isMounting?r.enter:r.appear,c;return s.appearStatus=null,r.in?l?(c=No,s.appearStatus=zi):c=Vs:r.unmountOnExit||r.mountOnEnter?c=Mh:c=No,s.state={status:c},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Mh?{status:No}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==zi&&o!==Vs&&(s=zi):(o===zi||o===Vs)&&(s=Df)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,l;return s=o=l=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,l=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:l}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===zi){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Du.findDOMNode(this);o&&J8(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===No&&this.setState({status:Mh})},n.performEnter=function(i){var s=this,o=this.props.enter,l=this.context?this.context.isMounting:i,c=this.props.nodeRef?[l]:[Du.findDOMNode(this),l],h=c[0],f=c[1],p=this.getTimeouts(),m=l?p.appear:p.enter;if(!i&&!o||mA.disabled){this.safeSetState({status:Vs},function(){s.props.onEntered(h)});return}this.props.onEnter(h,f),this.safeSetState({status:zi},function(){s.props.onEntering(h,f),s.onTransitionEnd(m,function(){s.safeSetState({status:Vs},function(){s.props.onEntered(h,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:Du.findDOMNode(this);if(!s||mA.disabled){this.safeSetState({status:No},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Df},function(){i.props.onExiting(l),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:No},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,s.nextCallback=null,i(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Du.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],h=c[0],f=c[1];this.props.addEndListener(h,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Mh)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=tN(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Qt.createElement(lN.Provider,{value:null},typeof o=="function"?o(i,l):Qt.cloneElement(Qt.Children.only(o),l))},e}(Qt.Component);co.contextType=lN;co.propTypes={};function su(){}co.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:su,onEntering:su,onEntered:su,onExit:su,onExiting:su,onExited:su};co.UNMOUNTED=Mh;co.EXITED=No;co.ENTERING=zi;co.ENTERED=Vs;co.EXITING=Df;const Z8=co,bc=!!(typeof window<"u"&&window.document&&window.document.createElement);var zw=!1,qw=!1;try{var t0={get passive(){return zw=!0},get once(){return qw=zw=!0}};bc&&(window.addEventListener("test",t0,t0),window.removeEventListener("test",t0,!0))}catch{}function Y1(t,e,n,r){if(r&&typeof r!="boolean"&&!qw){var i=r.once,s=r.capture,o=n;!qw&&i&&(o=n.__once||function l(c){this.removeEventListener(e,l,s),n.call(this,c)},n.__once=o),t.addEventListener(e,o,zw?r:s)}t.addEventListener(e,n,r)}function Ww(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Bo(t,e,n,r){return Y1(t,e,n,r),function(){Ww(t,e,n,r)}}function eW(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function tW(t){var e=Hs(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function nW(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||eW(t,"transitionend",!0)},e+n),s=Bo(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function uN(t,e,n,r){n==null&&(n=tW(t)||0);var i=nW(t,n,r),s=Bo(t,"transitionend",e);return function(){i(),s()}}function gA(t,e){const n=Hs(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function X1(t,e){const n=gA(t,"transitionDuration"),r=gA(t,"transitionDelay"),i=uN(t,s=>{s.target===t&&(i(),e(s))},n+r)}function _h(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function cN(t){t.offsetHeight}const yA=t=>!t||typeof t=="function"?t:e=>{t.current=e};function rW(t,e){const n=yA(t),r=yA(e);return i=>{n&&n(i),r&&r(i)}}function Nl(t,e){return x.useMemo(()=>rW(t,e),[t,e])}function iW(t){return t&&"setState"in t?Du.findDOMNode(t):t??null}const sW=Qt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:l,childRef:c,...h},f)=>{const p=x.useRef(null),m=Nl(p,c),y=O=>{m(iW(O))},v=O=>D=>{O&&p.current&&O(p.current,D)},w=x.useCallback(v(t),[t]),R=x.useCallback(v(e),[e]),T=x.useCallback(v(n),[n]),S=x.useCallback(v(r),[r]),I=x.useCallback(v(i),[i]),E=x.useCallback(v(s),[s]),P=x.useCallback(v(o),[o]);return b.jsx(Z8,{ref:f,...h,onEnter:w,onEntered:T,onEntering:R,onExit:S,onExited:E,onExiting:I,addEndListener:P,nodeRef:p,children:typeof l=="function"?(O,D)=>l(O,{...D,ref:y}):Qt.cloneElement(l,{ref:y})})}),J1=sW,oW={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function aW(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=oW[t];return r+parseInt(Hs(e,i[0]),10)+parseInt(Hs(e,i[1]),10)}const lW={[No]:"collapse",[Df]:"collapsing",[zi]:"collapsing",[Vs]:"collapse show"},uW=Qt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:l="height",in:c=!1,timeout:h=300,mountOnEnter:f=!1,unmountOnExit:p=!1,appear:m=!1,getDimensionValue:y=aW,...v},w)=>{const R=typeof l=="function"?l():l,T=x.useMemo(()=>_h(O=>{O.style[R]="0"},t),[R,t]),S=x.useMemo(()=>_h(O=>{const D=`scroll${R[0].toUpperCase()}${R.slice(1)}`;O.style[R]=`${O[D]}px`},e),[R,e]),I=x.useMemo(()=>_h(O=>{O.style[R]=null},n),[R,n]),E=x.useMemo(()=>_h(O=>{O.style[R]=`${y(R,O)}px`,cN(O)},r),[r,y,R]),P=x.useMemo(()=>_h(O=>{O.style[R]=null},i),[R,i]);return b.jsx(J1,{ref:w,addEndListener:X1,...v,"aria-expanded":v.role?c:null,onEnter:T,onEntering:S,onEntered:I,onExit:E,onExiting:P,childRef:o.ref,in:c,timeout:h,mountOnEnter:f,unmountOnExit:p,appear:m,children:(O,D)=>Qt.cloneElement(o,{...D,className:Be(s,o.props.className,lW[O],R==="width"&&"collapse-horizontal")})})}),hN=uW;function cW(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t},[t]),e}function _n(t){const e=cW(t);return x.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const fN=t=>x.forwardRef((e,n)=>b.jsx("div",{...e,ref:n,className:Be(e.className,t)}));function dN(){return x.useState(null)}function hW(t,e,n,r=!1){const i=_n(n);x.useEffect(()=>{const s=typeof t=="function"?t():t;return s.addEventListener(e,i,r),()=>s.removeEventListener(e,i,r)},[t])}function pN(){const t=x.useRef(!0),e=x.useRef(()=>t.current);return x.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function mN(t){const e=x.useRef(null);return x.useEffect(()=>{e.current=t}),e.current}const fW=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",dW=typeof document<"u",fg=dW||fW?x.useLayoutEffect:x.useEffect,pW=["as","disabled"];function mW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gW(t){return!t||t.trim()==="#"}function Z1({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:l=0,type:c}){t||(n!=null||r!=null||i!=null?t="a":t="button");const h={tagName:t};if(t==="button")return[{type:c||"button",disabled:e},h];const f=m=>{if((e||t==="a"&&gW(n))&&m.preventDefault(),e){m.stopPropagation();return}o==null||o(m)},p=m=>{m.key===" "&&(m.preventDefault(),f(m))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:l,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:f,onKeyDown:p},h]}const eT=x.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=mW(t,pW);const[s,{tagName:o}]=Z1(Object.assign({tagName:n,disabled:r},i));return b.jsx(o,Object.assign({},i,s,{ref:e}))});eT.displayName="Button";const yW=["onKeyDown"];function vW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _W(t){return!t||t.trim()==="#"}const gN=x.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=vW(t,yW);const[i]=Z1(Object.assign({tagName:"a"},r)),s=_n(o=>{i.onKeyDown(o),n==null||n(o)});return _W(r.href)||r.role==="button"?b.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:s})):b.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});gN.displayName="Anchor";const yN=gN,wW={[zi]:"show",[Vs]:"show"},vN=x.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},l=x.useCallback((c,h)=>{cN(c),r==null||r(c,h)},[r]);return b.jsx(J1,{ref:s,addEndListener:X1,...o,onEnter:l,childRef:e.ref,children:(c,h)=>x.cloneElement(e,{...h,className:Be("fade",t,e.props.className,wW[c],n[c])})})});vN.displayName="Fade";const tT=vN,EW={"aria-label":Gs.string,onClick:Gs.func,variant:Gs.oneOf(["white"])},nT=x.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>b.jsx("button",{ref:i,type:"button",className:Be("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));nT.displayName="CloseButton";nT.propTypes=EW;const TW=nT,_N=x.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...l},c)=>{const h=Xe(e,"btn"),[f,{tagName:p}]=Z1({tagName:t,disabled:s,...l}),m=p;return b.jsx(m,{...f,...l,ref:c,disabled:s,className:Be(o,h,i&&"active",n&&`${h}-${n}`,r&&`${h}-${r}`,l.href&&s&&"disabled")})});_N.displayName="Button";const dg=_N,wN=x.forwardRef(({bsPrefix:t,size:e,vertical:n=!1,className:r,role:i="group",as:s="div",...o},l)=>{const c=Xe(t,"btn-group");let h=c;return n&&(h=`${c}-vertical`),b.jsx(s,{...o,ref:l,role:i,className:Be(r,h,e&&`${c}-${e}`)})});wN.displayName="ButtonGroup";const IW=wN,EN=x.createContext(null);EN.displayName="CardHeaderContext";const SW=EN;function xW(t){const e=x.useRef(t);return e.current=t,e}function TN(t){const e=xW(t);x.useEffect(()=>()=>e.current(),[])}function RW(t,e){return x.Children.toArray(t).some(n=>x.isValidElement(n)&&n.type===e)}function bW({as:t,bsPrefix:e,className:n,...r}){e=Xe(e,"col");const i=nN(),s=rN(),o=[],l=[];return i.forEach(c=>{const h=r[c];delete r[c];let f,p,m;typeof h=="object"&&h!=null?{span:f,offset:p,order:m}=h:f=h;const y=c!==s?`-${c}`:"";f&&o.push(f===!0?`${e}${y}`:`${e}${y}-${f}`),m!=null&&l.push(`order${y}-${m}`),p!=null&&l.push(`offset${y}-${p}`)}),[{...r,className:Be(n,...o,...l)},{as:t,bsPrefix:e,spans:o}]}const IN=x.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=bW(t);return b.jsx(i,{...r,ref:e,className:Be(n,!o.length&&s)})});IN.displayName="Col";const Fh=IN,SN=x.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},s)=>{const o=Xe(t,"container"),l=typeof e=="string"?`-${e}`:"-fluid";return b.jsx(n,{ref:s,...i,className:Be(r,e?`${o}${l}`:o)})});SN.displayName="Container";const rT=SN;var AW=Function.prototype.bind.call(Function.prototype.call,[].slice);function Fs(t,e){return AW(t.querySelectorAll(e))}function CW(t,e,n){const r=x.useRef(t!==void 0),[i,s]=x.useState(e),o=t!==void 0,l=r.current;return r.current=o,!o&&l&&i!==e&&s(e),[o?t:i,x.useCallback((...c)=>{const[h,...f]=c;let p=n==null?void 0:n(h,...f);return s(h),p},[n])]}function xN(){const[,t]=x.useReducer(e=>!e,!1);return t}const PW=x.createContext(null),py=PW;var vA=Object.prototype.hasOwnProperty;function _A(t,e,n){for(n of t.keys())if(ef(n,e))return n}function ef(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&ef(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=_A(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=_A(e,i),!i)||!ef(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(vA.call(t,n)&&++r&&!vA.call(e,n)||!(n in e)||!ef(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function OW(t){const e=pN();return[t[0],x.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var qr="top",Pi="bottom",Oi="right",Wr="left",iT="auto",yd=[qr,Pi,Oi,Wr],rc="start",kf="end",DW="clippingParents",RN="viewport",wh="popper",kW="reference",wA=yd.reduce(function(t,e){return t.concat([e+"-"+rc,e+"-"+kf])},[]),bN=[].concat(yd,[iT]).reduce(function(t,e){return t.concat([e,e+"-"+rc,e+"-"+kf])},[]),NW="beforeRead",LW="read",MW="afterRead",FW="beforeMain",VW="main",$W="afterMain",jW="beforeWrite",BW="write",UW="afterWrite",zW=[NW,LW,MW,FW,VW,$W,jW,BW,UW];function gs(t){return t.split("-")[0]}function ii(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function yl(t){var e=ii(t).Element;return t instanceof e||t instanceof Element}function ys(t){var e=ii(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function sT(t){if(typeof ShadowRoot>"u")return!1;var e=ii(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var al=Math.max,pg=Math.min,ic=Math.round;function Kw(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function AN(){return!/^((?!chrome|android).)*safari/i.test(Kw())}function sc(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&ys(t)&&(i=t.offsetWidth>0&&ic(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&ic(r.height)/t.offsetHeight||1);var o=yl(t)?ii(t):window,l=o.visualViewport,c=!AN()&&n,h=(r.left+(c&&l?l.offsetLeft:0))/i,f=(r.top+(c&&l?l.offsetTop:0))/s,p=r.width/i,m=r.height/s;return{width:p,height:m,top:f,right:h+p,bottom:f+m,left:h,x:h,y:f}}function oT(t){var e=sc(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function CN(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&sT(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function na(t){return t?(t.nodeName||"").toLowerCase():null}function no(t){return ii(t).getComputedStyle(t)}function qW(t){return["table","td","th"].indexOf(na(t))>=0}function ya(t){return((yl(t)?t.ownerDocument:t.document)||window.document).documentElement}function my(t){return na(t)==="html"?t:t.assignedSlot||t.parentNode||(sT(t)?t.host:null)||ya(t)}function EA(t){return!ys(t)||no(t).position==="fixed"?null:t.offsetParent}function WW(t){var e=/firefox/i.test(Kw()),n=/Trident/i.test(Kw());if(n&&ys(t)){var r=no(t);if(r.position==="fixed")return null}var i=my(t);for(sT(i)&&(i=i.host);ys(i)&&["html","body"].indexOf(na(i))<0;){var s=no(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function vd(t){for(var e=ii(t),n=EA(t);n&&qW(n)&&no(n).position==="static";)n=EA(n);return n&&(na(n)==="html"||na(n)==="body"&&no(n).position==="static")?e:n||WW(t)||e}function aT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function tf(t,e,n){return al(t,pg(e,n))}function KW(t,e,n){var r=tf(t,e,n);return r>n?n:r}function PN(){return{top:0,right:0,bottom:0,left:0}}function ON(t){return Object.assign({},PN(),t)}function DN(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var HW=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,ON(typeof e!="number"?e:DN(e,yd))};function GW(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,l=gs(n.placement),c=aT(l),h=[Wr,Oi].indexOf(l)>=0,f=h?"height":"width";if(!(!s||!o)){var p=HW(i.padding,n),m=oT(s),y=c==="y"?qr:Wr,v=c==="y"?Pi:Oi,w=n.rects.reference[f]+n.rects.reference[c]-o[c]-n.rects.popper[f],R=o[c]-n.rects.reference[c],T=vd(s),S=T?c==="y"?T.clientHeight||0:T.clientWidth||0:0,I=w/2-R/2,E=p[y],P=S-m[f]-p[v],O=S/2-m[f]/2+I,D=tf(E,O,P),N=c;n.modifiersData[r]=(e={},e[N]=D,e.centerOffset=D-O,e)}}function QW(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||CN(e.elements.popper,i)&&(e.elements.arrow=i))}const YW={name:"arrow",enabled:!0,phase:"main",fn:GW,effect:QW,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function oc(t){return t.split("-")[1]}var XW={top:"auto",right:"auto",bottom:"auto",left:"auto"};function JW(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:ic(n*i)/i||0,y:ic(r*i)/i||0}}function TA(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,l=t.position,c=t.gpuAcceleration,h=t.adaptive,f=t.roundOffsets,p=t.isFixed,m=o.x,y=m===void 0?0:m,v=o.y,w=v===void 0?0:v,R=typeof f=="function"?f({x:y,y:w}):{x:y,y:w};y=R.x,w=R.y;var T=o.hasOwnProperty("x"),S=o.hasOwnProperty("y"),I=Wr,E=qr,P=window;if(h){var O=vd(n),D="clientHeight",N="clientWidth";if(O===ii(n)&&(O=ya(n),no(O).position!=="static"&&l==="absolute"&&(D="scrollHeight",N="scrollWidth")),O=O,i===qr||(i===Wr||i===Oi)&&s===kf){E=Pi;var W=p&&O===P&&P.visualViewport?P.visualViewport.height:O[D];w-=W-r.height,w*=c?1:-1}if(i===Wr||(i===qr||i===Pi)&&s===kf){I=Oi;var Y=p&&O===P&&P.visualViewport?P.visualViewport.width:O[N];y-=Y-r.width,y*=c?1:-1}}var ie=Object.assign({position:l},h&&XW),fe=f===!0?JW({x:y,y:w},ii(n)):{x:y,y:w};if(y=fe.x,w=fe.y,c){var _e;return Object.assign({},ie,(_e={},_e[E]=S?"0":"",_e[I]=T?"0":"",_e.transform=(P.devicePixelRatio||1)<=1?"translate("+y+"px, "+w+"px)":"translate3d("+y+"px, "+w+"px, 0)",_e))}return Object.assign({},ie,(e={},e[E]=S?w+"px":"",e[I]=T?y+"px":"",e.transform="",e))}function ZW(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,l=n.roundOffsets,c=l===void 0?!0:l,h={placement:gs(e.placement),variation:oc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,TA(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,TA(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const eK={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ZW,data:{}};var Gp={passive:!0};function tK(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,l=o===void 0?!0:o,c=ii(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&h.forEach(function(f){f.addEventListener("scroll",n.update,Gp)}),l&&c.addEventListener("resize",n.update,Gp),function(){s&&h.forEach(function(f){f.removeEventListener("scroll",n.update,Gp)}),l&&c.removeEventListener("resize",n.update,Gp)}}const nK={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:tK,data:{}};var rK={left:"right",right:"left",bottom:"top",top:"bottom"};function Im(t){return t.replace(/left|right|bottom|top/g,function(e){return rK[e]})}var iK={start:"end",end:"start"};function IA(t){return t.replace(/start|end/g,function(e){return iK[e]})}function lT(t){var e=ii(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function uT(t){return sc(ya(t)).left+lT(t).scrollLeft}function sK(t,e){var n=ii(t),r=ya(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;var h=AN();(h||!h&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l+uT(t),y:c}}function oK(t){var e,n=ya(t),r=lT(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=al(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=al(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+uT(t),c=-r.scrollTop;return no(i||n).direction==="rtl"&&(l+=al(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:l,y:c}}function cT(t){var e=no(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function kN(t){return["html","body","#document"].indexOf(na(t))>=0?t.ownerDocument.body:ys(t)&&cT(t)?t:kN(my(t))}function nf(t,e){var n;e===void 0&&(e=[]);var r=kN(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=ii(r),o=i?[s].concat(s.visualViewport||[],cT(r)?r:[]):r,l=e.concat(o);return i?l:l.concat(nf(my(o)))}function Hw(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function aK(t,e){var n=sc(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function SA(t,e,n){return e===RN?Hw(sK(t,n)):yl(e)?aK(e,n):Hw(oK(ya(t)))}function lK(t){var e=nf(my(t)),n=["absolute","fixed"].indexOf(no(t).position)>=0,r=n&&ys(t)?vd(t):t;return yl(r)?e.filter(function(i){return yl(i)&&CN(i,r)&&na(i)!=="body"}):[]}function uK(t,e,n,r){var i=e==="clippingParents"?lK(t):[].concat(e),s=[].concat(i,[n]),o=s[0],l=s.reduce(function(c,h){var f=SA(t,h,r);return c.top=al(f.top,c.top),c.right=pg(f.right,c.right),c.bottom=pg(f.bottom,c.bottom),c.left=al(f.left,c.left),c},SA(t,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function NN(t){var e=t.reference,n=t.element,r=t.placement,i=r?gs(r):null,s=r?oc(r):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(i){case qr:c={x:o,y:e.y-n.height};break;case Pi:c={x:o,y:e.y+e.height};break;case Oi:c={x:e.x+e.width,y:l};break;case Wr:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var h=i?aT(i):null;if(h!=null){var f=h==="y"?"height":"width";switch(s){case rc:c[h]=c[h]-(e[f]/2-n[f]/2);break;case kf:c[h]=c[h]+(e[f]/2-n[f]/2);break}}return c}function Nf(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,l=n.boundary,c=l===void 0?DW:l,h=n.rootBoundary,f=h===void 0?RN:h,p=n.elementContext,m=p===void 0?wh:p,y=n.altBoundary,v=y===void 0?!1:y,w=n.padding,R=w===void 0?0:w,T=ON(typeof R!="number"?R:DN(R,yd)),S=m===wh?kW:wh,I=t.rects.popper,E=t.elements[v?S:m],P=uK(yl(E)?E:E.contextElement||ya(t.elements.popper),c,f,o),O=sc(t.elements.reference),D=NN({reference:O,element:I,strategy:"absolute",placement:i}),N=Hw(Object.assign({},I,D)),W=m===wh?N:O,Y={top:P.top-W.top+T.top,bottom:W.bottom-P.bottom+T.bottom,left:P.left-W.left+T.left,right:W.right-P.right+T.right},ie=t.modifiersData.offset;if(m===wh&&ie){var fe=ie[i];Object.keys(Y).forEach(function(_e){var Fe=[Oi,Pi].indexOf(_e)>=0?1:-1,Ce=[qr,Pi].indexOf(_e)>=0?"y":"x";Y[_e]+=fe[Ce]*Fe})}return Y}function cK(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,h=c===void 0?bN:c,f=oc(r),p=f?l?wA:wA.filter(function(v){return oc(v)===f}):yd,m=p.filter(function(v){return h.indexOf(v)>=0});m.length===0&&(m=p);var y=m.reduce(function(v,w){return v[w]=Nf(t,{placement:w,boundary:i,rootBoundary:s,padding:o})[gs(w)],v},{});return Object.keys(y).sort(function(v,w){return y[v]-y[w]})}function hK(t){if(gs(t)===iT)return[];var e=Im(t);return[IA(t),e,IA(e)]}function fK(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!0:o,c=n.fallbackPlacements,h=n.padding,f=n.boundary,p=n.rootBoundary,m=n.altBoundary,y=n.flipVariations,v=y===void 0?!0:y,w=n.allowedAutoPlacements,R=e.options.placement,T=gs(R),S=T===R,I=c||(S||!v?[Im(R)]:hK(R)),E=[R].concat(I).reduce(function(je,ke){return je.concat(gs(ke)===iT?cK(e,{placement:ke,boundary:f,rootBoundary:p,padding:h,flipVariations:v,allowedAutoPlacements:w}):ke)},[]),P=e.rects.reference,O=e.rects.popper,D=new Map,N=!0,W=E[0],Y=0;Y<E.length;Y++){var ie=E[Y],fe=gs(ie),_e=oc(ie)===rc,Fe=[qr,Pi].indexOf(fe)>=0,Ce=Fe?"width":"height",Ve=Nf(e,{placement:ie,boundary:f,rootBoundary:p,altBoundary:m,padding:h}),Me=Fe?_e?Oi:Wr:_e?Pi:qr;P[Ce]>O[Ce]&&(Me=Im(Me));var H=Im(Me),ce=[];if(s&&ce.push(Ve[fe]<=0),l&&ce.push(Ve[Me]<=0,Ve[H]<=0),ce.every(function(je){return je})){W=ie,N=!1;break}D.set(ie,ce)}if(N)for(var ae=v?3:1,we=function(ke){var et=E.find(function(Jt){var _t=D.get(Jt);if(_t)return _t.slice(0,ke).every(function(Qe){return Qe})});if(et)return W=et,"break"},Ae=ae;Ae>0;Ae--){var $e=we(Ae);if($e==="break")break}e.placement!==W&&(e.modifiersData[r]._skip=!0,e.placement=W,e.reset=!0)}}const dK={name:"flip",enabled:!0,phase:"main",fn:fK,requiresIfExists:["offset"],data:{_skip:!1}};function xA(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function RA(t){return[qr,Oi,Pi,Wr].some(function(e){return t[e]>=0})}function pK(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Nf(e,{elementContext:"reference"}),l=Nf(e,{altBoundary:!0}),c=xA(o,r),h=xA(l,i,s),f=RA(c),p=RA(h);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}const mK={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:pK};function gK(t,e,n){var r=gs(t),i=[Wr,qr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],l=s[1];return o=o||0,l=(l||0)*i,[Wr,Oi].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function yK(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=bN.reduce(function(f,p){return f[p]=gK(p,e.rects,s),f},{}),l=o[e.placement],c=l.x,h=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=o}const vK={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:yK};function _K(t){var e=t.state,n=t.name;e.modifiersData[n]=NN({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const wK={name:"popperOffsets",enabled:!0,phase:"read",fn:_K,data:{}};function EK(t){return t==="x"?"y":"x"}function TK(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!1:o,c=n.boundary,h=n.rootBoundary,f=n.altBoundary,p=n.padding,m=n.tether,y=m===void 0?!0:m,v=n.tetherOffset,w=v===void 0?0:v,R=Nf(e,{boundary:c,rootBoundary:h,padding:p,altBoundary:f}),T=gs(e.placement),S=oc(e.placement),I=!S,E=aT(T),P=EK(E),O=e.modifiersData.popperOffsets,D=e.rects.reference,N=e.rects.popper,W=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,Y=typeof W=="number"?{mainAxis:W,altAxis:W}:Object.assign({mainAxis:0,altAxis:0},W),ie=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,fe={x:0,y:0};if(O){if(s){var _e,Fe=E==="y"?qr:Wr,Ce=E==="y"?Pi:Oi,Ve=E==="y"?"height":"width",Me=O[E],H=Me+R[Fe],ce=Me-R[Ce],ae=y?-N[Ve]/2:0,we=S===rc?D[Ve]:N[Ve],Ae=S===rc?-N[Ve]:-D[Ve],$e=e.elements.arrow,je=y&&$e?oT($e):{width:0,height:0},ke=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:PN(),et=ke[Fe],Jt=ke[Ce],_t=tf(0,D[Ve],je[Ve]),Qe=I?D[Ve]/2-ae-_t-et-Y.mainAxis:we-_t-et-Y.mainAxis,Vt=I?-D[Ve]/2+ae+_t+Jt+Y.mainAxis:Ae+_t+Jt+Y.mainAxis,ct=e.elements.arrow&&vd(e.elements.arrow),xt=ct?E==="y"?ct.clientTop||0:ct.clientLeft||0:0,wt=(_e=ie==null?void 0:ie[E])!=null?_e:0,kt=Me+Qe-wt-xt,tt=Me+Vt-wt,sr=tf(y?pg(H,kt):H,Me,y?al(ce,tt):ce);O[E]=sr,fe[E]=sr-Me}if(l){var zt,Kr=E==="x"?qr:Wr,Di=E==="x"?Pi:Oi,Nt=O[P],qt=P==="y"?"height":"width",kn=Nt+R[Kr],pn=Nt-R[Di],Nn=[qr,Wr].indexOf(T)!==-1,He=(zt=ie==null?void 0:ie[P])!=null?zt:0,Zt=Nn?kn:Nt-D[qt]-N[qt]-He+Y.altAxis,J=Nn?Nt+D[qt]+N[qt]-He-Y.altAxis:pn,$=y&&Nn?KW(Zt,Nt,J):tf(y?Zt:kn,Nt,y?J:pn);O[P]=$,fe[P]=$-Nt}e.modifiersData[r]=fe}}const IK={name:"preventOverflow",enabled:!0,phase:"main",fn:TK,requiresIfExists:["offset"]};function SK(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function xK(t){return t===ii(t)||!ys(t)?lT(t):SK(t)}function RK(t){var e=t.getBoundingClientRect(),n=ic(e.width)/t.offsetWidth||1,r=ic(e.height)/t.offsetHeight||1;return n!==1||r!==1}function bK(t,e,n){n===void 0&&(n=!1);var r=ys(e),i=ys(e)&&RK(e),s=ya(e),o=sc(t,i,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((na(e)!=="body"||cT(s))&&(l=xK(e)),ys(e)?(c=sc(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=uT(s))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function AK(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&i(c)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function CK(t){var e=AK(t);return zW.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function PK(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function OK(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var bA={placement:"bottom",modifiers:[],strategy:"absolute"};function AA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function DK(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?bA:i;return function(l,c,h){h===void 0&&(h=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},bA,s),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},p=[],m=!1,y={state:f,setOptions:function(T){var S=typeof T=="function"?T(f.options):T;w(),f.options=Object.assign({},s,f.options,S),f.scrollParents={reference:yl(l)?nf(l):l.contextElement?nf(l.contextElement):[],popper:nf(c)};var I=CK(OK([].concat(r,f.options.modifiers)));return f.orderedModifiers=I.filter(function(E){return E.enabled}),v(),y.update()},forceUpdate:function(){if(!m){var T=f.elements,S=T.reference,I=T.popper;if(AA(S,I)){f.rects={reference:bK(S,vd(I),f.options.strategy==="fixed"),popper:oT(I)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(Y){return f.modifiersData[Y.name]=Object.assign({},Y.data)});for(var E=0;E<f.orderedModifiers.length;E++){if(f.reset===!0){f.reset=!1,E=-1;continue}var P=f.orderedModifiers[E],O=P.fn,D=P.options,N=D===void 0?{}:D,W=P.name;typeof O=="function"&&(f=O({state:f,options:N,name:W,instance:y})||f)}}}},update:PK(function(){return new Promise(function(R){y.forceUpdate(),R(f)})}),destroy:function(){w(),m=!0}};if(!AA(l,c))return y;y.setOptions(h).then(function(R){!m&&h.onFirstUpdate&&h.onFirstUpdate(R)});function v(){f.orderedModifiers.forEach(function(R){var T=R.name,S=R.options,I=S===void 0?{}:S,E=R.effect;if(typeof E=="function"){var P=E({state:f,name:T,instance:y,options:I}),O=function(){};p.push(P||O)}})}function w(){p.forEach(function(R){return R()}),p=[]}return y}}const kK=DK({defaultModifiers:[mK,wK,eK,nK,vK,dK,IK,YW]}),NK=["enabled","placement","strategy","modifiers"];function LK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const MK={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},FK={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const s=r.getAttribute("aria-describedby");if(s&&s.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",s?`${s},${n.id}`:n.id)}}},VK=[];function $K(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:s="absolute",modifiers:o=VK}=n,l=LK(n,NK);const c=x.useRef(o),h=x.useRef(),f=x.useCallback(()=>{var R;(R=h.current)==null||R.update()},[]),p=x.useCallback(()=>{var R;(R=h.current)==null||R.forceUpdate()},[]),[m,y]=OW(x.useState({placement:i,update:f,forceUpdate:p,attributes:{},styles:{popper:{},arrow:{}}})),v=x.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:R})=>{const T={},S={};Object.keys(R.elements).forEach(I=>{T[I]=R.styles[I],S[I]=R.attributes[I]}),y({state:R,styles:T,attributes:S,update:f,forceUpdate:p,placement:R.placement})}}),[f,p,y]),w=x.useMemo(()=>(ef(c.current,o)||(c.current=o),c.current),[o]);return x.useEffect(()=>{!h.current||!r||h.current.setOptions({placement:i,strategy:s,modifiers:[...w,v,MK]})},[s,i,v,r,w]),x.useEffect(()=>{if(!(!r||t==null||e==null))return h.current=kK(t,e,Object.assign({},l,{placement:i,strategy:s,modifiers:[...w,FK,v]})),()=>{h.current!=null&&(h.current.destroy(),h.current=void 0,y(R=>Object.assign({},R,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),m}function mg(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var jK=function(){},BK=jK;const UK=od(BK),CA=()=>{};function zK(t){return t.button===0}function qK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const n0=t=>t&&("current"in t?t.current:t),PA={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function WK(t,e=CA,{disabled:n,clickTrigger:r="click"}={}){const i=x.useRef(!1),s=x.useRef(!1),o=x.useCallback(h=>{const f=n0(t);UK(!!f,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!f||qK(h)||!zK(h)||!!mg(f,h.target)||s.current,s.current=!1},[t]),l=_n(h=>{const f=n0(t);f&&mg(f,h.target)&&(s.current=!0)}),c=_n(h=>{i.current||e(h)});x.useEffect(()=>{var h,f;if(n||t==null)return;const p=gd(n0(t)),m=p.defaultView||window;let y=(h=m.event)!=null?h:(f=m.parent)==null?void 0:f.event,v=null;PA[r]&&(v=Bo(p,PA[r],l,!0));const w=Bo(p,r,o,!0),R=Bo(p,r,S=>{if(S===y){y=void 0;return}c(S)});let T=[];return"ontouchstart"in p.documentElement&&(T=[].slice.call(p.body.children).map(S=>Bo(S,"mousemove",CA))),()=>{v==null||v(),w(),R(),T.forEach(S=>S())}},[t,n,r,o,l,c])}function KK(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function HK(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function GK({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:s,containerPadding:o,arrowElement:l,popperConfig:c={}}){var h,f,p,m,y;const v=KK(c.modifiers);return Object.assign({},c,{placement:n,enabled:t,strategy:s?"fixed":c.strategy,modifiers:HK(Object.assign({},v,{eventListeners:{enabled:e,options:(h=v.eventListeners)==null?void 0:h.options},preventOverflow:Object.assign({},v.preventOverflow,{options:o?Object.assign({padding:o},(f=v.preventOverflow)==null?void 0:f.options):(p=v.preventOverflow)==null?void 0:p.options}),offset:{options:Object.assign({offset:i},(m=v.offset)==null?void 0:m.options)},arrow:Object.assign({},v.arrow,{enabled:!!l,options:Object.assign({},(y=v.arrow)==null?void 0:y.options,{element:l})}),flip:Object.assign({enabled:!!r},v.flip)}))})}const QK=["children"];function YK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const XK=()=>{};function LN(t={}){const e=x.useContext(py),[n,r]=dN(),i=x.useRef(!1),{flip:s,offset:o,rootCloseEvent:l,fixed:c=!1,placement:h,popperConfig:f={},enableEventListeners:p=!0,usePopper:m=!!e}=t,y=(e==null?void 0:e.show)==null?!!t.show:e.show;y&&!i.current&&(i.current=!0);const v=O=>{e==null||e.toggle(!1,O)},{placement:w,setMenu:R,menuElement:T,toggleElement:S}=e||{},I=$K(S,T,GK({placement:h||w||"bottom-start",enabled:m,enableEvents:p??y,offset:o,flip:s,fixed:c,arrowElement:n,popperConfig:f})),E=Object.assign({ref:R||XK,"aria-labelledby":S==null?void 0:S.id},I.attributes.popper,{style:I.styles.popper}),P={show:y,placement:w,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:m?I:null,arrowProps:m?Object.assign({ref:r},I.attributes.arrow,{style:I.styles.arrow}):{}};return WK(T,v,{clickTrigger:l,disabled:!y}),[E,P]}const JK={usePopper:!0};function hT(t){let{children:e}=t,n=YK(t,QK);const[r,i]=LN(n);return b.jsx(b.Fragment,{children:e(r,i)})}hT.displayName="DropdownMenu";hT.defaultProps=JK;const gg={prefix:String(Math.round(Math.random()*1e10)),current:0},MN=Qt.createContext(gg),ZK=Qt.createContext(!1);let eH=!!(typeof window<"u"&&window.document&&window.document.createElement),r0=new WeakMap;function tH(t=!1){let e=x.useContext(MN),n=x.useRef(null);if(n.current===null&&!t){var r,i;let s=(r=Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||r===void 0||(i=r.ReactCurrentOwner)===null||i===void 0?void 0:i.current;if(s){let o=r0.get(s);o==null?r0.set(s,{id:e.current,state:s.memoizedState}):s.memoizedState!==o.state&&(e.current=o.id,r0.delete(s))}n.current=++e.current}return n.current}function nH(t){let e=x.useContext(MN);e===gg&&!eH&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=tH(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function rH(t){let e=Qt.useId(),[n]=x.useState(lH()),r=n?"react-aria":`react-aria${gg.prefix}`;return t||`${r}-${e}`}const iH=typeof Qt.useId=="function"?rH:nH;function sH(){return!1}function oH(){return!0}function aH(t){return()=>{}}function lH(){return typeof Qt.useSyncExternalStore=="function"?Qt.useSyncExternalStore(aH,sH,oH):x.useContext(ZK)}const FN=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},OA=()=>{};function VN(){const t=iH(),{show:e=!1,toggle:n=OA,setToggle:r,menuElement:i}=x.useContext(py)||{},s=x.useCallback(l=>{n(!e,l)},[e,n]),o={id:t,ref:r||OA,onClick:s,"aria-expanded":!!e};return i&&FN(i)&&(o["aria-haspopup"]=!0),[o,{show:e,toggle:n}]}function $N({children:t}){const[e,n]=VN();return b.jsx(b.Fragment,{children:t(e,n)})}$N.displayName="DropdownToggle";const uH=x.createContext(null),Lf=(t,e=null)=>t!=null?String(t):e||null,vl=uH,jN=x.createContext(null);jN.displayName="NavContext";const fT=jN,cH="data-rr-ui-",hH="rrUi";function Ac(t){return`${cH}${t}`}function fH(t){return`${hH}${t}`}const dH=["eventKey","disabled","onClick","active","as"];function pH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function BN({key:t,href:e,active:n,disabled:r,onClick:i}){const s=x.useContext(vl),o=x.useContext(fT),{activeKey:l}=o||{},c=Lf(t,e),h=n==null&&t!=null?Lf(l)===c:n;return[{onClick:_n(p=>{r||(i==null||i(p),s&&!p.isPropagationStopped()&&s(c,p))}),"aria-disabled":r||void 0,"aria-selected":h,[Ac("dropdown-item")]:""},{isActive:h}]}const UN=x.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:o=eT}=t,l=pH(t,dH);const[c]=BN({key:n,href:l.href,disabled:r,onClick:i,active:s});return b.jsx(o,Object.assign({},l,{ref:e},c))});UN.displayName="DropdownItem";const zN=x.createContext(bc?window:void 0);zN.Provider;function gy(){return x.useContext(zN)}function DA(){const t=xN(),e=x.useRef(null),n=x.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function _d({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${Ac("dropdown-item")}]`,focusFirstItemOnShow:s,placement:o="bottom-start",children:l}){const c=gy(),[h,f]=CW(e,t,r),[p,m]=DA(),y=p.current,[v,w]=DA(),R=v.current,T=mN(h),S=x.useRef(null),I=x.useRef(!1),E=x.useContext(vl),P=x.useCallback((ie,fe,_e=fe==null?void 0:fe.type)=>{f(ie,{originalEvent:fe,source:_e})},[f]),O=_n((ie,fe)=>{n==null||n(ie,fe),P(!1,fe,"select"),fe.isPropagationStopped()||E==null||E(ie,fe)}),D=x.useMemo(()=>({toggle:P,placement:o,show:h,menuElement:y,toggleElement:R,setMenu:m,setToggle:w}),[P,o,h,y,R,m,w]);y&&T&&!h&&(I.current=y.contains(y.ownerDocument.activeElement));const N=_n(()=>{R&&R.focus&&R.focus()}),W=_n(()=>{const ie=S.current;let fe=s;if(fe==null&&(fe=p.current&&FN(p.current)?"keyboard":!1),fe===!1||fe==="keyboard"&&!/^key.+$/.test(ie))return;const _e=Fs(p.current,i)[0];_e&&_e.focus&&_e.focus()});x.useEffect(()=>{h?W():I.current&&(I.current=!1,N())},[h,I,N,W]),x.useEffect(()=>{S.current=null});const Y=(ie,fe)=>{if(!p.current)return null;const _e=Fs(p.current,i);let Fe=_e.indexOf(ie)+fe;return Fe=Math.max(0,Math.min(Fe,_e.length)),_e[Fe]};return hW(x.useCallback(()=>c.document,[c]),"keydown",ie=>{var fe,_e;const{key:Fe}=ie,Ce=ie.target,Ve=(fe=p.current)==null?void 0:fe.contains(Ce),Me=(_e=v.current)==null?void 0:_e.contains(Ce);if(/input|textarea/i.test(Ce.tagName)&&(Fe===" "||Fe!=="Escape"&&Ve||Fe==="Escape"&&Ce.type==="search")||!Ve&&!Me||Fe==="Tab"&&(!p.current||!h))return;S.current=ie.type;const ce={originalEvent:ie,source:ie.type};switch(Fe){case"ArrowUp":{const ae=Y(Ce,-1);ae&&ae.focus&&ae.focus(),ie.preventDefault();return}case"ArrowDown":if(ie.preventDefault(),!h)f(!0,ce);else{const ae=Y(Ce,1);ae&&ae.focus&&ae.focus()}return;case"Tab":Y1(Ce.ownerDocument,"keyup",ae=>{var we;(ae.key==="Tab"&&!ae.target||!((we=p.current)!=null&&we.contains(ae.target)))&&f(!1,ce)},{once:!0});break;case"Escape":Fe==="Escape"&&(ie.preventDefault(),ie.stopPropagation()),f(!1,ce);break}}),b.jsx(vl.Provider,{value:O,children:b.jsx(py.Provider,{value:D,children:l})})}_d.displayName="Dropdown";_d.Menu=hT;_d.Toggle=$N;_d.Item=UN;const qN=x.createContext({});qN.displayName="DropdownContext";const WN=qN,KN=x.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:r="separator",...i},s)=>(e=Xe(e,"dropdown-divider"),b.jsx(n,{ref:s,className:Be(t,e),role:r,...i})));KN.displayName="DropdownDivider";const mH=KN,HN=x.forwardRef(({className:t,bsPrefix:e,as:n="div",role:r="heading",...i},s)=>(e=Xe(e,"dropdown-header"),b.jsx(n,{ref:s,className:Be(t,e),role:r,...i})));HN.displayName="DropdownHeader";const gH=HN,GN=x.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:s,as:o=yN,...l},c)=>{const h=Xe(t,"dropdown-item"),[f,p]=BN({key:n,href:l.href,disabled:r,onClick:i,active:s});return b.jsx(o,{...l,...f,ref:c,className:Be(e,h,p.isActive&&"active",r&&"disabled")})});GN.displayName="DropdownItem";const yH=GN,QN=x.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Xe(e,"dropdown-item-text"),b.jsx(n,{ref:i,className:Be(t,e),...r})));QN.displayName="DropdownItemText";const vH=QN,YN=x.createContext(null);YN.displayName="InputGroupContext";const dT=YN,XN=x.createContext(null);XN.displayName="NavbarContext";const Ll=XN;function JN(t,e){return t}function ZN(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",s=n?"bottom-end":"bottom-start",o=n?"bottom-start":"bottom-end",l=n?"right-start":"left-start",c=n?"right-end":"left-end",h=n?"left-start":"right-start",f=n?"left-end":"right-end";let p=t?o:s;return e==="up"?p=t?i:r:e==="end"?p=t?f:h:e==="start"?p=t?c:l:e==="down-centered"?p="bottom":e==="up-centered"&&(p="top"),p}const e2=x.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i=!0,show:s,renderOnMount:o,as:l="div",popperConfig:c,variant:h,...f},p)=>{let m=!1;const y=x.useContext(Ll),v=Xe(t,"dropdown-menu"),{align:w,drop:R,isRTL:T}=x.useContext(WN);n=n||w;const S=x.useContext(dT),I=[];if(n)if(typeof n=="object"){const ie=Object.keys(n);if(ie.length){const fe=ie[0],_e=n[fe];m=_e==="start",I.push(`${v}-${fe}-${_e}`)}}else n==="end"&&(m=!0);const E=ZN(m,R,T),[P,{hasShown:O,popper:D,show:N,toggle:W}]=LN({flip:i,rootCloseEvent:r,show:s,usePopper:!y&&I.length===0,offset:[0,2],popperConfig:c,placement:E});if(P.ref=Nl(JN(p),P.ref),fg(()=>{N&&(D==null||D.update())},[N]),!O&&!o&&!S)return null;typeof l!="string"&&(P.show=N,P.close=()=>W==null?void 0:W(!1),P.align=n);let Y=f.style;return D!=null&&D.placement&&(Y={...f.style,...P.style},f["x-placement"]=D.placement),b.jsx(l,{...f,...P,style:Y,...(I.length||y)&&{"data-bs-popper":"static"},className:Be(e,v,N&&"show",m&&`${v}-end`,h&&`${v}-${h}`,...I)})});e2.displayName="DropdownMenu";const _H=e2,t2=x.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=dg,...s},o)=>{const l=Xe(t,"dropdown-toggle"),c=x.useContext(py);r!==void 0&&(s.bsPrefix=r);const[h]=VN();return h.ref=Nl(h.ref,JN(o)),b.jsx(i,{className:Be(n,l,e&&`${l}-split`,(c==null?void 0:c.show)&&"show"),...h,...s})});t2.displayName="DropdownToggle";const wH=t2,n2=x.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:i,className:s,align:o="start",onSelect:l,onToggle:c,focusFirstItemOnShow:h,as:f="div",navbar:p,autoClose:m=!0,...y}=Q1(t,{show:"onToggle"}),v=x.useContext(dT),w=Xe(n,"dropdown"),R=iN(),T=D=>m===!1?D==="click":m==="inside"?D!=="rootClose":m==="outside"?D!=="select":!0,S=_n((D,N)=>{N.originalEvent.currentTarget===document&&(N.source!=="keydown"||N.originalEvent.key==="Escape")&&(N.source="rootClose"),T(N.source)&&(c==null||c(D,N))}),E=ZN(o==="end",r,R),P=x.useMemo(()=>({align:o,drop:r,isRTL:R}),[o,r,R]),O={down:w,"down-centered":`${w}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return b.jsx(WN.Provider,{value:P,children:b.jsx(_d,{placement:E,show:i,onSelect:l,onToggle:S,focusFirstItemOnShow:h,itemSelector:`.${w}-item:not(.disabled):not(:disabled)`,children:v?y.children:b.jsx(f,{...y,ref:e,className:Be(s,i&&"show",O[r])})})})});n2.displayName="Dropdown";const ss=Object.assign(n2,{Toggle:wH,Menu:_H,Item:yH,ItemText:vH,Divider:mH,Header:gH}),EH={type:Gs.string,tooltip:Gs.bool,as:Gs.elementType},pT=x.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>b.jsx(t,{...i,ref:s,className:Be(e,`${n}-${r?"tooltip":"feedback"}`)}));pT.displayName="Feedback";pT.propTypes=EH;const r2=pT,TH=x.createContext({}),ro=TH,i2=x.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...l},c)=>{const{controlId:h}=x.useContext(ro);return e=Xe(e,"form-check-input"),b.jsx(o,{...l,ref:c,type:r,id:t||h,className:Be(n,e,i&&"is-valid",s&&"is-invalid")})});i2.displayName="FormCheckInput";const yy=i2,s2=x.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=x.useContext(ro);return t=Xe(t,"form-check-label"),b.jsx("label",{...r,ref:i,htmlFor:n||s,className:Be(e,t)})});s2.displayName="FormCheckLabel";const Gw=s2,o2=x.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:l=!1,feedbackTooltip:c=!1,feedback:h,feedbackType:f,className:p,style:m,title:y="",type:v="checkbox",label:w,children:R,as:T="input",...S},I)=>{e=Xe(e,"form-check"),n=Xe(n,"form-switch");const{controlId:E}=x.useContext(ro),P=x.useMemo(()=>({controlId:t||E}),[E,t]),O=!R&&w!=null&&w!==!1||RW(R,Gw),D=b.jsx(yy,{...S,type:v==="switch"?"checkbox":v,ref:I,isValid:o,isInvalid:l,disabled:s,as:T});return b.jsx(ro.Provider,{value:P,children:b.jsx("div",{style:m,className:Be(p,O&&e,r&&`${e}-inline`,i&&`${e}-reverse`,v==="switch"&&n),children:R||b.jsxs(b.Fragment,{children:[D,O&&b.jsx(Gw,{title:y,children:w}),h&&b.jsx(r2,{type:f,tooltip:c,children:h})]})})})});o2.displayName="FormCheck";const yg=Object.assign(o2,{Input:yy,Label:Gw}),a2=x.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:l=!1,plaintext:c,readOnly:h,as:f="input",...p},m)=>{const{controlId:y}=x.useContext(ro);return t=Xe(t,"form-control"),b.jsx(f,{...p,type:e,size:r,ref:m,readOnly:h,id:i||y,className:Be(s,c?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,o&&"is-valid",l&&"is-invalid")})});a2.displayName="FormControl";const IH=Object.assign(a2,{Feedback:r2}),l2=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Xe(e,"form-floating"),b.jsx(n,{ref:i,className:Be(t,e),...r})));l2.displayName="FormFloating";const SH=l2,u2=x.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=x.useMemo(()=>({controlId:t}),[t]);return b.jsx(ro.Provider,{value:i,children:b.jsx(e,{...n,ref:r})})});u2.displayName="FormGroup";const c2=u2,h2=x.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:s,...o},l)=>{const{controlId:c}=x.useContext(ro);e=Xe(e,"form-label");let h="col-form-label";typeof n=="string"&&(h=`${h} ${h}-${n}`);const f=Be(i,e,r&&"visually-hidden",n&&h);return s=s||c,n?b.jsx(Fh,{ref:l,as:"label",className:f,htmlFor:s,...o}):b.jsx(t,{ref:l,className:f,htmlFor:s,...o})});h2.displayName="FormLabel";const xH=h2,f2=x.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=x.useContext(ro);return t=Xe(t,"form-range"),b.jsx("input",{...r,type:"range",ref:i,className:Be(e,t),id:n||s})});f2.displayName="FormRange";const RH=f2,d2=x.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...l},c)=>{const{controlId:h}=x.useContext(ro);return t=Xe(t,"form-select"),b.jsx("select",{...l,size:n,ref:c,className:Be(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||h})});d2.displayName="FormSelect";const bH=d2,p2=x.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=Xe(t,"form-text"),b.jsx(n,{...i,ref:s,className:Be(e,t,r&&"text-muted")})));p2.displayName="FormText";const AH=p2,m2=x.forwardRef((t,e)=>b.jsx(yg,{...t,ref:e,type:"switch"}));m2.displayName="Switch";const CH=Object.assign(m2,{Input:yg.Input,Label:yg.Label}),g2=x.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=Xe(t,"form-floating"),b.jsxs(c2,{ref:o,className:Be(e,t),controlId:r,...s,children:[n,b.jsx("label",{htmlFor:r,children:i})]})));g2.displayName="FloatingLabel";const PH=g2,OH={_ref:Gs.any,validated:Gs.bool,as:Gs.elementType},mT=x.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>b.jsx(n,{...r,ref:i,className:Be(t,e&&"was-validated")}));mT.displayName="Form";mT.propTypes=OH;const DH=Object.assign(mT,{Group:c2,Control:IH,Floating:SH,Check:yg,Switch:CH,Label:xH,Text:AH,Range:RH,Select:bH,FloatingLabel:PH}),y2=x.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Xe(e,"input-group-text"),b.jsx(n,{ref:i,className:Be(t,e),...r})));y2.displayName="InputGroupText";const gT=y2,kH=t=>b.jsx(gT,{children:b.jsx(yy,{type:"checkbox",...t})}),NH=t=>b.jsx(gT,{children:b.jsx(yy,{type:"radio",...t})}),v2=x.forwardRef(({bsPrefix:t,size:e,hasValidation:n,className:r,as:i="div",...s},o)=>{t=Xe(t,"input-group");const l=x.useMemo(()=>({}),[]);return b.jsx(dT.Provider,{value:l,children:b.jsx(i,{ref:o,...s,className:Be(r,t,e&&`${t}-${e}`,n&&"has-validation")})})});v2.displayName="InputGroup";const LH=Object.assign(v2,{Text:gT,Radio:NH,Checkbox:kH}),MH=x.createContext(null),_2=MH,FH=["as","active","eventKey"];function VH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function w2({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=x.useContext(vl),l=x.useContext(fT),c=x.useContext(_2);let h=n;const f={role:i};if(l){!i&&l.role==="tablist"&&(f.role="tab");const p=l.getControllerId(t??null),m=l.getControlledId(t??null);f[Ac("event-key")]=t,f.id=p||r,h=n==null&&t!=null?l.activeKey===t:n,(h||!(c!=null&&c.unmountOnExit)&&!(c!=null&&c.mountOnEnter))&&(f["aria-controls"]=m)}return f.role==="tab"&&(f["aria-selected"]=h,h||(f.tabIndex=-1),s&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=_n(p=>{s||(e==null||e(p),t!=null&&o&&!p.isPropagationStopped()&&o(t,p))}),[f,{isActive:h}]}const E2=x.forwardRef((t,e)=>{let{as:n=eT,active:r,eventKey:i}=t,s=VH(t,FH);const[o,l]=w2(Object.assign({key:Lf(i,s.href),active:r},s));return o[Ac("active")]=l.isActive,b.jsx(n,Object.assign({},s,o,{ref:e}))});E2.displayName="NavItem";const $H=E2,jH=["as","onSelect","activeKey","role","onKeyDown"];function BH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const kA=()=>{},NA=Ac("event-key"),T2=x.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,l=BH(t,jH);const c=xN(),h=x.useRef(!1),f=x.useContext(vl),p=x.useContext(_2);let m,y;p&&(s=s||"tablist",i=p.activeKey,m=p.getControlledId,y=p.getControllerId);const v=x.useRef(null),w=I=>{const E=v.current;if(!E)return null;const P=Fs(E,`[${NA}]:not([aria-disabled=true])`),O=E.querySelector("[aria-selected=true]");if(!O||O!==document.activeElement)return null;const D=P.indexOf(O);if(D===-1)return null;let N=D+I;return N>=P.length&&(N=0),N<0&&(N=P.length-1),P[N]},R=(I,E)=>{I!=null&&(r==null||r(I,E),f==null||f(I,E))},T=I=>{if(o==null||o(I),!p)return;let E;switch(I.key){case"ArrowLeft":case"ArrowUp":E=w(-1);break;case"ArrowRight":case"ArrowDown":E=w(1);break;default:return}E&&(I.preventDefault(),R(E.dataset[fH("EventKey")]||null,I),h.current=!0,c())};x.useEffect(()=>{if(v.current&&h.current){const I=v.current.querySelector(`[${NA}][aria-selected=true]`);I==null||I.focus()}h.current=!1});const S=Nl(e,v);return b.jsx(vl.Provider,{value:R,children:b.jsx(fT.Provider,{value:{role:s,activeKey:Lf(i),getControlledId:m||kA,getControllerId:y||kA},children:b.jsx(n,Object.assign({},l,{onKeyDown:T,ref:S,role:s}))})})});T2.displayName="Nav";const UH=Object.assign(T2,{Item:$H});var Qp;function LA(t){if((!Qp&&Qp!==0||t)&&bc){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Qp=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Qp}function i0(t){t===void 0&&(t=gd());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function zH(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const MA=Ac("modal-open");class qH{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return zH(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Hs(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(MA,""),Hs(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(MA),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const yT=qH,s0=(t,e)=>bc?t==null?(e||gd()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function WH(t,e){const n=gy(),[r,i]=x.useState(()=>s0(t,n==null?void 0:n.document));if(!r){const s=s0(t);s&&i(s)}return x.useEffect(()=>{e&&r&&e(r)},[e,r]),x.useEffect(()=>{const s=s0(t);s!==r&&i(s)},[t,r]),r}function KH({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=x.useRef(null),o=x.useRef(e),l=_n(n);x.useEffect(()=>{e?o.current=!0:l(s.current)},[e,l]);const c=Nl(s,t.ref),h=x.cloneElement(t,{ref:c});return e?h:i||!o.current&&r?null:h}function HH({in:t,onTransition:e}){const n=x.useRef(null),r=x.useRef(!0),i=_n(e);return fg(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),fg(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function GH({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=x.useState(!e);e&&s&&o(!1);const l=HH({in:!!e,onTransition:h=>{const f=()=>{h.isStale()||(h.in?r==null||r(h.element,h.initial):(o(!0),n==null||n(h.element)))};Promise.resolve(i(h)).then(f,p=>{throw h.in||o(!0),p})}}),c=Nl(l,t.ref);return s&&!e?null:x.cloneElement(t,{ref:c})}function FA(t,e,n){return t?b.jsx(t,Object.assign({},n)):e?b.jsx(GH,Object.assign({},n,{transition:e})):b.jsx(KH,Object.assign({},n))}function QH(t){return t.code==="Escape"||t.keyCode===27}const YH=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function XH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let o0;function JH(t){return o0||(o0=new yT({ownerDocument:t==null?void 0:t.document})),o0}function ZH(t){const e=gy(),n=t||JH(e),r=x.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:x.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:x.useCallback(i=>{r.current.backdrop=i},[])})}const I2=x.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:l=!0,keyboard:c=!0,onBackdropClick:h,onEscapeKeyDown:f,transition:p,runTransition:m,backdropTransition:y,runBackdropTransition:v,autoFocus:w=!0,enforceFocus:R=!0,restoreFocus:T=!0,restoreFocusOptions:S,renderDialog:I,renderBackdrop:E=tt=>b.jsx("div",Object.assign({},tt)),manager:P,container:O,onShow:D,onHide:N=()=>{},onExit:W,onExited:Y,onExiting:ie,onEnter:fe,onEntering:_e,onEntered:Fe}=t,Ce=XH(t,YH);const Ve=gy(),Me=WH(O),H=ZH(P),ce=pN(),ae=mN(n),[we,Ae]=x.useState(!n),$e=x.useRef(null);x.useImperativeHandle(e,()=>H,[H]),bc&&!ae&&n&&($e.current=i0(Ve==null?void 0:Ve.document)),n&&we&&Ae(!1);const je=_n(()=>{if(H.add(),Vt.current=Bo(document,"keydown",_t),Qe.current=Bo(document,"focus",()=>setTimeout(et),!0),D&&D(),w){var tt,sr;const zt=i0((tt=(sr=H.dialog)==null?void 0:sr.ownerDocument)!=null?tt:Ve==null?void 0:Ve.document);H.dialog&&zt&&!mg(H.dialog,zt)&&($e.current=zt,H.dialog.focus())}}),ke=_n(()=>{if(H.remove(),Vt.current==null||Vt.current(),Qe.current==null||Qe.current(),T){var tt;(tt=$e.current)==null||tt.focus==null||tt.focus(S),$e.current=null}});x.useEffect(()=>{!n||!Me||je()},[n,Me,je]),x.useEffect(()=>{we&&ke()},[we,ke]),TN(()=>{ke()});const et=_n(()=>{if(!R||!ce()||!H.isTopModal())return;const tt=i0(Ve==null?void 0:Ve.document);H.dialog&&tt&&!mg(H.dialog,tt)&&H.dialog.focus()}),Jt=_n(tt=>{tt.target===tt.currentTarget&&(h==null||h(tt),l===!0&&N())}),_t=_n(tt=>{c&&QH(tt)&&H.isTopModal()&&(f==null||f(tt),tt.defaultPrevented||N())}),Qe=x.useRef(),Vt=x.useRef(),ct=(...tt)=>{Ae(!0),Y==null||Y(...tt)};if(!Me)return null;const xt=Object.assign({role:r,ref:H.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Ce,{style:s,className:i,tabIndex:-1});let wt=I?I(xt):b.jsx("div",Object.assign({},xt,{children:x.cloneElement(o,{role:"document"})}));wt=FA(p,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:W,onExiting:ie,onExited:ct,onEnter:fe,onEntering:_e,onEntered:Fe,children:wt});let kt=null;return l&&(kt=E({ref:H.setBackdropRef,onClick:Jt}),kt=FA(y,v,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:kt})),b.jsx(b.Fragment,{children:Du.createPortal(b.jsxs(b.Fragment,{children:[kt,wt]}),Me)})});I2.displayName="Modal";const S2=Object.assign(I2,{Manager:yT});function eG(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function tG(t,e){t.classList?t.classList.add(e):eG(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function VA(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function nG(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=VA(t.className,e):t.setAttribute("class",VA(t.className&&t.className.baseVal||"",e))}const ou={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class x2 extends yT{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Hs(n,{[e]:`${parseFloat(Hs(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Hs(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(tG(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Fs(n,ou.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),Fs(n,ou.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),Fs(n,ou.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();nG(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Fs(n,ou.FIXED_CONTENT).forEach(s=>this.restore(r,s)),Fs(n,ou.STICKY_CONTENT).forEach(s=>this.restore(i,s)),Fs(n,ou.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let a0;function R2(t){return a0||(a0=new x2(t)),a0}const b2=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Xe(e,"modal-body"),b.jsx(n,{ref:i,className:Be(t,e),...r})));b2.displayName="ModalBody";const rG=b2,iG=x.createContext({onHide(){}}),vT=iG,A2=x.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:l,...c},h)=>{t=Xe(t,"modal");const f=`${t}-dialog`,p=typeof s=="string"?`${t}-fullscreen-${s}`:`${t}-fullscreen`;return b.jsx("div",{...c,ref:h,className:Be(f,e,i&&`${t}-${i}`,r&&`${f}-centered`,l&&`${f}-scrollable`,s&&p),children:b.jsx("div",{className:Be(`${t}-content`,n),children:o})})});A2.displayName="ModalDialog";const C2=A2,P2=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Xe(e,"modal-footer"),b.jsx(n,{ref:i,className:Be(t,e),...r})));P2.displayName="ModalFooter";const sG=P2,oG=x.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const l=x.useContext(vT),c=_n(()=>{l==null||l.onHide(),r==null||r()});return b.jsxs("div",{ref:o,...s,children:[i,n&&b.jsx(TW,{"aria-label":t,variant:e,onClick:c})]})}),O2=oG,D2=x.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=Xe(t,"modal-header"),b.jsx(O2,{ref:s,...i,className:Be(e,t),closeLabel:n,closeButton:r})));D2.displayName="ModalHeader";const aG=D2,lG=fN("h4"),k2=x.forwardRef(({className:t,bsPrefix:e,as:n=lG,...r},i)=>(e=Xe(e,"modal-title"),b.jsx(n,{ref:i,className:Be(t,e),...r})));k2.displayName="ModalTitle";const uG=k2;function cG(t){return b.jsx(tT,{...t,timeout:null})}function hG(t){return b.jsx(tT,{...t,timeout:null})}const N2=x.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o=C2,"aria-labelledby":l,"aria-describedby":c,"aria-label":h,show:f=!1,animation:p=!0,backdrop:m=!0,keyboard:y=!0,onEscapeKeyDown:v,onShow:w,onHide:R,container:T,autoFocus:S=!0,enforceFocus:I=!0,restoreFocus:E=!0,restoreFocusOptions:P,onEntered:O,onExit:D,onExiting:N,onEnter:W,onEntering:Y,onExited:ie,backdropClassName:fe,manager:_e,...Fe},Ce)=>{const[Ve,Me]=x.useState({}),[H,ce]=x.useState(!1),ae=x.useRef(!1),we=x.useRef(!1),Ae=x.useRef(null),[$e,je]=dN(),ke=Nl(Ce,je),et=_n(R),Jt=iN();t=Xe(t,"modal");const _t=x.useMemo(()=>({onHide:et}),[et]);function Qe(){return _e||R2({isRTL:Jt})}function Vt(He){if(!bc)return;const Zt=Qe().getScrollbarWidth()>0,J=He.scrollHeight>gd(He).documentElement.clientHeight;Me({paddingRight:Zt&&!J?LA():void 0,paddingLeft:!Zt&&J?LA():void 0})}const ct=_n(()=>{$e&&Vt($e.dialog)});TN(()=>{Ww(window,"resize",ct),Ae.current==null||Ae.current()});const xt=()=>{ae.current=!0},wt=He=>{ae.current&&$e&&He.target===$e.dialog&&(we.current=!0),ae.current=!1},kt=()=>{ce(!0),Ae.current=uN($e.dialog,()=>{ce(!1)})},tt=He=>{He.target===He.currentTarget&&kt()},sr=He=>{if(m==="static"){tt(He);return}if(we.current||He.target!==He.currentTarget){we.current=!1;return}R==null||R()},zt=He=>{y?v==null||v(He):(He.preventDefault(),m==="static"&&kt())},Kr=(He,Zt)=>{He&&Vt(He),W==null||W(He,Zt)},Di=He=>{Ae.current==null||Ae.current(),D==null||D(He)},Nt=(He,Zt)=>{Y==null||Y(He,Zt),Y1(window,"resize",ct)},qt=He=>{He&&(He.style.display=""),ie==null||ie(He),Ww(window,"resize",ct)},kn=x.useCallback(He=>b.jsx("div",{...He,className:Be(`${t}-backdrop`,fe,!p&&"show")}),[p,fe,t]),pn={...n,...Ve};pn.display="block";const Nn=He=>b.jsx("div",{role:"dialog",...He,style:pn,className:Be(e,t,H&&`${t}-static`,!p&&"show"),onClick:m?sr:void 0,onMouseUp:wt,"aria-label":h,"aria-labelledby":l,"aria-describedby":c,children:b.jsx(o,{...Fe,onMouseDown:xt,className:r,contentClassName:i,children:s})});return b.jsx(vT.Provider,{value:_t,children:b.jsx(S2,{show:f,ref:ke,backdrop:m,container:T,keyboard:!0,autoFocus:S,enforceFocus:I,restoreFocus:E,restoreFocusOptions:P,onEscapeKeyDown:zt,onShow:w,onHide:R,onEnter:Kr,onEntering:Nt,onEntered:O,onExit:Di,onExiting:N,onExited:qt,manager:Qe(),transition:p?cG:void 0,backdropTransition:p?hG:void 0,renderBackdrop:kn,renderDialog:Nn})})});N2.displayName="Modal";const $s=Object.assign(N2,{Body:rG,Header:aG,Title:uG,Footer:sG,Dialog:C2,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var $A={exports:{}},Qw={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(o,l,c,h,f,p){var m=h||"<<anonymous>>",y=p||c;if(l[c]==null)return o?new Error("Required "+f+" `"+y+"` was not specified "+("in `"+m+"`.")):null;for(var v=arguments.length,w=Array(v>6?v-6:0),R=6;R<v;R++)w[R-6]=arguments[R];return r.apply(void 0,[l,c,m,f,y].concat(w))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}t.exports=e.default})(Qw,Qw.exports);var fG=Qw.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=fG,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];function h(){for(var f=arguments.length,p=Array(f),m=0;m<f;m++)p[m]=arguments[m];var y=null;return l.forEach(function(v){if(y==null){var w=v.apply(void 0,p);w!=null&&(y=w)}}),y}return(0,r.default)(h)}t.exports=e.default})($A,$A.exports);const L2=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Xe(e,"nav-item"),b.jsx(n,{ref:i,className:Be(t,e),...r})));L2.displayName="NavItem";const dG=L2,M2=x.forwardRef(({bsPrefix:t,className:e,as:n=yN,active:r,eventKey:i,disabled:s=!1,...o},l)=>{t=Xe(t,"nav-link");const[c,h]=w2({key:Lf(i,o.href),active:r,disabled:s,...o});return b.jsx(n,{...o,...c,ref:l,disabled:s,className:Be(e,t,s&&"disabled",h.isActive&&"active")})});M2.displayName="NavLink";const pG=M2,F2=x.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s=!1,justify:o=!1,navbar:l,navbarScroll:c,className:h,activeKey:f,...p}=Q1(t,{activeKey:"onSelect"}),m=Xe(r,"nav");let y,v,w=!1;const R=x.useContext(Ll),T=x.useContext(SW);return R?(y=R.bsPrefix,w=l??!0):T&&({cardHeaderBsPrefix:v}=T),b.jsx(UH,{as:n,ref:e,activeKey:f,className:Be(h,{[m]:!w,[`${y}-nav`]:w,[`${y}-nav-scroll`]:w&&c,[`${v}-${i}`]:!!v,[`${m}-${i}`]:!!i,[`${m}-fill`]:s,[`${m}-justified`]:o}),...p})});F2.displayName="Nav";const Eh=Object.assign(F2,{Item:dG,Link:pG}),V2=x.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=Xe(t,"navbar-brand");const s=n||(r.href?"a":"span");return b.jsx(s,{...r,ref:i,className:Be(e,t)})});V2.displayName="NavbarBrand";const mG=V2,$2=x.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=Xe(e,"navbar-collapse");const i=x.useContext(Ll);return b.jsx(hN,{in:!!(i&&i.expanded),...n,children:b.jsx("div",{ref:r,className:e,children:t})})});$2.displayName="NavbarCollapse";const gG=$2,j2=x.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...o},l)=>{t=Xe(t,"navbar-toggler");const{onToggle:c,expanded:h}=x.useContext(Ll)||{},f=_n(p=>{s&&s(p),c&&c()});return i==="button"&&(o.type="button"),b.jsx(i,{...o,ref:l,onClick:f,"aria-label":r,className:Be(e,t,!h&&"collapsed"),children:n||b.jsx("span",{className:`${t}-icon`})})});j2.displayName="NavbarToggle";const yG=j2,Yw=new WeakMap,jA=(t,e)=>{if(!t||!e)return;const n=Yw.get(e)||new Map;Yw.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function vG(t,e=typeof window>"u"?void 0:window){const n=jA(t,e),[r,i]=x.useState(()=>n?n.matches:!1);return fg(()=>{let s=jA(t,e);if(!s)return i(!1);let o=Yw.get(e);const l=()=>{i(s.matches)};return s.refCount++,s.addListener(l),l(),()=>{s.removeListener(l),s.refCount--,s.refCount<=0&&(o==null||o.delete(s.media)),s=void 0}},[t]),r}function _G(t){const e=Object.keys(t);function n(l,c){return l===c?c:l?`${l} and ${c}`:c}function r(l){return e[Math.min(e.indexOf(l)+1,e.length-1)]}function i(l){const c=r(l);let h=t[c];return typeof h=="number"?h=`${h-.2}px`:h=`calc(${h} - 0.2px)`,`(max-width: ${h})`}function s(l){let c=t[l];return typeof c=="number"&&(c=`${c}px`),`(min-width: ${c})`}function o(l,c,h){let f;typeof l=="object"?(f=l,h=c,c=!0):(c=c||!0,f={[l]:c});let p=x.useMemo(()=>Object.entries(f).reduce((m,[y,v])=>((v==="up"||v===!0)&&(m=n(m,s(y))),(v==="down"||v===!0)&&(m=n(m,i(y))),m),""),[JSON.stringify(f)]);return vG(p,h)}return o}const wG=_G({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),B2=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Xe(e,"offcanvas-body"),b.jsx(n,{ref:i,className:Be(t,e),...r})));B2.displayName="OffcanvasBody";const EG=B2,TG={[zi]:"show",[Vs]:"show"},U2=x.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:o=!1,...l},c)=>(t=Xe(t,"offcanvas"),b.jsx(J1,{ref:c,addEndListener:X1,in:r,mountOnEnter:i,unmountOnExit:s,appear:o,...l,childRef:n.ref,children:(h,f)=>x.cloneElement(n,{...f,className:Be(e,n.props.className,(h===zi||h===Df)&&`${t}-toggling`,TG[h])})})));U2.displayName="OffcanvasToggling";const IG=U2,z2=x.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=Xe(t,"offcanvas-header"),b.jsx(O2,{ref:s,...i,className:Be(e,t),closeLabel:n,closeButton:r})));z2.displayName="OffcanvasHeader";const SG=z2,xG=fN("h5"),q2=x.forwardRef(({className:t,bsPrefix:e,as:n=xG,...r},i)=>(e=Xe(e,"offcanvas-title"),b.jsx(n,{ref:i,className:Be(t,e),...r})));q2.displayName="OffcanvasTitle";const RG=q2;function bG(t){return b.jsx(IG,{...t})}function AG(t){return b.jsx(tT,{...t})}const W2=x.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:o=!1,backdrop:l=!0,keyboard:c=!0,scroll:h=!1,onEscapeKeyDown:f,onShow:p,onHide:m,container:y,autoFocus:v=!0,enforceFocus:w=!0,restoreFocus:R=!0,restoreFocusOptions:T,onEntered:S,onExit:I,onExiting:E,onEnter:P,onEntering:O,onExited:D,backdropClassName:N,manager:W,renderStaticNode:Y=!1,...ie},fe)=>{const _e=x.useRef();t=Xe(t,"offcanvas");const{onToggle:Fe}=x.useContext(Ll)||{},[Ce,Ve]=x.useState(!1),Me=wG(s||"xs","up");x.useEffect(()=>{Ve(s?o&&!Me:o)},[o,s,Me]);const H=_n(()=>{Fe==null||Fe(),m==null||m()}),ce=x.useMemo(()=>({onHide:H}),[H]);function ae(){return W||(h?(_e.current||(_e.current=new x2({handleContainerOverflow:!1})),_e.current):R2())}const we=(ke,...et)=>{ke&&(ke.style.visibility="visible"),P==null||P(ke,...et)},Ae=(ke,...et)=>{ke&&(ke.style.visibility=""),D==null||D(...et)},$e=x.useCallback(ke=>b.jsx("div",{...ke,className:Be(`${t}-backdrop`,N)}),[N,t]),je=ke=>b.jsx("div",{...ke,...ie,className:Be(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return b.jsxs(b.Fragment,{children:[!Ce&&(s||Y)&&je({}),b.jsx(vT.Provider,{value:ce,children:b.jsx(S2,{show:Ce,ref:fe,backdrop:l,container:y,keyboard:c,autoFocus:v,enforceFocus:w&&!h,restoreFocus:R,restoreFocusOptions:T,onEscapeKeyDown:f,onShow:p,onHide:H,onEnter:we,onEntering:O,onEntered:S,onExit:I,onExiting:E,onExited:Ae,manager:ae(),transition:bG,backdropTransition:AG,renderBackdrop:$e,renderDialog:je})})]})});W2.displayName="Offcanvas";const CG=Object.assign(W2,{Body:EG,Header:SG,Title:RG}),K2=x.forwardRef((t,e)=>{const n=x.useContext(Ll);return b.jsx(CG,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});K2.displayName="NavbarOffcanvas";const PG=K2,H2=x.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Xe(e,"navbar-text"),b.jsx(n,{ref:i,className:Be(t,e),...r})));H2.displayName="NavbarText";const OG=H2,G2=x.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:o,sticky:l,className:c,as:h="nav",expanded:f,onToggle:p,onSelect:m,collapseOnSelect:y=!1,...v}=Q1(t,{expanded:"onToggle"}),w=Xe(n,"navbar"),R=x.useCallback((...I)=>{m==null||m(...I),y&&f&&(p==null||p(!1))},[m,y,f,p]);v.role===void 0&&h!=="nav"&&(v.role="navigation");let T=`${w}-expand`;typeof r=="string"&&(T=`${T}-${r}`);const S=x.useMemo(()=>({onToggle:()=>p==null?void 0:p(!f),bsPrefix:w,expanded:!!f,expand:r}),[w,f,r,p]);return b.jsx(Ll.Provider,{value:S,children:b.jsx(vl.Provider,{value:R,children:b.jsx(h,{ref:e,...v,className:Be(c,w,r&&T,i&&`${w}-${i}`,s&&`bg-${s}`,l&&`sticky-${l}`,o&&`fixed-${o}`)})})})});G2.displayName="Navbar";const Yp=Object.assign(G2,{Brand:mG,Collapse:gG,Offcanvas:PG,Text:OG,Toggle:yG}),Q2=x.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=Xe(t,"row"),o=nN(),l=rN(),c=`${s}-cols`,h=[];return o.forEach(f=>{const p=r[f];delete r[f];let m;p!=null&&typeof p=="object"?{cols:m}=p:m=p;const y=f!==l?`-${f}`:"";m!=null&&h.push(`${c}${y}-${m}`)}),b.jsx(n,{ref:i,...r,className:Be(e,s,...h)})});Q2.displayName="Row";const BA=Q2,UA=({children:t})=>b.jsx(b.Fragment,{children:b.jsx(IW,{size:"sm",role:"group","aria-label":"Setting text and image",style:{marginBottom:"0.5rem"},children:t})}),el=({children:t,selectType:e,handleOnClick:n,types:r})=>{const{type:i,title:s}=r;return b.jsx(b.Fragment,{children:b.jsx(dg,{variant:"outline-myInfo",className:"button-hover",active:e.type===i,onClick:()=>{n(i,s)},children:t})})},DG=({id:t})=>{const{showType_select:e,showType_beenSelect:n,showType_bestDamage:r,handleShowType_select:i,handleShowType_beenSelect:s,handleShowType_bestDamage:o}=ui();let l=null,c=null;switch(t){case ms:l=e,c=i;break;case G1:l=n,c=s;break;case pd:l=r,c=o;break}return b.jsxs(b.Fragment,{children:[b.jsx(el,{types:{type:K1,title:""},selectType:l,handleOnClick:c,children:b.jsx(zA,{color:"#22c02a",text:"草"})}),b.jsx(el,{types:{type:H1,title:""},selectType:l,handleOnClick:c,children:b.jsx(zA,{color:"#22c02a",text:" "})}),b.jsx(el,{types:{type:kl,title:""},selectType:l,handleOnClick:c,children:b.jsx(vg,{text:"草"})}),b.jsx(el,{types:{type:Xk,title:""},selectType:l,handleOnClick:c,children:b.jsx(vg,{text:"不顯示"})})]})},zA=({color:t,text:e})=>b.jsx("div",{className:"button-type-color",children:b.jsx("span",{style:{backgroundColor:t},children:e})}),kG=({id:t})=>{const{showInfo_select:e,showInfo_beenSelect:n,showInfo_bestDamage:r,handleShowInfo_select:i,handleShowInfo_beenSelect:s,handleShowInfo_bestDamage:o}=ui();let l=null,c=null;switch(t){case ms:l=e,c=i;break;case G1:l=n,c=s;break;case pd:l=r,c=o;break}return b.jsxs(b.Fragment,{children:[b.jsx(el,{types:{type:cg,title:""},selectType:l,handleOnClick:c,children:b.jsx(Y2,{})}),b.jsx(el,{types:{type:W1,title:""},selectType:l,handleOnClick:c,children:b.jsx(NG,{text:"Name"})}),b.jsx(el,{types:{type:kl,title:""},selectType:l,handleOnClick:c,children:b.jsx(vg,{text:"Name"})})]})},Y2=()=>b.jsx("img",{src:O8,alt:"顯示方式",title:"顯示方式",className:"buttonImage"}),vg=({text:t})=>b.jsx("span",{children:t}),NG=({text:t})=>b.jsxs("div",{className:"buttonImageText",children:[b.jsx(Y2,{}),b.jsx(vg,{text:t})]}),LG=()=>{const{filterType:t,handleFilterType:e}=ui();return b.jsx(b.Fragment,{children:b.jsxs(ss,{children:[b.jsx(ss.Toggle,{variant:"outline-myInfo",className:"button-hover",id:"t-dropdownBtnFilterType",children:b.jsxs("span",{children:["篩選屬性 : ",t.zhName||"error"]})}),b.jsxs(ss.Menu,{style:{width:"auto",height:"150px",overflowY:"auto"},children:[b.jsx(ss.Item,{as:"button",className:"dropdown-type",style:{backgroundColor:"#17CCF0"},onClick:()=>e(hg),children:b.jsx("span",{children:"全部"})}),md.map(n=>{const{zhName:r,bgColor:i}=n;return b.jsx(ss.Item,{as:"button",className:"dropdown-type",style:{backgroundColor:i},onClick:()=>e(n),children:b.jsx("span",{children:r})},Hi())})]})]})})},MG=()=>{const{filterTier:t,handleFilterTier:e}=ui();return b.jsx(FG,{filterTitle:"等級",filterZh:t.zhName,handleOnClick:e,data:Jk})},FG=x.memo(({filterTitle:t,filterZh:e,handleOnClick:n,data:r})=>{const i={backgroundColor:"#17CCF0"};return b.jsx(b.Fragment,{children:b.jsxs(ss,{children:[b.jsx(ss.Toggle,{variant:"outline-myInfo",className:"button-hover",id:"t-dropdownBtnTier",children:b.jsxs("span",{children:[t," : ",e||"error"]})}),b.jsxs(ss.Menu,{style:{width:"auto",height:"150px",overflowY:"auto"},children:[b.jsx(ss.Item,{as:"button",className:"dropdown-type",style:i,onClick:()=>n(hg),children:b.jsx("span",{children:"全部"})}),r.map(s=>{const{zhName:o,bgColor:l}=s;return b.jsx(ss.Item,{as:"button",className:"dropdown-type",onClick:()=>n(s),style:l===""?i:{backgroundColor:l},children:b.jsx("span",{children:o})},Hi())})]})]})})}),VG=({id:t})=>b.jsxs(b.Fragment,{children:[b.jsx(UA,{children:b.jsx(kG,{id:t})}),b.jsx(UA,{children:b.jsx(DG,{id:t})}),t===ms&&b.jsx(LG,{}),t===pd&&b.jsx(MG,{})]}),X2=x.createContext(),J2="darkTheme",$G=()=>{const t=window.matchMedia("(prefers-color-scheme:dark)").matches;return localStorage.getItem(J2)==="true"||t},jG=({children:t})=>{const[e,n]=x.useState($G),r=()=>{const o=!e;n(o),localStorage.setItem(J2,o)},i=e?"dark":"light",s=e?"white-50":"mySecondary";return x.useEffect(()=>{document.body.classList.toggle("bg-darkBg",e),document.body.classList.toggle("text-white-50",e)},[e]),b.jsx(X2.Provider,{value:{isDarkMode:e,handleIsDarkMode:r,textColor:s,bgColor:i},children:t})},va=()=>x.useContext(X2),BG=()=>{const{searchPokemon:t,handleSearchPokemon:e}=ui(),{bgColor:n}=va();return b.jsx(b.Fragment,{children:b.jsx(LH,{size:"sm",className:"search-btn",children:b.jsx(DH.Control,{"data-bs-theme":n,className:"bg-body",type:"Search",placeholder:"🔍 Search","aria-label":"Search",value:t,onChange:r=>{e(r.target.value)}})})})},UG=({title:t,id:e})=>{const{bgColor:n,textColor:r}=va(),[i,s]=x.useState(!1);return b.jsxs("div",{className:"group-info",children:[b.jsxs("div",{children:[b.jsx("i",{"aria-controls":"collapse","aria-expanded":i,onClick:()=>s(!i),children:b.jsx(x8,{className:"btn setting-icon"})}),b.jsx(hN,{in:i,"data-bs-theme":n,children:b.jsx("div",{id:"collapse",children:b.jsx("div",{className:"card card-body",children:b.jsx(VG,{id:e})})})})]}),b.jsx("span",{className:"title",children:t}),e===ms&&b.jsx(BG,{})]})},zG=x.memo(UG);function qG(t){return dd({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"}}]})(t)}(()=>{var t={296:(i,s,o)=>{var l=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt,m=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g,y=typeof self=="object"&&self&&self.Object===Object&&self,v=m||y||Function("return this")(),w=Object.prototype.toString,R=Math.max,T=Math.min,S=function(){return v.Date.now()};function I(P){var O=typeof P;return!!P&&(O=="object"||O=="function")}function E(P){if(typeof P=="number")return P;if(function(N){return typeof N=="symbol"||function(W){return!!W&&typeof W=="object"}(N)&&w.call(N)=="[object Symbol]"}(P))return NaN;if(I(P)){var O=typeof P.valueOf=="function"?P.valueOf():P;P=I(O)?O+"":O}if(typeof P!="string")return P===0?P:+P;P=P.replace(l,"");var D=h.test(P);return D||f.test(P)?p(P.slice(2),D?2:8):c.test(P)?NaN:+P}i.exports=function(P,O,D){var N,W,Y,ie,fe,_e,Fe=0,Ce=!1,Ve=!1,Me=!0;if(typeof P!="function")throw new TypeError("Expected a function");function H($e){var je=N,ke=W;return N=W=void 0,Fe=$e,ie=P.apply(ke,je)}function ce($e){var je=$e-_e;return _e===void 0||je>=O||je<0||Ve&&$e-Fe>=Y}function ae(){var $e=S();if(ce($e))return we($e);fe=setTimeout(ae,function(je){var ke=O-(je-_e);return Ve?T(ke,Y-(je-Fe)):ke}($e))}function we($e){return fe=void 0,Me&&N?H($e):(N=W=void 0,ie)}function Ae(){var $e=S(),je=ce($e);if(N=arguments,W=this,_e=$e,je){if(fe===void 0)return function(ke){return Fe=ke,fe=setTimeout(ae,O),Ce?H(ke):ie}(_e);if(Ve)return fe=setTimeout(ae,O),H(_e)}return fe===void 0&&(fe=setTimeout(ae,O)),ie}return O=E(O)||0,I(D)&&(Ce=!!D.leading,Y=(Ve="maxWait"in D)?R(E(D.maxWait)||0,O):Y,Me="trailing"in D?!!D.trailing:Me),Ae.cancel=function(){fe!==void 0&&clearTimeout(fe),Fe=0,N=_e=W=fe=void 0},Ae.flush=function(){return fe===void 0?ie:we(S())},Ae}},96:(i,s,o)=>{var l="Expected a function",c=NaN,h="[object Symbol]",f=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,y=/^0o[0-7]+$/i,v=parseInt,w=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g,R=typeof self=="object"&&self&&self.Object===Object&&self,T=w||R||Function("return this")(),S=Object.prototype.toString,I=Math.max,E=Math.min,P=function(){return T.Date.now()};function O(N){var W=typeof N;return!!N&&(W=="object"||W=="function")}function D(N){if(typeof N=="number")return N;if(function(ie){return typeof ie=="symbol"||function(fe){return!!fe&&typeof fe=="object"}(ie)&&S.call(ie)==h}(N))return c;if(O(N)){var W=typeof N.valueOf=="function"?N.valueOf():N;N=O(W)?W+"":W}if(typeof N!="string")return N===0?N:+N;N=N.replace(f,"");var Y=m.test(N);return Y||y.test(N)?v(N.slice(2),Y?2:8):p.test(N)?c:+N}i.exports=function(N,W,Y){var ie=!0,fe=!0;if(typeof N!="function")throw new TypeError(l);return O(Y)&&(ie="leading"in Y?!!Y.leading:ie,fe="trailing"in Y?!!Y.trailing:fe),function(_e,Fe,Ce){var Ve,Me,H,ce,ae,we,Ae=0,$e=!1,je=!1,ke=!0;if(typeof _e!="function")throw new TypeError(l);function et(ct){var xt=Ve,wt=Me;return Ve=Me=void 0,Ae=ct,ce=_e.apply(wt,xt)}function Jt(ct){var xt=ct-we;return we===void 0||xt>=Fe||xt<0||je&&ct-Ae>=H}function _t(){var ct=P();if(Jt(ct))return Qe(ct);ae=setTimeout(_t,function(xt){var wt=Fe-(xt-we);return je?E(wt,H-(xt-Ae)):wt}(ct))}function Qe(ct){return ae=void 0,ke&&Ve?et(ct):(Ve=Me=void 0,ce)}function Vt(){var ct=P(),xt=Jt(ct);if(Ve=arguments,Me=this,we=ct,xt){if(ae===void 0)return function(wt){return Ae=wt,ae=setTimeout(_t,Fe),$e?et(wt):ce}(we);if(je)return ae=setTimeout(_t,Fe),et(we)}return ae===void 0&&(ae=setTimeout(_t,Fe)),ce}return Fe=D(Fe)||0,O(Ce)&&($e=!!Ce.leading,H=(je="maxWait"in Ce)?I(D(Ce.maxWait)||0,Fe):H,ke="trailing"in Ce?!!Ce.trailing:ke),Vt.cancel=function(){ae!==void 0&&clearTimeout(ae),Ae=0,Ve=we=Me=ae=void 0},Vt.flush=function(){return ae===void 0?ce:Qe(P())},Vt}(N,W,{leading:ie,maxWait:W,trailing:fe})}},703:(i,s,o)=>{var l=o(414);function c(){}function h(){}h.resetWarningCache=c,i.exports=function(){function f(y,v,w,R,T,S){if(S!==l){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}function p(){return f}f.isRequired=f;var m={array:f,bigint:f,bool:f,func:f,number:f,object:f,string:f,symbol:f,any:f,arrayOf:p,element:f,elementType:f,instanceOf:p,node:f,objectOf:p,oneOf:p,oneOfType:p,shape:p,exact:p,checkPropTypes:h,resetWarningCache:c};return m.PropTypes=m,m}},697:(i,s,o)=>{i.exports=o(703)()},414:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function n(i){var s=e[i];if(s!==void 0)return s.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.n=i=>{var s=i&&i.__esModule?()=>i.default:()=>i;return n.d(s,{a:s}),s},n.d=(i,s)=>{for(var o in s)n.o(s,o)&&!n.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:s[o]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>kt,LazyLoadImage:()=>Zt,trackWindowScroll:()=>we});const i=x;var s=n.n(i),o=n(697);const l=V1;var c=n.n(l);function h(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function f(J){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},f(J)}function p(J,$){var se=Object.keys(J);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(J);$&&(le=le.filter(function(oe){return Object.getOwnPropertyDescriptor(J,oe).enumerable})),se.push.apply(se,le)}return se}function m(J,$,se){return($=v($))in J?Object.defineProperty(J,$,{value:se,enumerable:!0,configurable:!0,writable:!0}):J[$]=se,J}function y(J,$){for(var se=0;se<$.length;se++){var le=$[se];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(J,v(le.key),le)}}function v(J){var $=function(se,le){if(f(se)!=="object"||se===null)return se;var oe=se[Symbol.toPrimitive];if(oe!==void 0){var pe=oe.call(se,"string");if(f(pe)!=="object")return pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(se)}(J);return f($)==="symbol"?$:String($)}function w(J,$){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,le){return se.__proto__=le,se},w(J,$)}function R(J){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},R(J)}var T=function(J){J.forEach(function($){$.isIntersecting&&$.target.onVisible()})},S={},I=function(J){(function(U,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(Q&&Q.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),Q&&w(U,Q)})(Ke,J);var $,se,le,oe,pe=(le=Ke,oe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var U,Q=R(le);if(oe){var xe=R(this).constructor;U=Reflect.construct(Q,arguments,xe)}else U=Q.apply(this,arguments);return function(Ee,Te){if(Te&&(f(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(rt){if(rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rt}(Ee)}(this,U)});function Ke(U){var Q;if(function(Ee,Te){if(!(Ee instanceof Te))throw new TypeError("Cannot call a class as a function")}(this,Ke),(Q=pe.call(this,U)).supportsObserver=!U.scrollPosition&&U.useIntersectionObserver&&h(),Q.supportsObserver){var xe=U.threshold;Q.observer=function(Ee){return S[Ee]=S[Ee]||new IntersectionObserver(T,{rootMargin:Ee+"px"}),S[Ee]}(xe)}return Q}return $=Ke,se=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,Q=this.placeholder.getBoundingClientRect(),xe=c().findDOMNode(this.placeholder).style,Ee=parseInt(xe.getPropertyValue("margin-left"),10)||0,Te=parseInt(xe.getPropertyValue("margin-top"),10)||0;return{bottom:U.y+Q.bottom+Te,left:U.x+Q.left+Ee,right:U.x+Q.right+Ee,top:U.y+Q.top+Te}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var U=this.props,Q=U.scrollPosition,xe=U.threshold,Ee=this.getPlaceholderBoundingBox(Q),Te=Q.y+window.innerHeight,rt=Q.x,M=Q.x+window.innerWidth,j=Q.y;return j-xe<=Ee.bottom&&Te+xe>=Ee.top&&rt-xe<=Ee.right&&M+xe>=Ee.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var U=this,Q=this.props,xe=Q.className,Ee=Q.height,Te=Q.placeholder,rt=Q.style,M=Q.width;if(Te&&typeof Te.type!="function")return s().cloneElement(Te,{ref:function(K){return U.placeholder=K}});var j=function(K){for(var he=1;he<arguments.length;he++){var me=arguments[he]!=null?arguments[he]:{};he%2?p(Object(me),!0).forEach(function(Ie){m(K,Ie,me[Ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(me)):p(Object(me)).forEach(function(Ie){Object.defineProperty(K,Ie,Object.getOwnPropertyDescriptor(me,Ie))})}return K}({display:"inline-block"},rt);return M!==void 0&&(j.width=M),Ee!==void 0&&(j.height=Ee),s().createElement("span",{className:xe,ref:function(K){return U.placeholder=K},style:j},Te)}}],se&&y($.prototype,se),Object.defineProperty($,"prototype",{writable:!1}),Ke}(s().Component);I.propTypes={onVisible:o.PropTypes.func.isRequired,className:o.PropTypes.string,height:o.PropTypes.oneOfType([o.PropTypes.number,o.PropTypes.string]),placeholder:o.PropTypes.element,threshold:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool,scrollPosition:o.PropTypes.shape({x:o.PropTypes.number.isRequired,y:o.PropTypes.number.isRequired}),width:o.PropTypes.oneOfType([o.PropTypes.number,o.PropTypes.string])},I.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const E=I;var P=n(296),O=n.n(P),D=n(96),N=n.n(D),W=function(J){var $=getComputedStyle(J,null);return $.getPropertyValue("overflow")+$.getPropertyValue("overflow-y")+$.getPropertyValue("overflow-x")};const Y=function(J){if(!(J instanceof HTMLElement))return window;for(var $=J;$&&$ instanceof HTMLElement;){if(/(scroll|auto)/.test(W($)))return $;$=$.parentNode}return window};function ie(J){return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},ie(J)}var fe=["delayMethod","delayTime"];function _e(){return _e=Object.assign?Object.assign.bind():function(J){for(var $=1;$<arguments.length;$++){var se=arguments[$];for(var le in se)Object.prototype.hasOwnProperty.call(se,le)&&(J[le]=se[le])}return J},_e.apply(this,arguments)}function Fe(J,$){for(var se=0;se<$.length;se++){var le=$[se];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(J,(oe=function(pe,Ke){if(ie(pe)!=="object"||pe===null)return pe;var U=pe[Symbol.toPrimitive];if(U!==void 0){var Q=U.call(pe,"string");if(ie(Q)!=="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(pe)}(le.key),ie(oe)==="symbol"?oe:String(oe)),le)}var oe}function Ce(J,$){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,le){return se.__proto__=le,se},Ce(J,$)}function Ve(J,$){if($&&(ie($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Me(J)}function Me(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function H(J){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},H(J)}var ce=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},ae=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const we=function(J){var $=function(se){(function(xe,Ee){if(typeof Ee!="function"&&Ee!==null)throw new TypeError("Super expression must either be null or a function");xe.prototype=Object.create(Ee&&Ee.prototype,{constructor:{value:xe,writable:!0,configurable:!0}}),Object.defineProperty(xe,"prototype",{writable:!1}),Ee&&Ce(xe,Ee)})(Q,se);var le,oe,pe,Ke,U=(pe=Q,Ke=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var xe,Ee=H(pe);if(Ke){var Te=H(this).constructor;xe=Reflect.construct(Ee,arguments,Te)}else xe=Ee.apply(this,arguments);return Ve(this,xe)});function Q(xe){var Ee;if(function(rt,M){if(!(rt instanceof M))throw new TypeError("Cannot call a class as a function")}(this,Q),(Ee=U.call(this,xe)).useIntersectionObserver=xe.useIntersectionObserver&&h(),Ee.useIntersectionObserver)return Ve(Ee);var Te=Ee.onChangeScroll.bind(Me(Ee));return xe.delayMethod==="debounce"?Ee.delayedScroll=O()(Te,xe.delayTime):xe.delayMethod==="throttle"&&(Ee.delayedScroll=N()(Te,xe.delayTime)),Ee.state={scrollPosition:{x:ce(),y:ae()}},Ee.baseComponentRef=s().createRef(),Ee}return le=Q,(oe=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||Y(c().findDOMNode(this.baseComponentRef.current))!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=Y(c().findDOMNode(this.baseComponentRef.current)),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:ce(),y:ae()}})}},{key:"render",value:function(){var xe=this.props,Ee=(xe.delayMethod,xe.delayTime,function(rt,M){if(rt==null)return{};var j,K,he=function(Ie,Ue){if(Ie==null)return{};var Pe,Oe,It={},Lt=Object.keys(Ie);for(Oe=0;Oe<Lt.length;Oe++)Pe=Lt[Oe],Ue.indexOf(Pe)>=0||(It[Pe]=Ie[Pe]);return It}(rt,M);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(rt);for(K=0;K<me.length;K++)j=me[K],M.indexOf(j)>=0||Object.prototype.propertyIsEnumerable.call(rt,j)&&(he[j]=rt[j])}return he}(xe,fe)),Te=this.useIntersectionObserver?null:this.state.scrollPosition;return s().createElement(J,_e({forwardRef:this.baseComponentRef,scrollPosition:Te},Ee))}}])&&Fe(le.prototype,oe),Object.defineProperty(le,"prototype",{writable:!1}),Q}(s().Component);return $.propTypes={delayMethod:o.PropTypes.oneOf(["debounce","throttle"]),delayTime:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool},$.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},$};function Ae(J){return Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},Ae(J)}function $e(J,$){for(var se=0;se<$.length;se++){var le=$[se];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(J,(oe=function(pe,Ke){if(Ae(pe)!=="object"||pe===null)return pe;var U=pe[Symbol.toPrimitive];if(U!==void 0){var Q=U.call(pe,"string");if(Ae(Q)!=="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(pe)}(le.key),Ae(oe)==="symbol"?oe:String(oe)),le)}var oe}function je(J,$){return je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,le){return se.__proto__=le,se},je(J,$)}function ke(J){return ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},ke(J)}var et=function(J){(function(U,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(Q&&Q.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),Q&&je(U,Q)})(Ke,J);var $,se,le,oe,pe=(le=Ke,oe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var U,Q=ke(le);if(oe){var xe=ke(this).constructor;U=Reflect.construct(Q,arguments,xe)}else U=Q.apply(this,arguments);return function(Ee,Te){if(Te&&(Ae(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(rt){if(rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rt}(Ee)}(this,U)});function Ke(U){return function(Q,xe){if(!(Q instanceof xe))throw new TypeError("Cannot call a class as a function")}(this,Ke),pe.call(this,U)}return $=Ke,(se=[{key:"render",value:function(){return s().createElement(E,this.props)}}])&&$e($.prototype,se),Object.defineProperty($,"prototype",{writable:!1}),Ke}(s().Component);const Jt=we(et);function _t(J){return _t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_t(J)}function Qe(J,$){for(var se=0;se<$.length;se++){var le=$[se];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(J,(oe=function(pe,Ke){if(_t(pe)!=="object"||pe===null)return pe;var U=pe[Symbol.toPrimitive];if(U!==void 0){var Q=U.call(pe,"string");if(_t(Q)!=="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(pe)}(le.key),_t(oe)==="symbol"?oe:String(oe)),le)}var oe}function Vt(J,$){return Vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,le){return se.__proto__=le,se},Vt(J,$)}function ct(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function xt(J){return xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},xt(J)}var wt=function(J){(function(U,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(Q&&Q.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),Q&&Vt(U,Q)})(Ke,J);var $,se,le,oe,pe=(le=Ke,oe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var U,Q=xt(le);if(oe){var xe=xt(this).constructor;U=Reflect.construct(Q,arguments,xe)}else U=Q.apply(this,arguments);return function(Ee,Te){if(Te&&(_t(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ct(Ee)}(this,U)});function Ke(U){var Q;(function(M,j){if(!(M instanceof j))throw new TypeError("Cannot call a class as a function")})(this,Ke),Q=pe.call(this,U);var xe=U.afterLoad,Ee=U.beforeLoad,Te=U.scrollPosition,rt=U.visibleByDefault;return Q.state={visible:rt},rt&&(Ee(),xe()),Q.onVisible=Q.onVisible.bind(ct(Q)),Q.isScrollTracked=!!(Te&&Number.isFinite(Te.x)&&Te.x>=0&&Number.isFinite(Te.y)&&Te.y>=0),Q}return $=Ke,(se=[{key:"componentDidUpdate",value:function(U,Q){Q.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var U=this.props,Q=U.className,xe=U.delayMethod,Ee=U.delayTime,Te=U.height,rt=U.placeholder,M=U.scrollPosition,j=U.style,K=U.threshold,he=U.useIntersectionObserver,me=U.width;return this.isScrollTracked||he&&h()?s().createElement(E,{className:Q,height:Te,onVisible:this.onVisible,placeholder:rt,scrollPosition:M,style:j,threshold:K,useIntersectionObserver:he,width:me}):s().createElement(Jt,{className:Q,delayMethod:xe,delayTime:Ee,height:Te,onVisible:this.onVisible,placeholder:rt,style:j,threshold:K,width:me})}}])&&Qe($.prototype,se),Object.defineProperty($,"prototype",{writable:!1}),Ke}(s().Component);wt.propTypes={afterLoad:o.PropTypes.func,beforeLoad:o.PropTypes.func,useIntersectionObserver:o.PropTypes.bool,visibleByDefault:o.PropTypes.bool},wt.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const kt=wt;function tt(J){return tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},tt(J)}var sr=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function zt(J,$){var se=Object.keys(J);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(J);$&&(le=le.filter(function(oe){return Object.getOwnPropertyDescriptor(J,oe).enumerable})),se.push.apply(se,le)}return se}function Kr(J){for(var $=1;$<arguments.length;$++){var se=arguments[$]!=null?arguments[$]:{};$%2?zt(Object(se),!0).forEach(function(le){Di(J,le,se[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(se)):zt(Object(se)).forEach(function(le){Object.defineProperty(J,le,Object.getOwnPropertyDescriptor(se,le))})}return J}function Di(J,$,se){return($=kn($))in J?Object.defineProperty(J,$,{value:se,enumerable:!0,configurable:!0,writable:!0}):J[$]=se,J}function Nt(){return Nt=Object.assign?Object.assign.bind():function(J){for(var $=1;$<arguments.length;$++){var se=arguments[$];for(var le in se)Object.prototype.hasOwnProperty.call(se,le)&&(J[le]=se[le])}return J},Nt.apply(this,arguments)}function qt(J,$){for(var se=0;se<$.length;se++){var le=$[se];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(J,kn(le.key),le)}}function kn(J){var $=function(se,le){if(tt(se)!=="object"||se===null)return se;var oe=se[Symbol.toPrimitive];if(oe!==void 0){var pe=oe.call(se,"string");if(tt(pe)!=="object")return pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(se)}(J);return tt($)==="symbol"?$:String($)}function pn(J,$){return pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,le){return se.__proto__=le,se},pn(J,$)}function Nn(J){return Nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},Nn(J)}var He=function(J){(function(U,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(Q&&Q.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),Q&&pn(U,Q)})(Ke,J);var $,se,le,oe,pe=(le=Ke,oe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var U,Q=Nn(le);if(oe){var xe=Nn(this).constructor;U=Reflect.construct(Q,arguments,xe)}else U=Q.apply(this,arguments);return function(Ee,Te){if(Te&&(tt(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(rt){if(rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rt}(Ee)}(this,U)});function Ke(U){var Q;return function(xe,Ee){if(!(xe instanceof Ee))throw new TypeError("Cannot call a class as a function")}(this,Ke),(Q=pe.call(this,U)).state={loaded:!1},Q}return $=Ke,(se=[{key:"onImageLoad",value:function(){var U=this;return this.state.loaded?null:function(Q){U.props.onLoad(Q),U.props.afterLoad(),U.setState({loaded:!0})}}},{key:"getImg",value:function(){var U=this.props,Q=(U.afterLoad,U.beforeLoad,U.delayMethod,U.delayTime,U.effect,U.placeholder,U.placeholderSrc,U.scrollPosition,U.threshold,U.useIntersectionObserver,U.visibleByDefault,U.wrapperClassName,U.wrapperProps,function(xe,Ee){if(xe==null)return{};var Te,rt,M=function(K,he){if(K==null)return{};var me,Ie,Ue={},Pe=Object.keys(K);for(Ie=0;Ie<Pe.length;Ie++)me=Pe[Ie],he.indexOf(me)>=0||(Ue[me]=K[me]);return Ue}(xe,Ee);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(xe);for(rt=0;rt<j.length;rt++)Te=j[rt],Ee.indexOf(Te)>=0||Object.prototype.propertyIsEnumerable.call(xe,Te)&&(M[Te]=xe[Te])}return M}(U,sr));return s().createElement("img",Nt({},Q,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var U=this.props,Q=U.beforeLoad,xe=U.className,Ee=U.delayMethod,Te=U.delayTime,rt=U.height,M=U.placeholder,j=U.scrollPosition,K=U.style,he=U.threshold,me=U.useIntersectionObserver,Ie=U.visibleByDefault,Ue=U.width;return s().createElement(kt,{beforeLoad:Q,className:xe,delayMethod:Ee,delayTime:Te,height:rt,placeholder:M,scrollPosition:j,style:K,threshold:he,useIntersectionObserver:me,visibleByDefault:Ie,width:Ue},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(U){var Q=this.props,xe=Q.effect,Ee=Q.height,Te=Q.placeholderSrc,rt=Q.width,M=Q.wrapperClassName,j=Q.wrapperProps,K=this.state.loaded,he=K?" lazy-load-image-loaded":"",me=K||!Te?{}:{backgroundImage:"url(".concat(Te,")"),backgroundSize:"100% 100%"};return s().createElement("span",Nt({className:M+" lazy-load-image-background "+xe+he,style:Kr(Kr({},me),{},{color:"transparent",display:"inline-block",height:Ee,width:rt})},j),U)}},{key:"render",value:function(){var U=this.props,Q=U.effect,xe=U.placeholderSrc,Ee=U.visibleByDefault,Te=U.wrapperClassName,rt=U.wrapperProps,M=this.getLazyLoadImage();return(Q||xe)&&!Ee||Te||rt?this.getWrappedLazyLoadImage(M):M}}])&&qt($.prototype,se),Object.defineProperty($,"prototype",{writable:!1}),Ke}(s().Component);He.propTypes={onLoad:o.PropTypes.func,afterLoad:o.PropTypes.func,beforeLoad:o.PropTypes.func,delayMethod:o.PropTypes.string,delayTime:o.PropTypes.number,effect:o.PropTypes.string,placeholderSrc:o.PropTypes.string,threshold:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool,visibleByDefault:o.PropTypes.bool,wrapperClassName:o.PropTypes.string,wrapperProps:o.PropTypes.object},He.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const Zt=He})()})();const Z2="error",WG="white",eL="black",Uu="not found",KG=x.memo(({bgColor:t,zhName:e})=>b.jsx("a",{href:"#",children:b.jsx("span",{style:{color:t??WG},children:e??Z2})})),HG=x.memo(({bgColor:t})=>b.jsx("a",{href:"#",children:b.jsx("span",{className:"type",style:{backgroundColor:t??eL},children:" "})})),tL=x.memo(({bgColor:t,zhName:e,enName:n})=>b.jsx(pu,{to:`type/${n}`,children:b.jsx("span",{className:"type",style:{backgroundColor:t??eL},children:e??Z2})})),GG=x.memo(({item:t,isActive:e,handleClick:n,children:r})=>b.jsxs("div",{className:`characterText ${e}`,onClick:()=>n(t),children:[b.jsx("span",{className:"characterName",children:(t==null?void 0:t.zhName)??Uu}),r]})),QG=x.memo(({item:t,isActive:e,handleClick:n,children:r})=>b.jsxs("div",{style:{display:"flex"},children:[r,b.jsx("div",{style:{position:"relative"},children:b.jsx("img",{src:(t==null?void 0:t.sprite)??"",alt:(t==null?void 0:t.zhName)??Uu,title:(t==null?void 0:t.zhName)??Uu,className:`characterImg ${e}`,onClick:()=>n(t),loading:"lazy"})})]})),YG=({item:t,isActive:e,handleClick:n,children:r})=>b.jsxs("div",{className:`characterImgText ${e}`,onClick:()=>n(t),children:[b.jsxs("div",{children:[b.jsx("span",{className:"characterName",children:(t==null?void 0:t.zhName)??Uu}),r]}),b.jsx("img",{src:(t==null?void 0:t.sprite)??"",alt:(t==null?void 0:t.zhName)??Uu,title:(t==null?void 0:t.zhName)??Uu})]});var _g={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */_g.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",h=500,f="__lodash_placeholder__",p=1,m=2,y=4,v=1,w=2,R=1,T=2,S=4,I=8,E=16,P=32,O=64,D=128,N=256,W=512,Y=30,ie="...",fe=800,_e=16,Fe=1,Ce=2,Ve=3,Me=1/0,H=9007199254740991,ce=17976931348623157e292,ae=0/0,we=4294967295,Ae=we-1,$e=we>>>1,je=[["ary",D],["bind",R],["bindKey",T],["curry",I],["curryRight",E],["flip",W],["partial",P],["partialRight",O],["rearg",N]],ke="[object Arguments]",et="[object Array]",Jt="[object AsyncFunction]",_t="[object Boolean]",Qe="[object Date]",Vt="[object DOMException]",ct="[object Error]",xt="[object Function]",wt="[object GeneratorFunction]",kt="[object Map]",tt="[object Number]",sr="[object Null]",zt="[object Object]",Kr="[object Promise]",Di="[object Proxy]",Nt="[object RegExp]",qt="[object Set]",kn="[object String]",pn="[object Symbol]",Nn="[object Undefined]",He="[object WeakMap]",Zt="[object WeakSet]",J="[object ArrayBuffer]",$="[object DataView]",se="[object Float32Array]",le="[object Float64Array]",oe="[object Int8Array]",pe="[object Int16Array]",Ke="[object Int32Array]",U="[object Uint8Array]",Q="[object Uint8ClampedArray]",xe="[object Uint16Array]",Ee="[object Uint32Array]",Te=/\b__p \+= '';/g,rt=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,j=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,he=RegExp(j.source),me=RegExp(K.source),Ie=/<%-([\s\S]+?)%>/g,Ue=/<%([\s\S]+?)%>/g,Pe=/<%=([\s\S]+?)%>/g,Oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,It=/^\w*$/,Lt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,at=/[\\^$.*+?()[\]{}|]/g,At=RegExp(at.source),sn=/^\s+/,Ss=/\s/,xs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ba=/\{\n\/\* \[wrapped with (.+)\] \*/,Uc=/,? & /,ki=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xi=/[()=,{}\[\]\/\s]/,Ul=/\\(\\)?/g,zc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zl=/\w*$/,qc=/^[-+]0x[0-9a-f]+$/i,Rt=/^0b[01]+$/i,Hr=/^\[object .+?Constructor\]$/,Ji=/^0o[0-7]+$/i,on=/^(?:0|[1-9]\d*)$/,Aa=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ca=/($^)/,dv=/['\n\r\u2028\u2029\\]/g,zd="\\ud800-\\udfff",k$="\\u0300-\\u036f",N$="\\ufe20-\\ufe2f",L$="\\u20d0-\\u20ff",iS=k$+N$+L$,sS="\\u2700-\\u27bf",oS="a-z\\xdf-\\xf6\\xf8-\\xff",M$="\\xac\\xb1\\xd7\\xf7",F$="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",V$="\\u2000-\\u206f",$$=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",aS="A-Z\\xc0-\\xd6\\xd8-\\xde",lS="\\ufe0e\\ufe0f",uS=M$+F$+V$+$$,pv="['’]",j$="["+zd+"]",cS="["+uS+"]",qd="["+iS+"]",hS="\\d+",B$="["+sS+"]",fS="["+oS+"]",dS="[^"+zd+uS+hS+sS+oS+aS+"]",mv="\\ud83c[\\udffb-\\udfff]",U$="(?:"+qd+"|"+mv+")",pS="[^"+zd+"]",gv="(?:\\ud83c[\\udde6-\\uddff]){2}",yv="[\\ud800-\\udbff][\\udc00-\\udfff]",ql="["+aS+"]",mS="\\u200d",gS="(?:"+fS+"|"+dS+")",z$="(?:"+ql+"|"+dS+")",yS="(?:"+pv+"(?:d|ll|m|re|s|t|ve))?",vS="(?:"+pv+"(?:D|LL|M|RE|S|T|VE))?",_S=U$+"?",wS="["+lS+"]?",q$="(?:"+mS+"(?:"+[pS,gv,yv].join("|")+")"+wS+_S+")*",W$="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",K$="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ES=wS+_S+q$,H$="(?:"+[B$,gv,yv].join("|")+")"+ES,G$="(?:"+[pS+qd+"?",qd,gv,yv,j$].join("|")+")",Q$=RegExp(pv,"g"),Y$=RegExp(qd,"g"),vv=RegExp(mv+"(?="+mv+")|"+G$+ES,"g"),X$=RegExp([ql+"?"+fS+"+"+yS+"(?="+[cS,ql,"$"].join("|")+")",z$+"+"+vS+"(?="+[cS,ql+gS,"$"].join("|")+")",ql+"?"+gS+"+"+yS,ql+"+"+vS,K$,W$,hS,H$].join("|"),"g"),J$=RegExp("["+mS+zd+iS+lS+"]"),Z$=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ej=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tj=-1,Wt={};Wt[se]=Wt[le]=Wt[oe]=Wt[pe]=Wt[Ke]=Wt[U]=Wt[Q]=Wt[xe]=Wt[Ee]=!0,Wt[ke]=Wt[et]=Wt[J]=Wt[_t]=Wt[$]=Wt[Qe]=Wt[ct]=Wt[xt]=Wt[kt]=Wt[tt]=Wt[zt]=Wt[Nt]=Wt[qt]=Wt[kn]=Wt[He]=!1;var $t={};$t[ke]=$t[et]=$t[J]=$t[$]=$t[_t]=$t[Qe]=$t[se]=$t[le]=$t[oe]=$t[pe]=$t[Ke]=$t[kt]=$t[tt]=$t[zt]=$t[Nt]=$t[qt]=$t[kn]=$t[pn]=$t[U]=$t[Q]=$t[xe]=$t[Ee]=!0,$t[ct]=$t[xt]=$t[He]=!1;var nj={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},rj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ij={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},sj={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},oj=parseFloat,aj=parseInt,TS=typeof oh=="object"&&oh&&oh.Object===Object&&oh,lj=typeof self=="object"&&self&&self.Object===Object&&self,Yn=TS||lj||Function("return this")(),_v=e&&!e.nodeType&&e,Pa=_v&&!0&&t&&!t.nodeType&&t,IS=Pa&&Pa.exports===_v,wv=IS&&TS.process,ci=function(){try{var F=Pa&&Pa.require&&Pa.require("util").types;return F||wv&&wv.binding&&wv.binding("util")}catch{}}(),SS=ci&&ci.isArrayBuffer,xS=ci&&ci.isDate,RS=ci&&ci.isMap,bS=ci&&ci.isRegExp,AS=ci&&ci.isSet,CS=ci&&ci.isTypedArray;function Gr(F,G,z){switch(z.length){case 0:return F.call(G);case 1:return F.call(G,z[0]);case 2:return F.call(G,z[0],z[1]);case 3:return F.call(G,z[0],z[1],z[2])}return F.apply(G,z)}function uj(F,G,z,Re){for(var Ye=-1,St=F==null?0:F.length;++Ye<St;){var Ln=F[Ye];G(Re,Ln,z(Ln),F)}return Re}function hi(F,G){for(var z=-1,Re=F==null?0:F.length;++z<Re&&G(F[z],z,F)!==!1;);return F}function cj(F,G){for(var z=F==null?0:F.length;z--&&G(F[z],z,F)!==!1;);return F}function PS(F,G){for(var z=-1,Re=F==null?0:F.length;++z<Re;)if(!G(F[z],z,F))return!1;return!0}function go(F,G){for(var z=-1,Re=F==null?0:F.length,Ye=0,St=[];++z<Re;){var Ln=F[z];G(Ln,z,F)&&(St[Ye++]=Ln)}return St}function Wd(F,G){var z=F==null?0:F.length;return!!z&&Wl(F,G,0)>-1}function Ev(F,G,z){for(var Re=-1,Ye=F==null?0:F.length;++Re<Ye;)if(z(G,F[Re]))return!0;return!1}function en(F,G){for(var z=-1,Re=F==null?0:F.length,Ye=Array(Re);++z<Re;)Ye[z]=G(F[z],z,F);return Ye}function yo(F,G){for(var z=-1,Re=G.length,Ye=F.length;++z<Re;)F[Ye+z]=G[z];return F}function Tv(F,G,z,Re){var Ye=-1,St=F==null?0:F.length;for(Re&&St&&(z=F[++Ye]);++Ye<St;)z=G(z,F[Ye],Ye,F);return z}function hj(F,G,z,Re){var Ye=F==null?0:F.length;for(Re&&Ye&&(z=F[--Ye]);Ye--;)z=G(z,F[Ye],Ye,F);return z}function Iv(F,G){for(var z=-1,Re=F==null?0:F.length;++z<Re;)if(G(F[z],z,F))return!0;return!1}var fj=Sv("length");function dj(F){return F.split("")}function pj(F){return F.match(ki)||[]}function OS(F,G,z){var Re;return z(F,function(Ye,St,Ln){if(G(Ye,St,Ln))return Re=St,!1}),Re}function Kd(F,G,z,Re){for(var Ye=F.length,St=z+(Re?1:-1);Re?St--:++St<Ye;)if(G(F[St],St,F))return St;return-1}function Wl(F,G,z){return G===G?Rj(F,G,z):Kd(F,DS,z)}function mj(F,G,z,Re){for(var Ye=z-1,St=F.length;++Ye<St;)if(Re(F[Ye],G))return Ye;return-1}function DS(F){return F!==F}function kS(F,G){var z=F==null?0:F.length;return z?Rv(F,G)/z:ae}function Sv(F){return function(G){return G==null?n:G[F]}}function xv(F){return function(G){return F==null?n:F[G]}}function NS(F,G,z,Re,Ye){return Ye(F,function(St,Ln,Ft){z=Re?(Re=!1,St):G(z,St,Ln,Ft)}),z}function gj(F,G){var z=F.length;for(F.sort(G);z--;)F[z]=F[z].value;return F}function Rv(F,G){for(var z,Re=-1,Ye=F.length;++Re<Ye;){var St=G(F[Re]);St!==n&&(z=z===n?St:z+St)}return z}function bv(F,G){for(var z=-1,Re=Array(F);++z<F;)Re[z]=G(z);return Re}function yj(F,G){return en(G,function(z){return[z,F[z]]})}function LS(F){return F&&F.slice(0,$S(F)+1).replace(sn,"")}function Qr(F){return function(G){return F(G)}}function Av(F,G){return en(G,function(z){return F[z]})}function Wc(F,G){return F.has(G)}function MS(F,G){for(var z=-1,Re=F.length;++z<Re&&Wl(G,F[z],0)>-1;);return z}function FS(F,G){for(var z=F.length;z--&&Wl(G,F[z],0)>-1;);return z}function vj(F,G){for(var z=F.length,Re=0;z--;)F[z]===G&&++Re;return Re}var _j=xv(nj),wj=xv(rj);function Ej(F){return"\\"+sj[F]}function Tj(F,G){return F==null?n:F[G]}function Kl(F){return J$.test(F)}function Ij(F){return Z$.test(F)}function Sj(F){for(var G,z=[];!(G=F.next()).done;)z.push(G.value);return z}function Cv(F){var G=-1,z=Array(F.size);return F.forEach(function(Re,Ye){z[++G]=[Ye,Re]}),z}function VS(F,G){return function(z){return F(G(z))}}function vo(F,G){for(var z=-1,Re=F.length,Ye=0,St=[];++z<Re;){var Ln=F[z];(Ln===G||Ln===f)&&(F[z]=f,St[Ye++]=z)}return St}function Hd(F){var G=-1,z=Array(F.size);return F.forEach(function(Re){z[++G]=Re}),z}function xj(F){var G=-1,z=Array(F.size);return F.forEach(function(Re){z[++G]=[Re,Re]}),z}function Rj(F,G,z){for(var Re=z-1,Ye=F.length;++Re<Ye;)if(F[Re]===G)return Re;return-1}function bj(F,G,z){for(var Re=z+1;Re--;)if(F[Re]===G)return Re;return Re}function Hl(F){return Kl(F)?Cj(F):fj(F)}function Ni(F){return Kl(F)?Pj(F):dj(F)}function $S(F){for(var G=F.length;G--&&Ss.test(F.charAt(G)););return G}var Aj=xv(ij);function Cj(F){for(var G=vv.lastIndex=0;vv.test(F);)++G;return G}function Pj(F){return F.match(vv)||[]}function Oj(F){return F.match(X$)||[]}var Dj=function F(G){G=G==null?Yn:Gl.defaults(Yn.Object(),G,Gl.pick(Yn,ej));var z=G.Array,Re=G.Date,Ye=G.Error,St=G.Function,Ln=G.Math,Ft=G.Object,Pv=G.RegExp,kj=G.String,fi=G.TypeError,Gd=z.prototype,Nj=St.prototype,Ql=Ft.prototype,Qd=G["__core-js_shared__"],Yd=Nj.toString,Ct=Ql.hasOwnProperty,Lj=0,jS=function(){var a=/[^.]+$/.exec(Qd&&Qd.keys&&Qd.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Xd=Ql.toString,Mj=Yd.call(Ft),Fj=Yn._,Vj=Pv("^"+Yd.call(Ct).replace(at,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jd=IS?G.Buffer:n,_o=G.Symbol,Zd=G.Uint8Array,BS=Jd?Jd.allocUnsafe:n,ep=VS(Ft.getPrototypeOf,Ft),US=Ft.create,zS=Ql.propertyIsEnumerable,tp=Gd.splice,qS=_o?_o.isConcatSpreadable:n,Kc=_o?_o.iterator:n,Oa=_o?_o.toStringTag:n,np=function(){try{var a=Ma(Ft,"defineProperty");return a({},"",{}),a}catch{}}(),$j=G.clearTimeout!==Yn.clearTimeout&&G.clearTimeout,jj=Re&&Re.now!==Yn.Date.now&&Re.now,Bj=G.setTimeout!==Yn.setTimeout&&G.setTimeout,rp=Ln.ceil,ip=Ln.floor,Ov=Ft.getOwnPropertySymbols,Uj=Jd?Jd.isBuffer:n,WS=G.isFinite,zj=Gd.join,qj=VS(Ft.keys,Ft),Mn=Ln.max,or=Ln.min,Wj=Re.now,Kj=G.parseInt,KS=Ln.random,Hj=Gd.reverse,Dv=Ma(G,"DataView"),Hc=Ma(G,"Map"),kv=Ma(G,"Promise"),Yl=Ma(G,"Set"),Gc=Ma(G,"WeakMap"),Qc=Ma(Ft,"create"),sp=Gc&&new Gc,Xl={},Gj=Fa(Dv),Qj=Fa(Hc),Yj=Fa(kv),Xj=Fa(Yl),Jj=Fa(Gc),op=_o?_o.prototype:n,Yc=op?op.valueOf:n,HS=op?op.toString:n;function A(a){if(mn(a)&&!Je(a)&&!(a instanceof ht)){if(a instanceof di)return a;if(Ct.call(a,"__wrapped__"))return Gx(a)}return new di(a)}var Jl=function(){function a(){}return function(u){if(!an(u))return{};if(US)return US(u);a.prototype=u;var d=new a;return a.prototype=n,d}}();function ap(){}function di(a,u){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}A.templateSettings={escape:Ie,evaluate:Ue,interpolate:Pe,variable:"",imports:{_:A}},A.prototype=ap.prototype,A.prototype.constructor=A,di.prototype=Jl(ap.prototype),di.prototype.constructor=di;function ht(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=we,this.__views__=[]}function Zj(){var a=new ht(this.__wrapped__);return a.__actions__=Or(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Or(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Or(this.__views__),a}function eB(){if(this.__filtered__){var a=new ht(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function tB(){var a=this.__wrapped__.value(),u=this.__dir__,d=Je(a),g=u<0,_=d?a.length:0,C=dU(0,_,this.__views__),k=C.start,L=C.end,V=L-k,X=g?L:k-1,Z=this.__iteratees__,ne=Z.length,ge=0,De=or(V,this.__takeCount__);if(!d||!g&&_==V&&De==V)return yx(a,this.__actions__);var qe=[];e:for(;V--&&ge<De;){X+=u;for(var st=-1,We=a[X];++st<ne;){var lt=Z[st],pt=lt.iteratee,Jr=lt.type,vr=pt(We);if(Jr==Ce)We=vr;else if(!vr){if(Jr==Fe)continue e;break e}}qe[ge++]=We}return qe}ht.prototype=Jl(ap.prototype),ht.prototype.constructor=ht;function Da(a){var u=-1,d=a==null?0:a.length;for(this.clear();++u<d;){var g=a[u];this.set(g[0],g[1])}}function nB(){this.__data__=Qc?Qc(null):{},this.size=0}function rB(a){var u=this.has(a)&&delete this.__data__[a];return this.size-=u?1:0,u}function iB(a){var u=this.__data__;if(Qc){var d=u[a];return d===c?n:d}return Ct.call(u,a)?u[a]:n}function sB(a){var u=this.__data__;return Qc?u[a]!==n:Ct.call(u,a)}function oB(a,u){var d=this.__data__;return this.size+=this.has(a)?0:1,d[a]=Qc&&u===n?c:u,this}Da.prototype.clear=nB,Da.prototype.delete=rB,Da.prototype.get=iB,Da.prototype.has=sB,Da.prototype.set=oB;function Rs(a){var u=-1,d=a==null?0:a.length;for(this.clear();++u<d;){var g=a[u];this.set(g[0],g[1])}}function aB(){this.__data__=[],this.size=0}function lB(a){var u=this.__data__,d=lp(u,a);if(d<0)return!1;var g=u.length-1;return d==g?u.pop():tp.call(u,d,1),--this.size,!0}function uB(a){var u=this.__data__,d=lp(u,a);return d<0?n:u[d][1]}function cB(a){return lp(this.__data__,a)>-1}function hB(a,u){var d=this.__data__,g=lp(d,a);return g<0?(++this.size,d.push([a,u])):d[g][1]=u,this}Rs.prototype.clear=aB,Rs.prototype.delete=lB,Rs.prototype.get=uB,Rs.prototype.has=cB,Rs.prototype.set=hB;function bs(a){var u=-1,d=a==null?0:a.length;for(this.clear();++u<d;){var g=a[u];this.set(g[0],g[1])}}function fB(){this.size=0,this.__data__={hash:new Da,map:new(Hc||Rs),string:new Da}}function dB(a){var u=wp(this,a).delete(a);return this.size-=u?1:0,u}function pB(a){return wp(this,a).get(a)}function mB(a){return wp(this,a).has(a)}function gB(a,u){var d=wp(this,a),g=d.size;return d.set(a,u),this.size+=d.size==g?0:1,this}bs.prototype.clear=fB,bs.prototype.delete=dB,bs.prototype.get=pB,bs.prototype.has=mB,bs.prototype.set=gB;function ka(a){var u=-1,d=a==null?0:a.length;for(this.__data__=new bs;++u<d;)this.add(a[u])}function yB(a){return this.__data__.set(a,c),this}function vB(a){return this.__data__.has(a)}ka.prototype.add=ka.prototype.push=yB,ka.prototype.has=vB;function Li(a){var u=this.__data__=new Rs(a);this.size=u.size}function _B(){this.__data__=new Rs,this.size=0}function wB(a){var u=this.__data__,d=u.delete(a);return this.size=u.size,d}function EB(a){return this.__data__.get(a)}function TB(a){return this.__data__.has(a)}function IB(a,u){var d=this.__data__;if(d instanceof Rs){var g=d.__data__;if(!Hc||g.length<i-1)return g.push([a,u]),this.size=++d.size,this;d=this.__data__=new bs(g)}return d.set(a,u),this.size=d.size,this}Li.prototype.clear=_B,Li.prototype.delete=wB,Li.prototype.get=EB,Li.prototype.has=TB,Li.prototype.set=IB;function GS(a,u){var d=Je(a),g=!d&&Va(a),_=!d&&!g&&So(a),C=!d&&!g&&!_&&nu(a),k=d||g||_||C,L=k?bv(a.length,kj):[],V=L.length;for(var X in a)(u||Ct.call(a,X))&&!(k&&(X=="length"||_&&(X=="offset"||X=="parent")||C&&(X=="buffer"||X=="byteLength"||X=="byteOffset")||Os(X,V)))&&L.push(X);return L}function QS(a){var u=a.length;return u?a[qv(0,u-1)]:n}function SB(a,u){return Ep(Or(a),Na(u,0,a.length))}function xB(a){return Ep(Or(a))}function Nv(a,u,d){(d!==n&&!Mi(a[u],d)||d===n&&!(u in a))&&As(a,u,d)}function Xc(a,u,d){var g=a[u];(!(Ct.call(a,u)&&Mi(g,d))||d===n&&!(u in a))&&As(a,u,d)}function lp(a,u){for(var d=a.length;d--;)if(Mi(a[d][0],u))return d;return-1}function RB(a,u,d,g){return wo(a,function(_,C,k){u(g,_,d(_),k)}),g}function YS(a,u){return a&&es(u,jn(u),a)}function bB(a,u){return a&&es(u,kr(u),a)}function As(a,u,d){u=="__proto__"&&np?np(a,u,{configurable:!0,enumerable:!0,value:d,writable:!0}):a[u]=d}function Lv(a,u){for(var d=-1,g=u.length,_=z(g),C=a==null;++d<g;)_[d]=C?n:m_(a,u[d]);return _}function Na(a,u,d){return a===a&&(d!==n&&(a=a<=d?a:d),u!==n&&(a=a>=u?a:u)),a}function pi(a,u,d,g,_,C){var k,L=u&p,V=u&m,X=u&y;if(d&&(k=_?d(a,g,_,C):d(a)),k!==n)return k;if(!an(a))return a;var Z=Je(a);if(Z){if(k=mU(a),!L)return Or(a,k)}else{var ne=ar(a),ge=ne==xt||ne==wt;if(So(a))return wx(a,L);if(ne==zt||ne==ke||ge&&!_){if(k=V||ge?{}:$x(a),!L)return V?iU(a,bB(k,a)):rU(a,YS(k,a))}else{if(!$t[ne])return _?a:{};k=gU(a,ne,L)}}C||(C=new Li);var De=C.get(a);if(De)return De;C.set(a,k),pR(a)?a.forEach(function(We){k.add(pi(We,u,d,We,a,C))}):fR(a)&&a.forEach(function(We,lt){k.set(lt,pi(We,u,d,lt,a,C))});var qe=X?V?t_:e_:V?kr:jn,st=Z?n:qe(a);return hi(st||a,function(We,lt){st&&(lt=We,We=a[lt]),Xc(k,lt,pi(We,u,d,lt,a,C))}),k}function AB(a){var u=jn(a);return function(d){return XS(d,a,u)}}function XS(a,u,d){var g=d.length;if(a==null)return!g;for(a=Ft(a);g--;){var _=d[g],C=u[_],k=a[_];if(k===n&&!(_ in a)||!C(k))return!1}return!0}function JS(a,u,d){if(typeof a!="function")throw new fi(o);return ih(function(){a.apply(n,d)},u)}function Jc(a,u,d,g){var _=-1,C=Wd,k=!0,L=a.length,V=[],X=u.length;if(!L)return V;d&&(u=en(u,Qr(d))),g?(C=Ev,k=!1):u.length>=i&&(C=Wc,k=!1,u=new ka(u));e:for(;++_<L;){var Z=a[_],ne=d==null?Z:d(Z);if(Z=g||Z!==0?Z:0,k&&ne===ne){for(var ge=X;ge--;)if(u[ge]===ne)continue e;V.push(Z)}else C(u,ne,g)||V.push(Z)}return V}var wo=xx(Zi),ZS=xx(Fv,!0);function CB(a,u){var d=!0;return wo(a,function(g,_,C){return d=!!u(g,_,C),d}),d}function up(a,u,d){for(var g=-1,_=a.length;++g<_;){var C=a[g],k=u(C);if(k!=null&&(L===n?k===k&&!Xr(k):d(k,L)))var L=k,V=C}return V}function PB(a,u,d,g){var _=a.length;for(d=it(d),d<0&&(d=-d>_?0:_+d),g=g===n||g>_?_:it(g),g<0&&(g+=_),g=d>g?0:gR(g);d<g;)a[d++]=u;return a}function ex(a,u){var d=[];return wo(a,function(g,_,C){u(g,_,C)&&d.push(g)}),d}function Xn(a,u,d,g,_){var C=-1,k=a.length;for(d||(d=vU),_||(_=[]);++C<k;){var L=a[C];u>0&&d(L)?u>1?Xn(L,u-1,d,g,_):yo(_,L):g||(_[_.length]=L)}return _}var Mv=Rx(),tx=Rx(!0);function Zi(a,u){return a&&Mv(a,u,jn)}function Fv(a,u){return a&&tx(a,u,jn)}function cp(a,u){return go(u,function(d){return Ds(a[d])})}function La(a,u){u=To(u,a);for(var d=0,g=u.length;a!=null&&d<g;)a=a[ts(u[d++])];return d&&d==g?a:n}function nx(a,u,d){var g=u(a);return Je(a)?g:yo(g,d(a))}function gr(a){return a==null?a===n?Nn:sr:Oa&&Oa in Ft(a)?fU(a):xU(a)}function Vv(a,u){return a>u}function OB(a,u){return a!=null&&Ct.call(a,u)}function DB(a,u){return a!=null&&u in Ft(a)}function kB(a,u,d){return a>=or(u,d)&&a<Mn(u,d)}function $v(a,u,d){for(var g=d?Ev:Wd,_=a[0].length,C=a.length,k=C,L=z(C),V=1/0,X=[];k--;){var Z=a[k];k&&u&&(Z=en(Z,Qr(u))),V=or(Z.length,V),L[k]=!d&&(u||_>=120&&Z.length>=120)?new ka(k&&Z):n}Z=a[0];var ne=-1,ge=L[0];e:for(;++ne<_&&X.length<V;){var De=Z[ne],qe=u?u(De):De;if(De=d||De!==0?De:0,!(ge?Wc(ge,qe):g(X,qe,d))){for(k=C;--k;){var st=L[k];if(!(st?Wc(st,qe):g(a[k],qe,d)))continue e}ge&&ge.push(qe),X.push(De)}}return X}function NB(a,u,d,g){return Zi(a,function(_,C,k){u(g,d(_),C,k)}),g}function Zc(a,u,d){u=To(u,a),a=zx(a,u);var g=a==null?a:a[ts(gi(u))];return g==null?n:Gr(g,a,d)}function rx(a){return mn(a)&&gr(a)==ke}function LB(a){return mn(a)&&gr(a)==J}function MB(a){return mn(a)&&gr(a)==Qe}function eh(a,u,d,g,_){return a===u?!0:a==null||u==null||!mn(a)&&!mn(u)?a!==a&&u!==u:FB(a,u,d,g,eh,_)}function FB(a,u,d,g,_,C){var k=Je(a),L=Je(u),V=k?et:ar(a),X=L?et:ar(u);V=V==ke?zt:V,X=X==ke?zt:X;var Z=V==zt,ne=X==zt,ge=V==X;if(ge&&So(a)){if(!So(u))return!1;k=!0,Z=!1}if(ge&&!Z)return C||(C=new Li),k||nu(a)?Mx(a,u,d,g,_,C):cU(a,u,V,d,g,_,C);if(!(d&v)){var De=Z&&Ct.call(a,"__wrapped__"),qe=ne&&Ct.call(u,"__wrapped__");if(De||qe){var st=De?a.value():a,We=qe?u.value():u;return C||(C=new Li),_(st,We,d,g,C)}}return ge?(C||(C=new Li),hU(a,u,d,g,_,C)):!1}function VB(a){return mn(a)&&ar(a)==kt}function jv(a,u,d,g){var _=d.length,C=_,k=!g;if(a==null)return!C;for(a=Ft(a);_--;){var L=d[_];if(k&&L[2]?L[1]!==a[L[0]]:!(L[0]in a))return!1}for(;++_<C;){L=d[_];var V=L[0],X=a[V],Z=L[1];if(k&&L[2]){if(X===n&&!(V in a))return!1}else{var ne=new Li;if(g)var ge=g(X,Z,V,a,u,ne);if(!(ge===n?eh(Z,X,v|w,g,ne):ge))return!1}}return!0}function ix(a){if(!an(a)||wU(a))return!1;var u=Ds(a)?Vj:Hr;return u.test(Fa(a))}function $B(a){return mn(a)&&gr(a)==Nt}function jB(a){return mn(a)&&ar(a)==qt}function BB(a){return mn(a)&&bp(a.length)&&!!Wt[gr(a)]}function sx(a){return typeof a=="function"?a:a==null?Nr:typeof a=="object"?Je(a)?lx(a[0],a[1]):ax(a):bR(a)}function Bv(a){if(!rh(a))return qj(a);var u=[];for(var d in Ft(a))Ct.call(a,d)&&d!="constructor"&&u.push(d);return u}function UB(a){if(!an(a))return SU(a);var u=rh(a),d=[];for(var g in a)g=="constructor"&&(u||!Ct.call(a,g))||d.push(g);return d}function Uv(a,u){return a<u}function ox(a,u){var d=-1,g=Dr(a)?z(a.length):[];return wo(a,function(_,C,k){g[++d]=u(_,C,k)}),g}function ax(a){var u=r_(a);return u.length==1&&u[0][2]?Bx(u[0][0],u[0][1]):function(d){return d===a||jv(d,a,u)}}function lx(a,u){return s_(a)&&jx(u)?Bx(ts(a),u):function(d){var g=m_(d,a);return g===n&&g===u?g_(d,a):eh(u,g,v|w)}}function hp(a,u,d,g,_){a!==u&&Mv(u,function(C,k){if(_||(_=new Li),an(C))zB(a,u,k,d,hp,g,_);else{var L=g?g(a_(a,k),C,k+"",a,u,_):n;L===n&&(L=C),Nv(a,k,L)}},kr)}function zB(a,u,d,g,_,C,k){var L=a_(a,d),V=a_(u,d),X=k.get(V);if(X){Nv(a,d,X);return}var Z=C?C(L,V,d+"",a,u,k):n,ne=Z===n;if(ne){var ge=Je(V),De=!ge&&So(V),qe=!ge&&!De&&nu(V);Z=V,ge||De||qe?Je(L)?Z=L:In(L)?Z=Or(L):De?(ne=!1,Z=wx(V,!0)):qe?(ne=!1,Z=Ex(V,!0)):Z=[]:sh(V)||Va(V)?(Z=L,Va(L)?Z=yR(L):(!an(L)||Ds(L))&&(Z=$x(V))):ne=!1}ne&&(k.set(V,Z),_(Z,V,g,C,k),k.delete(V)),Nv(a,d,Z)}function ux(a,u){var d=a.length;if(d)return u+=u<0?d:0,Os(u,d)?a[u]:n}function cx(a,u,d){u.length?u=en(u,function(C){return Je(C)?function(k){return La(k,C.length===1?C[0]:C)}:C}):u=[Nr];var g=-1;u=en(u,Qr(ze()));var _=ox(a,function(C,k,L){var V=en(u,function(X){return X(C)});return{criteria:V,index:++g,value:C}});return gj(_,function(C,k){return nU(C,k,d)})}function qB(a,u){return hx(a,u,function(d,g){return g_(a,g)})}function hx(a,u,d){for(var g=-1,_=u.length,C={};++g<_;){var k=u[g],L=La(a,k);d(L,k)&&th(C,To(k,a),L)}return C}function WB(a){return function(u){return La(u,a)}}function zv(a,u,d,g){var _=g?mj:Wl,C=-1,k=u.length,L=a;for(a===u&&(u=Or(u)),d&&(L=en(a,Qr(d)));++C<k;)for(var V=0,X=u[C],Z=d?d(X):X;(V=_(L,Z,V,g))>-1;)L!==a&&tp.call(L,V,1),tp.call(a,V,1);return a}function fx(a,u){for(var d=a?u.length:0,g=d-1;d--;){var _=u[d];if(d==g||_!==C){var C=_;Os(_)?tp.call(a,_,1):Hv(a,_)}}return a}function qv(a,u){return a+ip(KS()*(u-a+1))}function KB(a,u,d,g){for(var _=-1,C=Mn(rp((u-a)/(d||1)),0),k=z(C);C--;)k[g?C:++_]=a,a+=d;return k}function Wv(a,u){var d="";if(!a||u<1||u>H)return d;do u%2&&(d+=a),u=ip(u/2),u&&(a+=a);while(u);return d}function ot(a,u){return l_(Ux(a,u,Nr),a+"")}function HB(a){return QS(ru(a))}function GB(a,u){var d=ru(a);return Ep(d,Na(u,0,d.length))}function th(a,u,d,g){if(!an(a))return a;u=To(u,a);for(var _=-1,C=u.length,k=C-1,L=a;L!=null&&++_<C;){var V=ts(u[_]),X=d;if(V==="__proto__"||V==="constructor"||V==="prototype")return a;if(_!=k){var Z=L[V];X=g?g(Z,V,L):n,X===n&&(X=an(Z)?Z:Os(u[_+1])?[]:{})}Xc(L,V,X),L=L[V]}return a}var dx=sp?function(a,u){return sp.set(a,u),a}:Nr,QB=np?function(a,u){return np(a,"toString",{configurable:!0,enumerable:!1,value:v_(u),writable:!0})}:Nr;function YB(a){return Ep(ru(a))}function mi(a,u,d){var g=-1,_=a.length;u<0&&(u=-u>_?0:_+u),d=d>_?_:d,d<0&&(d+=_),_=u>d?0:d-u>>>0,u>>>=0;for(var C=z(_);++g<_;)C[g]=a[g+u];return C}function XB(a,u){var d;return wo(a,function(g,_,C){return d=u(g,_,C),!d}),!!d}function fp(a,u,d){var g=0,_=a==null?g:a.length;if(typeof u=="number"&&u===u&&_<=$e){for(;g<_;){var C=g+_>>>1,k=a[C];k!==null&&!Xr(k)&&(d?k<=u:k<u)?g=C+1:_=C}return _}return Kv(a,u,Nr,d)}function Kv(a,u,d,g){var _=0,C=a==null?0:a.length;if(C===0)return 0;u=d(u);for(var k=u!==u,L=u===null,V=Xr(u),X=u===n;_<C;){var Z=ip((_+C)/2),ne=d(a[Z]),ge=ne!==n,De=ne===null,qe=ne===ne,st=Xr(ne);if(k)var We=g||qe;else X?We=qe&&(g||ge):L?We=qe&&ge&&(g||!De):V?We=qe&&ge&&!De&&(g||!st):De||st?We=!1:We=g?ne<=u:ne<u;We?_=Z+1:C=Z}return or(C,Ae)}function px(a,u){for(var d=-1,g=a.length,_=0,C=[];++d<g;){var k=a[d],L=u?u(k):k;if(!d||!Mi(L,V)){var V=L;C[_++]=k===0?0:k}}return C}function mx(a){return typeof a=="number"?a:Xr(a)?ae:+a}function Yr(a){if(typeof a=="string")return a;if(Je(a))return en(a,Yr)+"";if(Xr(a))return HS?HS.call(a):"";var u=a+"";return u=="0"&&1/a==-Me?"-0":u}function Eo(a,u,d){var g=-1,_=Wd,C=a.length,k=!0,L=[],V=L;if(d)k=!1,_=Ev;else if(C>=i){var X=u?null:lU(a);if(X)return Hd(X);k=!1,_=Wc,V=new ka}else V=u?[]:L;e:for(;++g<C;){var Z=a[g],ne=u?u(Z):Z;if(Z=d||Z!==0?Z:0,k&&ne===ne){for(var ge=V.length;ge--;)if(V[ge]===ne)continue e;u&&V.push(ne),L.push(Z)}else _(V,ne,d)||(V!==L&&V.push(ne),L.push(Z))}return L}function Hv(a,u){return u=To(u,a),a=zx(a,u),a==null||delete a[ts(gi(u))]}function gx(a,u,d,g){return th(a,u,d(La(a,u)),g)}function dp(a,u,d,g){for(var _=a.length,C=g?_:-1;(g?C--:++C<_)&&u(a[C],C,a););return d?mi(a,g?0:C,g?C+1:_):mi(a,g?C+1:0,g?_:C)}function yx(a,u){var d=a;return d instanceof ht&&(d=d.value()),Tv(u,function(g,_){return _.func.apply(_.thisArg,yo([g],_.args))},d)}function Gv(a,u,d){var g=a.length;if(g<2)return g?Eo(a[0]):[];for(var _=-1,C=z(g);++_<g;)for(var k=a[_],L=-1;++L<g;)L!=_&&(C[_]=Jc(C[_]||k,a[L],u,d));return Eo(Xn(C,1),u,d)}function vx(a,u,d){for(var g=-1,_=a.length,C=u.length,k={};++g<_;){var L=g<C?u[g]:n;d(k,a[g],L)}return k}function Qv(a){return In(a)?a:[]}function Yv(a){return typeof a=="function"?a:Nr}function To(a,u){return Je(a)?a:s_(a,u)?[a]:Hx(bt(a))}var JB=ot;function Io(a,u,d){var g=a.length;return d=d===n?g:d,!u&&d>=g?a:mi(a,u,d)}var _x=$j||function(a){return Yn.clearTimeout(a)};function wx(a,u){if(u)return a.slice();var d=a.length,g=BS?BS(d):new a.constructor(d);return a.copy(g),g}function Xv(a){var u=new a.constructor(a.byteLength);return new Zd(u).set(new Zd(a)),u}function ZB(a,u){var d=u?Xv(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.byteLength)}function eU(a){var u=new a.constructor(a.source,zl.exec(a));return u.lastIndex=a.lastIndex,u}function tU(a){return Yc?Ft(Yc.call(a)):{}}function Ex(a,u){var d=u?Xv(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.length)}function Tx(a,u){if(a!==u){var d=a!==n,g=a===null,_=a===a,C=Xr(a),k=u!==n,L=u===null,V=u===u,X=Xr(u);if(!L&&!X&&!C&&a>u||C&&k&&V&&!L&&!X||g&&k&&V||!d&&V||!_)return 1;if(!g&&!C&&!X&&a<u||X&&d&&_&&!g&&!C||L&&d&&_||!k&&_||!V)return-1}return 0}function nU(a,u,d){for(var g=-1,_=a.criteria,C=u.criteria,k=_.length,L=d.length;++g<k;){var V=Tx(_[g],C[g]);if(V){if(g>=L)return V;var X=d[g];return V*(X=="desc"?-1:1)}}return a.index-u.index}function Ix(a,u,d,g){for(var _=-1,C=a.length,k=d.length,L=-1,V=u.length,X=Mn(C-k,0),Z=z(V+X),ne=!g;++L<V;)Z[L]=u[L];for(;++_<k;)(ne||_<C)&&(Z[d[_]]=a[_]);for(;X--;)Z[L++]=a[_++];return Z}function Sx(a,u,d,g){for(var _=-1,C=a.length,k=-1,L=d.length,V=-1,X=u.length,Z=Mn(C-L,0),ne=z(Z+X),ge=!g;++_<Z;)ne[_]=a[_];for(var De=_;++V<X;)ne[De+V]=u[V];for(;++k<L;)(ge||_<C)&&(ne[De+d[k]]=a[_++]);return ne}function Or(a,u){var d=-1,g=a.length;for(u||(u=z(g));++d<g;)u[d]=a[d];return u}function es(a,u,d,g){var _=!d;d||(d={});for(var C=-1,k=u.length;++C<k;){var L=u[C],V=g?g(d[L],a[L],L,d,a):n;V===n&&(V=a[L]),_?As(d,L,V):Xc(d,L,V)}return d}function rU(a,u){return es(a,i_(a),u)}function iU(a,u){return es(a,Fx(a),u)}function pp(a,u){return function(d,g){var _=Je(d)?uj:RB,C=u?u():{};return _(d,a,ze(g,2),C)}}function Zl(a){return ot(function(u,d){var g=-1,_=d.length,C=_>1?d[_-1]:n,k=_>2?d[2]:n;for(C=a.length>3&&typeof C=="function"?(_--,C):n,k&&yr(d[0],d[1],k)&&(C=_<3?n:C,_=1),u=Ft(u);++g<_;){var L=d[g];L&&a(u,L,g,C)}return u})}function xx(a,u){return function(d,g){if(d==null)return d;if(!Dr(d))return a(d,g);for(var _=d.length,C=u?_:-1,k=Ft(d);(u?C--:++C<_)&&g(k[C],C,k)!==!1;);return d}}function Rx(a){return function(u,d,g){for(var _=-1,C=Ft(u),k=g(u),L=k.length;L--;){var V=k[a?L:++_];if(d(C[V],V,C)===!1)break}return u}}function sU(a,u,d){var g=u&R,_=nh(a);function C(){var k=this&&this!==Yn&&this instanceof C?_:a;return k.apply(g?d:this,arguments)}return C}function bx(a){return function(u){u=bt(u);var d=Kl(u)?Ni(u):n,g=d?d[0]:u.charAt(0),_=d?Io(d,1).join(""):u.slice(1);return g[a]()+_}}function eu(a){return function(u){return Tv(xR(SR(u).replace(Q$,"")),a,"")}}function nh(a){return function(){var u=arguments;switch(u.length){case 0:return new a;case 1:return new a(u[0]);case 2:return new a(u[0],u[1]);case 3:return new a(u[0],u[1],u[2]);case 4:return new a(u[0],u[1],u[2],u[3]);case 5:return new a(u[0],u[1],u[2],u[3],u[4]);case 6:return new a(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new a(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var d=Jl(a.prototype),g=a.apply(d,u);return an(g)?g:d}}function oU(a,u,d){var g=nh(a);function _(){for(var C=arguments.length,k=z(C),L=C,V=tu(_);L--;)k[L]=arguments[L];var X=C<3&&k[0]!==V&&k[C-1]!==V?[]:vo(k,V);if(C-=X.length,C<d)return Dx(a,u,mp,_.placeholder,n,k,X,n,n,d-C);var Z=this&&this!==Yn&&this instanceof _?g:a;return Gr(Z,this,k)}return _}function Ax(a){return function(u,d,g){var _=Ft(u);if(!Dr(u)){var C=ze(d,3);u=jn(u),d=function(L){return C(_[L],L,_)}}var k=a(u,d,g);return k>-1?_[C?u[k]:k]:n}}function Cx(a){return Ps(function(u){var d=u.length,g=d,_=di.prototype.thru;for(a&&u.reverse();g--;){var C=u[g];if(typeof C!="function")throw new fi(o);if(_&&!k&&_p(C)=="wrapper")var k=new di([],!0)}for(g=k?g:d;++g<d;){C=u[g];var L=_p(C),V=L=="wrapper"?n_(C):n;V&&o_(V[0])&&V[1]==(D|I|P|N)&&!V[4].length&&V[9]==1?k=k[_p(V[0])].apply(k,V[3]):k=C.length==1&&o_(C)?k[L]():k.thru(C)}return function(){var X=arguments,Z=X[0];if(k&&X.length==1&&Je(Z))return k.plant(Z).value();for(var ne=0,ge=d?u[ne].apply(this,X):Z;++ne<d;)ge=u[ne].call(this,ge);return ge}})}function mp(a,u,d,g,_,C,k,L,V,X){var Z=u&D,ne=u&R,ge=u&T,De=u&(I|E),qe=u&W,st=ge?n:nh(a);function We(){for(var lt=arguments.length,pt=z(lt),Jr=lt;Jr--;)pt[Jr]=arguments[Jr];if(De)var vr=tu(We),Zr=vj(pt,vr);if(g&&(pt=Ix(pt,g,_,De)),C&&(pt=Sx(pt,C,k,De)),lt-=Zr,De&&lt<X){var Sn=vo(pt,vr);return Dx(a,u,mp,We.placeholder,d,pt,Sn,L,V,X-lt)}var Fi=ne?d:this,Ns=ge?Fi[a]:a;return lt=pt.length,L?pt=RU(pt,L):qe&&lt>1&&pt.reverse(),Z&&V<lt&&(pt.length=V),this&&this!==Yn&&this instanceof We&&(Ns=st||nh(Ns)),Ns.apply(Fi,pt)}return We}function Px(a,u){return function(d,g){return NB(d,a,u(g),{})}}function gp(a,u){return function(d,g){var _;if(d===n&&g===n)return u;if(d!==n&&(_=d),g!==n){if(_===n)return g;typeof d=="string"||typeof g=="string"?(d=Yr(d),g=Yr(g)):(d=mx(d),g=mx(g)),_=a(d,g)}return _}}function Jv(a){return Ps(function(u){return u=en(u,Qr(ze())),ot(function(d){var g=this;return a(u,function(_){return Gr(_,g,d)})})})}function yp(a,u){u=u===n?" ":Yr(u);var d=u.length;if(d<2)return d?Wv(u,a):u;var g=Wv(u,rp(a/Hl(u)));return Kl(u)?Io(Ni(g),0,a).join(""):g.slice(0,a)}function aU(a,u,d,g){var _=u&R,C=nh(a);function k(){for(var L=-1,V=arguments.length,X=-1,Z=g.length,ne=z(Z+V),ge=this&&this!==Yn&&this instanceof k?C:a;++X<Z;)ne[X]=g[X];for(;V--;)ne[X++]=arguments[++L];return Gr(ge,_?d:this,ne)}return k}function Ox(a){return function(u,d,g){return g&&typeof g!="number"&&yr(u,d,g)&&(d=g=n),u=ks(u),d===n?(d=u,u=0):d=ks(d),g=g===n?u<d?1:-1:ks(g),KB(u,d,g,a)}}function vp(a){return function(u,d){return typeof u=="string"&&typeof d=="string"||(u=yi(u),d=yi(d)),a(u,d)}}function Dx(a,u,d,g,_,C,k,L,V,X){var Z=u&I,ne=Z?k:n,ge=Z?n:k,De=Z?C:n,qe=Z?n:C;u|=Z?P:O,u&=~(Z?O:P),u&S||(u&=~(R|T));var st=[a,u,_,De,ne,qe,ge,L,V,X],We=d.apply(n,st);return o_(a)&&qx(We,st),We.placeholder=g,Wx(We,a,u)}function Zv(a){var u=Ln[a];return function(d,g){if(d=yi(d),g=g==null?0:or(it(g),292),g&&WS(d)){var _=(bt(d)+"e").split("e"),C=u(_[0]+"e"+(+_[1]+g));return _=(bt(C)+"e").split("e"),+(_[0]+"e"+(+_[1]-g))}return u(d)}}var lU=Yl&&1/Hd(new Yl([,-0]))[1]==Me?function(a){return new Yl(a)}:E_;function kx(a){return function(u){var d=ar(u);return d==kt?Cv(u):d==qt?xj(u):yj(u,a(u))}}function Cs(a,u,d,g,_,C,k,L){var V=u&T;if(!V&&typeof a!="function")throw new fi(o);var X=g?g.length:0;if(X||(u&=~(P|O),g=_=n),k=k===n?k:Mn(it(k),0),L=L===n?L:it(L),X-=_?_.length:0,u&O){var Z=g,ne=_;g=_=n}var ge=V?n:n_(a),De=[a,u,d,g,_,Z,ne,C,k,L];if(ge&&IU(De,ge),a=De[0],u=De[1],d=De[2],g=De[3],_=De[4],L=De[9]=De[9]===n?V?0:a.length:Mn(De[9]-X,0),!L&&u&(I|E)&&(u&=~(I|E)),!u||u==R)var qe=sU(a,u,d);else u==I||u==E?qe=oU(a,u,L):(u==P||u==(R|P))&&!_.length?qe=aU(a,u,d,g):qe=mp.apply(n,De);var st=ge?dx:qx;return Wx(st(qe,De),a,u)}function Nx(a,u,d,g){return a===n||Mi(a,Ql[d])&&!Ct.call(g,d)?u:a}function Lx(a,u,d,g,_,C){return an(a)&&an(u)&&(C.set(u,a),hp(a,u,n,Lx,C),C.delete(u)),a}function uU(a){return sh(a)?n:a}function Mx(a,u,d,g,_,C){var k=d&v,L=a.length,V=u.length;if(L!=V&&!(k&&V>L))return!1;var X=C.get(a),Z=C.get(u);if(X&&Z)return X==u&&Z==a;var ne=-1,ge=!0,De=d&w?new ka:n;for(C.set(a,u),C.set(u,a);++ne<L;){var qe=a[ne],st=u[ne];if(g)var We=k?g(st,qe,ne,u,a,C):g(qe,st,ne,a,u,C);if(We!==n){if(We)continue;ge=!1;break}if(De){if(!Iv(u,function(lt,pt){if(!Wc(De,pt)&&(qe===lt||_(qe,lt,d,g,C)))return De.push(pt)})){ge=!1;break}}else if(!(qe===st||_(qe,st,d,g,C))){ge=!1;break}}return C.delete(a),C.delete(u),ge}function cU(a,u,d,g,_,C,k){switch(d){case $:if(a.byteLength!=u.byteLength||a.byteOffset!=u.byteOffset)return!1;a=a.buffer,u=u.buffer;case J:return!(a.byteLength!=u.byteLength||!C(new Zd(a),new Zd(u)));case _t:case Qe:case tt:return Mi(+a,+u);case ct:return a.name==u.name&&a.message==u.message;case Nt:case kn:return a==u+"";case kt:var L=Cv;case qt:var V=g&v;if(L||(L=Hd),a.size!=u.size&&!V)return!1;var X=k.get(a);if(X)return X==u;g|=w,k.set(a,u);var Z=Mx(L(a),L(u),g,_,C,k);return k.delete(a),Z;case pn:if(Yc)return Yc.call(a)==Yc.call(u)}return!1}function hU(a,u,d,g,_,C){var k=d&v,L=e_(a),V=L.length,X=e_(u),Z=X.length;if(V!=Z&&!k)return!1;for(var ne=V;ne--;){var ge=L[ne];if(!(k?ge in u:Ct.call(u,ge)))return!1}var De=C.get(a),qe=C.get(u);if(De&&qe)return De==u&&qe==a;var st=!0;C.set(a,u),C.set(u,a);for(var We=k;++ne<V;){ge=L[ne];var lt=a[ge],pt=u[ge];if(g)var Jr=k?g(pt,lt,ge,u,a,C):g(lt,pt,ge,a,u,C);if(!(Jr===n?lt===pt||_(lt,pt,d,g,C):Jr)){st=!1;break}We||(We=ge=="constructor")}if(st&&!We){var vr=a.constructor,Zr=u.constructor;vr!=Zr&&"constructor"in a&&"constructor"in u&&!(typeof vr=="function"&&vr instanceof vr&&typeof Zr=="function"&&Zr instanceof Zr)&&(st=!1)}return C.delete(a),C.delete(u),st}function Ps(a){return l_(Ux(a,n,Xx),a+"")}function e_(a){return nx(a,jn,i_)}function t_(a){return nx(a,kr,Fx)}var n_=sp?function(a){return sp.get(a)}:E_;function _p(a){for(var u=a.name+"",d=Xl[u],g=Ct.call(Xl,u)?d.length:0;g--;){var _=d[g],C=_.func;if(C==null||C==a)return _.name}return u}function tu(a){var u=Ct.call(A,"placeholder")?A:a;return u.placeholder}function ze(){var a=A.iteratee||__;return a=a===__?sx:a,arguments.length?a(arguments[0],arguments[1]):a}function wp(a,u){var d=a.__data__;return _U(u)?d[typeof u=="string"?"string":"hash"]:d.map}function r_(a){for(var u=jn(a),d=u.length;d--;){var g=u[d],_=a[g];u[d]=[g,_,jx(_)]}return u}function Ma(a,u){var d=Tj(a,u);return ix(d)?d:n}function fU(a){var u=Ct.call(a,Oa),d=a[Oa];try{a[Oa]=n;var g=!0}catch{}var _=Xd.call(a);return g&&(u?a[Oa]=d:delete a[Oa]),_}var i_=Ov?function(a){return a==null?[]:(a=Ft(a),go(Ov(a),function(u){return zS.call(a,u)}))}:T_,Fx=Ov?function(a){for(var u=[];a;)yo(u,i_(a)),a=ep(a);return u}:T_,ar=gr;(Dv&&ar(new Dv(new ArrayBuffer(1)))!=$||Hc&&ar(new Hc)!=kt||kv&&ar(kv.resolve())!=Kr||Yl&&ar(new Yl)!=qt||Gc&&ar(new Gc)!=He)&&(ar=function(a){var u=gr(a),d=u==zt?a.constructor:n,g=d?Fa(d):"";if(g)switch(g){case Gj:return $;case Qj:return kt;case Yj:return Kr;case Xj:return qt;case Jj:return He}return u});function dU(a,u,d){for(var g=-1,_=d.length;++g<_;){var C=d[g],k=C.size;switch(C.type){case"drop":a+=k;break;case"dropRight":u-=k;break;case"take":u=or(u,a+k);break;case"takeRight":a=Mn(a,u-k);break}}return{start:a,end:u}}function pU(a){var u=a.match(ba);return u?u[1].split(Uc):[]}function Vx(a,u,d){u=To(u,a);for(var g=-1,_=u.length,C=!1;++g<_;){var k=ts(u[g]);if(!(C=a!=null&&d(a,k)))break;a=a[k]}return C||++g!=_?C:(_=a==null?0:a.length,!!_&&bp(_)&&Os(k,_)&&(Je(a)||Va(a)))}function mU(a){var u=a.length,d=new a.constructor(u);return u&&typeof a[0]=="string"&&Ct.call(a,"index")&&(d.index=a.index,d.input=a.input),d}function $x(a){return typeof a.constructor=="function"&&!rh(a)?Jl(ep(a)):{}}function gU(a,u,d){var g=a.constructor;switch(u){case J:return Xv(a);case _t:case Qe:return new g(+a);case $:return ZB(a,d);case se:case le:case oe:case pe:case Ke:case U:case Q:case xe:case Ee:return Ex(a,d);case kt:return new g;case tt:case kn:return new g(a);case Nt:return eU(a);case qt:return new g;case pn:return tU(a)}}function yU(a,u){var d=u.length;if(!d)return a;var g=d-1;return u[g]=(d>1?"& ":"")+u[g],u=u.join(d>2?", ":" "),a.replace(xs,`{
/* [wrapped with `+u+`] */
`)}function vU(a){return Je(a)||Va(a)||!!(qS&&a&&a[qS])}function Os(a,u){var d=typeof a;return u=u??H,!!u&&(d=="number"||d!="symbol"&&on.test(a))&&a>-1&&a%1==0&&a<u}function yr(a,u,d){if(!an(d))return!1;var g=typeof u;return(g=="number"?Dr(d)&&Os(u,d.length):g=="string"&&u in d)?Mi(d[u],a):!1}function s_(a,u){if(Je(a))return!1;var d=typeof a;return d=="number"||d=="symbol"||d=="boolean"||a==null||Xr(a)?!0:It.test(a)||!Oe.test(a)||u!=null&&a in Ft(u)}function _U(a){var u=typeof a;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?a!=="__proto__":a===null}function o_(a){var u=_p(a),d=A[u];if(typeof d!="function"||!(u in ht.prototype))return!1;if(a===d)return!0;var g=n_(d);return!!g&&a===g[0]}function wU(a){return!!jS&&jS in a}var EU=Qd?Ds:I_;function rh(a){var u=a&&a.constructor,d=typeof u=="function"&&u.prototype||Ql;return a===d}function jx(a){return a===a&&!an(a)}function Bx(a,u){return function(d){return d==null?!1:d[a]===u&&(u!==n||a in Ft(d))}}function TU(a){var u=xp(a,function(g){return d.size===h&&d.clear(),g}),d=u.cache;return u}function IU(a,u){var d=a[1],g=u[1],_=d|g,C=_<(R|T|D),k=g==D&&d==I||g==D&&d==N&&a[7].length<=u[8]||g==(D|N)&&u[7].length<=u[8]&&d==I;if(!(C||k))return a;g&R&&(a[2]=u[2],_|=d&R?0:S);var L=u[3];if(L){var V=a[3];a[3]=V?Ix(V,L,u[4]):L,a[4]=V?vo(a[3],f):u[4]}return L=u[5],L&&(V=a[5],a[5]=V?Sx(V,L,u[6]):L,a[6]=V?vo(a[5],f):u[6]),L=u[7],L&&(a[7]=L),g&D&&(a[8]=a[8]==null?u[8]:or(a[8],u[8])),a[9]==null&&(a[9]=u[9]),a[0]=u[0],a[1]=_,a}function SU(a){var u=[];if(a!=null)for(var d in Ft(a))u.push(d);return u}function xU(a){return Xd.call(a)}function Ux(a,u,d){return u=Mn(u===n?a.length-1:u,0),function(){for(var g=arguments,_=-1,C=Mn(g.length-u,0),k=z(C);++_<C;)k[_]=g[u+_];_=-1;for(var L=z(u+1);++_<u;)L[_]=g[_];return L[u]=d(k),Gr(a,this,L)}}function zx(a,u){return u.length<2?a:La(a,mi(u,0,-1))}function RU(a,u){for(var d=a.length,g=or(u.length,d),_=Or(a);g--;){var C=u[g];a[g]=Os(C,d)?_[C]:n}return a}function a_(a,u){if(!(u==="constructor"&&typeof a[u]=="function")&&u!="__proto__")return a[u]}var qx=Kx(dx),ih=Bj||function(a,u){return Yn.setTimeout(a,u)},l_=Kx(QB);function Wx(a,u,d){var g=u+"";return l_(a,yU(g,bU(pU(g),d)))}function Kx(a){var u=0,d=0;return function(){var g=Wj(),_=_e-(g-d);if(d=g,_>0){if(++u>=fe)return arguments[0]}else u=0;return a.apply(n,arguments)}}function Ep(a,u){var d=-1,g=a.length,_=g-1;for(u=u===n?g:u;++d<u;){var C=qv(d,_),k=a[C];a[C]=a[d],a[d]=k}return a.length=u,a}var Hx=TU(function(a){var u=[];return a.charCodeAt(0)===46&&u.push(""),a.replace(Lt,function(d,g,_,C){u.push(_?C.replace(Ul,"$1"):g||d)}),u});function ts(a){if(typeof a=="string"||Xr(a))return a;var u=a+"";return u=="0"&&1/a==-Me?"-0":u}function Fa(a){if(a!=null){try{return Yd.call(a)}catch{}try{return a+""}catch{}}return""}function bU(a,u){return hi(je,function(d){var g="_."+d[0];u&d[1]&&!Wd(a,g)&&a.push(g)}),a.sort()}function Gx(a){if(a instanceof ht)return a.clone();var u=new di(a.__wrapped__,a.__chain__);return u.__actions__=Or(a.__actions__),u.__index__=a.__index__,u.__values__=a.__values__,u}function AU(a,u,d){(d?yr(a,u,d):u===n)?u=1:u=Mn(it(u),0);var g=a==null?0:a.length;if(!g||u<1)return[];for(var _=0,C=0,k=z(rp(g/u));_<g;)k[C++]=mi(a,_,_+=u);return k}function CU(a){for(var u=-1,d=a==null?0:a.length,g=0,_=[];++u<d;){var C=a[u];C&&(_[g++]=C)}return _}function PU(){var a=arguments.length;if(!a)return[];for(var u=z(a-1),d=arguments[0],g=a;g--;)u[g-1]=arguments[g];return yo(Je(d)?Or(d):[d],Xn(u,1))}var OU=ot(function(a,u){return In(a)?Jc(a,Xn(u,1,In,!0)):[]}),DU=ot(function(a,u){var d=gi(u);return In(d)&&(d=n),In(a)?Jc(a,Xn(u,1,In,!0),ze(d,2)):[]}),kU=ot(function(a,u){var d=gi(u);return In(d)&&(d=n),In(a)?Jc(a,Xn(u,1,In,!0),n,d):[]});function NU(a,u,d){var g=a==null?0:a.length;return g?(u=d||u===n?1:it(u),mi(a,u<0?0:u,g)):[]}function LU(a,u,d){var g=a==null?0:a.length;return g?(u=d||u===n?1:it(u),u=g-u,mi(a,0,u<0?0:u)):[]}function MU(a,u){return a&&a.length?dp(a,ze(u,3),!0,!0):[]}function FU(a,u){return a&&a.length?dp(a,ze(u,3),!0):[]}function VU(a,u,d,g){var _=a==null?0:a.length;return _?(d&&typeof d!="number"&&yr(a,u,d)&&(d=0,g=_),PB(a,u,d,g)):[]}function Qx(a,u,d){var g=a==null?0:a.length;if(!g)return-1;var _=d==null?0:it(d);return _<0&&(_=Mn(g+_,0)),Kd(a,ze(u,3),_)}function Yx(a,u,d){var g=a==null?0:a.length;if(!g)return-1;var _=g-1;return d!==n&&(_=it(d),_=d<0?Mn(g+_,0):or(_,g-1)),Kd(a,ze(u,3),_,!0)}function Xx(a){var u=a==null?0:a.length;return u?Xn(a,1):[]}function $U(a){var u=a==null?0:a.length;return u?Xn(a,Me):[]}function jU(a,u){var d=a==null?0:a.length;return d?(u=u===n?1:it(u),Xn(a,u)):[]}function BU(a){for(var u=-1,d=a==null?0:a.length,g={};++u<d;){var _=a[u];g[_[0]]=_[1]}return g}function Jx(a){return a&&a.length?a[0]:n}function UU(a,u,d){var g=a==null?0:a.length;if(!g)return-1;var _=d==null?0:it(d);return _<0&&(_=Mn(g+_,0)),Wl(a,u,_)}function zU(a){var u=a==null?0:a.length;return u?mi(a,0,-1):[]}var qU=ot(function(a){var u=en(a,Qv);return u.length&&u[0]===a[0]?$v(u):[]}),WU=ot(function(a){var u=gi(a),d=en(a,Qv);return u===gi(d)?u=n:d.pop(),d.length&&d[0]===a[0]?$v(d,ze(u,2)):[]}),KU=ot(function(a){var u=gi(a),d=en(a,Qv);return u=typeof u=="function"?u:n,u&&d.pop(),d.length&&d[0]===a[0]?$v(d,n,u):[]});function HU(a,u){return a==null?"":zj.call(a,u)}function gi(a){var u=a==null?0:a.length;return u?a[u-1]:n}function GU(a,u,d){var g=a==null?0:a.length;if(!g)return-1;var _=g;return d!==n&&(_=it(d),_=_<0?Mn(g+_,0):or(_,g-1)),u===u?bj(a,u,_):Kd(a,DS,_,!0)}function QU(a,u){return a&&a.length?ux(a,it(u)):n}var YU=ot(Zx);function Zx(a,u){return a&&a.length&&u&&u.length?zv(a,u):a}function XU(a,u,d){return a&&a.length&&u&&u.length?zv(a,u,ze(d,2)):a}function JU(a,u,d){return a&&a.length&&u&&u.length?zv(a,u,n,d):a}var ZU=Ps(function(a,u){var d=a==null?0:a.length,g=Lv(a,u);return fx(a,en(u,function(_){return Os(_,d)?+_:_}).sort(Tx)),g});function e4(a,u){var d=[];if(!(a&&a.length))return d;var g=-1,_=[],C=a.length;for(u=ze(u,3);++g<C;){var k=a[g];u(k,g,a)&&(d.push(k),_.push(g))}return fx(a,_),d}function u_(a){return a==null?a:Hj.call(a)}function t4(a,u,d){var g=a==null?0:a.length;return g?(d&&typeof d!="number"&&yr(a,u,d)?(u=0,d=g):(u=u==null?0:it(u),d=d===n?g:it(d)),mi(a,u,d)):[]}function n4(a,u){return fp(a,u)}function r4(a,u,d){return Kv(a,u,ze(d,2))}function i4(a,u){var d=a==null?0:a.length;if(d){var g=fp(a,u);if(g<d&&Mi(a[g],u))return g}return-1}function s4(a,u){return fp(a,u,!0)}function o4(a,u,d){return Kv(a,u,ze(d,2),!0)}function a4(a,u){var d=a==null?0:a.length;if(d){var g=fp(a,u,!0)-1;if(Mi(a[g],u))return g}return-1}function l4(a){return a&&a.length?px(a):[]}function u4(a,u){return a&&a.length?px(a,ze(u,2)):[]}function c4(a){var u=a==null?0:a.length;return u?mi(a,1,u):[]}function h4(a,u,d){return a&&a.length?(u=d||u===n?1:it(u),mi(a,0,u<0?0:u)):[]}function f4(a,u,d){var g=a==null?0:a.length;return g?(u=d||u===n?1:it(u),u=g-u,mi(a,u<0?0:u,g)):[]}function d4(a,u){return a&&a.length?dp(a,ze(u,3),!1,!0):[]}function p4(a,u){return a&&a.length?dp(a,ze(u,3)):[]}var m4=ot(function(a){return Eo(Xn(a,1,In,!0))}),g4=ot(function(a){var u=gi(a);return In(u)&&(u=n),Eo(Xn(a,1,In,!0),ze(u,2))}),y4=ot(function(a){var u=gi(a);return u=typeof u=="function"?u:n,Eo(Xn(a,1,In,!0),n,u)});function v4(a){return a&&a.length?Eo(a):[]}function _4(a,u){return a&&a.length?Eo(a,ze(u,2)):[]}function w4(a,u){return u=typeof u=="function"?u:n,a&&a.length?Eo(a,n,u):[]}function c_(a){if(!(a&&a.length))return[];var u=0;return a=go(a,function(d){if(In(d))return u=Mn(d.length,u),!0}),bv(u,function(d){return en(a,Sv(d))})}function eR(a,u){if(!(a&&a.length))return[];var d=c_(a);return u==null?d:en(d,function(g){return Gr(u,n,g)})}var E4=ot(function(a,u){return In(a)?Jc(a,u):[]}),T4=ot(function(a){return Gv(go(a,In))}),I4=ot(function(a){var u=gi(a);return In(u)&&(u=n),Gv(go(a,In),ze(u,2))}),S4=ot(function(a){var u=gi(a);return u=typeof u=="function"?u:n,Gv(go(a,In),n,u)}),x4=ot(c_);function R4(a,u){return vx(a||[],u||[],Xc)}function b4(a,u){return vx(a||[],u||[],th)}var A4=ot(function(a){var u=a.length,d=u>1?a[u-1]:n;return d=typeof d=="function"?(a.pop(),d):n,eR(a,d)});function tR(a){var u=A(a);return u.__chain__=!0,u}function C4(a,u){return u(a),a}function Tp(a,u){return u(a)}var P4=Ps(function(a){var u=a.length,d=u?a[0]:0,g=this.__wrapped__,_=function(C){return Lv(C,a)};return u>1||this.__actions__.length||!(g instanceof ht)||!Os(d)?this.thru(_):(g=g.slice(d,+d+(u?1:0)),g.__actions__.push({func:Tp,args:[_],thisArg:n}),new di(g,this.__chain__).thru(function(C){return u&&!C.length&&C.push(n),C}))});function O4(){return tR(this)}function D4(){return new di(this.value(),this.__chain__)}function k4(){this.__values__===n&&(this.__values__=mR(this.value()));var a=this.__index__>=this.__values__.length,u=a?n:this.__values__[this.__index__++];return{done:a,value:u}}function N4(){return this}function L4(a){for(var u,d=this;d instanceof ap;){var g=Gx(d);g.__index__=0,g.__values__=n,u?_.__wrapped__=g:u=g;var _=g;d=d.__wrapped__}return _.__wrapped__=a,u}function M4(){var a=this.__wrapped__;if(a instanceof ht){var u=a;return this.__actions__.length&&(u=new ht(this)),u=u.reverse(),u.__actions__.push({func:Tp,args:[u_],thisArg:n}),new di(u,this.__chain__)}return this.thru(u_)}function F4(){return yx(this.__wrapped__,this.__actions__)}var V4=pp(function(a,u,d){Ct.call(a,d)?++a[d]:As(a,d,1)});function $4(a,u,d){var g=Je(a)?PS:CB;return d&&yr(a,u,d)&&(u=n),g(a,ze(u,3))}function j4(a,u){var d=Je(a)?go:ex;return d(a,ze(u,3))}var B4=Ax(Qx),U4=Ax(Yx);function z4(a,u){return Xn(Ip(a,u),1)}function q4(a,u){return Xn(Ip(a,u),Me)}function W4(a,u,d){return d=d===n?1:it(d),Xn(Ip(a,u),d)}function nR(a,u){var d=Je(a)?hi:wo;return d(a,ze(u,3))}function rR(a,u){var d=Je(a)?cj:ZS;return d(a,ze(u,3))}var K4=pp(function(a,u,d){Ct.call(a,d)?a[d].push(u):As(a,d,[u])});function H4(a,u,d,g){a=Dr(a)?a:ru(a),d=d&&!g?it(d):0;var _=a.length;return d<0&&(d=Mn(_+d,0)),Ap(a)?d<=_&&a.indexOf(u,d)>-1:!!_&&Wl(a,u,d)>-1}var G4=ot(function(a,u,d){var g=-1,_=typeof u=="function",C=Dr(a)?z(a.length):[];return wo(a,function(k){C[++g]=_?Gr(u,k,d):Zc(k,u,d)}),C}),Q4=pp(function(a,u,d){As(a,d,u)});function Ip(a,u){var d=Je(a)?en:ox;return d(a,ze(u,3))}function Y4(a,u,d,g){return a==null?[]:(Je(u)||(u=u==null?[]:[u]),d=g?n:d,Je(d)||(d=d==null?[]:[d]),cx(a,u,d))}var X4=pp(function(a,u,d){a[d?0:1].push(u)},function(){return[[],[]]});function J4(a,u,d){var g=Je(a)?Tv:NS,_=arguments.length<3;return g(a,ze(u,4),d,_,wo)}function Z4(a,u,d){var g=Je(a)?hj:NS,_=arguments.length<3;return g(a,ze(u,4),d,_,ZS)}function e5(a,u){var d=Je(a)?go:ex;return d(a,Rp(ze(u,3)))}function t5(a){var u=Je(a)?QS:HB;return u(a)}function n5(a,u,d){(d?yr(a,u,d):u===n)?u=1:u=it(u);var g=Je(a)?SB:GB;return g(a,u)}function r5(a){var u=Je(a)?xB:YB;return u(a)}function i5(a){if(a==null)return 0;if(Dr(a))return Ap(a)?Hl(a):a.length;var u=ar(a);return u==kt||u==qt?a.size:Bv(a).length}function s5(a,u,d){var g=Je(a)?Iv:XB;return d&&yr(a,u,d)&&(u=n),g(a,ze(u,3))}var o5=ot(function(a,u){if(a==null)return[];var d=u.length;return d>1&&yr(a,u[0],u[1])?u=[]:d>2&&yr(u[0],u[1],u[2])&&(u=[u[0]]),cx(a,Xn(u,1),[])}),Sp=jj||function(){return Yn.Date.now()};function a5(a,u){if(typeof u!="function")throw new fi(o);return a=it(a),function(){if(--a<1)return u.apply(this,arguments)}}function iR(a,u,d){return u=d?n:u,u=a&&u==null?a.length:u,Cs(a,D,n,n,n,n,u)}function sR(a,u){var d;if(typeof u!="function")throw new fi(o);return a=it(a),function(){return--a>0&&(d=u.apply(this,arguments)),a<=1&&(u=n),d}}var h_=ot(function(a,u,d){var g=R;if(d.length){var _=vo(d,tu(h_));g|=P}return Cs(a,g,u,d,_)}),oR=ot(function(a,u,d){var g=R|T;if(d.length){var _=vo(d,tu(oR));g|=P}return Cs(u,g,a,d,_)});function aR(a,u,d){u=d?n:u;var g=Cs(a,I,n,n,n,n,n,u);return g.placeholder=aR.placeholder,g}function lR(a,u,d){u=d?n:u;var g=Cs(a,E,n,n,n,n,n,u);return g.placeholder=lR.placeholder,g}function uR(a,u,d){var g,_,C,k,L,V,X=0,Z=!1,ne=!1,ge=!0;if(typeof a!="function")throw new fi(o);u=yi(u)||0,an(d)&&(Z=!!d.leading,ne="maxWait"in d,C=ne?Mn(yi(d.maxWait)||0,u):C,ge="trailing"in d?!!d.trailing:ge);function De(Sn){var Fi=g,Ns=_;return g=_=n,X=Sn,k=a.apply(Ns,Fi),k}function qe(Sn){return X=Sn,L=ih(lt,u),Z?De(Sn):k}function st(Sn){var Fi=Sn-V,Ns=Sn-X,AR=u-Fi;return ne?or(AR,C-Ns):AR}function We(Sn){var Fi=Sn-V,Ns=Sn-X;return V===n||Fi>=u||Fi<0||ne&&Ns>=C}function lt(){var Sn=Sp();if(We(Sn))return pt(Sn);L=ih(lt,st(Sn))}function pt(Sn){return L=n,ge&&g?De(Sn):(g=_=n,k)}function Jr(){L!==n&&_x(L),X=0,g=V=_=L=n}function vr(){return L===n?k:pt(Sp())}function Zr(){var Sn=Sp(),Fi=We(Sn);if(g=arguments,_=this,V=Sn,Fi){if(L===n)return qe(V);if(ne)return _x(L),L=ih(lt,u),De(V)}return L===n&&(L=ih(lt,u)),k}return Zr.cancel=Jr,Zr.flush=vr,Zr}var l5=ot(function(a,u){return JS(a,1,u)}),u5=ot(function(a,u,d){return JS(a,yi(u)||0,d)});function c5(a){return Cs(a,W)}function xp(a,u){if(typeof a!="function"||u!=null&&typeof u!="function")throw new fi(o);var d=function(){var g=arguments,_=u?u.apply(this,g):g[0],C=d.cache;if(C.has(_))return C.get(_);var k=a.apply(this,g);return d.cache=C.set(_,k)||C,k};return d.cache=new(xp.Cache||bs),d}xp.Cache=bs;function Rp(a){if(typeof a!="function")throw new fi(o);return function(){var u=arguments;switch(u.length){case 0:return!a.call(this);case 1:return!a.call(this,u[0]);case 2:return!a.call(this,u[0],u[1]);case 3:return!a.call(this,u[0],u[1],u[2])}return!a.apply(this,u)}}function h5(a){return sR(2,a)}var f5=JB(function(a,u){u=u.length==1&&Je(u[0])?en(u[0],Qr(ze())):en(Xn(u,1),Qr(ze()));var d=u.length;return ot(function(g){for(var _=-1,C=or(g.length,d);++_<C;)g[_]=u[_].call(this,g[_]);return Gr(a,this,g)})}),f_=ot(function(a,u){var d=vo(u,tu(f_));return Cs(a,P,n,u,d)}),cR=ot(function(a,u){var d=vo(u,tu(cR));return Cs(a,O,n,u,d)}),d5=Ps(function(a,u){return Cs(a,N,n,n,n,u)});function p5(a,u){if(typeof a!="function")throw new fi(o);return u=u===n?u:it(u),ot(a,u)}function m5(a,u){if(typeof a!="function")throw new fi(o);return u=u==null?0:Mn(it(u),0),ot(function(d){var g=d[u],_=Io(d,0,u);return g&&yo(_,g),Gr(a,this,_)})}function g5(a,u,d){var g=!0,_=!0;if(typeof a!="function")throw new fi(o);return an(d)&&(g="leading"in d?!!d.leading:g,_="trailing"in d?!!d.trailing:_),uR(a,u,{leading:g,maxWait:u,trailing:_})}function y5(a){return iR(a,1)}function v5(a,u){return f_(Yv(u),a)}function _5(){if(!arguments.length)return[];var a=arguments[0];return Je(a)?a:[a]}function w5(a){return pi(a,y)}function E5(a,u){return u=typeof u=="function"?u:n,pi(a,y,u)}function T5(a){return pi(a,p|y)}function I5(a,u){return u=typeof u=="function"?u:n,pi(a,p|y,u)}function S5(a,u){return u==null||XS(a,u,jn(u))}function Mi(a,u){return a===u||a!==a&&u!==u}var x5=vp(Vv),R5=vp(function(a,u){return a>=u}),Va=rx(function(){return arguments}())?rx:function(a){return mn(a)&&Ct.call(a,"callee")&&!zS.call(a,"callee")},Je=z.isArray,b5=SS?Qr(SS):LB;function Dr(a){return a!=null&&bp(a.length)&&!Ds(a)}function In(a){return mn(a)&&Dr(a)}function A5(a){return a===!0||a===!1||mn(a)&&gr(a)==_t}var So=Uj||I_,C5=xS?Qr(xS):MB;function P5(a){return mn(a)&&a.nodeType===1&&!sh(a)}function O5(a){if(a==null)return!0;if(Dr(a)&&(Je(a)||typeof a=="string"||typeof a.splice=="function"||So(a)||nu(a)||Va(a)))return!a.length;var u=ar(a);if(u==kt||u==qt)return!a.size;if(rh(a))return!Bv(a).length;for(var d in a)if(Ct.call(a,d))return!1;return!0}function D5(a,u){return eh(a,u)}function k5(a,u,d){d=typeof d=="function"?d:n;var g=d?d(a,u):n;return g===n?eh(a,u,n,d):!!g}function d_(a){if(!mn(a))return!1;var u=gr(a);return u==ct||u==Vt||typeof a.message=="string"&&typeof a.name=="string"&&!sh(a)}function N5(a){return typeof a=="number"&&WS(a)}function Ds(a){if(!an(a))return!1;var u=gr(a);return u==xt||u==wt||u==Jt||u==Di}function hR(a){return typeof a=="number"&&a==it(a)}function bp(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=H}function an(a){var u=typeof a;return a!=null&&(u=="object"||u=="function")}function mn(a){return a!=null&&typeof a=="object"}var fR=RS?Qr(RS):VB;function L5(a,u){return a===u||jv(a,u,r_(u))}function M5(a,u,d){return d=typeof d=="function"?d:n,jv(a,u,r_(u),d)}function F5(a){return dR(a)&&a!=+a}function V5(a){if(EU(a))throw new Ye(s);return ix(a)}function $5(a){return a===null}function j5(a){return a==null}function dR(a){return typeof a=="number"||mn(a)&&gr(a)==tt}function sh(a){if(!mn(a)||gr(a)!=zt)return!1;var u=ep(a);if(u===null)return!0;var d=Ct.call(u,"constructor")&&u.constructor;return typeof d=="function"&&d instanceof d&&Yd.call(d)==Mj}var p_=bS?Qr(bS):$B;function B5(a){return hR(a)&&a>=-H&&a<=H}var pR=AS?Qr(AS):jB;function Ap(a){return typeof a=="string"||!Je(a)&&mn(a)&&gr(a)==kn}function Xr(a){return typeof a=="symbol"||mn(a)&&gr(a)==pn}var nu=CS?Qr(CS):BB;function U5(a){return a===n}function z5(a){return mn(a)&&ar(a)==He}function q5(a){return mn(a)&&gr(a)==Zt}var W5=vp(Uv),K5=vp(function(a,u){return a<=u});function mR(a){if(!a)return[];if(Dr(a))return Ap(a)?Ni(a):Or(a);if(Kc&&a[Kc])return Sj(a[Kc]());var u=ar(a),d=u==kt?Cv:u==qt?Hd:ru;return d(a)}function ks(a){if(!a)return a===0?a:0;if(a=yi(a),a===Me||a===-Me){var u=a<0?-1:1;return u*ce}return a===a?a:0}function it(a){var u=ks(a),d=u%1;return u===u?d?u-d:u:0}function gR(a){return a?Na(it(a),0,we):0}function yi(a){if(typeof a=="number")return a;if(Xr(a))return ae;if(an(a)){var u=typeof a.valueOf=="function"?a.valueOf():a;a=an(u)?u+"":u}if(typeof a!="string")return a===0?a:+a;a=LS(a);var d=Rt.test(a);return d||Ji.test(a)?aj(a.slice(2),d?2:8):qc.test(a)?ae:+a}function yR(a){return es(a,kr(a))}function H5(a){return a?Na(it(a),-H,H):a===0?a:0}function bt(a){return a==null?"":Yr(a)}var G5=Zl(function(a,u){if(rh(u)||Dr(u)){es(u,jn(u),a);return}for(var d in u)Ct.call(u,d)&&Xc(a,d,u[d])}),vR=Zl(function(a,u){es(u,kr(u),a)}),Cp=Zl(function(a,u,d,g){es(u,kr(u),a,g)}),Q5=Zl(function(a,u,d,g){es(u,jn(u),a,g)}),Y5=Ps(Lv);function X5(a,u){var d=Jl(a);return u==null?d:YS(d,u)}var J5=ot(function(a,u){a=Ft(a);var d=-1,g=u.length,_=g>2?u[2]:n;for(_&&yr(u[0],u[1],_)&&(g=1);++d<g;)for(var C=u[d],k=kr(C),L=-1,V=k.length;++L<V;){var X=k[L],Z=a[X];(Z===n||Mi(Z,Ql[X])&&!Ct.call(a,X))&&(a[X]=C[X])}return a}),Z5=ot(function(a){return a.push(n,Lx),Gr(_R,n,a)});function e3(a,u){return OS(a,ze(u,3),Zi)}function t3(a,u){return OS(a,ze(u,3),Fv)}function n3(a,u){return a==null?a:Mv(a,ze(u,3),kr)}function r3(a,u){return a==null?a:tx(a,ze(u,3),kr)}function i3(a,u){return a&&Zi(a,ze(u,3))}function s3(a,u){return a&&Fv(a,ze(u,3))}function o3(a){return a==null?[]:cp(a,jn(a))}function a3(a){return a==null?[]:cp(a,kr(a))}function m_(a,u,d){var g=a==null?n:La(a,u);return g===n?d:g}function l3(a,u){return a!=null&&Vx(a,u,OB)}function g_(a,u){return a!=null&&Vx(a,u,DB)}var u3=Px(function(a,u,d){u!=null&&typeof u.toString!="function"&&(u=Xd.call(u)),a[u]=d},v_(Nr)),c3=Px(function(a,u,d){u!=null&&typeof u.toString!="function"&&(u=Xd.call(u)),Ct.call(a,u)?a[u].push(d):a[u]=[d]},ze),h3=ot(Zc);function jn(a){return Dr(a)?GS(a):Bv(a)}function kr(a){return Dr(a)?GS(a,!0):UB(a)}function f3(a,u){var d={};return u=ze(u,3),Zi(a,function(g,_,C){As(d,u(g,_,C),g)}),d}function d3(a,u){var d={};return u=ze(u,3),Zi(a,function(g,_,C){As(d,_,u(g,_,C))}),d}var p3=Zl(function(a,u,d){hp(a,u,d)}),_R=Zl(function(a,u,d,g){hp(a,u,d,g)}),m3=Ps(function(a,u){var d={};if(a==null)return d;var g=!1;u=en(u,function(C){return C=To(C,a),g||(g=C.length>1),C}),es(a,t_(a),d),g&&(d=pi(d,p|m|y,uU));for(var _=u.length;_--;)Hv(d,u[_]);return d});function g3(a,u){return wR(a,Rp(ze(u)))}var y3=Ps(function(a,u){return a==null?{}:qB(a,u)});function wR(a,u){if(a==null)return{};var d=en(t_(a),function(g){return[g]});return u=ze(u),hx(a,d,function(g,_){return u(g,_[0])})}function v3(a,u,d){u=To(u,a);var g=-1,_=u.length;for(_||(_=1,a=n);++g<_;){var C=a==null?n:a[ts(u[g])];C===n&&(g=_,C=d),a=Ds(C)?C.call(a):C}return a}function _3(a,u,d){return a==null?a:th(a,u,d)}function w3(a,u,d,g){return g=typeof g=="function"?g:n,a==null?a:th(a,u,d,g)}var ER=kx(jn),TR=kx(kr);function E3(a,u,d){var g=Je(a),_=g||So(a)||nu(a);if(u=ze(u,4),d==null){var C=a&&a.constructor;_?d=g?new C:[]:an(a)?d=Ds(C)?Jl(ep(a)):{}:d={}}return(_?hi:Zi)(a,function(k,L,V){return u(d,k,L,V)}),d}function T3(a,u){return a==null?!0:Hv(a,u)}function I3(a,u,d){return a==null?a:gx(a,u,Yv(d))}function S3(a,u,d,g){return g=typeof g=="function"?g:n,a==null?a:gx(a,u,Yv(d),g)}function ru(a){return a==null?[]:Av(a,jn(a))}function x3(a){return a==null?[]:Av(a,kr(a))}function R3(a,u,d){return d===n&&(d=u,u=n),d!==n&&(d=yi(d),d=d===d?d:0),u!==n&&(u=yi(u),u=u===u?u:0),Na(yi(a),u,d)}function b3(a,u,d){return u=ks(u),d===n?(d=u,u=0):d=ks(d),a=yi(a),kB(a,u,d)}function A3(a,u,d){if(d&&typeof d!="boolean"&&yr(a,u,d)&&(u=d=n),d===n&&(typeof u=="boolean"?(d=u,u=n):typeof a=="boolean"&&(d=a,a=n)),a===n&&u===n?(a=0,u=1):(a=ks(a),u===n?(u=a,a=0):u=ks(u)),a>u){var g=a;a=u,u=g}if(d||a%1||u%1){var _=KS();return or(a+_*(u-a+oj("1e-"+((_+"").length-1))),u)}return qv(a,u)}var C3=eu(function(a,u,d){return u=u.toLowerCase(),a+(d?IR(u):u)});function IR(a){return y_(bt(a).toLowerCase())}function SR(a){return a=bt(a),a&&a.replace(Aa,_j).replace(Y$,"")}function P3(a,u,d){a=bt(a),u=Yr(u);var g=a.length;d=d===n?g:Na(it(d),0,g);var _=d;return d-=u.length,d>=0&&a.slice(d,_)==u}function O3(a){return a=bt(a),a&&me.test(a)?a.replace(K,wj):a}function D3(a){return a=bt(a),a&&At.test(a)?a.replace(at,"\\$&"):a}var k3=eu(function(a,u,d){return a+(d?"-":"")+u.toLowerCase()}),N3=eu(function(a,u,d){return a+(d?" ":"")+u.toLowerCase()}),L3=bx("toLowerCase");function M3(a,u,d){a=bt(a),u=it(u);var g=u?Hl(a):0;if(!u||g>=u)return a;var _=(u-g)/2;return yp(ip(_),d)+a+yp(rp(_),d)}function F3(a,u,d){a=bt(a),u=it(u);var g=u?Hl(a):0;return u&&g<u?a+yp(u-g,d):a}function V3(a,u,d){a=bt(a),u=it(u);var g=u?Hl(a):0;return u&&g<u?yp(u-g,d)+a:a}function $3(a,u,d){return d||u==null?u=0:u&&(u=+u),Kj(bt(a).replace(sn,""),u||0)}function j3(a,u,d){return(d?yr(a,u,d):u===n)?u=1:u=it(u),Wv(bt(a),u)}function B3(){var a=arguments,u=bt(a[0]);return a.length<3?u:u.replace(a[1],a[2])}var U3=eu(function(a,u,d){return a+(d?"_":"")+u.toLowerCase()});function z3(a,u,d){return d&&typeof d!="number"&&yr(a,u,d)&&(u=d=n),d=d===n?we:d>>>0,d?(a=bt(a),a&&(typeof u=="string"||u!=null&&!p_(u))&&(u=Yr(u),!u&&Kl(a))?Io(Ni(a),0,d):a.split(u,d)):[]}var q3=eu(function(a,u,d){return a+(d?" ":"")+y_(u)});function W3(a,u,d){return a=bt(a),d=d==null?0:Na(it(d),0,a.length),u=Yr(u),a.slice(d,d+u.length)==u}function K3(a,u,d){var g=A.templateSettings;d&&yr(a,u,d)&&(u=n),a=bt(a),u=Cp({},u,g,Nx);var _=Cp({},u.imports,g.imports,Nx),C=jn(_),k=Av(_,C),L,V,X=0,Z=u.interpolate||Ca,ne="__p += '",ge=Pv((u.escape||Ca).source+"|"+Z.source+"|"+(Z===Pe?zc:Ca).source+"|"+(u.evaluate||Ca).source+"|$","g"),De="//# sourceURL="+(Ct.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tj+"]")+`
`;a.replace(ge,function(We,lt,pt,Jr,vr,Zr){return pt||(pt=Jr),ne+=a.slice(X,Zr).replace(dv,Ej),lt&&(L=!0,ne+=`' +
__e(`+lt+`) +
'`),vr&&(V=!0,ne+=`';
`+vr+`;
__p += '`),pt&&(ne+=`' +
((__t = (`+pt+`)) == null ? '' : __t) +
'`),X=Zr+We.length,We}),ne+=`';
`;var qe=Ct.call(u,"variable")&&u.variable;if(!qe)ne=`with (obj) {
`+ne+`
}
`;else if(Xi.test(qe))throw new Ye(l);ne=(V?ne.replace(Te,""):ne).replace(rt,"$1").replace(M,"$1;"),ne="function("+(qe||"obj")+`) {
`+(qe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(L?", __e = _.escape":"")+(V?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ne+`return __p
}`;var st=RR(function(){return St(C,De+"return "+ne).apply(n,k)});if(st.source=ne,d_(st))throw st;return st}function H3(a){return bt(a).toLowerCase()}function G3(a){return bt(a).toUpperCase()}function Q3(a,u,d){if(a=bt(a),a&&(d||u===n))return LS(a);if(!a||!(u=Yr(u)))return a;var g=Ni(a),_=Ni(u),C=MS(g,_),k=FS(g,_)+1;return Io(g,C,k).join("")}function Y3(a,u,d){if(a=bt(a),a&&(d||u===n))return a.slice(0,$S(a)+1);if(!a||!(u=Yr(u)))return a;var g=Ni(a),_=FS(g,Ni(u))+1;return Io(g,0,_).join("")}function X3(a,u,d){if(a=bt(a),a&&(d||u===n))return a.replace(sn,"");if(!a||!(u=Yr(u)))return a;var g=Ni(a),_=MS(g,Ni(u));return Io(g,_).join("")}function J3(a,u){var d=Y,g=ie;if(an(u)){var _="separator"in u?u.separator:_;d="length"in u?it(u.length):d,g="omission"in u?Yr(u.omission):g}a=bt(a);var C=a.length;if(Kl(a)){var k=Ni(a);C=k.length}if(d>=C)return a;var L=d-Hl(g);if(L<1)return g;var V=k?Io(k,0,L).join(""):a.slice(0,L);if(_===n)return V+g;if(k&&(L+=V.length-L),p_(_)){if(a.slice(L).search(_)){var X,Z=V;for(_.global||(_=Pv(_.source,bt(zl.exec(_))+"g")),_.lastIndex=0;X=_.exec(Z);)var ne=X.index;V=V.slice(0,ne===n?L:ne)}}else if(a.indexOf(Yr(_),L)!=L){var ge=V.lastIndexOf(_);ge>-1&&(V=V.slice(0,ge))}return V+g}function Z3(a){return a=bt(a),a&&he.test(a)?a.replace(j,Aj):a}var e6=eu(function(a,u,d){return a+(d?" ":"")+u.toUpperCase()}),y_=bx("toUpperCase");function xR(a,u,d){return a=bt(a),u=d?n:u,u===n?Ij(a)?Oj(a):pj(a):a.match(u)||[]}var RR=ot(function(a,u){try{return Gr(a,n,u)}catch(d){return d_(d)?d:new Ye(d)}}),t6=Ps(function(a,u){return hi(u,function(d){d=ts(d),As(a,d,h_(a[d],a))}),a});function n6(a){var u=a==null?0:a.length,d=ze();return a=u?en(a,function(g){if(typeof g[1]!="function")throw new fi(o);return[d(g[0]),g[1]]}):[],ot(function(g){for(var _=-1;++_<u;){var C=a[_];if(Gr(C[0],this,g))return Gr(C[1],this,g)}})}function r6(a){return AB(pi(a,p))}function v_(a){return function(){return a}}function i6(a,u){return a==null||a!==a?u:a}var s6=Cx(),o6=Cx(!0);function Nr(a){return a}function __(a){return sx(typeof a=="function"?a:pi(a,p))}function a6(a){return ax(pi(a,p))}function l6(a,u){return lx(a,pi(u,p))}var u6=ot(function(a,u){return function(d){return Zc(d,a,u)}}),c6=ot(function(a,u){return function(d){return Zc(a,d,u)}});function w_(a,u,d){var g=jn(u),_=cp(u,g);d==null&&!(an(u)&&(_.length||!g.length))&&(d=u,u=a,a=this,_=cp(u,jn(u)));var C=!(an(d)&&"chain"in d)||!!d.chain,k=Ds(a);return hi(_,function(L){var V=u[L];a[L]=V,k&&(a.prototype[L]=function(){var X=this.__chain__;if(C||X){var Z=a(this.__wrapped__),ne=Z.__actions__=Or(this.__actions__);return ne.push({func:V,args:arguments,thisArg:a}),Z.__chain__=X,Z}return V.apply(a,yo([this.value()],arguments))})}),a}function h6(){return Yn._===this&&(Yn._=Fj),this}function E_(){}function f6(a){return a=it(a),ot(function(u){return ux(u,a)})}var d6=Jv(en),p6=Jv(PS),m6=Jv(Iv);function bR(a){return s_(a)?Sv(ts(a)):WB(a)}function g6(a){return function(u){return a==null?n:La(a,u)}}var y6=Ox(),v6=Ox(!0);function T_(){return[]}function I_(){return!1}function _6(){return{}}function w6(){return""}function E6(){return!0}function T6(a,u){if(a=it(a),a<1||a>H)return[];var d=we,g=or(a,we);u=ze(u),a-=we;for(var _=bv(g,u);++d<a;)u(d);return _}function I6(a){return Je(a)?en(a,ts):Xr(a)?[a]:Or(Hx(bt(a)))}function S6(a){var u=++Lj;return bt(a)+u}var x6=gp(function(a,u){return a+u},0),R6=Zv("ceil"),b6=gp(function(a,u){return a/u},1),A6=Zv("floor");function C6(a){return a&&a.length?up(a,Nr,Vv):n}function P6(a,u){return a&&a.length?up(a,ze(u,2),Vv):n}function O6(a){return kS(a,Nr)}function D6(a,u){return kS(a,ze(u,2))}function k6(a){return a&&a.length?up(a,Nr,Uv):n}function N6(a,u){return a&&a.length?up(a,ze(u,2),Uv):n}var L6=gp(function(a,u){return a*u},1),M6=Zv("round"),F6=gp(function(a,u){return a-u},0);function V6(a){return a&&a.length?Rv(a,Nr):0}function $6(a,u){return a&&a.length?Rv(a,ze(u,2)):0}return A.after=a5,A.ary=iR,A.assign=G5,A.assignIn=vR,A.assignInWith=Cp,A.assignWith=Q5,A.at=Y5,A.before=sR,A.bind=h_,A.bindAll=t6,A.bindKey=oR,A.castArray=_5,A.chain=tR,A.chunk=AU,A.compact=CU,A.concat=PU,A.cond=n6,A.conforms=r6,A.constant=v_,A.countBy=V4,A.create=X5,A.curry=aR,A.curryRight=lR,A.debounce=uR,A.defaults=J5,A.defaultsDeep=Z5,A.defer=l5,A.delay=u5,A.difference=OU,A.differenceBy=DU,A.differenceWith=kU,A.drop=NU,A.dropRight=LU,A.dropRightWhile=MU,A.dropWhile=FU,A.fill=VU,A.filter=j4,A.flatMap=z4,A.flatMapDeep=q4,A.flatMapDepth=W4,A.flatten=Xx,A.flattenDeep=$U,A.flattenDepth=jU,A.flip=c5,A.flow=s6,A.flowRight=o6,A.fromPairs=BU,A.functions=o3,A.functionsIn=a3,A.groupBy=K4,A.initial=zU,A.intersection=qU,A.intersectionBy=WU,A.intersectionWith=KU,A.invert=u3,A.invertBy=c3,A.invokeMap=G4,A.iteratee=__,A.keyBy=Q4,A.keys=jn,A.keysIn=kr,A.map=Ip,A.mapKeys=f3,A.mapValues=d3,A.matches=a6,A.matchesProperty=l6,A.memoize=xp,A.merge=p3,A.mergeWith=_R,A.method=u6,A.methodOf=c6,A.mixin=w_,A.negate=Rp,A.nthArg=f6,A.omit=m3,A.omitBy=g3,A.once=h5,A.orderBy=Y4,A.over=d6,A.overArgs=f5,A.overEvery=p6,A.overSome=m6,A.partial=f_,A.partialRight=cR,A.partition=X4,A.pick=y3,A.pickBy=wR,A.property=bR,A.propertyOf=g6,A.pull=YU,A.pullAll=Zx,A.pullAllBy=XU,A.pullAllWith=JU,A.pullAt=ZU,A.range=y6,A.rangeRight=v6,A.rearg=d5,A.reject=e5,A.remove=e4,A.rest=p5,A.reverse=u_,A.sampleSize=n5,A.set=_3,A.setWith=w3,A.shuffle=r5,A.slice=t4,A.sortBy=o5,A.sortedUniq=l4,A.sortedUniqBy=u4,A.split=z3,A.spread=m5,A.tail=c4,A.take=h4,A.takeRight=f4,A.takeRightWhile=d4,A.takeWhile=p4,A.tap=C4,A.throttle=g5,A.thru=Tp,A.toArray=mR,A.toPairs=ER,A.toPairsIn=TR,A.toPath=I6,A.toPlainObject=yR,A.transform=E3,A.unary=y5,A.union=m4,A.unionBy=g4,A.unionWith=y4,A.uniq=v4,A.uniqBy=_4,A.uniqWith=w4,A.unset=T3,A.unzip=c_,A.unzipWith=eR,A.update=I3,A.updateWith=S3,A.values=ru,A.valuesIn=x3,A.without=E4,A.words=xR,A.wrap=v5,A.xor=T4,A.xorBy=I4,A.xorWith=S4,A.zip=x4,A.zipObject=R4,A.zipObjectDeep=b4,A.zipWith=A4,A.entries=ER,A.entriesIn=TR,A.extend=vR,A.extendWith=Cp,w_(A,A),A.add=x6,A.attempt=RR,A.camelCase=C3,A.capitalize=IR,A.ceil=R6,A.clamp=R3,A.clone=w5,A.cloneDeep=T5,A.cloneDeepWith=I5,A.cloneWith=E5,A.conformsTo=S5,A.deburr=SR,A.defaultTo=i6,A.divide=b6,A.endsWith=P3,A.eq=Mi,A.escape=O3,A.escapeRegExp=D3,A.every=$4,A.find=B4,A.findIndex=Qx,A.findKey=e3,A.findLast=U4,A.findLastIndex=Yx,A.findLastKey=t3,A.floor=A6,A.forEach=nR,A.forEachRight=rR,A.forIn=n3,A.forInRight=r3,A.forOwn=i3,A.forOwnRight=s3,A.get=m_,A.gt=x5,A.gte=R5,A.has=l3,A.hasIn=g_,A.head=Jx,A.identity=Nr,A.includes=H4,A.indexOf=UU,A.inRange=b3,A.invoke=h3,A.isArguments=Va,A.isArray=Je,A.isArrayBuffer=b5,A.isArrayLike=Dr,A.isArrayLikeObject=In,A.isBoolean=A5,A.isBuffer=So,A.isDate=C5,A.isElement=P5,A.isEmpty=O5,A.isEqual=D5,A.isEqualWith=k5,A.isError=d_,A.isFinite=N5,A.isFunction=Ds,A.isInteger=hR,A.isLength=bp,A.isMap=fR,A.isMatch=L5,A.isMatchWith=M5,A.isNaN=F5,A.isNative=V5,A.isNil=j5,A.isNull=$5,A.isNumber=dR,A.isObject=an,A.isObjectLike=mn,A.isPlainObject=sh,A.isRegExp=p_,A.isSafeInteger=B5,A.isSet=pR,A.isString=Ap,A.isSymbol=Xr,A.isTypedArray=nu,A.isUndefined=U5,A.isWeakMap=z5,A.isWeakSet=q5,A.join=HU,A.kebabCase=k3,A.last=gi,A.lastIndexOf=GU,A.lowerCase=N3,A.lowerFirst=L3,A.lt=W5,A.lte=K5,A.max=C6,A.maxBy=P6,A.mean=O6,A.meanBy=D6,A.min=k6,A.minBy=N6,A.stubArray=T_,A.stubFalse=I_,A.stubObject=_6,A.stubString=w6,A.stubTrue=E6,A.multiply=L6,A.nth=QU,A.noConflict=h6,A.noop=E_,A.now=Sp,A.pad=M3,A.padEnd=F3,A.padStart=V3,A.parseInt=$3,A.random=A3,A.reduce=J4,A.reduceRight=Z4,A.repeat=j3,A.replace=B3,A.result=v3,A.round=M6,A.runInContext=F,A.sample=t5,A.size=i5,A.snakeCase=U3,A.some=s5,A.sortedIndex=n4,A.sortedIndexBy=r4,A.sortedIndexOf=i4,A.sortedLastIndex=s4,A.sortedLastIndexBy=o4,A.sortedLastIndexOf=a4,A.startCase=q3,A.startsWith=W3,A.subtract=F6,A.sum=V6,A.sumBy=$6,A.template=K3,A.times=T6,A.toFinite=ks,A.toInteger=it,A.toLength=gR,A.toLower=H3,A.toNumber=yi,A.toSafeInteger=H5,A.toString=bt,A.toUpper=G3,A.trim=Q3,A.trimEnd=Y3,A.trimStart=X3,A.truncate=J3,A.unescape=Z3,A.uniqueId=S6,A.upperCase=e6,A.upperFirst=y_,A.each=nR,A.eachRight=rR,A.first=Jx,w_(A,function(){var a={};return Zi(A,function(u,d){Ct.call(A.prototype,d)||(a[d]=u)}),a}(),{chain:!1}),A.VERSION=r,hi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){A[a].placeholder=A}),hi(["drop","take"],function(a,u){ht.prototype[a]=function(d){d=d===n?1:Mn(it(d),0);var g=this.__filtered__&&!u?new ht(this):this.clone();return g.__filtered__?g.__takeCount__=or(d,g.__takeCount__):g.__views__.push({size:or(d,we),type:a+(g.__dir__<0?"Right":"")}),g},ht.prototype[a+"Right"]=function(d){return this.reverse()[a](d).reverse()}}),hi(["filter","map","takeWhile"],function(a,u){var d=u+1,g=d==Fe||d==Ve;ht.prototype[a]=function(_){var C=this.clone();return C.__iteratees__.push({iteratee:ze(_,3),type:d}),C.__filtered__=C.__filtered__||g,C}}),hi(["head","last"],function(a,u){var d="take"+(u?"Right":"");ht.prototype[a]=function(){return this[d](1).value()[0]}}),hi(["initial","tail"],function(a,u){var d="drop"+(u?"":"Right");ht.prototype[a]=function(){return this.__filtered__?new ht(this):this[d](1)}}),ht.prototype.compact=function(){return this.filter(Nr)},ht.prototype.find=function(a){return this.filter(a).head()},ht.prototype.findLast=function(a){return this.reverse().find(a)},ht.prototype.invokeMap=ot(function(a,u){return typeof a=="function"?new ht(this):this.map(function(d){return Zc(d,a,u)})}),ht.prototype.reject=function(a){return this.filter(Rp(ze(a)))},ht.prototype.slice=function(a,u){a=it(a);var d=this;return d.__filtered__&&(a>0||u<0)?new ht(d):(a<0?d=d.takeRight(-a):a&&(d=d.drop(a)),u!==n&&(u=it(u),d=u<0?d.dropRight(-u):d.take(u-a)),d)},ht.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},ht.prototype.toArray=function(){return this.take(we)},Zi(ht.prototype,function(a,u){var d=/^(?:filter|find|map|reject)|While$/.test(u),g=/^(?:head|last)$/.test(u),_=A[g?"take"+(u=="last"?"Right":""):u],C=g||/^find/.test(u);_&&(A.prototype[u]=function(){var k=this.__wrapped__,L=g?[1]:arguments,V=k instanceof ht,X=L[0],Z=V||Je(k),ne=function(lt){var pt=_.apply(A,yo([lt],L));return g&&ge?pt[0]:pt};Z&&d&&typeof X=="function"&&X.length!=1&&(V=Z=!1);var ge=this.__chain__,De=!!this.__actions__.length,qe=C&&!ge,st=V&&!De;if(!C&&Z){k=st?k:new ht(this);var We=a.apply(k,L);return We.__actions__.push({func:Tp,args:[ne],thisArg:n}),new di(We,ge)}return qe&&st?a.apply(this,L):(We=this.thru(ne),qe?g?We.value()[0]:We.value():We)})}),hi(["pop","push","shift","sort","splice","unshift"],function(a){var u=Gd[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",g=/^(?:pop|shift)$/.test(a);A.prototype[a]=function(){var _=arguments;if(g&&!this.__chain__){var C=this.value();return u.apply(Je(C)?C:[],_)}return this[d](function(k){return u.apply(Je(k)?k:[],_)})}}),Zi(ht.prototype,function(a,u){var d=A[u];if(d){var g=d.name+"";Ct.call(Xl,g)||(Xl[g]=[]),Xl[g].push({name:u,func:d})}}),Xl[mp(n,T).name]=[{name:"wrapper",func:n}],ht.prototype.clone=Zj,ht.prototype.reverse=eB,ht.prototype.value=tB,A.prototype.at=P4,A.prototype.chain=O4,A.prototype.commit=D4,A.prototype.next=k4,A.prototype.plant=L4,A.prototype.reverse=M4,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=F4,A.prototype.first=A.prototype.head,Kc&&(A.prototype[Kc]=N4),A},Gl=Dj();Pa?((Pa.exports=Gl)._=Gl,_v._=Gl):Yn._=Gl}).call(oh)})(_g,_g.exports);var XG=_g.exports;const l0=({title:t,typeClass:e,children:n,id:r})=>{const{isDarkMode:i}=va(),s=i?"darkBg":"white-50",o=x.useRef(null),{isLoadingPokemon:l,handleNextPage:c,handleIsLoadingPokemon:h,searchPokemon:f,bestDamage:p,filterType:m,searchMorePokemon:y,handleSearchMorePokemon:v,storeAllPokemon:w,page:R,handleShowInfo_select:T}=ui(),S=()=>{const E=o.current;f!==""||m.enName!=="all"||!l&&E.scrollTop+E.clientHeight>=E.scrollHeight&&(h(!0),c())};x.useEffect(()=>{if(r!=ms)return;const E=document.getElementById(ms),P=XG.throttle(S,500);return E.addEventListener("scroll",P),()=>{E.removeEventListener("scroll",P)}},[]);const I=E=>{v(),c(w.length),h(!0),E&&T(kl,"")};return b.jsxs("div",{className:"group-col",children:[b.jsx(zG,{title:t,id:r}),b.jsxs("div",{id:r,ref:o,className:"groups",children:[b.jsx("div",{className:`group-img group-${e}`,children:n}),r===ms&&(f!==""||m.enName!=="all")&&b.jsxs("div",{className:"search-more-container",children:[b.jsx("p",{children:"沒找到你要的嗎?"}),b.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>{v()},children:"載入全部"}),b.jsxs($s,{show:y,onHide:v,animation:!0,children:[b.jsx($s.Header,{className:`bg-${s}`,closeButton:!0,children:b.jsx($s.Title,{children:"提示"})}),b.jsx($s.Body,{className:`bg-${s}`,children:"自動切換為僅顯示角色名稱，以提高效能"}),b.jsxs($s.Footer,{className:`bg-${s}`,children:[b.jsx(dg,{variant:"secondary",onClick:()=>{I(!1)},children:"不用了"}),b.jsx(dg,{variant:"primary",onClick:()=>{I(!0)},children:"沒問題"})]})]})]}),r===pd&&p.length>0&&b.jsxs("div",{className:`best-damage-container bg-${s}`,children:[b.jsx(qG,{className:"thumb-icon"}),b.jsx("span",{style:{paddingLeft:"0.5rem"},children:"推薦屬性"}),b.jsx("ul",{children:p.map(E=>b.jsx("li",{style:{margin:"0 0.1rem"},children:b.jsx(tL,{...E})},Hi()))})]})]})]})},u0=x.memo(({item:t,showType_select:e,styleObj:n})=>(t==null?void 0:t.Types)===void 0?b.jsx("span",{children:"error"}):b.jsx("ul",{style:n,children:((t==null?void 0:t.Types)??[]).map(r=>{switch(e){case H1:return b.jsx("li",{children:b.jsx(HG,{...r})},Hi());case kl:return b.jsx("li",{children:b.jsx(KG,{...r})},Hi());case K1:return b.jsx("li",{children:b.jsx(tL,{...r})},Hi())}})})),nL=({showInfo_select:t=cg,showType_select:e,item:n,isActive:r="",handleClick:i=()=>{}})=>{switch(t){case kl:return b.jsx(GG,{isActive:r,handleClick:i,item:n,children:b.jsx(u0,{styleObj:{display:"flex",flexDirection:"row",justifyContent:"space-evenly"},item:n,showType_select:e,showInfo_select:t})});case W1:return b.jsx(YG,{isActive:r,item:n,handleClick:i,children:b.jsx(u0,{styleObj:{display:"flex",flexDirection:"row",justifyContent:"start",gap:"0.3rem"},item:n,showType_select:e,showInfo_select:t})});case cg:return b.jsx(QG,{isActive:r,handleClick:i,item:n,children:b.jsx(u0,{styleObj:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},item:n,showType_select:e,showInfo_select:t})})}},rL=x.memo(({showInfo_select:t,showType_select:e,displayTier:n,bestDamage:r})=>{const{filterTier:i}=ui(),s=i.enName!=="all"?[{...i}]:Jk;return b.jsx(b.Fragment,{children:s.map(o=>{const{enName:l,zhName:c}=o;let h=n[l];if(h!==void 0)return h=h.filter(f=>{const{Types:p}=f;return p.some(m=>r.some(y=>m.enName===y.enName))}),b.jsxs(b.Fragment,{children:[b.jsxs("div",{children:[b.jsx("div",{children:"====="}),b.jsxs("div",{children:["以下是",c]}),b.jsx("div",{children:"====="})]},Hi()),h.map(f=>{if(f!==void 0)return b.jsx(nL,{item:f,showInfo_select:t,showType_select:e},Hi())})]})})})}),iL=x.memo(({showInfo_select:t,showType_select:e,displayCharacter:n,handleClick:r,id:i})=>{const{selectImg:s,searchPokemon:o,filterType:l}=ui();let c=n;return i===ms&&(o!==""&&(c=c.filter(h=>h==null?void 0:h.zhName.includes(o))),l.enName!=="all"&&(c=c.filter(h=>h.Types.filter(p=>p.enName===l.enName).length>0))),c.map(h=>{if(h===void 0)return;const p=s.some(m=>m.enName===h.enName)?"hero-active":"";return b.jsx(nL,{showInfo_select:t,showType_select:e,item:h,isActive:p,handleClick:r},Hi())})}),JG=Object.freeze(Object.defineProperty({__proto__:null,TierGroups:rL,default:iL},Symbol.toStringTag,{value:"Module"}));function sL(t,e){return function(){return t.apply(e,arguments)}}const{toString:ZG}=Object.prototype,{getPrototypeOf:_T}=Object,vy=(t=>e=>{const n=ZG.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Is=t=>(t=t.toLowerCase(),e=>vy(e)===t),_y=t=>e=>typeof e===t,{isArray:Cc}=Array,Mf=_y("undefined");function eQ(t){return t!==null&&!Mf(t)&&t.constructor!==null&&!Mf(t.constructor)&&bi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const oL=Is("ArrayBuffer");function tQ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&oL(t.buffer),e}const nQ=_y("string"),bi=_y("function"),aL=_y("number"),wy=t=>t!==null&&typeof t=="object",rQ=t=>t===!0||t===!1,Sm=t=>{if(vy(t)!=="object")return!1;const e=_T(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},iQ=Is("Date"),sQ=Is("File"),oQ=Is("Blob"),aQ=Is("FileList"),lQ=t=>wy(t)&&bi(t.pipe),uQ=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||bi(t.append)&&((e=vy(t))==="formdata"||e==="object"&&bi(t.toString)&&t.toString()==="[object FormData]"))},cQ=Is("URLSearchParams"),hQ=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Cc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function lL(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const uL=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),cL=t=>!Mf(t)&&t!==uL;function Xw(){const{caseless:t}=cL(this)&&this||{},e={},n=(r,i)=>{const s=t&&lL(e,i)||i;Sm(e[s])&&Sm(r)?e[s]=Xw(e[s],r):Sm(r)?e[s]=Xw({},r):Cc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&wd(arguments[r],n);return e}const fQ=(t,e,n,{allOwnKeys:r}={})=>(wd(e,(i,s)=>{n&&bi(i)?t[s]=sL(i,n):t[s]=i},{allOwnKeys:r}),t),dQ=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),pQ=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},mQ=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&_T(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},gQ=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},yQ=t=>{if(!t)return null;if(Cc(t))return t;let e=t.length;if(!aL(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},vQ=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&_T(Uint8Array)),_Q=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},wQ=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},EQ=Is("HTMLFormElement"),TQ=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),qA=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),IQ=Is("RegExp"),hL=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};wd(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},SQ=t=>{hL(t,(e,n)=>{if(bi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(bi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},xQ=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Cc(t)?r(t):r(String(t).split(e)),n},RQ=()=>{},bQ=(t,e)=>(t=+t,Number.isFinite(t)?t:e),c0="abcdefghijklmnopqrstuvwxyz",WA="0123456789",fL={DIGIT:WA,ALPHA:c0,ALPHA_DIGIT:c0+c0.toUpperCase()+WA},AQ=(t=16,e=fL.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function CQ(t){return!!(t&&bi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const PQ=t=>{const e=new Array(10),n=(r,i)=>{if(wy(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Cc(r)?[]:{};return wd(r,(o,l)=>{const c=n(o,i+1);!Mf(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return n(t,0)},OQ=Is("AsyncFunction"),DQ=t=>t&&(wy(t)||bi(t))&&bi(t.then)&&bi(t.catch),ee={isArray:Cc,isArrayBuffer:oL,isBuffer:eQ,isFormData:uQ,isArrayBufferView:tQ,isString:nQ,isNumber:aL,isBoolean:rQ,isObject:wy,isPlainObject:Sm,isUndefined:Mf,isDate:iQ,isFile:sQ,isBlob:oQ,isRegExp:IQ,isFunction:bi,isStream:lQ,isURLSearchParams:cQ,isTypedArray:vQ,isFileList:aQ,forEach:wd,merge:Xw,extend:fQ,trim:hQ,stripBOM:dQ,inherits:pQ,toFlatObject:mQ,kindOf:vy,kindOfTest:Is,endsWith:gQ,toArray:yQ,forEachEntry:_Q,matchAll:wQ,isHTMLForm:EQ,hasOwnProperty:qA,hasOwnProp:qA,reduceDescriptors:hL,freezeMethods:SQ,toObjectSet:xQ,toCamelCase:TQ,noop:RQ,toFiniteNumber:bQ,findKey:lL,global:uL,isContextDefined:cL,ALPHABET:fL,generateString:AQ,isSpecCompliantForm:CQ,toJSONObject:PQ,isAsyncFn:OQ,isThenable:DQ};function yt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}ee.inherits(yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const dL=yt.prototype,pL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{pL[t]={value:t}});Object.defineProperties(yt,pL);Object.defineProperty(dL,"isAxiosError",{value:!0});yt.from=(t,e,n,r,i,s)=>{const o=Object.create(dL);return ee.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),yt.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const kQ=null;function Jw(t){return ee.isPlainObject(t)||ee.isArray(t)}function mL(t){return ee.endsWith(t,"[]")?t.slice(0,-2):t}function KA(t,e,n){return t?t.concat(e).map(function(i,s){return i=mL(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function NQ(t){return ee.isArray(t)&&!t.some(Jw)}const LQ=ee.toFlatObject(ee,{},null,function(e){return/^is[A-Z]/.test(e)});function Ey(t,e,n){if(!ee.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,R){return!ee.isUndefined(R[w])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(e);if(!ee.isFunction(i))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if(ee.isDate(v))return v.toISOString();if(!c&&ee.isBlob(v))throw new yt("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(v)||ee.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,w,R){let T=v;if(v&&!R&&typeof v=="object"){if(ee.endsWith(w,"{}"))w=r?w:w.slice(0,-2),v=JSON.stringify(v);else if(ee.isArray(v)&&NQ(v)||(ee.isFileList(v)||ee.endsWith(w,"[]"))&&(T=ee.toArray(v)))return w=mL(w),T.forEach(function(I,E){!(ee.isUndefined(I)||I===null)&&e.append(o===!0?KA([w],E,s):o===null?w:w+"[]",h(I))}),!1}return Jw(v)?!0:(e.append(KA(R,w,s),h(v)),!1)}const p=[],m=Object.assign(LQ,{defaultVisitor:f,convertValue:h,isVisitable:Jw});function y(v,w){if(!ee.isUndefined(v)){if(p.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));p.push(v),ee.forEach(v,function(T,S){(!(ee.isUndefined(T)||T===null)&&i.call(e,T,ee.isString(S)?S.trim():S,w,m))===!0&&y(T,w?w.concat(S):[S])}),p.pop()}}if(!ee.isObject(t))throw new TypeError("data must be an object");return y(t),e}function HA(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function wT(t,e){this._pairs=[],t&&Ey(t,this,e)}const gL=wT.prototype;gL.append=function(e,n){this._pairs.push([e,n])};gL.toString=function(e){const n=e?function(r){return e.call(this,r,HA)}:HA;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function MQ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function yL(t,e,n){if(!e)return t;const r=n&&n.encode||MQ,i=n&&n.serialize;let s;if(i?s=i(e,n):s=ee.isURLSearchParams(e)?e.toString():new wT(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class FQ{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ee.forEach(this.handlers,function(r){r!==null&&e(r)})}}const GA=FQ,vL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},VQ=typeof URLSearchParams<"u"?URLSearchParams:wT,$Q=typeof FormData<"u"?FormData:null,jQ=typeof Blob<"u"?Blob:null,BQ=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),UQ=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ls={isBrowser:!0,classes:{URLSearchParams:VQ,FormData:$Q,Blob:jQ},isStandardBrowserEnv:BQ,isStandardBrowserWebWorkerEnv:UQ,protocols:["http","https","file","blob","url","data"]};function zQ(t,e){return Ey(t,new ls.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return ls.isNode&&ee.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function qQ(t){return ee.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function WQ(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function _L(t){function e(n,r,i,s){let o=n[s++];const l=Number.isFinite(+o),c=s>=n.length;return o=!o&&ee.isArray(i)?i.length:o,c?(ee.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!ee.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&ee.isArray(i[o])&&(i[o]=WQ(i[o])),!l)}if(ee.isFormData(t)&&ee.isFunction(t.entries)){const n={};return ee.forEachEntry(t,(r,i)=>{e(qQ(r),i,n,0)}),n}return null}function KQ(t,e,n){if(ee.isString(t))try{return(e||JSON.parse)(t),ee.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const ET={transitional:vL,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=ee.isObject(e);if(s&&ee.isHTMLForm(e)&&(e=new FormData(e)),ee.isFormData(e))return i&&i?JSON.stringify(_L(e)):e;if(ee.isArrayBuffer(e)||ee.isBuffer(e)||ee.isStream(e)||ee.isFile(e)||ee.isBlob(e))return e;if(ee.isArrayBufferView(e))return e.buffer;if(ee.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return zQ(e,this.formSerializer).toString();if((l=ee.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ey(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),KQ(e)):e}],transformResponse:[function(e){const n=this.transitional||ET.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&ee.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?yt.from(l,yt.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ls.classes.FormData,Blob:ls.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],t=>{ET.headers[t]={}});const TT=ET,HQ=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GQ=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&HQ[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},QA=Symbol("internals");function Th(t){return t&&String(t).trim().toLowerCase()}function xm(t){return t===!1||t==null?t:ee.isArray(t)?t.map(xm):String(t)}function QQ(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const YQ=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function h0(t,e,n,r,i){if(ee.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ee.isString(e)){if(ee.isString(r))return e.indexOf(r)!==-1;if(ee.isRegExp(r))return r.test(e)}}function XQ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function JQ(t,e){const n=ee.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Ty{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,c,h){const f=Th(c);if(!f)throw new Error("header name must be a non-empty string");const p=ee.findKey(i,f);(!p||i[p]===void 0||h===!0||h===void 0&&i[p]!==!1)&&(i[p||c]=xm(l))}const o=(l,c)=>ee.forEach(l,(h,f)=>s(h,f,c));return ee.isPlainObject(e)||e instanceof this.constructor?o(e,n):ee.isString(e)&&(e=e.trim())&&!YQ(e)?o(GQ(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=Th(e),e){const r=ee.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return QQ(i);if(ee.isFunction(n))return n.call(this,i,r);if(ee.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Th(e),e){const r=ee.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||h0(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Th(o),o){const l=ee.findKey(r,o);l&&(!n||h0(r,r[l],l,n))&&(delete r[l],i=!0)}}return ee.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||h0(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return ee.forEach(this,(i,s)=>{const o=ee.findKey(r,s);if(o){n[o]=xm(i),delete n[s];return}const l=e?XQ(s):String(s).trim();l!==s&&delete n[s],n[l]=xm(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ee.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ee.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[QA]=this[QA]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=Th(o);r[l]||(JQ(i,o),r[l]=!0)}return ee.isArray(e)?e.forEach(s):s(e),this}}Ty.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(Ty.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ee.freezeMethods(Ty);const Qs=Ty;function f0(t,e){const n=this||TT,r=e||n,i=Qs.from(r.headers);let s=r.data;return ee.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function wL(t){return!!(t&&t.__CANCEL__)}function Ed(t,e,n){yt.call(this,t??"canceled",yt.ERR_CANCELED,e,n),this.name="CanceledError"}ee.inherits(Ed,yt,{__CANCEL__:!0});function ZQ(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new yt("Request failed with status code "+n.status,[yt.ERR_BAD_REQUEST,yt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const eY=ls.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,l){const c=[];c.push(n+"="+encodeURIComponent(r)),ee.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),ee.isString(s)&&c.push("path="+s),ee.isString(o)&&c.push("domain="+o),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function tY(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function nY(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function EL(t,e){return t&&!tY(e)?nY(t,e):e}const rY=ls.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const l=ee.isString(o)?i(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function iY(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function sY(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const h=Date.now(),f=r[s];o||(o=h),n[i]=c,r[i]=h;let p=s,m=0;for(;p!==i;)m+=n[p++],p=p%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),h-o<e)return;const y=f&&h-f;return y?Math.round(m*1e3/y):void 0}}function YA(t,e){let n=0;const r=sY(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,l=s-n,c=r(l),h=s<=o;n=s;const f={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&h?(o-s)/c:void 0,event:i};f[e?"download":"upload"]=!0,t(f)}}const oY=typeof XMLHttpRequest<"u",aY=oY&&function(t){return new Promise(function(n,r){let i=t.data;const s=Qs.from(t.headers).normalize(),o=t.responseType;let l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let h;ee.isFormData(i)&&(ls.isStandardBrowserEnv||ls.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.getContentType(/^\s*multipart\/form-data/)?ee.isString(h=s.getContentType())&&s.setContentType(h.replace(/^\s*(multipart\/form-data);+/,"$1")):s.setContentType("multipart/form-data"));let f=new XMLHttpRequest;if(t.auth){const v=t.auth.username||"",w=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(v+":"+w))}const p=EL(t.baseURL,t.url);f.open(t.method.toUpperCase(),yL(p,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function m(){if(!f)return;const v=Qs.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),R={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:v,config:t,request:f};ZQ(function(S){n(S),c()},function(S){r(S),c()},R),f=null}if("onloadend"in f?f.onloadend=m:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(m)},f.onabort=function(){f&&(r(new yt("Request aborted",yt.ECONNABORTED,t,f)),f=null)},f.onerror=function(){r(new yt("Network Error",yt.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let w=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const R=t.transitional||vL;t.timeoutErrorMessage&&(w=t.timeoutErrorMessage),r(new yt(w,R.clarifyTimeoutError?yt.ETIMEDOUT:yt.ECONNABORTED,t,f)),f=null},ls.isStandardBrowserEnv){const v=(t.withCredentials||rY(p))&&t.xsrfCookieName&&eY.read(t.xsrfCookieName);v&&s.set(t.xsrfHeaderName,v)}i===void 0&&s.setContentType(null),"setRequestHeader"in f&&ee.forEach(s.toJSON(),function(w,R){f.setRequestHeader(R,w)}),ee.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),o&&o!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",YA(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",YA(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=v=>{f&&(r(!v||v.type?new Ed(null,t,f):v),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const y=iY(p);if(y&&ls.protocols.indexOf(y)===-1){r(new yt("Unsupported protocol "+y+":",yt.ERR_BAD_REQUEST,t));return}f.send(i||null)})},Zw={http:kQ,xhr:aY};ee.forEach(Zw,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const XA=t=>`- ${t}`,lY=t=>ee.isFunction(t)||t===null||t===!1,TL={getAdapter:t=>{t=ee.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!lY(n)&&(r=Zw[(o=String(n)).toLowerCase()],r===void 0))throw new yt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(XA).join(`
`):" "+XA(s[0]):"as no adapter specified";throw new yt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Zw};function d0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ed(null,t)}function JA(t){return d0(t),t.headers=Qs.from(t.headers),t.data=f0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),TL.getAdapter(t.adapter||TT.adapter)(t).then(function(r){return d0(t),r.data=f0.call(t,t.transformResponse,r),r.headers=Qs.from(r.headers),r},function(r){return wL(r)||(d0(t),r&&r.response&&(r.response.data=f0.call(t,t.transformResponse,r.response),r.response.headers=Qs.from(r.response.headers))),Promise.reject(r)})}const ZA=t=>t instanceof Qs?t.toJSON():t;function ac(t,e){e=e||{};const n={};function r(h,f,p){return ee.isPlainObject(h)&&ee.isPlainObject(f)?ee.merge.call({caseless:p},h,f):ee.isPlainObject(f)?ee.merge({},f):ee.isArray(f)?f.slice():f}function i(h,f,p){if(ee.isUndefined(f)){if(!ee.isUndefined(h))return r(void 0,h,p)}else return r(h,f,p)}function s(h,f){if(!ee.isUndefined(f))return r(void 0,f)}function o(h,f){if(ee.isUndefined(f)){if(!ee.isUndefined(h))return r(void 0,h)}else return r(void 0,f)}function l(h,f,p){if(p in e)return r(h,f);if(p in t)return r(void 0,h)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(h,f)=>i(ZA(h),ZA(f),!0)};return ee.forEach(Object.keys(Object.assign({},t,e)),function(f){const p=c[f]||i,m=p(t[f],e[f],f);ee.isUndefined(m)&&p!==l||(n[f]=m)}),n}const IL="1.5.1",IT={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{IT[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const eC={};IT.transitional=function(e,n,r){function i(s,o){return"[Axios v"+IL+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new yt(i(o," has been removed"+(n?" in "+n:"")),yt.ERR_DEPRECATED);return n&&!eC[o]&&(eC[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};function uY(t,e,n){if(typeof t!="object")throw new yt("options must be an object",yt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],c=l===void 0||o(l,s,t);if(c!==!0)throw new yt("option "+s+" must be "+c,yt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new yt("Unknown option "+s,yt.ERR_BAD_OPTION)}}const eE={assertOptions:uY,validators:IT},Ro=eE.validators;class wg{constructor(e){this.defaults=e,this.interceptors={request:new GA,response:new GA}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ac(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&eE.assertOptions(r,{silentJSONParsing:Ro.transitional(Ro.boolean),forcedJSONParsing:Ro.transitional(Ro.boolean),clarifyTimeoutError:Ro.transitional(Ro.boolean)},!1),i!=null&&(ee.isFunction(i)?n.paramsSerializer={serialize:i}:eE.assertOptions(i,{encode:Ro.function,serialize:Ro.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&ee.merge(s.common,s[n.method]);s&&ee.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),n.headers=Qs.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let f,p=0,m;if(!c){const v=[JA.bind(this),void 0];for(v.unshift.apply(v,l),v.push.apply(v,h),m=v.length,f=Promise.resolve(n);p<m;)f=f.then(v[p++],v[p++]);return f}m=l.length;let y=n;for(p=0;p<m;){const v=l[p++],w=l[p++];try{y=v(y)}catch(R){w.call(this,R);break}}try{f=JA.call(this,y)}catch(v){return Promise.reject(v)}for(p=0,m=h.length;p<m;)f=f.then(h[p++],h[p++]);return f}getUri(e){e=ac(this.defaults,e);const n=EL(e.baseURL,e.url);return yL(n,e.params,e.paramsSerializer)}}ee.forEach(["delete","get","head","options"],function(e){wg.prototype[e]=function(n,r){return this.request(ac(r||{},{method:e,url:n,data:(r||{}).data}))}});ee.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(ac(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}wg.prototype[e]=n(),wg.prototype[e+"Form"]=n(!0)});const Rm=wg;class ST{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new Ed(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new ST(function(i){e=i}),cancel:e}}}const cY=ST;function hY(t){return function(n){return t.apply(null,n)}}function fY(t){return ee.isObject(t)&&t.isAxiosError===!0}const tE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tE).forEach(([t,e])=>{tE[e]=t});const dY=tE;function SL(t){const e=new Rm(t),n=sL(Rm.prototype.request,e);return ee.extend(n,Rm.prototype,e,{allOwnKeys:!0}),ee.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return SL(ac(t,i))},n}const Dn=SL(TT);Dn.Axios=Rm;Dn.CanceledError=Ed;Dn.CancelToken=cY;Dn.isCancel=wL;Dn.VERSION=IL;Dn.toFormData=Ey;Dn.AxiosError=yt;Dn.Cancel=Dn.CanceledError;Dn.all=function(e){return Promise.all(e)};Dn.spread=hY;Dn.isAxiosError=fY;Dn.mergeConfig=ac;Dn.AxiosHeaders=Qs;Dn.formToJSON=t=>_L(ee.isHTMLForm(t)?new FormData(t):t);Dn.getAdapter=TL.getAdapter;Dn.HttpStatusCode=dY;Dn.default=Dn;const xL=Dn,pY="https://pokeapi.co/api/v2/type/",mY="zh-Hant",tC=t=>xL(t).then(e=>e.data),gY=()=>{const t="pokemon_details",e=`query ${t} {
            pokemon_v2_pokemon(order_by: {id: asc}) {
                name
                id
                pokemon_v2_pokemonsprites {
                    id
                    sprites
                }
                pokemon_v2_pokemontypes {
                    pokemon_v2_type {
                        name
                    }
                }
            }
            pokemon_v2_pokemonspecies(order_by: {id: asc}) {
                name
                id
                pokemon_v2_pokemonspeciesnames {
                name
                language_id
                pokemon_v2_language {
                    name
                }
                }
            }
        }`;return Ok({queryKey:["pokemonInfo"],queryFn:()=>xL({method:"POST",url:"https://beta.pokeapi.co/graphql/v1beta",data:JSON.stringify({query:e,operationName:t})}),staleTime:1/0})},yY=()=>{var e;const t=Ok({queryKey:["AllTypes"],queryFn:()=>tC(pY)});return Wq({queries:(((e=t==null?void 0:t.data)==null?void 0:e.results)??[]).map(n=>{const{url:r}=n;return{queryKey:["TypeDetail",r],queryFn:()=>tC(r),enabled:!!r}})})},vY=()=>{const{handleStoreAllPokemon:t,handleStoreAllTypes:e}=ui(),n=gY(),r=yY(),i=n.data&&!n.isError&!n.isLoading&&r.every(s=>!s.isLoading&&!s.isError&&s.data);x.useEffect(()=>{var h,f;if(!i)return;e(r);const{pokemon_v2_pokemon:s,pokemon_v2_pokemonspecies:o}=(f=(h=n.data)==null?void 0:h.data)==null?void 0:f.data,c=s.map(p=>{const m=o.find(y=>p.id===y.id);return{...p,...m}}).map((p,m)=>{const{id:y,name:v,pokemon_v2_pokemonspeciesnames:w,pokemon_v2_pokemonsprites:R,pokemon_v2_pokemontypes:T}=p;try{const S=w.map(O=>{const{name:D,pokemon_v2_language:N}=O;return{type:N.name,name:D}}),I=w.filter(O=>{var D;return((D=O==null?void 0:O.pokemon_v2_language)==null?void 0:D.name)===mY}),E=R.map(O=>{const{sprites:D}=O;return D.other["official-artwork"].front_default}),P=T.map(O=>{var Y;const{pokemon_v2_type:D}=O,N=md.filter(ie=>ie.enName===D.name)[0],W=r.filter(ie=>ie.data.name===N.enName)[0];return{...N,damage_relations:(Y=W==null?void 0:W.data)==null?void 0:Y.damage_relations}});return{pokeId:y,enName:v,zhName:I[0].name,allLanguage:S,sprite:E[0],Types:P,damage_relations:0}}catch{}});t(c)},[i])},nC=(t,e)=>{if(t.length===0)return[];const n=t.map(i=>{const s=i==null?void 0:i.Types.map(o=>{var c,h;return(e?((c=o==null?void 0:o.damage_relations)==null?void 0:c.double_damage_from)??[]:((h=o==null?void 0:o.damage_relations)==null?void 0:h.half_damage_from)??[]).map(f=>f==null?void 0:f.name)});return[].concat(...s)}),r=new Set(n[0]);return n.forEach(i=>{const s=new Set(i);r.forEach(o=>{s.has(o)||r.delete(o)})}),Array.from(r)},_Y=()=>{const{selectImg:t,handleBestDamage:e}=ui();x.useEffect(()=>{const n=nC(t,!0),r=nC(t,!1),i=new Set(n);r.forEach(o=>{i.has(o)&&i.delete(o)});const s=md.filter(o=>{if(i.has(o.enName))return o});e(s)},[t])};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wY=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},bL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,y=h&63;c||(y=64,o||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||p==null)throw new EY;const m=s<<2|l>>4;if(r.push(m),h!==64){const y=l<<4&240|h>>2;if(r.push(y),p!==64){const v=h<<6&192|p;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class EY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TY=function(t){const e=RL(t);return bL.encodeByteArray(e,!0)},Eg=function(t){return TY(t).replace(/\./g,"")},IY=function(t){try{return bL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Tg(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!SY(n)||(t[n]=Tg(t[n],e[n]));return t}function SY(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RY=()=>xY().__FIREBASE_DEFAULTS__,bY=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AY=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&IY(t[1]);return e&&JSON.parse(e)},AL=()=>{try{return RY()||bY()||AY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CL=()=>{var t;return(t=AL())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Eg(JSON.stringify(n)),Eg(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OL(){var t;const e=(t=AL())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PY(){return typeof self=="object"&&self.self===self}function OY(){return!OL()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DL(){try{return typeof indexedDB=="object"}catch{return!1}}function DY(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY="FirebaseError";class _a extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kY,Object.setPrototypeOf(this,_a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iy.prototype.create)}}class Iy{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?NY(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new _a(i,l,r)}}function NY(t,e){return t.replace(LY,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const LY=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function rE(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(iC(s)&&iC(o)){if(!rE(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iC(t){return t!==null&&typeof t=="object"}function MY(t,e){const n=new FY(t,e);return n.subscribe.bind(n)}class FY{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VY(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=p0),i.error===void 0&&(i.error=p0),i.complete===void 0&&(i.complete=p0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VY(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function p0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class io{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new CY;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BY(e))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ua){return this.instances.has(e)}getOptions(e=Ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jY(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ua){return this.component?this.component.multipleInstances?e:Ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jY(t){return t===Ua?void 0:t}function BY(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $Y(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=[];var mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mt||(mt={}));const kL={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},zY=mt.INFO,qY={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},WY=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qY[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class RT{constructor(e){this.name=e,this._logLevel=zY,this._logHandler=WY,this._userLogHandler=null,xT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}function KY(t){xT.forEach(e=>{e.setLogLevel(t)})}function HY(t,e){for(const n of xT){let r=null;e&&e.level&&(r=kL[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const l=o.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");s>=(r??i.logLevel)&&t({level:mt[s].toLowerCase(),message:l,args:o,type:i.name})}}}const GY=(t,e)=>e.some(n=>t instanceof n);let sC,oC;function QY(){return sC||(sC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YY(){return oC||(oC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NL=new WeakMap,iE=new WeakMap,LL=new WeakMap,m0=new WeakMap,bT=new WeakMap;function XY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Jo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NL.set(n,t)}).catch(()=>{}),bT.set(e,t),e}function JY(t){if(iE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});iE.set(t,e)}let sE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return iE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZY(t){sE=t(sE)}function eX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(g0(this),e,...n);return LL.set(r,e.sort?e.sort():[e]),Jo(r)}:YY().includes(t)?function(...e){return t.apply(g0(this),e),Jo(NL.get(this))}:function(...e){return Jo(t.apply(g0(this),e))}}function tX(t){return typeof t=="function"?eX(t):(t instanceof IDBTransaction&&JY(t),GY(t,QY())?new Proxy(t,sE):t)}function Jo(t){if(t instanceof IDBRequest)return XY(t);if(m0.has(t))return m0.get(t);const e=tX(t);return e!==t&&(m0.set(t,e),bT.set(e,t)),e}const g0=t=>bT.get(t);function nX(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Jo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Jo(o.result),c.oldVersion,c.newVersion,Jo(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const rX=["get","getKey","getAll","getAllKeys","count"],iX=["put","add","delete","clear"],y0=new Map;function aC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(y0.get(e))return y0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=iX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rX.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&c.done]))[0]};return y0.set(e,s),s}ZY(t=>({...t,get:(e,n,r)=>aC(e,n)||t.get(e,n,r),has:(e,n)=>!!aC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oX(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oX(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const oE="@firebase/app",lC="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new RT("@firebase/app"),aX="@firebase/app-compat",lX="@firebase/analytics-compat",uX="@firebase/analytics",cX="@firebase/app-check-compat",hX="@firebase/app-check",fX="@firebase/auth",dX="@firebase/auth-compat",pX="@firebase/database",mX="@firebase/database-compat",gX="@firebase/functions",yX="@firebase/functions-compat",vX="@firebase/installations",_X="@firebase/installations-compat",wX="@firebase/messaging",EX="@firebase/messaging-compat",TX="@firebase/performance",IX="@firebase/performance-compat",SX="@firebase/remote-config",xX="@firebase/remote-config-compat",RX="@firebase/storage",bX="@firebase/storage-compat",AX="@firebase/firestore",CX="@firebase/firestore-compat",PX="firebase",OX="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="[DEFAULT]",DX={[oE]:"fire-core",[aX]:"fire-core-compat",[uX]:"fire-analytics",[lX]:"fire-analytics-compat",[hX]:"fire-app-check",[cX]:"fire-app-check-compat",[fX]:"fire-auth",[dX]:"fire-auth-compat",[pX]:"fire-rtdb",[mX]:"fire-rtdb-compat",[gX]:"fire-fn",[yX]:"fire-fn-compat",[vX]:"fire-iid",[_X]:"fire-iid-compat",[wX]:"fire-fcm",[EX]:"fire-fcm-compat",[TX]:"fire-perf",[IX]:"fire-perf-compat",[SX]:"fire-rc",[xX]:"fire-rc-compat",[RX]:"fire-gcs",[bX]:"fire-gcs-compat",[AX]:"fire-fst",[CX]:"fire-fst-compat","fire-js":"fire-js",[PX]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new Map,Ff=new Map;function Ig(t,e){try{t.container.addComponent(e)}catch(n){_l.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ML(t,e){t.container.addOrOverwriteComponent(e)}function wl(t){const e=t.name;if(Ff.has(e))return _l.debug(`There were multiple attempts to register component ${e}.`),!1;Ff.set(e,t);for(const n of ia.values())Ig(n,t);return!0}function FL(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kX(t,e,n=ra){FL(t,e).clearInstance(n)}function NX(){Ff.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ys=new Iy("app","Firebase",LX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MX=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=OX;function AT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ra,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ys.create("bad-app-name",{appName:String(i)});if(n||(n=CL()),!n)throw Ys.create("no-options");const s=ia.get(i);if(s){if(rE(n,s.options)&&rE(r,s.config))return s;throw Ys.create("duplicate-app",{appName:i})}const o=new UY(i);for(const c of Ff.values())o.addComponent(c);const l=new MX(n,r,o);return ia.set(i,l),l}function FX(t=ra){const e=ia.get(t);if(!e&&t===ra&&CL())return AT();if(!e)throw Ys.create("no-app",{appName:t});return e}function VX(){return Array.from(ia.values())}async function VL(t){const e=t.name;ia.has(e)&&(ia.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function vs(t,e,n){var r;let i=(r=DX[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_l.warn(l.join(" "));return}wl(new io(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function $L(t,e){if(t!==null&&typeof t!="function")throw Ys.create("invalid-log-argument");HY(t,e)}function jL(t){KY(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $X="firebase-heartbeat-database",jX=1,Vf="firebase-heartbeat-store";let v0=null;function BL(){return v0||(v0=nX($X,jX,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vf)}}}).catch(t=>{throw Ys.create("idb-open",{originalErrorMessage:t.message})})),v0}async function BX(t){try{return await(await BL()).transaction(Vf).objectStore(Vf).get(UL(t))}catch(e){if(e instanceof _a)_l.warn(e.message);else{const n=Ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_l.warn(n.message)}}}async function uC(t,e){try{const r=(await BL()).transaction(Vf,"readwrite");await r.objectStore(Vf).put(e,UL(t)),await r.done}catch(n){if(n instanceof _a)_l.warn(n.message);else{const r=Ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_l.warn(r.message)}}}function UL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UX=1024,zX=30*24*60*60*1e3;class qX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cC();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=zX}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cC(),{heartbeatsToSend:n,unsentEntries:r}=WX(this._heartbeatsCache.heartbeats),i=Eg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function cC(){return new Date().toISOString().substring(0,10)}function WX(t,e=UX){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),hC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DL()?DY().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await BX(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hC(t){return Eg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HX(t){wl(new io("platform-logger",e=>new sX(e),"PRIVATE")),wl(new io("heartbeat",e=>new qX(e),"PRIVATE")),vs(oE,lC,t),vs(oE,lC,"esm2017"),vs("fire-js","")}HX("");const GX=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:_a,SDK_VERSION:Sy,_DEFAULT_ENTRY_NAME:ra,_addComponent:Ig,_addOrOverwriteComponent:ML,_apps:ia,_clearComponents:NX,_components:Ff,_getProvider:FL,_registerComponent:wl,_removeServiceInstance:kX,deleteApp:VL,getApp:FX,getApps:VX,initializeApp:AT,onLog:$L,registerVersion:vs,setLogLevel:jL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QX{constructor(e,n){this._delegate=e,this.firebase=n,Ig(e,new io("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),VL(this._delegate)))}_getService(e,n=ra){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ra){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Ig(this._delegate,e)}_addOrOverwriteComponent(e){ML(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YX={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},fC=new Iy("app-compat","Firebase",YX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XX(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:vs,setLogLevel:jL,onLog:$L,apps:null,SDK_VERSION:Sy,INTERNAL:{registerComponent:l,removeApp:r,useAsService:c,modularAPIs:GX}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(h){delete e[h]}function i(h){if(h=h||ra,!rC(e,h))throw fC.create("no-app",{appName:h});return e[h]}i.App=t;function s(h,f={}){const p=AT(h,f);if(rC(e,p.name))return e[p.name];const m=new t(p,n);return e[p.name]=m,m}function o(){return Object.keys(e).map(h=>e[h])}function l(h){const f=h.name,p=f.replace("-compat","");if(wl(h)&&h.type==="PUBLIC"){const m=(y=i())=>{if(typeof y[p]!="function")throw fC.create("invalid-app-argument",{appName:f});return y[p]()};h.serviceProps!==void 0&&Tg(m,h.serviceProps),n[p]=m,t.prototype[p]=function(...y){return this._getService.bind(this,f).apply(this,h.multipleInstances?y:[])}}return h.type==="PUBLIC"?n[p]:null}function c(h,f){return f==="serverAuth"?null:f}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(){const t=XX(QX);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:zL,extendNamespace:e,createSubscribe:MY,ErrorFactory:Iy,deepExtend:Tg});function e(n){Tg(t,n)}return t}const JX=zL();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new RT("@firebase/app-compat"),ZX="@firebase/app-compat",eJ="0.2.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tJ(t){vs(ZX,eJ,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(PY()&&self.firebase!==void 0){dC.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&dC.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Pc=JX;tJ();var nJ="firebase",rJ="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pc.registerVersion(nJ,rJ,"app-compat");var iJ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ve,CT=CT||{},Ge=iJ||self;function xy(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Td(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function sJ(t){return Object.prototype.hasOwnProperty.call(t,_0)&&t[_0]||(t[_0]=++oJ)}var _0="closure_uid_"+(1e9*Math.random()>>>0),oJ=0;function aJ(t,e,n){return t.call.apply(t.bind,arguments)}function lJ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?dr=aJ:dr=lJ,dr.apply(null,arguments)}function Xp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Hn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[i].apply(r,o)}}function wa(){this.s=this.s,this.o=this.o}var uJ=0;wa.prototype.s=!1;wa.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),uJ!=0)&&sJ(this)};wa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qL=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function PT(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function pC(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(xy(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function pr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}pr.prototype.h=function(){this.defaultPrevented=!0};var cJ=function(){if(!Ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ge.addEventListener("test",()=>{},e),Ge.removeEventListener("test",()=>{},e)}catch{}return t}();function $f(t){return/^[\s\xa0]*$/.test(t)}function Ry(){var t=Ge.navigator;return t&&(t=t.userAgent)?t:""}function os(t){return Ry().indexOf(t)!=-1}function OT(t){return OT[" "](t),t}OT[" "]=function(){};function hJ(t,e){var n=rZ;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var fJ=os("Opera"),lc=os("Trident")||os("MSIE"),WL=os("Edge"),aE=WL||lc,KL=os("Gecko")&&!(Ry().toLowerCase().indexOf("webkit")!=-1&&!os("Edge"))&&!(os("Trident")||os("MSIE"))&&!os("Edge"),dJ=Ry().toLowerCase().indexOf("webkit")!=-1&&!os("Edge");function HL(){var t=Ge.document;return t?t.documentMode:void 0}var lE;e:{var w0="",E0=function(){var t=Ry();if(KL)return/rv:([^\);]+)(\)|;)/.exec(t);if(WL)return/Edge\/([\d\.]+)/.exec(t);if(lc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(dJ)return/WebKit\/(\S+)/.exec(t);if(fJ)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(E0&&(w0=E0?E0[1]:""),lc){var T0=HL();if(T0!=null&&T0>parseFloat(w0)){lE=String(T0);break e}}lE=w0}var uE;if(Ge.document&&lc){var mC=HL();uE=mC||parseInt(lE,10)||void 0}else uE=void 0;var pJ=uE;function jf(t,e){if(pr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(KL){e:{try{OT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:mJ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&jf.$.h.call(this)}}Hn(jf,pr);var mJ={2:"touch",3:"pen",4:"mouse"};jf.prototype.h=function(){jf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Id="closure_listenable_"+(1e6*Math.random()|0),gJ=0;function yJ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++gJ,this.fa=this.ia=!1}function by(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function DT(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function vJ(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function GL(t){const e={};for(const n in t)e[n]=t[n];return e}const gC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function QL(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<gC.length;s++)n=gC[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ay(t){this.src=t,this.g={},this.h=0}Ay.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=hE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new yJ(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function cE(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=qL(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(by(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function hE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var kT="closure_lm_"+(1e6*Math.random()|0),I0={};function YL(t,e,n,r,i){if(r&&r.once)return JL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)YL(t,e[s],n,r,i);return null}return n=MT(n),t&&t[Id]?t.O(e,n,Td(r)?!!r.capture:!!r,i):XL(t,e,n,!1,r,i)}function XL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Td(i)?!!i.capture:!!i,l=LT(t);if(l||(t[kT]=l=new Ay(t)),n=l.add(e,n,r,o,s),n.proxy)return n;if(r=_J(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)cJ||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(eM(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function _J(){function t(n){return e.call(t.src,t.listener,n)}const e=wJ;return t}function JL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)JL(t,e[s],n,r,i);return null}return n=MT(n),t&&t[Id]?t.P(e,n,Td(r)?!!r.capture:!!r,i):XL(t,e,n,!0,r,i)}function ZL(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)ZL(t,e[s],n,r,i);else r=Td(r)?!!r.capture:!!r,n=MT(n),t&&t[Id]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=hE(s,n,r,i),-1<n&&(by(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=LT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=hE(e,n,r,i)),(n=-1<t?e[t]:null)&&NT(n))}function NT(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Id])cE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(eM(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=LT(e))?(cE(n,t),n.h==0&&(n.src=null,e[kT]=null)):by(t)}}}function eM(t){return t in I0?I0[t]:I0[t]="on"+t}function wJ(t,e){if(t.fa)t=!0;else{e=new jf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&NT(t),t=n.call(r,e)}return t}function LT(t){return t=t[kT],t instanceof Ay?t:null}var S0="__closure_events_fn_"+(1e9*Math.random()>>>0);function MT(t){return typeof t=="function"?t:(t[S0]||(t[S0]=function(e){return t.handleEvent(e)}),t[S0])}function Kn(){wa.call(this),this.i=new Ay(this),this.S=this,this.J=null}Hn(Kn,wa);Kn.prototype[Id]=!0;Kn.prototype.removeEventListener=function(t,e,n,r){ZL(this,t,e,n,r)};function rr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new pr(e,t);else if(e instanceof pr)e.target=e.target||t;else{var i=e;e=new pr(r,t),QL(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Jp(o,r,!0,e)&&i}if(o=e.g=t,i=Jp(o,r,!0,e)&&i,i=Jp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Jp(o,r,!1,e)&&i}Kn.prototype.N=function(){if(Kn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)by(n[r]);delete t.g[e],t.h--}}this.J=null};Kn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Kn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Jp(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var l=o.listener,c=o.la||o.src;o.ia&&cE(t.i,o),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var FT=Ge.JSON.stringify;class EJ{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function TJ(){var t=VT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class IJ{constructor(){this.h=this.g=null}add(e,n){const r=tM.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var tM=new EJ(()=>new SJ,t=>t.reset());class SJ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function xJ(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function RJ(t){Ge.setTimeout(()=>{throw t},0)}let Bf,Uf=!1,VT=new IJ,nM=()=>{const t=Ge.Promise.resolve(void 0);Bf=()=>{t.then(bJ)}};var bJ=()=>{for(var t;t=TJ();){try{t.h.call(t.g)}catch(n){RJ(n)}var e=tM;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Uf=!1};function Cy(t,e){Kn.call(this),this.h=t||1,this.g=e||Ge,this.j=dr(this.qb,this),this.l=Date.now()}Hn(Cy,Kn);ve=Cy.prototype;ve.ga=!1;ve.T=null;ve.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rr(this,"tick"),this.ga&&($T(this),this.start()))}};ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function $T(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ve.N=function(){Cy.$.N.call(this),$T(this),delete this.g};function jT(t,e,n){if(typeof t=="function")n&&(t=dr(t,n));else if(t&&typeof t.handleEvent=="function")t=dr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ge.setTimeout(t,e||0)}function rM(t){t.g=jT(()=>{t.g=null,t.i&&(t.i=!1,rM(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class AJ extends wa{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rM(this)}N(){super.N(),this.g&&(Ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zf(t){wa.call(this),this.h=t,this.g={}}Hn(zf,wa);var yC=[];function iM(t,e,n,r){Array.isArray(n)||(n&&(yC[0]=n.toString()),n=yC);for(var i=0;i<n.length;i++){var s=YL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function sM(t){DT(t.g,function(e,n){this.g.hasOwnProperty(n)&&NT(e)},t),t.g={}}zf.prototype.N=function(){zf.$.N.call(this),sM(this)};zf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Py(){this.g=!0}Py.prototype.Ea=function(){this.g=!1};function CJ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var f=h[0];h=h[1];var p=f.split("_");o=2<=p.length&&p[1]=="type"?o+(f+"="+h+"&"):o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function PJ(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Nu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+DJ(t,n)+(r?" "+r:"")})}function OJ(t,e){t.info(function(){return"TIMEOUT: "+e})}Py.prototype.info=function(){};function DJ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return FT(n)}catch{return e}}var Ml={},vC=null;function Oy(){return vC=vC||new Kn}Ml.Ta="serverreachability";function oM(t){pr.call(this,Ml.Ta,t)}Hn(oM,pr);function qf(t){const e=Oy();rr(e,new oM(e))}Ml.STAT_EVENT="statevent";function aM(t,e){pr.call(this,Ml.STAT_EVENT,t),this.stat=e}Hn(aM,pr);function Sr(t){const e=Oy();rr(e,new aM(e,t))}Ml.Ua="timingevent";function lM(t,e){pr.call(this,Ml.Ua,t),this.size=e}Hn(lM,pr);function Sd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ge.setTimeout(function(){t()},e)}var Dy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},uM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function BT(){}BT.prototype.h=null;function _C(t){return t.h||(t.h=t.i())}function cM(){}var xd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function UT(){pr.call(this,"d")}Hn(UT,pr);function zT(){pr.call(this,"c")}Hn(zT,pr);var fE;function ky(){}Hn(ky,BT);ky.prototype.g=function(){return new XMLHttpRequest};ky.prototype.i=function(){return{}};fE=new ky;function Rd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new zf(this),this.P=kJ,t=aE?125:void 0,this.V=new Cy(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hM}function hM(){this.i=null,this.g="",this.h=!1}var kJ=45e3,dE={},Sg={};ve=Rd.prototype;ve.setTimeout=function(t){this.P=t};function pE(t,e,n){t.L=1,t.v=Ly(so(e)),t.s=n,t.S=!0,fM(t,null)}function fM(t,e){t.G=Date.now(),bd(t),t.A=so(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),wM(n.i,"t",r),t.C=0,n=t.l.J,t.h=new hM,t.g=BM(t.l,n?e:null,!t.s),0<t.O&&(t.M=new AJ(dr(t.Pa,t,t.g),t.O)),iM(t.U,t.g,"readystatechange",t.nb),e=t.I?GL(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),qf(),CJ(t.j,t.u,t.A,t.m,t.W,t.s)}ve.nb=function(t){t=t.target;const e=this.M;e&&us(t)==3?e.l():this.Pa(t)};ve.Pa=function(t){try{if(t==this.g)e:{const f=us(this.g);var e=this.g.Ia();const p=this.g.da();if(!(3>f)&&(f!=3||aE||this.g&&(this.h.h||this.g.ja()||IC(this.g)))){this.J||f!=4||e==7||(e==8||0>=p?qf(3):qf(2)),Ny(this);var n=this.g.da();this.ca=n;t:if(dM(this)){var r=IC(this.g);t="";var i=r.length,s=us(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tl(this),rf(this);var o="";break t}this.h.i=new Ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,PJ(this.j,this.u,this.A,this.m,this.W,f,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$f(l)){var h=l;break t}}h=null}if(n=h)Nu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mE(this,n);else{this.i=!1,this.o=3,Sr(12),tl(this),rf(this);break e}}this.S?(pM(this,f,o),aE&&this.i&&f==3&&(iM(this.U,this.V,"tick",this.mb),this.V.start())):(Nu(this.j,this.m,o,null),mE(this,o)),f==4&&tl(this),this.i&&!this.J&&(f==4?FM(this.l,this):(this.i=!1,bd(this)))}else eZ(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Sr(12)):(this.o=0,Sr(13)),tl(this),rf(this)}}}catch{}finally{}};function dM(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function pM(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=NJ(t,n),i==Sg){e==4&&(t.o=4,Sr(14),r=!1),Nu(t.j,t.m,null,"[Incomplete Response]");break}else if(i==dE){t.o=4,Sr(15),Nu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Nu(t.j,t.m,i,null),mE(t,i);dM(t)&&i!=Sg&&i!=dE&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Sr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),QT(e),e.M=!0,Sr(11))):(Nu(t.j,t.m,n,"[Invalid Chunked Response]"),tl(t),rf(t))}ve.mb=function(){if(this.g){var t=us(this.g),e=this.g.ja();this.C<e.length&&(Ny(this),pM(this,t,e),this.i&&t!=4&&bd(this))}};function NJ(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Sg:(n=Number(e.substring(n,r)),isNaN(n)?dE:(r+=1,r+n>e.length?Sg:(e=e.slice(r,r+n),t.C=r+n,e)))}ve.cancel=function(){this.J=!0,tl(this)};function bd(t){t.Y=Date.now()+t.P,mM(t,t.P)}function mM(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Sd(dr(t.lb,t),e)}function Ny(t){t.B&&(Ge.clearTimeout(t.B),t.B=null)}ve.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(OJ(this.j,this.A),this.L!=2&&(qf(),Sr(17)),tl(this),this.o=2,rf(this)):mM(this,this.Y-t)};function rf(t){t.l.H==0||t.J||FM(t.l,t)}function tl(t){Ny(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,$T(t.V),sM(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function mE(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||gE(n.i,t))){if(!t.K&&gE(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)bg(n),$y(n);else break e;GT(n),Sr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Sd(dr(n.ib,n),6e3));if(1>=IM(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else nl(n,11)}else if((t.K||n.g==t)&&bg(n),!$f(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.K=h[1],n.pa=h[2];const f=h[3];f!=null&&(n.ra=f,n.l.info("VER="+n.ra));const p=h[4];p!=null&&(n.Ga=p,n.l.info("SVER="+n.Ga));const m=h[5];m!=null&&typeof m=="number"&&0<m&&(r=1.5*m,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=t.g;if(y){const v=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(qT(s,s.h),s.h=null))}if(r.F){const w=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Ht(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=jM(r,r.J?r.pa:null,r.Y),o.K){SM(r.i,o);var l=o,c=r.L;c&&l.setTimeout(c),l.B&&(Ny(l),bd(l)),r.g=o}else LM(r);0<n.j.length&&jy(n)}else h[0]!="stop"&&h[0]!="close"||nl(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?nl(n,7):HT(n):h[0]!="noop"&&n.h&&n.h.Aa(h),n.A=0)}}qf(4)}catch{}}function LJ(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(xy(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function MJ(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(xy(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function gM(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(xy(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=MJ(t),r=LJ(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var yM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FJ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ll(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ll){this.h=t.h,xg(this,t.j),this.s=t.s,this.g=t.g,Rg(this,t.m),this.l=t.l;var e=t.i,n=new Wf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),wC(this,n),this.o=t.o}else t&&(e=String(t).match(yM))?(this.h=!1,xg(this,e[1]||"",!0),this.s=Vh(e[2]||""),this.g=Vh(e[3]||"",!0),Rg(this,e[4]),this.l=Vh(e[5]||"",!0),wC(this,e[6]||"",!0),this.o=Vh(e[7]||"")):(this.h=!1,this.i=new Wf(null,this.h))}ll.prototype.toString=function(){var t=[],e=this.j;e&&t.push($h(e,EC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push($h(e,EC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push($h(n,n.charAt(0)=="/"?jJ:$J,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$h(n,UJ)),t.join("")};function so(t){return new ll(t)}function xg(t,e,n){t.j=n?Vh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Rg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function wC(t,e,n){e instanceof Wf?(t.i=e,zJ(t.i,t.h)):(n||(e=$h(e,BJ)),t.i=new Wf(e,t.h))}function Ht(t,e,n){t.i.set(e,n)}function Ly(t){return Ht(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Vh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $h(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,VJ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function VJ(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var EC=/[#\/\?@]/g,$J=/[#\?:]/g,jJ=/[#\?]/g,BJ=/[#\?@]/g,UJ=/#/g;function Wf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ea(t){t.g||(t.g=new Map,t.h=0,t.i&&FJ(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ve=Wf.prototype;ve.add=function(t,e){Ea(this),this.i=null,t=Oc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function vM(t,e){Ea(t),e=Oc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function _M(t,e){return Ea(t),e=Oc(t,e),t.g.has(e)}ve.forEach=function(t,e){Ea(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ve.ta=function(){Ea(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ve.Z=function(t){Ea(this);let e=[];if(typeof t=="string")_M(this,t)&&(e=e.concat(this.g.get(Oc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ve.set=function(t,e){return Ea(this),this.i=null,t=Oc(this,t),_M(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ve.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function wM(t,e,n){vM(t,e),0<n.length&&(t.i=null,t.g.set(Oc(t,e),PT(n)),t.h+=n.length)}ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Oc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function zJ(t,e){e&&!t.j&&(Ea(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(vM(this,r),wM(this,i,n))},t)),t.j=e}var qJ=class{constructor(t,e){this.g=t,this.map=e}};function EM(t){this.l=t||WJ,Ge.PerformanceNavigationTiming?(t=Ge.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ge.g&&Ge.g.Ka&&Ge.g.Ka()&&Ge.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var WJ=10;function TM(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function IM(t){return t.h?1:t.g?t.g.size:0}function gE(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function qT(t,e){t.g?t.g.add(e):t.h=e}function SM(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}EM.prototype.cancel=function(){if(this.i=xM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function xM(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return PT(t.i)}var KJ=class{stringify(t){return Ge.JSON.stringify(t,void 0)}parse(t){return Ge.JSON.parse(t,void 0)}};function HJ(){this.g=new KJ}function GJ(t,e,n){const r=n||"";try{gM(t,function(i,s){let o=i;Td(i)&&(o=FT(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function QJ(t,e){const n=new Py;if(Ge.Image){const r=new Image;r.onload=Xp(Zp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Xp(Zp,n,r,"TestLoadImage: error",!1,e),r.onabort=Xp(Zp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Xp(Zp,n,r,"TestLoadImage: timeout",!1,e),Ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Zp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function My(t){this.l=t.ec||null,this.j=t.ob||!1}Hn(My,BT);My.prototype.g=function(){return new Fy(this.l,this.j)};My.prototype.i=function(t){return function(){return t}}({});function Fy(t,e){Kn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=WT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hn(Fy,Kn);var WT=0;ve=Fy.prototype;ve.open=function(t,e){if(this.readyState!=WT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Kf(this)};ve.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ad(this)),this.readyState=WT};ve.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Kf(this)),this.g&&(this.readyState=3,Kf(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;RM(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function RM(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ve.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ad(this):Kf(this),this.readyState==3&&RM(this)}};ve.Za=function(t){this.g&&(this.response=this.responseText=t,Ad(this))};ve.Ya=function(t){this.g&&(this.response=t,Ad(this))};ve.ka=function(){this.g&&Ad(this)};function Ad(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Kf(t)}ve.setRequestHeader=function(t,e){this.v.append(t,e)};ve.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ve.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Kf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Fy.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var YJ=Ge.JSON.parse;function En(t){Kn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=bM,this.L=this.M=!1}Hn(En,Kn);var bM="",XJ=/^https?$/i,JJ=["POST","PUT"];ve=En.prototype;ve.Oa=function(t){this.M=t};ve.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():fE.g(),this.C=this.u?_C(this.u):_C(fE),this.g.onreadystatechange=dr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){TC(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Ge.FormData&&t instanceof Ge.FormData,!(0<=qL(JJ,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{PM(this),0<this.B&&((this.L=ZJ(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dr(this.ua,this)):this.A=jT(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){TC(this,s)}};function ZJ(t){return lc&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ve.ua=function(){typeof CT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rr(this,"timeout"),this.abort(8))};function TC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,AM(t),Vy(t)}function AM(t){t.F||(t.F=!0,rr(t,"complete"),rr(t,"error"))}ve.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rr(this,"complete"),rr(this,"abort"),Vy(this))};ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vy(this,!0)),En.$.N.call(this)};ve.La=function(){this.s||(this.G||this.v||this.l?CM(this):this.kb())};ve.kb=function(){CM(this)};function CM(t){if(t.h&&typeof CT<"u"&&(!t.C[1]||us(t)!=4||t.da()!=2)){if(t.v&&us(t)==4)jT(t.La,0,t);else if(rr(t,"readystatechange"),us(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(yM)[1]||null;!i&&Ge.self&&Ge.self.location&&(i=Ge.self.location.protocol.slice(0,-1)),r=!XJ.test(i?i.toLowerCase():"")}n=r}if(n)rr(t,"complete"),rr(t,"success");else{t.m=6;try{var s=2<us(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",AM(t)}}finally{Vy(t)}}}}function Vy(t,e){if(t.g){PM(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||rr(t,"ready");try{n.onreadystatechange=r}catch{}}}function PM(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ge.clearTimeout(t.A),t.A=null)}ve.isActive=function(){return!!this.g};function us(t){return t.g?t.g.readyState:0}ve.da=function(){try{return 2<us(this)?this.g.status:-1}catch{return-1}};ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ve.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),YJ(e)}};function IC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case bM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function eZ(t){const e={};t=(t.g&&2<=us(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if($f(t[r]))continue;var n=xJ(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}vJ(e,function(r){return r.join(", ")})}ve.Ia=function(){return this.m};ve.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function OM(t){let e="";return DT(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function KT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=OM(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ht(t,e,n))}function Ih(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function DM(t){this.Ga=0,this.j=[],this.l=new Py,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ih("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ih("baseRetryDelayMs",5e3,t),this.hb=Ih("retryDelaySeedMs",1e4,t),this.eb=Ih("forwardChannelMaxRetries",2,t),this.xa=Ih("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new EM(t&&t.concurrentRequestLimit),this.Ja=new HJ,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ve=DM.prototype;ve.ra=8;ve.H=1;function HT(t){if(kM(t),t.H==3){var e=t.W++,n=so(t.I);if(Ht(n,"SID",t.K),Ht(n,"RID",e),Ht(n,"TYPE","terminate"),Cd(t,n),e=new Rd(t,t.l,e),e.L=2,e.v=Ly(so(n)),n=!1,Ge.navigator&&Ge.navigator.sendBeacon)try{n=Ge.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ge.Image&&(new Image().src=e.v,n=!0),n||(e.g=BM(e.l,null),e.g.ha(e.v)),e.G=Date.now(),bd(e)}$M(t)}function $y(t){t.g&&(QT(t),t.g.cancel(),t.g=null)}function kM(t){$y(t),t.u&&(Ge.clearTimeout(t.u),t.u=null),bg(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ge.clearTimeout(t.m),t.m=null)}function jy(t){if(!TM(t.i)&&!t.m){t.m=!0;var e=t.Na;Bf||nM(),Uf||(Bf(),Uf=!0),VT.add(e,t),t.C=0}}function tZ(t,e){return IM(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Sd(dr(t.Na,t,e),VM(t,t.C)),t.C++,!0)}ve.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Rd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=GL(s),QL(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=NM(this,i,e),n=so(this.I),Ht(n,"RID",t),Ht(n,"CVER",22),this.F&&Ht(n,"X-HTTP-Session-Id",this.F),Cd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(OM(s)))+"&"+e:this.o&&KT(n,this.o,s)),qT(this.i,i),this.bb&&Ht(n,"TYPE","init"),this.P?(Ht(n,"$req",e),Ht(n,"SID","null"),i.aa=!0,pE(i,n,null)):pE(i,n,e),this.H=2}}else this.H==3&&(t?SC(this,t):this.j.length==0||TM(this.i)||SC(this))};function SC(t,e){var n;e?n=e.m:n=t.W++;const r=so(t.I);Ht(r,"SID",t.K),Ht(r,"RID",n),Ht(r,"AID",t.V),Cd(t,r),t.o&&t.s&&KT(r,t.o,t.s),n=new Rd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=NM(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),qT(t.i,n),pE(n,r,e)}function Cd(t,e){t.na&&DT(t.na,function(n,r){Ht(e,r,n)}),t.h&&gM({},function(n,r){Ht(e,r,n)})}function NM(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let c=0;c<n;c++){let h=i[c].g;const f=i[c].map;if(h-=s,0>h)s=Math.max(0,i[c].g-100),l=!1;else try{GJ(f,o,"req"+h+"_")}catch{r&&r(f)}}if(l){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function LM(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Bf||nM(),Uf||(Bf(),Uf=!0),VT.add(e,t),t.A=0}}function GT(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Sd(dr(t.Ma,t),VM(t,t.A)),t.A++,!0)}ve.Ma=function(){if(this.u=null,MM(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Sd(dr(this.jb,this),t)}};ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Sr(10),$y(this),MM(this))};function QT(t){t.B!=null&&(Ge.clearTimeout(t.B),t.B=null)}function MM(t){t.g=new Rd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=so(t.wa);Ht(e,"RID","rpc"),Ht(e,"SID",t.K),Ht(e,"AID",t.V),Ht(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ht(e,"TO",t.qa),Ht(e,"TYPE","xmlhttp"),Cd(t,e),t.o&&t.s&&KT(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Ly(so(e)),n.s=null,n.S=!0,fM(n,t)}ve.ib=function(){this.v!=null&&(this.v=null,$y(this),GT(this),Sr(19))};function bg(t){t.v!=null&&(Ge.clearTimeout(t.v),t.v=null)}function FM(t,e){var n=null;if(t.g==e){bg(t),QT(t),t.g=null;var r=2}else if(gE(t.i,e))n=e.F,SM(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Oy(),rr(r,new lM(r,n)),jy(t)}else LM(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&tZ(t,e)||r==2&&GT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:nl(t,5);break;case 4:nl(t,10);break;case 3:nl(t,6);break;default:nl(t,2)}}}function VM(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function nl(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=dr(t.pb,t);n||(n=new ll("//www.google.com/images/cleardot.gif"),Ge.location&&Ge.location.protocol=="http"||xg(n,"https"),Ly(n)),QJ(n.toString(),r)}else Sr(2);t.H=0,t.h&&t.h.za(e),$M(t),kM(t)}ve.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Sr(2)):(this.l.info("Failed to ping google.com"),Sr(1))};function $M(t){if(t.H=0,t.ma=[],t.h){const e=xM(t.i);(e.length!=0||t.j.length!=0)&&(pC(t.ma,e),pC(t.ma,t.j),t.i.i.length=0,PT(t.j),t.j.length=0),t.h.ya()}}function jM(t,e,n){var r=n instanceof ll?so(n):new ll(n);if(r.g!="")e&&(r.g=e+"."+r.g),Rg(r,r.m);else{var i=Ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ll(null);r&&xg(s,r),e&&(s.g=e),i&&Rg(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ht(r,n,e),Ht(r,"VER",t.ra),Cd(t,r),r}function BM(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new En(new My({ob:!0})):new En(t.va),e.Oa(t.J),e}ve.isActive=function(){return!!this.h&&this.h.isActive(this)};function UM(){}ve=UM.prototype;ve.Ba=function(){};ve.Aa=function(){};ve.za=function(){};ve.ya=function(){};ve.isActive=function(){return!0};ve.Va=function(){};function Ag(){if(lc&&!(10<=Number(pJ)))throw Error("Environmental error: no available transport.")}Ag.prototype.g=function(t,e){return new si(t,e)};function si(t,e){Kn.call(this),this.g=new DM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!$f(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$f(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Dc(this)}Hn(si,Kn);si.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Sr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=jM(t,null,t.Y),jy(t)};si.prototype.close=function(){HT(this.g)};si.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=FT(t),t=n);e.j.push(new qJ(e.fb++,t)),e.H==3&&jy(e)};si.prototype.N=function(){this.g.h=null,delete this.j,HT(this.g),delete this.g,si.$.N.call(this)};function zM(t){UT.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Hn(zM,UT);function qM(){zT.call(this),this.status=1}Hn(qM,zT);function Dc(t){this.g=t}Hn(Dc,UM);Dc.prototype.Ba=function(){rr(this.g,"a")};Dc.prototype.Aa=function(t){rr(this.g,new zM(t))};Dc.prototype.za=function(t){rr(this.g,new qM)};Dc.prototype.ya=function(){rr(this.g,"b")};function nZ(){this.blockSize=-1}function Qi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Hn(Qi,nZ);Qi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function x0(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Qi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)x0(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){x0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){x0(this,r),i=0;break}}this.h=i,this.i+=e};Qi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Dt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var rZ={};function YT(t){return-128<=t&&128>t?hJ(t,function(e){return new Dt([e|0],0>e?-1:0)}):new Dt([t|0],0>t?-1:0)}function cs(t){if(isNaN(t)||!isFinite(t))return zu;if(0>t)return er(cs(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=yE;return new Dt(e,0)}function WM(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return er(WM(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=cs(Math.pow(e,8)),r=zu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=cs(Math.pow(e,s)),r=r.R(s).add(cs(o))):(r=r.R(n),r=r.add(cs(o)))}return r}var yE=4294967296,zu=YT(0),vE=YT(1),xC=YT(16777216);ve=Dt.prototype;ve.ea=function(){if(Ti(this))return-er(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:yE+r)*e,e*=yE}return t};ve.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(zs(this))return"0";if(Ti(this))return"-"+er(this).toString(t);for(var e=cs(Math.pow(t,6)),n=this,r="";;){var i=Pg(n,e).g;n=Cg(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,zs(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ve.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function zs(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ti(t){return t.h==-1}ve.X=function(t){return t=Cg(this,t),Ti(t)?-1:zs(t)?0:1};function er(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Dt(n,~t.h).add(vE)}ve.abs=function(){return Ti(this)?er(this):this};ve.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Dt(n,n[n.length-1]&-2147483648?-1:0)};function Cg(t,e){return t.add(er(e))}ve.R=function(t){if(zs(this)||zs(t))return zu;if(Ti(this))return Ti(t)?er(this).R(er(t)):er(er(this).R(t));if(Ti(t))return er(this.R(er(t)));if(0>this.X(xC)&&0>t.X(xC))return cs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,l=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,em(n,2*r+2*i),n[2*r+2*i+1]+=s*c,em(n,2*r+2*i+1),n[2*r+2*i+1]+=o*l,em(n,2*r+2*i+1),n[2*r+2*i+2]+=s*l,em(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Dt(n,0)};function em(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Sh(t,e){this.g=t,this.h=e}function Pg(t,e){if(zs(e))throw Error("division by zero");if(zs(t))return new Sh(zu,zu);if(Ti(t))return e=Pg(er(t),e),new Sh(er(e.g),er(e.h));if(Ti(e))return e=Pg(t,er(e)),new Sh(er(e.g),e.h);if(30<t.g.length){if(Ti(t)||Ti(e))throw Error("slowDivide_ only works with positive integers.");for(var n=vE,r=e;0>=r.X(t);)n=RC(n),r=RC(r);var i=au(n,1),s=au(r,1);for(r=au(r,2),n=au(n,2);!zs(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=au(r,1),n=au(n,1)}return e=Cg(t,i.R(e)),new Sh(i,e)}for(i=zu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=cs(n),o=s.R(e);Ti(o)||0<o.X(t);)n-=r,s=cs(n),o=s.R(e);zs(s)&&(s=vE),i=i.add(s),t=Cg(t,o)}return new Sh(i,t)}ve.gb=function(t){return Pg(this,t).h};ve.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Dt(n,this.h&t.h)};ve.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Dt(n,this.h|t.h)};ve.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Dt(n,this.h^t.h)};function RC(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Dt(n,t.h)}function au(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Dt(i,t.h)}Ag.prototype.createWebChannel=Ag.prototype.g;si.prototype.send=si.prototype.u;si.prototype.open=si.prototype.m;si.prototype.close=si.prototype.close;Dy.NO_ERROR=0;Dy.TIMEOUT=8;Dy.HTTP_ERROR=6;uM.COMPLETE="complete";cM.EventType=xd;xd.OPEN="a";xd.CLOSE="b";xd.ERROR="c";xd.MESSAGE="d";Kn.prototype.listen=Kn.prototype.O;En.prototype.listenOnce=En.prototype.P;En.prototype.getLastError=En.prototype.Sa;En.prototype.getLastErrorCode=En.prototype.Ia;En.prototype.getStatus=En.prototype.da;En.prototype.getResponseJson=En.prototype.Wa;En.prototype.getResponseText=En.prototype.ja;En.prototype.send=En.prototype.ha;En.prototype.setWithCredentials=En.prototype.Oa;Qi.prototype.digest=Qi.prototype.l;Qi.prototype.reset=Qi.prototype.reset;Qi.prototype.update=Qi.prototype.j;Dt.prototype.add=Dt.prototype.add;Dt.prototype.multiply=Dt.prototype.R;Dt.prototype.modulo=Dt.prototype.gb;Dt.prototype.compare=Dt.prototype.X;Dt.prototype.toNumber=Dt.prototype.ea;Dt.prototype.toString=Dt.prototype.toString;Dt.prototype.getBits=Dt.prototype.D;Dt.fromNumber=cs;Dt.fromString=WM;var iZ=function(){return new Ag},sZ=function(){return Oy()},R0=Dy,oZ=uM,aZ=Ml,bC={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tm=cM,lZ=En,uZ=Qi,qu=Dt;const AC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new RT("@firebase/firestore");function mu(){return sa.logLevel}function cZ(t){sa.setLogLevel(t)}function re(t,...e){if(sa.logLevel<=mt.DEBUG){const n=e.map(XT);sa.debug(`Firestore (${kc}): ${t}`,...n)}}function An(t,...e){if(sa.logLevel<=mt.ERROR){const n=e.map(XT);sa.error(`Firestore (${kc}): ${t}`,...n)}}function Yi(t,...e){if(sa.logLevel<=mt.WARN){const n=e.map(XT);sa.warn(`Firestore (${kc}): ${t}`,...n)}}function XT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: `+t;throw An(e),new Error(e)}function Le(t,e){t||Se()}function hZ(t,e){t||Se()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends _a{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zn.UNAUTHENTICATED))}shutdown(){}}class dZ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pZ{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Wn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string"),new KM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new zn(e)}}class mZ{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gZ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new mZ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yZ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vZ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string"),this.R=n.token,new yZ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Z(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_Z(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ze(t,e){return t<e?-1:t>e?1:0}function uc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function GM(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new rn(0,0))}static max(){return new Ne(new rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class vt extends Hf{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const wZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends Hf{construct(e,n,r){return new wn(e,n,r)}static isValidIdentifier(e){return wZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new te(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new te(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(n)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(vt.fromString(e))}static fromName(e){return new de(vt.fromString(e).popFirst(5))}static empty(){return new de(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function _E(t){return t.fields.find(e=>e.kind===2)}function za(t){return t.fields.filter(e=>e.kind!==2)}Og.UNKNOWN_ID=-1;class bm{constructor(e,n){this.fieldPath=e,this.kind=n}}class Gf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Gf(0,oi.min())}}function QM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ne.fromTimestamp(r===1e9?new rn(n+1,0):new rn(n,r));return new oi(i,de.empty(),e)}function YM(t){return new oi(t.readTime,t.key,-1)}class oi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new oi(Ne.min(),de.empty(),-1)}static max(){return new oi(Ne.max(),de.empty(),-1)}}function JT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==XM)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const h=c;n(e[h]).next(f=>{o[h]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.m=new Wn,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{n.error?this.m.reject(new sf(e,n.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=ZT(r.target.error);this.m.reject(new sf(e,i))}}static open(e,n,r,i){try{return new By(n,e.transaction(i,r))}catch(s){throw new sf(n,s)}}get g(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}p(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new TZ(n)}}class qi{constructor(e,n,r){this.name=e,this.version=n,this.S=r,qi.D(nE())===12.2&&An("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return re("SimpleDb","Removing database:",e),qa(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!DL())return!1;if(qi.v())return!0;const e=nE(),n=qi.D(e),r=0<n&&n<10,i=qi.F(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.M)==="YES"}static O(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static F(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async N(e){return this.db||(re("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new sf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new te(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new te(q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new sf(e,o))},i.onupgradeneeded=s=>{re("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.S.B(o,i.transaction,s.oldVersion,this.version).next(()=>{re("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.N(e);const l=By.open(this.db,e,s?"readonly":"readwrite",r),c=i(l).next(h=>(l.p(),h)).catch(h=>(l.abort(h),B.reject(h))).toPromise();return c.catch(()=>{}),await l.g,c}catch(l){const c=l,h=c.name!=="FirebaseError"&&o<3;if(re("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),this.close(),!h)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class EZ{constructor(e){this.q=e,this.K=!1,this.$=null}get isDone(){return this.K}get U(){return this.$}set cursor(e){this.q=e}done(){this.K=!0}W(e){this.$=e}delete(){return qa(this.q.delete())}}class sf extends te{constructor(e,n){super(q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ia(t){return t.name==="IndexedDbTransactionError"}class TZ{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(re("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(re("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),qa(r)}add(e){return re("SimpleDb","ADD",this.store.name,e,e),qa(this.store.add(e))}get(e){return qa(this.store.get(e)).next(n=>(n===void 0&&(n=null),re("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return re("SimpleDb","DELETE",this.store.name,e),qa(this.store.delete(e))}count(){return re("SimpleDb","COUNT",this.store.name),qa(this.store.count())}G(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.j(i,(o,l)=>{s.push(l)}).next(()=>s)}{const i=this.store.getAll(r.range);return new B((s,o)=>{i.onerror=l=>{o(l.target.error)},i.onsuccess=l=>{s(l.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new B((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}J(e,n){re("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.j(i,(s,o,l)=>l.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.j(i,n)}X(e){const n=this.cursor({});return new B((r,i)=>{n.onerror=s=>{const o=ZT(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():r()}):r()}})}j(e,n){const r=[];return new B((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void i();const c=new EZ(l),h=n(l.primaryKey,l.value,c);if(h instanceof B){const f=h.catch(p=>(c.done(),B.reject(p)));r.push(f)}c.isDone?i():c.U===null?l.continue():l.continue(c.U)}}).next(()=>B.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function qa(t){return new B((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=ZT(r.target.error);n(i)}})}let CC=!1;function ZT(t){const e=qi.D(nE());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return CC||(CC=!0,setTimeout(()=>{throw r},0)),r}}return t}class IZ{constructor(e,n){this.asyncQueue=e,this.ee=n,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){re("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{re("IndexBackiller",`Documents written: ${await this.ee.ne()}`)}catch(n){Ia(n)?re("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Ta(n)}await this.te(6e4)})}}class SZ{constructor(e,n){this.localStore=e,this.persistence=n}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.re(n,e))}re(e,n){const r=new Set;let i=n,s=!0;return B.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return re("IndexBackiller",`Processing collection: ${o}`),this.ie(e,o,i).next(l=>{i-=l,r.add(o)});s=!1})).next(()=>n-i)}ie(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.se(i,s)).next(l=>(re("IndexBackiller",`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l))).next(()=>o.size)}))}se(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=YM(s);JT(o,r)>0&&(r=o)}),new oi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Vr.ae=-1;function Pd(t){return t==null}function Qf(t){return t===0&&1/t==-1/0}function ZM(t){return typeof t=="number"&&Number.isInteger(t)&&!Qf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=PC(e)),e=xZ(t.get(n),e);return PC(e)}function xZ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function PC(t){return t+""}function hs(t){const e=t.length;if(Le(e>=2),e===2)return Le(t.charAt(0)===""&&t.charAt(1)===""),vt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&Se(),t.charAt(o+1)){case"":const l=t.substring(s,o);let c;i.length===0?c=l:(i+=l,c=i,i=""),r.push(c);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Se()}s=o+2}return new vt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t,e){return[t,Rr(e)]}function eF(t,e,n){return[t,Rr(e),n]}const RZ={},bZ=["prefixPath","collectionGroup","readTime","documentId"],AZ=["prefixPath","collectionGroup","documentId"],CZ=["collectionGroup","readTime","prefixPath","documentId"],PZ=["canonicalId","targetId"],OZ=["targetId","path"],DZ=["path","targetId"],kZ=["collectionId","parent"],NZ=["indexId","uid"],LZ=["uid","sequenceNumber"],MZ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],FZ=["indexId","uid","orderedDocumentKey"],VZ=["userId","collectionPath","documentId"],$Z=["userId","collectionPath","largestBatchId"],jZ=["userId","collectionGroup","largestBatchId"],tF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],BZ=[...tF,"documentOverlays"],nF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rF=nF,UZ=[...rF,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE extends JM{constructor(e,n){super(),this.ue=e,this.currentSequenceNumber=n}}function Gn(t,e){const n=ye(t);return qi.O(n.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){this.comparator=e,this.root=n||Zn.EMPTY}insert(e,n){return new Ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nm(this.root,e,this.comparator,!1)}getReverseIterator(){return new nm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nm(this.root,e,this.comparator,!0)}}class nm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Zn.RED,this.left=i??Zn.EMPTY,this.right=s??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Zn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kC(this.data.getIterator())}getIteratorFrom(e){return new kC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class kC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function lu(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new $r([])}unionWith(e){let n=new Bt(wn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $r(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zZ(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sF("Invalid base64 string: "+s):s}}(e);return new $n(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new $n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$n.EMPTY_BYTE_STRING=new $n("");const qZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(t){if(Le(!!t),typeof t=="string"){let e=0;const n=qZ.exec(t);if(Le(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vn(t.seconds),nanos:vn(t.nanos)}}function vn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function aa(t){return typeof t=="string"?$n.fromBase64String(t):$n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function eI(t){const e=t.mapValue.fields.__previous_value__;return Uy(e)?eI(e):e}function Yf(t){const e=oa(t.mapValue.fields.__local_write_time__.timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WZ{constructor(e,n,r,i,s,o,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h}}class la{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new la("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof la&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Cm={nullValue:"NULL_VALUE"};function El(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uy(t)?4:oF(t)?9007199254740991:10:Se()}function Es(t,e){if(t===e)return!0;const n=El(t);if(n!==El(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yf(t).isEqual(Yf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=oa(i.timestampValue),l=oa(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return aa(i.bytesValue).isEqual(aa(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return vn(i.geoPointValue.latitude)===vn(s.geoPointValue.latitude)&&vn(i.geoPointValue.longitude)===vn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return vn(i.integerValue)===vn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=vn(i.doubleValue),l=vn(s.doubleValue);return o===l?Qf(o)===Qf(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return uc(t.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(DC(o)!==DC(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Es(o[c],l[c])))return!1;return!0}(t,e);default:return Se()}}function Xf(t,e){return(t.values||[]).find(n=>Es(n,e))!==void 0}function ua(t,e){if(t===e)return 0;const n=El(t),r=El(e);if(n!==r)return Ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=vn(s.integerValue||s.doubleValue),c=vn(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return NC(t.timestampValue,e.timestampValue);case 4:return NC(Yf(t),Yf(e));case 5:return Ze(t.stringValue,e.stringValue);case 6:return function(s,o){const l=aa(s),c=aa(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let h=0;h<l.length&&h<c.length;h++){const f=Ze(l[h],c[h]);if(f!==0)return f}return Ze(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Ze(vn(s.latitude),vn(o.latitude));return l!==0?l:Ze(vn(s.longitude),vn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],c=o.values||[];for(let h=0;h<l.length&&h<c.length;++h){const f=ua(l[h],c[h]);if(f)return f}return Ze(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Uo.mapValue&&o===Uo.mapValue)return 0;if(s===Uo.mapValue)return 1;if(o===Uo.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),h=o.fields||{},f=Object.keys(h);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const m=Ze(c[p],f[p]);if(m!==0)return m;const y=ua(l[c[p]],h[f[p]]);if(y!==0)return y}return Ze(c.length,f.length)}(t.mapValue,e.mapValue);default:throw Se()}}function NC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=oa(t),r=oa(e),i=Ze(n.seconds,r.seconds);return i!==0?i:Ze(n.nanos,r.nanos)}function cc(t){return EE(t)}function EE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=oa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return aa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=EE(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${EE(n.fields[o])}`;return i+"}"}(t.mapValue):Se()}function Tl(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function TE(t){return!!t&&"integerValue"in t}function Jf(t){return!!t&&"arrayValue"in t}function LC(t){return!!t&&"nullValue"in t}function MC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pm(t){return!!t&&"mapValue"in t}function of(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=of(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=of(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function KZ(t){return"nullValue"in t?Cm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Tl(la.empty(),de.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Se()}function HZ(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Tl(la.empty(),de.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Uo:Se()}function FC(t,e){const n=ua(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function VC(t,e){const n=ua(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=of(n)}setAll(e){let n=wn.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=of(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Pm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Pm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tr(of(this.value))}}function aF(t){const e=[];return Fl(t.fields,(n,r)=>{const i=new wn([n]);if(Pm(r)){const s=aF(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new $r(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Gt(e,0,Ne.min(),Ne.min(),Ne.min(),tr.empty(),0)}static newFoundDocument(e,n,r,i){return new Gt(e,1,n,Ne.min(),r,i,0)}static newNoDocument(e,n){return new Gt(e,2,n,Ne.min(),Ne.min(),tr.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,Ne.min(),Ne.min(),tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.position=e,this.inclusive=n}}function $C(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=ua(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function jC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Es(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function GZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{}class ft extends lF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new QZ(e,n,r):n==="array-contains"?new JZ(e,r):n==="in"?new pF(e,r):n==="not-in"?new ZZ(e,r):n==="array-contains-any"?new eee(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new YZ(e,r):new XZ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ua(n,this.value)):n!==null&&El(this.value)===El(n)&&this.matchesComparison(ua(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Pt extends lF{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Pt(e,n)}matches(e){return hc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function hc(t){return t.op==="and"}function IE(t){return t.op==="or"}function tI(t){return uF(t)&&hc(t)}function uF(t){for(const e of t.filters)if(e instanceof Pt)return!1;return!0}function SE(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+cc(t.value);if(tI(t))return t.filters.map(e=>SE(e)).join(",");{const e=t.filters.map(n=>SE(n)).join(",");return`${t.op}(${e})`}}function cF(t,e){return t instanceof ft?function(r,i){return i instanceof ft&&r.op===i.op&&r.field.isEqual(i.field)&&Es(r.value,i.value)}(t,e):t instanceof Pt?function(r,i){return i instanceof Pt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&cF(o,i.filters[l]),!0):!1}(t,e):void Se()}function hF(t,e){const n=t.filters.concat(e);return Pt.create(n,t.op)}function fF(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${cc(n.value)}`}(t):t instanceof Pt?function(n){return n.op.toString()+" {"+n.getFilters().map(fF).join(" ,")+"}"}(t):"Filter"}class QZ extends ft{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class YZ extends ft{constructor(e,n){super(e,"in",n),this.keys=dF("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class XZ extends ft{constructor(e,n){super(e,"not-in",n),this.keys=dF("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dF(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class JZ extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jf(n)&&Xf(n.arrayValue,this.value)}}class pF extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xf(this.value.arrayValue,n)}}class ZZ extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xf(this.value.arrayValue,n)}}class eee extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tee{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.he=null}}function xE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new tee(t,e,n,r,i,s,o)}function Il(t){const e=ye(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>SE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>cc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>cc(r)).join(",")),e.he=n}return e.he}function Od(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GZ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jC(t.startAt,e.startAt)&&jC(t.endAt,e.endAt)}function Dg(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function kg(t,e){return t.filters.filter(n=>n instanceof ft&&n.field.isEqual(e))}function BC(t,e,n){let r=Cm,i=!0;for(const s of kg(t,e)){let o=Cm,l=!0;switch(s.op){case"<":case"<=":o=KZ(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,l=!1;break;case"!=":case"not-in":o=Cm}FC({value:r,inclusive:i},{value:o,inclusive:l})<0&&(r=o,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];FC({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function UC(t,e,n){let r=Uo,i=!0;for(const s of kg(t,e)){let o=Uo,l=!0;switch(s.op){case">=":case">":o=HZ(s.value),l=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,l=!1;break;case"!=":case"not-in":o=Uo}VC({value:r,inclusive:i},{value:o,inclusive:l})>0&&(r=o,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];VC({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function mF(t,e,n,r,i,s,o,l){return new ho(t,e,n,r,i,s,o,l)}function Nc(t){return new ho(t)}function zC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function zy(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function rI(t){return t.collectionGroup!==null}function Ku(t){const e=ye(t);if(e.Pe===null){e.Pe=[];const n=zy(e),r=nI(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Wu(n)),e.Pe.push(new Wu(wn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Wu(wn.keyField(),s))}}}return e.Pe}function br(t){const e=ye(t);return e.Ie||(e.Ie=nee(e,Ku(t))),e.Ie}function nee(t,e){if(t.limitType==="F")return xE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wu(i.field,s)});const n=t.endAt?new ca(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ca(t.startAt.position,t.startAt.inclusive):null;return xE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function RE(t,e){e.getFirstInequalityField(),zy(t);const n=t.filters.concat([e]);return new ho(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ng(t,e,n){return new ho(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dd(t,e){return Od(br(t),br(e))&&t.limitType===e.limitType}function gF(t){return`${Il(br(t))}|lt:${t.limitType}`}function gu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>fF(i)).join(", ")}]`),Pd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>cc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>cc(i)).join(",")),`Target(${r})`}(br(t))}; limitType=${t.limitType})`}function kd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):de.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ku(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const h=$C(o,l,c);return o.inclusive?h<=0:h<0}(r.startAt,Ku(r),i)||r.endAt&&!function(o,l,c){const h=$C(o,l,c);return o.inclusive?h>=0:h>0}(r.endAt,Ku(r),i))}(t,e)}function yF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vF(t){return(e,n)=>{let r=!1;for(const i of Ku(t)){const s=ree(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ree(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),h=l.data.field(s);return c!==null&&h!==null?ua(c,h):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return iF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iee=new Ut(de.comparator);function jr(){return iee}const _F=new Ut(de.comparator);function jh(...t){let e=_F;for(const n of t)e=e.insert(n.key,n);return e}function wF(t){let e=_F;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fs(){return af()}function EF(){return af()}function af(){return new Sa(t=>t.toString(),(t,e)=>t.isEqual(e))}const see=new Ut(de.comparator),oee=new Bt(de.comparator);function nt(...t){let e=oee;for(const n of t)e=e.add(n);return e}const aee=new Bt(Ze);function iI(){return aee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(e)?"-0":e}}function IF(t){return{integerValue:""+t}}function SF(t,e){return ZM(e)?IF(e):TF(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(){this._=void 0}}function lee(t,e,n){return t instanceof fc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Uy(s)&&(s=eI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Sl?RF(t,e):t instanceof xl?bF(t,e):function(i,s){const o=xF(i,s),l=qC(o)+qC(i.Te);return TE(o)&&TE(i.Te)?IF(l):TF(i.serializer,l)}(t,e)}function uee(t,e,n){return t instanceof Sl?RF(t,e):t instanceof xl?bF(t,e):n}function xF(t,e){return t instanceof dc?function(r){return TE(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class fc extends qy{}class Sl extends qy{constructor(e){super(),this.elements=e}}function RF(t,e){const n=AF(e);for(const r of t.elements)n.some(i=>Es(i,r))||n.push(r);return{arrayValue:{values:n}}}class xl extends qy{constructor(e){super(),this.elements=e}}function bF(t,e){let n=AF(e);for(const r of t.elements)n=n.filter(i=>!Es(i,r));return{arrayValue:{values:n}}}class dc extends qy{constructor(e,n){super(),this.serializer=e,this.Te=n}}function qC(t){return vn(t.integerValue||t.doubleValue)}function AF(t){return Jf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n){this.field=e,this.transform=n}}function cee(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Sl&&i instanceof Sl||r instanceof xl&&i instanceof xl?uc(r.elements,i.elements,Es):r instanceof dc&&i instanceof dc?Es(r.Te,i.Te):r instanceof fc&&i instanceof fc}(t.transform,e.transform)}class hee{constructor(e,n){this.version=e,this.transformResults=n}}class nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nn}static exists(e){return new nn(void 0,e)}static updateTime(e){return new nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Om(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wy{}function CF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mc(t.key,nn.none()):new Lc(t.key,t.data,nn.none());{const n=t.data,r=tr.empty();let i=new Bt(wn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fo(t.key,r,new $r(i.toArray()),nn.none())}}function fee(t,e,n){t instanceof Lc?function(i,s,o){const l=i.value.clone(),c=KC(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof fo?function(i,s,o){if(!Om(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=KC(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(PF(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function lf(t,e,n,r){return t instanceof Lc?function(s,o,l,c){if(!Om(s.precondition,o))return l;const h=s.value.clone(),f=HC(s.fieldTransforms,c,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof fo?function(s,o,l,c){if(!Om(s.precondition,o))return l;const h=HC(s.fieldTransforms,c,o),f=o.data;return f.setAll(PF(s)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,l){return Om(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function dee(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=xF(r.transform,i||null);s!=null&&(n===null&&(n=tr.empty()),n.set(r.field,s))}return n||null}function WC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&uc(r,i,(s,o)=>cee(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lc extends Wy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fo extends Wy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function PF(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function KC(t,e,n){const r=new Map;Le(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,uee(o,l,n[i]))}return r}function HC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,lee(s,o,e))}return r}class Mc extends Wy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sI extends Wy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&fee(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=lf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=lf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=EF();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=CF(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nt())}isEqual(e){return this.batchId===e.batchId&&uc(this.mutations,e.mutations,(n,r)=>WC(n,r))&&uc(this.baseMutations,e.baseMutations,(n,r)=>WC(n,r))}}class aI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Le(e.mutations.length===r.length);let i=function(){return see}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new aI(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pee{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn,gt;function OF(t){switch(t){default:return Se();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function DF(t){if(t===void 0)return An("GRPC error has no .code"),q.UNKNOWN;switch(t){case Pn.OK:return q.OK;case Pn.CANCELLED:return q.CANCELLED;case Pn.UNKNOWN:return q.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return q.INTERNAL;case Pn.UNAVAILABLE:return q.UNAVAILABLE;case Pn.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Pn.NOT_FOUND:return q.NOT_FOUND;case Pn.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Pn.ABORTED:return q.ABORTED;case Pn.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Pn.DATA_LOSS:return q.DATA_LOSS;default:return Se()}}(gt=Pn||(Pn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mee=new qu([4294967295,4294967295],0);function GC(t){const e=kF().encode(t),n=new uZ;return n.update(e),new Uint8Array(n.digest())}function QC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qu([n,r],0),new qu([i,s],0)]}class uI{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bh(`Invalid padding: ${n}`);if(r<0)throw new Bh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bh(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=qu.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(qu.fromNumber(r)));return i.compare(mee)===1&&(i=new qu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=GC(e),[r,i]=QC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new uI(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ae===0)return;const n=GC(e),[r,i]=QC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Md.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ld(Ne.min(),i,new Ut(Ze),jr(),nt())}}class Md{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Md(r,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class NF{constructor(e,n){this.targetId=e,this.ye=n}}class LF{constructor(e,n,r=$n.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YC{constructor(){this.we=0,this.Se=JC(),this.be=$n.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=nt(),n=nt(),r=nt();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Se()}}),new Md(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=JC()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class gee{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=jr(),this.Ue=XC(),this.We=new Ut(Ze)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const s=i.target;if(Dg(s))if(r===0){const o=new de(s.path);this.je(n,o,Gt.newNoDocument(o,Ne.min()))}else Le(r===1);else{const o=this.tt(n);if(o!==r){const l=this.nt(e),c=l?this.rt(l,e,o):1;if(c!==0){this.Ze(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,h)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=aa(r).toUint8Array()}catch(c){if(c instanceof sF)return Yi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new uI(o,i,s)}catch(c){return Yi(c instanceof Bh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ae===0?null:l}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.je(n,s,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((s,o)=>{const l=this.et(o);if(l){if(s.current&&Dg(l.target)){const c=new de(l.target.path);this.$e.get(c)!==null||this.ut(o,c)||this.je(o,c,Gt.newNoDocument(c,e))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=nt();this.Ue.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const h=this.et(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new Ld(e,n,this.We,this.$e,r);return this.$e=jr(),this.Ue=XC(),this.We=new Ut(Ze),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new YC,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Bt(Ze),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new YC),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function XC(){return new Ut(de.comparator)}function JC(){return new Ut(de.comparator)}const yee=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),vee=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),_ee=(()=>({and:"AND",or:"OR"}))();class wee{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bE(t,e){return t.useProto3Json||Pd(e)?e:{value:e}}function pc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Eee(t,e){return pc(t,e.toTimestamp())}function Cn(t){return Le(!!t),Ne.fromTimestamp(function(n){const r=oa(n);return new rn(r.seconds,r.nanos)}(t))}function cI(t,e){return function(r){return new vt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function FF(t){const e=vt.fromString(t);return Le(KF(e)),e}function Zf(t,e){return cI(t.databaseId,e.path)}function _s(t,e){const n=FF(e);if(n.get(1)!==t.databaseId.projectId)throw new te(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de($F(n))}function AE(t,e){return cI(t.databaseId,e)}function VF(t){const e=FF(t);return e.length===4?vt.emptyPath():$F(e)}function ed(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $F(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ZC(t,e,n){return{name:Zf(t,e),fields:n.value.mapValue.fields}}function jF(t,e,n){const r=_s(t,e.name),i=Cn(e.updateTime),s=e.createTime?Cn(e.createTime):Ne.min(),o=new tr({mapValue:{fields:e.fields}}),l=Gt.newFoundDocument(r,i,s,o);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function Tee(t,e){return"found"in e?function(r,i){Le(!!i.found),i.found.name,i.found.updateTime;const s=_s(r,i.found.name),o=Cn(i.found.updateTime),l=i.found.createTime?Cn(i.found.createTime):Ne.min(),c=new tr({mapValue:{fields:i.found.fields}});return Gt.newFoundDocument(s,o,l,c)}(t,e):"missing"in e?function(r,i){Le(!!i.missing),Le(!!i.readTime);const s=_s(r,i.missing),o=Cn(i.readTime);return Gt.newNoDocument(s,o)}(t,e):Se()}function Iee(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(Le(f===void 0||typeof f=="string"),$n.fromBase64String(f||"")):(Le(f===void 0||f instanceof Uint8Array),$n.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const f=h.code===void 0?q.UNKNOWN:DF(h.code);return new te(f,h.message||"")}(o);n=new LF(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_s(t,r.document.name),s=Cn(r.document.updateTime),o=r.document.createTime?Cn(r.document.createTime):Ne.min(),l=new tr({mapValue:{fields:r.document.fields}}),c=Gt.newFoundDocument(i,s,o,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new Dm(h,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_s(t,r.document),s=r.readTime?Cn(r.readTime):Ne.min(),o=Gt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Dm([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_s(t,r.document),s=r.removedTargetIds||[];n=new Dm([],s,i,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new pee(i,s),l=r.targetId;n=new NF(l,o)}}return n}function td(t,e){let n;if(e instanceof Lc)n={update:ZC(t,e.key,e.value)};else if(e instanceof Mc)n={delete:Zf(t,e.key)};else if(e instanceof fo)n={update:ZC(t,e.key,e.data),updateMask:Cee(e.fieldMask)};else{if(!(e instanceof sI))return Se();n={verify:Zf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof fc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Sl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof xl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof dc)return{fieldPath:o.field.canonicalString(),increment:l.Te};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Eee(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Se()}(t,e.precondition)),n}function CE(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?nn.updateTime(Cn(s.updateTime)):s.exists!==void 0?nn.exists(s.exists):nn.none()}(e.currentDocument):nn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,l){let c=null;if("setToServerValue"in l)Le(l.setToServerValue==="REQUEST_TIME"),c=new fc;else if("appendMissingElements"in l){const f=l.appendMissingElements.values||[];c=new Sl(f)}else if("removeAllFromArray"in l){const f=l.removeAllFromArray.values||[];c=new xl(f)}else"increment"in l?c=new dc(o,l.increment):Se();const h=wn.fromServerFormat(l.fieldPath);return new Nd(h,c)}(t,i)):[];if(e.update){e.update.name;const i=_s(t,e.update.name),s=new tr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(c){const h=c.fieldPaths||[];return new $r(h.map(f=>wn.fromServerFormat(f)))}(e.updateMask);return new fo(i,s,o,n,r)}return new Lc(i,s,n,r)}if(e.delete){const i=_s(t,e.delete);return new Mc(i,n)}if(e.verify){const i=_s(t,e.verify);return new sI(i,n)}return Se()}function See(t,e){return t&&t.length>0?(Le(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Cn(i.updateTime):Cn(s);return o.isEqual(Ne.min())&&(o=Cn(s)),new hee(o,i.transformResults||[])}(n,e))):[]}function BF(t,e){return{documents:[AE(t,e.path)]}}function UF(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=AE(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=AE(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(c.length!==0)return WF(Pt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:yu(p.field),direction:Ree(p.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=bE(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function zF(t){let e=VF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Le(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const m=qF(p);return m instanceof Pt&&tI(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(v){return new Wu(vu(v.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Pd(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){const m=!!p.before,y=p.values||[];return new ca(y,m)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const m=!p.before,y=p.values||[];return new ca(y,m)}(n.endAt)),mF(e,i,o,s,l,"F",c,h)}function xee(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qF(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vu(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=vu(n.unaryFilter.field);return ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=vu(n.unaryFilter.field);return ft.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vu(n.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return ft.create(vu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pt.create(n.compositeFilter.filters.map(r=>qF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function Ree(t){return yee[t]}function bee(t){return vee[t]}function Aee(t){return _ee[t]}function yu(t){return{fieldPath:t.canonicalString()}}function vu(t){return wn.fromServerFormat(t.fieldPath)}function WF(t){return t instanceof ft?function(n){if(n.op==="=="){if(MC(n.value))return{unaryFilter:{field:yu(n.field),op:"IS_NAN"}};if(LC(n.value))return{unaryFilter:{field:yu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(MC(n.value))return{unaryFilter:{field:yu(n.field),op:"IS_NOT_NAN"}};if(LC(n.value))return{unaryFilter:{field:yu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yu(n.field),op:bee(n.op),value:n.value}}}(t):t instanceof Pt?function(n){const r=n.getFilters().map(i=>WF(i));return r.length===1?r[0]:{compositeFilter:{op:Aee(n.op),filters:r}}}(t):Se()}function Cee(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r,i,s=Ne.min(),o=Ne.min(),l=$n.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.ht=e}}function Pee(t,e){let n;if(e.document)n=jF(t.ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=de.fromSegments(e.noDocument.path),i=bl(e.noDocument.readTime);n=Gt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Se();{const r=de.fromSegments(e.unknownDocument.path),i=bl(e.unknownDocument.version);n=Gt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new rn(i[0],i[1]);return Ne.fromTimestamp(s)}(e.readTime)),n}function eP(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Lg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Zf(s,o.key),fields:o.data.value.mapValue.fields,updateTime:pc(s,o.version.toTimestamp()),createTime:pc(s,o.createTime.toTimestamp())}}(t.ht,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Rl(e.version)};else{if(!e.isUnknownDocument())return Se();r.unknownDocument={path:n.path.toArray(),version:Rl(e.version)}}return r}function Lg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Rl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bl(t){const e=new rn(t.seconds,t.nanoseconds);return Ne.fromTimestamp(e)}function Wa(t,e){const n=(e.baseMutations||[]).map(s=>CE(t.ht,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const l=e.mutations[s+1];o.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>CE(t.ht,s)),i=rn.fromMillis(e.localWriteTimeMs);return new oI(e.batchId,i,n,r)}function Uh(t){const e=bl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?bl(t.lastLimboFreeSnapshotVersion):Ne.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return Le(s.documents.length===1),br(Nc(VF(s.documents[0])))}(t.query):function(s){return br(zF(s))}(t.query),new qs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,$n.fromBase64String(t.resumeToken))}function GF(t,e){const n=Rl(e.snapshotVersion),r=Rl(e.lastLimboFreeSnapshotVersion);let i;i=Dg(e.target)?BF(t.ht,e.target):UF(t.ht,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Il(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function hI(t){const e=zF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ng(e,e.limit,"L"):e}function b0(t,e){return new lI(e.largestBatchId,CE(t.ht,e.overlayMutation))}function tP(t,e){const n=e.path.lastSegment();return[t,Rr(e.path.popLast()),n]}function nP(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Rl(r.readTime),documentKey:Rr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oee{getBundleMetadata(e,n){return rP(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:bl(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return rP(e).put(function(i){return{bundleId:i.id,createTime:Rl(Cn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return iP(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:hI(s.bundledQuery),readTime:bl(s.readTime)}}(r)})}saveNamedQuery(e,n){return iP(e).put(function(i){return{name:i.name,readTime:Rl(Cn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function rP(t){return Gn(t,"bundles")}function iP(t){return Gn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n){this.serializer=e,this.userId=n}static Pt(e,n){const r=n.uid||"";return new Ky(e,r)}getOverlay(e,n){return xh(e).get(tP(this.userId,n)).next(r=>r?b0(this.serializer,r):null)}getOverlays(e,n){const r=fs();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const l=new lI(n,o);i.push(this.It(e,l))}),B.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Rr(o.getCollectionPath())));const s=[];return i.forEach(o=>{const l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(xh(e).J("collectionPathOverlayIndex",l))}),B.waitFor(s)}getOverlaysForCollection(e,n,r){const i=fs(),s=Rr(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return xh(e).G("collectionPathOverlayIndex",o).next(l=>{for(const c of l){const h=b0(this.serializer,c);i.set(h.getKey(),h)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=fs();let o;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return xh(e).Z({index:"collectionGroupOverlayIndex",range:l},(c,h,f)=>{const p=b0(this.serializer,h);s.size()<i||p.largestBatchId===o?(s.set(p.getKey(),p),o=p.largestBatchId):f.done()}).next(()=>s)}It(e,n){return xh(e).put(function(i,s,o){const[l,c,h]=tP(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:h,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:td(i.ht,o.mutation)}}(this.serializer,this.userId,n))}}function xh(t){return Gn(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){}dt(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.At(n,5);else if("booleanValue"in e)this.At(n,10),n.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(n,15),n.Rt(vn(e.integerValue));else if("doubleValue"in e){const r=vn(e.doubleValue);isNaN(r)?this.At(n,13):(this.At(n,15),Qf(r)?n.Rt(0):n.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(n,20),typeof r=="string"?n.Vt(r):(n.Vt(`${r.seconds||""}`),n.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,n),this.gt(n);else if("bytesValue"in e)this.At(n,30),n.yt(aa(e.bytesValue)),this.gt(n);else if("referenceValue"in e)this.wt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(n,45),n.Rt(r.latitude||0),n.Rt(r.longitude||0)}else"mapValue"in e?oF(e)?this.At(n,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,n),this.gt(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.gt(n)):Se()}ft(e,n){this.At(n,25),this.Dt(e,n)}Dt(e,n){n.Vt(e)}St(e,n){const r=e.fields||{};this.At(n,55);for(const i of Object.keys(r))this.ft(i,n),this.Tt(r[i],n)}bt(e,n){const r=e.values||[];this.At(n,50);for(const i of r)this.Tt(i,n)}wt(e,n){this.At(n,37),de.fromName(e).path.forEach(r=>{this.At(n,60),this.Dt(r,n)})}At(e,n){e.Rt(n)}gt(e){e.Rt(2)}}Ka.Ct=new Ka;function Dee(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function sP(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=Dee(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class kee{constructor(){this.buffer=new Uint8Array(1024),this.position=0}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=sP(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=sP(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Nee{constructor(e){this.jt=e}yt(e){this.jt.vt(e)}Vt(e){this.jt.Bt(e)}Rt(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Lee{constructor(e){this.jt=e}yt(e){this.jt.xt(e)}Vt(e){this.jt.Lt(e)}Rt(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Rh{constructor(){this.jt=new kee,this.Ht=new Nee(this.jt),this.Jt=new Lee(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ha(this.indexId,this.documentKey,this.arrayValue,r)}}function bo(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=oP(t.arrayValue,e.arrayValue),n!==0?n:(n=oP(t.directionalValue,e.directionalValue),n!==0?n:de.comparator(t.documentKey,e.documentKey)))}function oP(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Xt=e.orderBy,this.en=[];for(const n of e.filters){const r=n;r.isInequality()?this.tn=r:this.en.push(r)}}nn(e){Le(e.collectionGroup===this.collectionId);const n=_E(e);if(n!==void 0&&!this.rn(n))return!1;const r=za(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.rn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.tn!==void 0){if(!i.has(this.tn.field.canonicalString())){const l=r[s];if(!this.sn(this.tn,l)||!this.on(this.Xt[o++],l))return!1}++s}for(;s<r.length;++s){const l=r[s];if(o>=this.Xt.length||!this.on(this.Xt[o++],l))return!1}return!0}_n(){let e=new Bt(wn.comparator);const n=[];for(const r of this.en)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new bm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new bm(r.field,0))}for(const r of this.Xt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new bm(r.field,r.dir==="asc"?0:1)));return new Og(Og.UNKNOWN_ID,this.collectionId,n,Gf.empty())}rn(e){for(const n of this.en)if(this.sn(n,e))return!0;return!1}sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}on(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(t){var e,n;if(Le(t instanceof ft||t instanceof Pt),t instanceof ft){if(t instanceof pF){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>ft.create(t.field,"==",s)))||[];return Pt.create(i,"or")}return t}const r=t.filters.map(i=>QF(i));return Pt.create(r,t.op)}function Mee(t){if(t.getFilters().length===0)return[];const e=DE(QF(t));return Le(YF(e)),PE(e)||OE(e)?[e]:e.getFilters()}function PE(t){return t instanceof ft}function OE(t){return t instanceof Pt&&tI(t)}function YF(t){return PE(t)||OE(t)||function(n){if(n instanceof Pt&&IE(n)){for(const r of n.getFilters())if(!PE(r)&&!OE(r))return!1;return!0}return!1}(t)}function DE(t){if(Le(t instanceof ft||t instanceof Pt),t instanceof ft)return t;if(t.filters.length===1)return DE(t.filters[0]);const e=t.filters.map(r=>DE(r));let n=Pt.create(e,t.op);return n=Mg(n),YF(n)?n:(Le(n instanceof Pt),Le(hc(n)),Le(n.filters.length>1),n.filters.reduce((r,i)=>fI(r,i)))}function fI(t,e){let n;return Le(t instanceof ft||t instanceof Pt),Le(e instanceof ft||e instanceof Pt),n=t instanceof ft?e instanceof ft?function(i,s){return Pt.create([i,s],"and")}(t,e):lP(t,e):e instanceof ft?lP(e,t):function(i,s){if(Le(i.filters.length>0&&s.filters.length>0),hc(i)&&hc(s))return hF(i,s.getFilters());const o=IE(i)?i:s,l=IE(i)?s:i,c=o.filters.map(h=>fI(h,l));return Pt.create(c,"or")}(t,e),Mg(n)}function lP(t,e){if(hc(e))return hF(e,t.getFilters());{const n=e.filters.map(r=>fI(t,r));return Pt.create(n,"or")}}function Mg(t){if(Le(t instanceof ft||t instanceof Pt),t instanceof ft)return t;const e=t.getFilters();if(e.length===1)return Mg(e[0]);if(uF(t))return t;const n=e.map(i=>Mg(i)),r=[];return n.forEach(i=>{i instanceof ft?r.push(i):i instanceof Pt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Pt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fee{constructor(){this.an=new dI}addToCollectionParentIndex(e,n){return this.an.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(oi.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(oi.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class dI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bt(vt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new Uint8Array(0);class Vee{constructor(e,n){this.user=e,this.databaseId=n,this.un=new dI,this.cn=new Sa(r=>Il(r),(r,i)=>Od(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.un.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.un.add(n)});const s={collectionId:r,parent:Rr(i)};return uP(e).put(s)}return B.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[GM(n),""],!1,!0);return uP(e).G(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(hs(o.parent))}return r})}addFieldIndex(e,n){const r=bh(e),i=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=cu(e);return s.next(l=>{o.put(nP(l,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=bh(e),i=cu(e),s=uu(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=bh(e),r=uu(e),i=cu(e);return n.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,n){return B.forEach(this.ln(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new aP(r);return this.addFieldIndex(e,s._n())}}))}getDocumentsMatchingTarget(e,n){const r=uu(e);let i=!0;const s=new Map;return B.forEach(this.ln(n),o=>this.hn(e,o).next(l=>{i&&(i=!!l),s.set(o,l)})).next(()=>{if(i){let o=nt();const l=[];return B.forEach(s,(c,h)=>{re("IndexedDbIndexManager",`Using index ${function(I){return`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(E=>`${E.fieldPath}:${E.kind}`).join(",")}`}(c)} to execute ${Il(n)}`);const f=function(I,E){const P=_E(E);if(P===void 0)return null;for(const O of kg(I,P.fieldPath))switch(O.op){case"array-contains-any":return O.value.arrayValue.values||[];case"array-contains":return[O.value]}return null}(h,c),p=function(I,E){const P=new Map;for(const O of za(E))for(const D of kg(I,O.fieldPath))switch(D.op){case"==":case"in":P.set(O.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return P.set(O.fieldPath.canonicalString(),D.value),Array.from(P.values())}return null}(h,c),m=function(I,E){const P=[];let O=!0;for(const D of za(E)){const N=D.kind===0?BC(I,D.fieldPath,I.startAt):UC(I,D.fieldPath,I.startAt);P.push(N.value),O&&(O=N.inclusive)}return new ca(P,O)}(h,c),y=function(I,E){const P=[];let O=!0;for(const D of za(E)){const N=D.kind===0?UC(I,D.fieldPath,I.endAt):BC(I,D.fieldPath,I.endAt);P.push(N.value),O&&(O=N.inclusive)}return new ca(P,O)}(h,c),v=this.Pn(c,h,m),w=this.Pn(c,h,y),R=this.In(c,h,p),T=this.dn(c.indexId,f,v,m.inclusive,w,y.inclusive,R);return B.forEach(T,S=>r.H(S,n.limit).next(I=>{I.forEach(E=>{const P=de.fromSegments(E.documentKey);o.has(P)||(o=o.add(P),l.push(P))})}))}).next(()=>l)}return B.resolve(null)})}ln(e){let n=this.cn.get(e);return n||(e.filters.length===0?n=[e]:n=Mee(Pt.create(e.filters,"and")).map(r=>xE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.cn.set(e,n),n)}dn(e,n,r,i,s,o,l){const c=(n!=null?n.length:1)*Math.max(r.length,s.length),h=c/(n!=null?n.length:1),f=[];for(let p=0;p<c;++p){const m=n?this.Tn(n[p/h]):rm,y=this.En(e,m,r[p%h],i),v=this.An(e,m,s[p%h],o),w=l.map(R=>this.En(e,m,R,!0));f.push(...this.createRange(y,v,w))}return f}En(e,n,r,i){const s=new Ha(e,de.empty(),n,r);return i?s:s.Zt()}An(e,n,r,i){const s=new Ha(e,de.empty(),n,r);return i?s.Zt():s}hn(e,n){const r=new aP(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const l of s)r.nn(l)&&(!o||l.fields.length>o.fields.length)&&(o=l);return o})}getIndexType(e,n){let r=2;const i=this.ln(n);return B.forEach(i,s=>this.hn(e,s).next(o=>{o?r!==0&&o.fields.length<function(c){let h=new Bt(wn.comparator),f=!1;for(const p of c.filters)for(const m of p.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?f=!0:h=h.add(m.field));for(const p of c.orderBy)p.field.isKeyField()||(h=h.add(p.field));return h.size+(f?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Rn(e,n){const r=new Rh;for(const i of za(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Yt(i.kind);Ka.Ct.dt(s,o)}return r.zt()}Tn(e){const n=new Rh;return Ka.Ct.dt(e,n.Yt(0)),n.zt()}Vn(e,n){const r=new Rh;return Ka.Ct.dt(Tl(this.databaseId,n),r.Yt(function(s){const o=za(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}In(e,n,r){if(r===null)return[];let i=[];i.push(new Rh);let s=0;for(const o of za(e)){const l=r[s++];for(const c of i)if(this.mn(n,o.fieldPath)&&Jf(l))i=this.fn(i,o,l);else{const h=c.Yt(o.kind);Ka.Ct.dt(l,h)}}return this.gn(i)}Pn(e,n,r){return this.In(e,n,r.position)}gn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}fn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const l of i){const c=new Rh;c.seed(l.zt()),Ka.Ct.dt(o,c.Yt(n.kind)),s.push(c)}return s}mn(e,n){return!!e.filters.find(r=>r instanceof ft&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=bh(e),i=cu(e);return(n?r.G("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.G()).next(s=>{const o=[];return B.forEach(s,l=>i.get([l.indexId,this.uid]).next(c=>{o.push(function(f,p){const m=p?new Gf(p.sequenceNumber,new oi(bl(p.readTime),new de(hs(p.documentKey)),p.largestBatchId)):Gf.empty(),y=f.fields.map(([v,w])=>new bm(wn.fromServerFormat(v),w));return new Og(f.indexId,f.collectionGroup,y,m)}(l,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ze(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=bh(e),s=cu(e);return this.pn(e).next(o=>i.G("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(l=>B.forEach(l,c=>s.put(nP(c.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return B.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?B.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(l=>(r.set(i.collectionGroup,l),B.forEach(l,c=>this.yn(e,i,c).next(h=>{const f=this.wn(s,c);return h.isEqual(f)?B.resolve():this.Sn(e,s,c,h,f)}))))})}bn(e,n,r,i){return uu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Vn(r,n.key),documentKey:n.key.path.toArray()})}Dn(e,n,r,i){return uu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Vn(r,n.key),n.key.path.toArray()])}yn(e,n,r){const i=uu(e);let s=new Bt(bo);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Vn(r,n)])},(o,l)=>{s=s.add(new Ha(r.indexId,n,l.arrayValue,l.directionalValue))}).next(()=>s)}wn(e,n){let r=new Bt(bo);const i=this.Rn(n,e);if(i==null)return r;const s=_E(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Jf(o))for(const l of o.arrayValue.values||[])r=r.add(new Ha(n.indexId,e.key,this.Tn(l),i))}else r=r.add(new Ha(n.indexId,e.key,rm,i));return r}Sn(e,n,r,i,s){re("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(c,h,f,p,m){const y=c.getIterator(),v=h.getIterator();let w=lu(y),R=lu(v);for(;w||R;){let T=!1,S=!1;if(w&&R){const I=f(w,R);I<0?S=!0:I>0&&(T=!0)}else w!=null?S=!0:T=!0;T?(p(R),R=lu(v)):S?(m(w),w=lu(y)):(w=lu(y),R=lu(v))}}(i,s,bo,l=>{o.push(this.bn(e,n,r,l))},l=>{o.push(this.Dn(e,n,r,l))}),B.waitFor(o)}pn(e){let n=1;return cu(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,l)=>bo(o,l)).filter((o,l,c)=>!l||bo(o,c[l-1])!==0);const i=[];i.push(e);for(const o of r){const l=bo(o,e),c=bo(o,n);if(l===0)i[0]=e.Zt();else if(l>0&&c<0)i.push(o),i.push(o.Zt());else if(c>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const l=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,rm,[]],c=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,rm,[]];s.push(IDBKeyRange.bound(l,c))}return s}Cn(e,n){return bo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(cP)}getMinOffset(e,n){return B.mapArray(this.ln(n),r=>this.hn(e,r).next(i=>i||Se())).next(cP)}}function uP(t){return Gn(t,"collectionParents")}function uu(t){return Gn(t,"indexEntries")}function bh(t){return Gn(t,"indexConfiguration")}function cu(t){return Gn(t,"indexState")}function cP(t){Le(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;JT(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new oi(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Lr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Lr(e,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let l=0;const c=r.Z({range:o},(f,p,m)=>(l++,m.delete()));s.push(c.next(()=>{Le(l===1)}));const h=[];for(const f of n.mutations){const p=eF(e,f.key.path,n.batchId);s.push(i.delete(p)),h.push(f.key)}return B.waitFor(s).next(()=>h)}function Fg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Se();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr.DEFAULT_COLLECTION_PERCENTILE=10,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lr.DEFAULT=new Lr(41943040,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lr.DISABLED=new Lr(-1,0,0);class Hy{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.vn={}}static Pt(e,n,r,i){Le(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Hy(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ao(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=_u(e),o=Ao(e);return o.add({}).next(l=>{Le(typeof l=="number");const c=new oI(l,n,r,i),h=function(y,v,w){const R=w.baseMutations.map(S=>td(y.ht,S)),T=w.mutations.map(S=>td(y.ht,S));return{userId:v,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:R,mutations:T}}(this.serializer,this.userId,c),f=[];let p=new Bt((m,y)=>Ze(m.canonicalString(),y.canonicalString()));for(const m of i){const y=eF(this.userId,m.key.path,l);p=p.add(m.key.path.popLast()),f.push(o.put(h)),f.push(s.put(y,RZ))}return p.forEach(m=>{f.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.vn[l]=c.keys()}),B.waitFor(f).next(()=>c)})}lookupMutationBatch(e,n){return Ao(e).get(n).next(r=>r?(Le(r.userId===this.userId),Wa(this.serializer,r)):null)}Fn(e,n){return this.vn[n]?B.resolve(this.vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.vn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Ao(e).Z({index:"userMutationsIndex",range:i},(o,l,c)=>{l.userId===this.userId&&(Le(l.batchId>=r),s=Wa(this.serializer,l)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ao(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ao(e).G("userMutationsIndex",n).next(r=>r.map(i=>Wa(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Am(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return _u(e).Z({range:i},(o,l,c)=>{const[h,f,p]=o,m=hs(f);if(h===this.userId&&n.path.isEqual(m))return Ao(e).get(p).next(y=>{if(!y)throw Se();Le(y.userId===this.userId),s.push(Wa(this.serializer,y))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(Ze);const i=[];return n.forEach(s=>{const o=Am(this.userId,s.path),l=IDBKeyRange.lowerBound(o),c=_u(e).Z({range:l},(h,f,p)=>{const[m,y,v]=h,w=hs(y);m===this.userId&&s.path.isEqual(w)?r=r.add(v):p.done()});i.push(c)}),B.waitFor(i).next(()=>this.Mn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Am(this.userId,r),o=IDBKeyRange.lowerBound(s);let l=new Bt(Ze);return _u(e).Z({range:o},(c,h,f)=>{const[p,m,y]=c,v=hs(m);p===this.userId&&r.isPrefixOf(v)?v.length===i&&(l=l.add(y)):f.done()}).next(()=>this.Mn(e,l))}Mn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Ao(e).get(s).next(o=>{if(o===null)throw Se();Le(o.userId===this.userId),r.push(Wa(this.serializer,o))}))}),B.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return XF(e.ue,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.xn(n.batchId)}),B.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}xn(e){delete this.vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return B.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return _u(e).Z({range:r},(s,o,l)=>{if(s[0]===this.userId){const c=hs(s[1]);i.push(c)}else l.done()}).next(()=>{Le(i.length===0)})})}containsKey(e,n){return JF(e,this.userId,n)}On(e){return ZF(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function JF(t,e,n){const r=Am(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return _u(t).Z({range:s,Y:!0},(l,c,h)=>{const[f,p,m]=l;f===e&&p===i&&(o=!0),h.done()}).next(()=>o)}function Ao(t){return Gn(t,"mutations")}function _u(t){return Gn(t,"documentMutations")}function ZF(t){return Gn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new Al(0)}static Ln(){return new Al(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ee{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.kn(e).next(n=>{const r=new Al(n.highestTargetId);return n.highestTargetId=r.next(),this.qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.kn(e).next(n=>Ne.fromTimestamp(new rn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.kn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.kn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.qn(e,i)))}addTargetData(e,n){return this.Qn(e,n).next(()=>this.kn(e).next(r=>(r.targetCount+=1,this.Kn(n,r),this.qn(e,r))))}updateTargetData(e,n){return this.Qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>hu(e).delete(n.targetId)).next(()=>this.kn(e)).next(r=>(Le(r.targetCount>0),r.targetCount-=1,this.qn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return hu(e).Z((o,l)=>{const c=Uh(l);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>B.waitFor(s)).next(()=>i)}forEachTarget(e,n){return hu(e).Z((r,i)=>{const s=Uh(i);n(s)})}kn(e){return fP(e).get("targetGlobalKey").next(n=>(Le(n!==null),n))}qn(e,n){return fP(e).put("targetGlobalKey",n)}Qn(e,n){return hu(e).put(GF(this.serializer,n))}Kn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.kn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Il(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return hu(e).Z({range:i,index:"queryTargetsIndex"},(o,l,c)=>{const h=Uh(l);Od(n,h.target)&&(s=h,c.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Fo(e);return n.forEach(o=>{const l=Rr(o.path);i.push(s.put({targetId:r,path:l})),i.push(this.referenceDelegate.addReference(e,r,o))}),B.waitFor(i)}removeMatchingKeys(e,n,r){const i=Fo(e);return B.forEach(n,s=>{const o=Rr(s.path);return B.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Fo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Fo(e);let s=nt();return i.Z({range:r,Y:!0},(o,l,c)=>{const h=hs(o[1]),f=new de(h);s=s.add(f)}).next(()=>s)}containsKey(e,n){const r=Rr(n.path),i=IDBKeyRange.bound([r],[GM(r)],!1,!0);let s=0;return Fo(e).Z({index:"documentTargetsIndex",Y:!0,range:i},([o,l],c,h)=>{o!==0&&(s++,h.done())}).next(()=>s>0)}lt(e,n){return hu(e).get(n).next(r=>r?Uh(r):null)}}function hu(t){return Gn(t,"targets")}function fP(t){return Gn(t,"targetGlobal")}function Fo(t){return Gn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP([t,e],[n,r]){const i=Ze(t,n);return i===0?Ze(e,r):i}class jee{constructor(e){this.$n=e,this.buffer=new Bt(dP),this.Un=0}Wn(){return++this.Un}Gn(e){const n=[e,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Bee{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.zn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.jn(6e4)}stop(){this.zn&&(this.zn.cancel(),this.zn=null)}get started(){return this.zn!==null}jn(e){re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.zn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ia(n)?re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ta(n)}await this.jn(3e5)})}}class Uee{constructor(e,n){this.Hn=e,this.params=n}calculateTargetCount(e,n){return this.Hn.Jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Vr.ae);const r=new jee(n);return this.Hn.forEachTarget(e,i=>r.Gn(i.sequenceNumber)).next(()=>this.Hn.Yn(e,i=>r.Gn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Hn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Hn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(hP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hP):this.Zn(e,n))}getCacheSize(e){return this.Hn.getCacheSize(e)}Zn(e,n){let r,i,s,o,l,c,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(h=Date.now(),mu()<=mt.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(h-c)+`ms
Total Duration: ${h-f}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function zee(t,e){return new Uee(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qee{constructor(e,n){this.db=e,this.garbageCollector=zee(this,n)}Jn(e){const n=this.Xn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Xn(e){let n=0;return this.Yn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Yn(e,n){return this.er(e,(r,i)=>n(i))}addReference(e,n,r){return im(e,r)}removeReference(e,n,r){return im(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return im(e,n)}tr(e,n){return function(i,s){let o=!1;return ZF(i).X(l=>JF(i,l,s).next(c=>(c&&(o=!0),B.resolve(!c)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.er(e,(o,l)=>{if(l<=n){const c=this.tr(e,o).next(h=>{if(!h)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Ne.min()),Fo(e).delete(function(p){return[0,Rr(p.path)]}(o))))});i.push(c)}}).next(()=>B.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return im(e,n)}er(e,n){const r=Fo(e);let i,s=Vr.ae;return r.Z({index:"documentTargetsIndex"},([o,l],{path:c,sequenceNumber:h})=>{o===0?(s!==Vr.ae&&n(new de(hs(i)),s),s=h,i=c):s=Vr.ae}).next(()=>{s!==Vr.ae&&n(new de(hs(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function im(t,e){return Fo(t).put(function(r,i){return{targetId:0,path:Rr(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(){this.changes=new Sa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return $a(e).put(r)}removeEntry(e,n,r){return $a(e).delete(function(s,o){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Lg(o),l[l.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.nr(e,r)))}getEntry(e,n){let r=Gt.newInvalidDocument(n);return $a(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ah(n))},(i,s)=>{r=this.rr(n,s)}).next(()=>r)}ir(e,n){let r={size:0,document:Gt.newInvalidDocument(n)};return $a(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ah(n))},(i,s)=>{r={document:this.rr(n,s),size:Fg(s)}}).next(()=>r)}getEntries(e,n){let r=jr();return this.sr(e,n,(i,s)=>{const o=this.rr(i,s);r=r.insert(i,o)}).next(()=>r)}_r(e,n){let r=jr(),i=new Ut(de.comparator);return this.sr(e,n,(s,o)=>{const l=this.rr(s,o);r=r.insert(s,l),i=i.insert(s,Fg(o))}).next(()=>({documents:r,ar:i}))}sr(e,n,r){if(n.isEmpty())return B.resolve();let i=new Bt(gP);n.forEach(c=>i=i.add(c));const s=IDBKeyRange.bound(Ah(i.first()),Ah(i.last())),o=i.getIterator();let l=o.getNext();return $a(e).Z({index:"documentKeyIndex",range:s},(c,h,f)=>{const p=de.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;l&&gP(l,p)<0;)r(l,null),l=o.getNext();l&&l.isEqual(p)&&(r(l,h),l=o.hasNext()?o.getNext():null),l?f.W(Ah(l)):f.done()}).next(()=>{for(;l;)r(l,null),l=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,l=[o.popLast().toArray(),o.lastSegment(),Lg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $a(e).G(IDBKeyRange.bound(l,c,!0)).next(h=>{s==null||s.incrementDocumentReadCount(h.length);let f=jr();for(const p of h){const m=this.rr(de.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);m.isFoundDocument()&&(kd(n,m)||i.has(m.key))&&(f=f.insert(m.key,m))}return f})}getAllFromCollectionGroup(e,n,r,i){let s=jr();const o=mP(n,r),l=mP(n,oi.max());return $a(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,l,!0)},(c,h,f)=>{const p=this.rr(de.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);s=s.insert(p.key,p),s.size===i&&f.done()}).next(()=>s)}newChangeBuffer(e){return new Kee(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return pP(e).get("remoteDocumentGlobalKey").next(n=>(Le(!!n),n))}nr(e,n){return pP(e).put("remoteDocumentGlobalKey",n)}rr(e,n){if(n){const r=Pee(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ne.min())))return r}return Gt.newInvalidDocument(e)}}function tV(t){return new Wee(t)}class Kee extends eV{constructor(e,n){super(),this.ur=e,this.trackRemovals=n,this.cr=new Sa(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Bt((s,o)=>Ze(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const l=this.cr.get(s);if(n.push(this.ur.removeEntry(e,s,l.readTime)),o.isValidDocument()){const c=eP(this.ur.serializer,o);i=i.add(s.path.popLast());const h=Fg(c);r+=h-l.size,n.push(this.ur.addEntry(e,s,c))}else if(r-=l.size,this.trackRemovals){const c=eP(this.ur.serializer,o.convertToNoDocument(Ne.min()));n.push(this.ur.addEntry(e,s,c))}}),i.forEach(s=>{n.push(this.ur.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ur.updateMetadata(e,r)),B.waitFor(n)}getFromCache(e,n){return this.ur.ir(e,n).next(r=>(this.cr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ur._r(e,n).next(({documents:r,ar:i})=>(i.forEach((s,o)=>{this.cr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function pP(t){return Gn(t,"remoteDocumentGlobal")}function $a(t){return Gn(t,"remoteDocumentsV14")}function Ah(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function mP(t,e){const n=e.documentKey.path.toArray();return[t,Lg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function gP(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ze(n[s],r[s]),i)return i;return i=Ze(n.length,r.length),i||(i=Ze(n[n.length-2],r[r.length-2]),i||Ze(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hee{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&lf(r.mutation,i,$r.empty(),rn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=nt()){const i=fs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=jh();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=fs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,nt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=jr();const o=af(),l=function(){return af()}();return n.forEach((c,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof fo)?s=s.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),lf(f.mutation,h,f.mutation.getFieldMask(),rn.now())):o.set(h.key,$r.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,f)=>o.set(h,f)),n.forEach((h,f)=>{var p;return l.set(h,new Hee(f,(p=o.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=af();let i=new Ut((o,l)=>o-l),s=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let f=r.get(c)||$r.empty();f=l.applyToLocalView(h,f),r.set(c,f);const p=(i.get(l.batchId)||nt()).add(c);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,f=c.value,p=EF();f.forEach(m=>{if(!s.has(m)){const y=CF(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(fs());let l=-1,c=s;return o.next(h=>B.forEach(h,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?B.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{c=c.insert(f,m)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,nt())).next(f=>({batchId:l,changes:wF(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=jh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=jh();return this.indexManager.getCollectionParents(e,s).next(l=>B.forEach(l,c=>{const h=function(p,m){return new ho(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,Gt.newInvalidDocument(f)))});let l=jh();return o.forEach((c,h)=>{const f=s.get(c);f!==void 0&&lf(f.mutation,h,$r.empty(),rn.now()),kd(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return B.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Cn(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:hI(i.bundledQuery),readTime:Cn(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{constructor(){this.overlays=new Ut(de.comparator),this.Pr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fs();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.It(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=fs(),s=n.length+1,o=new de(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ut((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=s.get(h.largestBatchId);f===null&&(f=fs(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=fs(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return B.resolve(l)}It(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lI(n,r));let s=this.Pr.get(n);s===void 0&&(s=nt(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.Ir=new Bt(Bn.dr),this.Tr=new Bt(Bn.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new Bn(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new Bn(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new de(new vt([])),r=new Bn(n,e),i=new Bn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new de(new vt([])),r=new Bn(n,e),i=new Bn(n,e+1);let s=nt();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Bn(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bn{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return de.comparator(e.key,n.key)||Ze(e.yr,n.yr)}static Er(e,n){return Ze(e.yr,n.yr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yee{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Bt(Bn.dr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oI(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Sr=this.Sr.add(new Bn(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bn(n,0),i=new Bn(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const l=this.br(o.yr);s.push(l)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(Ze);return n.forEach(i=>{const s=new Bn(i,0),o=new Bn(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],l=>{r=r.add(l.yr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;de.isDocumentKey(s)||(s=s.child(""));const o=new Bn(new de(s),0);let l=new Bt(Ze);return this.Sr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.yr)),!0)},o),B.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Le(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return B.forEach(n.mutations,i=>{const s=new Bn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new Bn(n,0),i=this.Sr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{constructor(e){this.Fr=e,this.docs=function(){return new Ut(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=jr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=jr();const o=n.path,l=new de(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||JT(YM(f),r)<=0||(i.has(f.key)||kd(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Se()}Mr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Jee(this)}getSize(e){return B.resolve(this.size)}}class Jee extends eV{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zee{constructor(e){this.persistence=e,this.Or=new Sa(n=>Il(n),Od),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.Nr=0,this.Br=new pI,this.targetCount=0,this.Lr=Al.Bn()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),B.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Al(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Qn(n),B.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n){this.kr={},this.overlays={},this.qr=new Vr(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new Zee(this),this.indexManager=new Fee,this.remoteDocumentCache=function(i){return new Xee(i)}(r=>this.referenceDelegate.$r(r)),this.serializer=new HF(n),this.Ur=new Gee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qee,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new Yee(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new ete(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(e,n){return B.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class ete extends JM{constructor(e){super(),this.currentSequenceNumber=e}}class Gy{constructor(e){this.persistence=e,this.jr=new pI,this.Hr=null}static Jr(e){return new Gy(e)}get Yr(){if(this.Hr)return this.Hr;throw Se()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),B.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Yr,r=>{const i=de.fromPath(r);return this.Zr(e,i).next(s=>{s||n.removeEntry(i,Ne.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return B.or([()=>B.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tte{constructor(e){this.serializer=e}B(e,n,r,i){const s=new By("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",OC,{unique:!0}),c.createObjectStore("documentMutations")}(e),yP(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=B.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),yP(e)),o=o.next(()=>function(c){const h=c.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ne.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",f)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(c,h){return h.store("mutations").G().next(f=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",OC,{unique:!0});const p=h.store("mutations"),m=f.map(y=>p.put(y));return B.waitFor(m)})}(e,s))),o=o.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ei(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ti(s)))),r<7&&i>=7&&(o=o.next(()=>this.ni(s))),r<8&&i>=8&&(o=o.next(()=>this.ri(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ii(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(c){const h=c.createObjectStore("documentOverlays",{keyPath:VZ});h.createIndex("collectionPathOverlayIndex",$Z,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",jZ,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(c){const h=c.createObjectStore("remoteDocumentsV14",{keyPath:bZ});h.createIndex("documentKeyIndex",AZ),h.createIndex("collectionGroupIndex",CZ)}(e)).next(()=>this.si(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.oi(e,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:NZ}).createIndex("sequenceNumberIndex",LZ,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:MZ}).createIndex("documentKeyIndex",FZ,{unique:!1})}(e))),o}ti(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=Fg(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ei(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next(i=>B.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",o).next(l=>B.forEach(l,c=>{Le(c.userId===s.userId);const h=Wa(this.serializer,c);return XF(e,s.userId,h).next(()=>{})}))}))}ni(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,l)=>{const c=new vt(o),h=function(p){return[0,Rr(p)]}(c);s.push(n.get(h).next(f=>f?B.resolve():(p=>n.put({targetId:0,path:Rr(p),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>B.waitFor(s))})}ri(e,n){e.createObjectStore("collectionParents",{keyPath:kZ});const r=n.store("collectionParents"),i=new dI,s=o=>{if(i.add(o)){const l=o.lastSegment(),c=o.popLast();return r.put({collectionId:l,parent:Rr(c)})}};return n.store("remoteDocuments").Z({Y:!0},(o,l)=>{const c=new vt(o);return s(c.popLast())}).next(()=>n.store("documentMutations").Z({Y:!0},([o,l,c],h)=>{const f=hs(l);return s(f.popLast())}))}ii(e){const n=e.store("targets");return n.Z((r,i)=>{const s=Uh(i),o=GF(this.serializer,s);return n.put(o)})}si(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const l=n.store("remoteDocumentsV14"),c=function(p){return p.document?new de(vt.fromString(p.document.name).popFirst(5)):p.noDocument?de.fromSegments(p.noDocument.path):p.unknownDocument?de.fromSegments(p.unknownDocument.path):Se()}(o).path.toArray(),h={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(l.put(h))}).next(()=>B.waitFor(i))}oi(e,n){const r=n.store("mutations"),i=tV(this.serializer),s=new rV(Gy.Jr,this.serializer.ht);return r.G().next(o=>{const l=new Map;return o.forEach(c=>{var h;let f=(h=l.get(c.userId))!==null&&h!==void 0?h:nt();Wa(this.serializer,c).keys().forEach(p=>f=f.add(p)),l.set(c.userId,f)}),B.forEach(l,(c,h)=>{const f=new zn(h),p=Ky.Pt(this.serializer,f),m=s.getIndexManager(f),y=Hy.Pt(f,this.serializer,m,s.referenceDelegate);return new nV(i,y,p,m).recalculateAndSaveOverlaysForDocumentKeys(new wE(n,Vr.ae),c).next()})})}}function yP(t){t.createObjectStore("targetDocuments",{keyPath:OZ}).createIndex("documentTargetsIndex",DZ,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",PZ,{unique:!0}),t.createObjectStore("targetGlobal")}const A0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class mI{constructor(e,n,r,i,s,o,l,c,h,f,p=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this._i=s,this.window=o,this.document=l,this.ai=h,this.ui=f,this.ci=p,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.li=null,this.inForeground=!1,this.hi=null,this.Pi=null,this.Ii=Number.NEGATIVE_INFINITY,this.di=m=>Promise.resolve(),!mI.C())throw new te(q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qee(this,i),this.Ti=n+"main",this.serializer=new HF(c),this.Ei=new qi(this.Ti,this.ci,new tte(this.serializer)),this.Kr=new $ee(this.referenceDelegate,this.serializer),this.remoteDocumentCache=tV(this.serializer),this.Ur=new Oee,this.window&&this.window.localStorage?this.Ai=this.window.localStorage:(this.Ai=null,f===!1&&An("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ri().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new te(q.FAILED_PRECONDITION,A0);return this.Vi(),this.mi(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Kr.getHighestSequenceNumber(e))}).then(e=>{this.qr=new Vr(e,this.ai)}).then(()=>{this.Qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}gi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.k(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this._i.enqueueAndForget(async()=>{this.started&&await this.Ri()}))}Ri(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>sm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.pi(e).next(n=>{n||(this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.yi(e)).next(n=>this.isPrimary&&!n?this.wi(e).next(()=>!1):!!n&&this.Si(e).next(()=>!0))).catch(e=>{if(Ia(e))return re("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this._i.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}pi(e){return Ch(e).get("owner").next(n=>B.resolve(this.bi(n)))}Di(e){return sm(e).delete(this.clientId)}async Ci(){if(this.isPrimary&&!this.vi(this.Ii,18e5)){this.Ii=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Gn(n,"clientMetadata");return r.G().next(i=>{const s=this.Fi(i,18e5),o=i.filter(l=>s.indexOf(l)===-1);return B.forEach(o,l=>r.delete(l.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ai)for(const n of e)this.Ai.removeItem(this.Mi(n.clientId))}}fi(){this.Pi=this._i.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ri().then(()=>this.Ci()).then(()=>this.fi()))}bi(e){return!!e&&e.ownerId===this.clientId}yi(e){return this.ui?B.resolve(!0):Ch(e).get("owner").next(n=>{if(n!==null&&this.vi(n.leaseTimestampMs,5e3)&&!this.xi(n.ownerId)){if(this.bi(n)&&this.networkEnabled)return!0;if(!this.bi(n)){if(!n.allowTabSynchronization)throw new te(q.FAILED_PRECONDITION,A0);return!1}}return!(!this.networkEnabled||!this.inForeground)||sm(e).G().next(r=>this.Fi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,l=this.networkEnabled===i.networkEnabled;if(s||o&&l)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&re("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Qr=!1,this.Oi(),this.Pi&&(this.Pi.cancel(),this.Pi=null),this.Ni(),this.Bi(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new wE(e,Vr.ae);return this.wi(n).next(()=>this.Di(n))}),this.Ei.close(),this.Li()}Fi(e,n){return e.filter(r=>this.vi(r.updateTimeMs,n)&&!this.xi(r.clientId))}ki(){return this.runTransaction("getActiveClients","readonly",e=>sm(e).G().next(n=>this.Fi(n,18e5).map(r=>r.clientId)))}get started(){return this.Qr}getMutationQueue(e,n){return Hy.Pt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Vee(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return Ky.Pt(this.serializer,e)}getBundleCache(){return this.Ur}runTransaction(e,n,r){re("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(c){return c===15?UZ:c===14?rF:c===13?nF:c===12?BZ:c===11?tF:void Se()}(this.ci);let o;return this.Ei.runTransaction(e,i,s,l=>(o=new wE(l,this.qr?this.qr.next():Vr.ae),n==="readwrite-primary"?this.pi(o).next(c=>!!c||this.yi(o)).next(c=>{if(!c)throw An(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)),new te(q.FAILED_PRECONDITION,XM);return r(o)}).next(c=>this.Si(o).next(()=>c)):this.qi(o).next(()=>r(o)))).then(l=>(o.raiseOnCommittedEvent(),l))}qi(e){return Ch(e).get("owner").next(n=>{if(n!==null&&this.vi(n.leaseTimestampMs,5e3)&&!this.xi(n.ownerId)&&!this.bi(n)&&!(this.ui||this.allowTabSynchronization&&n.allowTabSynchronization))throw new te(q.FAILED_PRECONDITION,A0)})}Si(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ch(e).put("owner",n)}static C(){return qi.C()}wi(e){const n=Ch(e);return n.get("owner").next(r=>this.bi(r)?(re("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):B.resolve())}vi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(An(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Vi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.hi=()=>{this._i.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ri()))},this.document.addEventListener("visibilitychange",this.hi),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.hi&&(this.document.removeEventListener("visibilitychange",this.hi),this.hi=null)}mi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.li=()=>{this.Oi();const n=/(?:Version|Mobile)\/1[456]/;OY()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this._i.enterRestrictedMode(!0),this._i.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.li))}Bi(){this.li&&(this.window.removeEventListener("pagehide",this.li),this.li=null)}xi(e){var n;try{const r=((n=this.Ai)===null||n===void 0?void 0:n.getItem(this.Mi(e)))!==null;return re("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return An("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Oi(){if(this.Ai)try{this.Ai.setItem(this.Mi(this.clientId),String(Date.now()))}catch(e){An("Failed to set zombie client id.",e)}}Li(){if(this.Ai)try{this.Ai.removeItem(this.Mi(this.clientId))}catch{}}Mi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ch(t){return Gn(t,"owner")}function sm(t){return Gn(t,"clientMetadata")}function gI(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(e,n){let r=nt(),i=nt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new yI(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Hi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new nte;return this.Yi(e,n,o).next(l=>{if(s.result=l,this.Wi)return this.Zi(e,n,o,l.size)})}).next(()=>s.result)}Zi(e,n,r,i){return r.documentReadCount<this.Gi?(mu()<=mt.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",gu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),B.resolve()):(mu()<=mt.DEBUG&&re("QueryEngine","Query:",gu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(mu()<=mt.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",gu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):B.resolve())}Hi(e,n){if(zC(n))return B.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ng(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=nt(...s);return this.ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.Xi(n,l);return this.es(n,h,o,c.readTime)?this.Hi(e,Ng(n,null,"F")):this.ts(e,h,n,c)}))})))}Ji(e,n,r,i){return zC(n)||i.isEqual(Ne.min())?B.resolve(null):this.ji.getDocuments(e,r).next(s=>{const o=this.Xi(n,s);return this.es(n,o,r,i)?B.resolve(null):(mu()<=mt.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gu(n)),this.ts(e,o,n,QM(i,-1)).next(l=>l))})}Xi(e,n){let r=new Bt(vF(e));return n.forEach((i,s)=>{kd(e,s)&&(r=r.add(s))}),r}es(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(e,n,r){return mu()<=mt.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",gu(n)),this.ji.getDocumentsMatchingQuery(e,n,oi.min(),r)}ts(e,n,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rte{constructor(e,n,r,i){this.persistence=e,this.ns=n,this.serializer=i,this.rs=new Ut(Ze),this.ss=new Sa(s=>Il(s),Od),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nV(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function sV(t,e,n,r){return new rte(t,e,n,r)}async function oV(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=nt();for(const h of i){o.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}for(const h of s){l.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(h=>({cs:h,removedBatchIds:o,addedBatchIds:l}))})})}function ite(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n._s.newChangeBuffer({trackRemovals:!0});return function(l,c,h,f){const p=h.batch,m=p.keys();let y=B.resolve();return m.forEach(v=>{y=y.next(()=>f.getEntry(c,v)).next(w=>{const R=h.docVersions.get(v);Le(R!==null),w.version.compareTo(R)<0&&(p.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),f.addEntry(w)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=nt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function aV(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function ste(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const l=[];e.targetChanges.forEach((f,p)=>{const m=i.get(p);if(!m)return;l.push(n.Kr.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Kr.addMatchingKeys(s,f.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken($n.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),function(w,R,T){return w.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,y,f)&&l.push(n.Kr.updateTargetData(s,y))});let c=jr(),h=nt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(lV(s,o,e.documentUpdates).next(f=>{c=f.ls,h=f.hs})),!r.isEqual(Ne.min())){const f=n.Kr.getLastRemoteSnapshotVersion(s).next(p=>n.Kr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return B.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(n.rs=i,s))}function lV(t,e,n){let r=nt(),i=nt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=jr();return n.forEach((l,c)=>{const h=s.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Ne.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):re("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{ls:o,hs:i}})}function ote(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mc(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Kr.allocateTargetId(r).next(o=>(i=new qs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}async function gc(t,e,n){const r=ye(t),i=r.rs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ia(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}function Vg(t,e,n){const r=ye(t);let i=Ne.min(),s=nt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,f){const p=ye(c),m=p.ss.get(f);return m!==void 0?B.resolve(p.rs.get(m)):p.Kr.getTargetData(h,f)}(r,o,br(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ns.getDocumentsMatchingQuery(o,e,n?i:Ne.min(),n?s:nt())).next(l=>(hV(r,yF(e),l),{documents:l,Ps:s})))}function uV(t,e){const n=ye(t),r=ye(n.Kr),i=n.rs.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.lt(s,e).next(o=>o?o.target:null))}function cV(t,e){const n=ye(t),r=n.os.get(e)||Ne.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n._s.getAllFromCollectionGroup(i,e,QM(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(hV(n,e,i),i))}function hV(t,e,n){let r=t.os.get(e)||Ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.os.set(e,r)}async function ate(t,e,n,r){const i=ye(t);let s=nt(),o=jr();for(const h of n){const f=e.Is(h.metadata.name);h.document&&(s=s.add(f));const p=e.ds(h);p.setReadTime(e.Ts(h.metadata.readTime)),o=o.insert(f,p)}const l=i._s.newChangeBuffer({trackRemovals:!0}),c=await mc(i,function(f){return br(Nc(vt.fromString(`__bundle__/docs/${f}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",h=>lV(h,l,o).next(f=>(l.apply(h),f)).next(f=>i.Kr.removeMatchingKeysForTargetId(h,c.targetId).next(()=>i.Kr.addMatchingKeys(h,s,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,f.ls,f.hs)).next(()=>f.ls)))}async function lte(t,e,n=nt()){const r=await mc(t,br(hI(e.bundledQuery))),i=ye(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Cn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ur.saveNamedQuery(s,e);const l=r.withResumeToken($n.EMPTY_BYTE_STRING,o);return i.rs=i.rs.insert(l.targetId,l),i.Kr.updateTargetData(s,l).next(()=>i.Kr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Kr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Ur.saveNamedQuery(s,e))})}function vP(t,e){return`firestore_clients_${t}_${e}`}function _P(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function C0(t,e){return`firestore_targets_${t}_${e}`}class $g{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new te(i.error.code,i.error.message))),o?new $g(e,n,i.state,s):(An("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}As(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class uf{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new te(r.error.code,r.error.message))),s?new uf(e,r.state,i):(An("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}As(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jg{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=iI();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=ZM(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new jg(e,s):(An("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class vI{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new vI(n.clientId,n.onlineState):(An("SharedClientState",`Failed to parse online state: ${e}`),null)}}class kE{constructor(){this.activeTargetIds=iI()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P0{constructor(e,n,r,i,s){this.window=e,this._i=n,this.persistenceKey=r,this.fs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.gs=this.ps.bind(this),this.ys=new Ut(Ze),this.started=!1,this.ws=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ss=vP(this.persistenceKey,this.fs),this.bs=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.ys=this.ys.insert(this.fs,new kE),this.Ds=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Cs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.vs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Fs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Ms=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.gs)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.ki();for(const r of e){if(r===this.fs)continue;const i=this.getItem(vP(this.persistenceKey,r));if(i){const s=jg.Es(r,i);s&&(this.ys=this.ys.insert(s.clientId,s))}}this.xs();const n=this.storage.getItem(this.Fs);if(n){const r=this.Os(n);r&&this.Ns(r)}for(const r of this.ws)this.ps(r);this.ws=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Bs(this.ys)}isActiveQueryTarget(e){let n=!1;return this.ys.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.ks(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(C0(this.persistenceKey,e));if(r){const i=uf.Es(e,r);i&&(n=i.state)}}return this.qs.Rs(e),this.xs(),n}removeLocalQueryTarget(e){this.qs.Vs(e),this.xs()}isLocalQueryTarget(e){return this.qs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(C0(this.persistenceKey,e))}updateQueryState(e,n,r){this.Qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.ks(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ks(e)}notifyBundleLoaded(e){this.$s(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.gs),this.removeItem(this.Ss),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return re("SharedClientState","READ",e,n),n}setItem(e,n){re("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){re("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ps(e){const n=e;if(n.storageArea===this.storage){if(re("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ss)return void An("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._i.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ds.test(n.key)){if(n.newValue==null){const r=this.Us(n.key);return this.Ws(r,null)}{const r=this.Gs(n.key,n.newValue);if(r)return this.Ws(r.clientId,r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(this.vs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(n.key===this.Fs){if(n.newValue!==null){const r=this.Os(n.newValue);if(r)return this.Ns(r)}}else if(n.key===this.bs){const r=function(s){let o=Vr.ae;if(s!=null)try{const l=JSON.parse(s);Le(typeof l=="number"),o=l}catch(l){An("SharedClientState","Failed to read sequence number from WebStorage",l)}return o}(n.newValue);r!==Vr.ae&&this.sequenceNumberHandler(r)}else if(n.key===this.Ms){const r=this.Ys(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Zs(i)))}}}else this.ws.push(n)})}}get qs(){return this.ys.get(this.fs)}xs(){this.setItem(this.Ss,this.qs.As())}Ls(e,n,r){const i=new $g(this.currentUser,e,n,r),s=_P(this.persistenceKey,this.currentUser,e);this.setItem(s,i.As())}ks(e){const n=_P(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Ks(e){const n={clientId:this.fs,onlineState:e};this.storage.setItem(this.Fs,JSON.stringify(n))}Qs(e,n,r){const i=C0(this.persistenceKey,e),s=new uf(e,n,r);this.setItem(i,s.As())}$s(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Ms,n)}Us(e){const n=this.Ds.exec(e);return n?n[1]:null}Gs(e,n){const r=this.Us(e);return jg.Es(r,n)}zs(e,n){const r=this.Cs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return $g.Es(new zn(s),i,n)}Hs(e,n){const r=this.vs.exec(e),i=Number(r[1]);return uf.Es(i,n)}Os(e){return vI.Es(e)}Ys(e){return JSON.parse(e)}async js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Xs(e.batchId,e.state,e.error);re("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Js(e){return this.syncEngine.eo(e.targetId,e.state,e.error)}Ws(e,n){const r=n?this.ys.insert(e,n):this.ys.remove(e),i=this.Bs(this.ys),s=this.Bs(r),o=[],l=[];return s.forEach(c=>{i.has(c)||o.push(c)}),i.forEach(c=>{s.has(c)||l.push(c)}),this.syncEngine.no(o,l).then(()=>{this.ys=r})}Ns(e){this.ys.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Bs(e){let n=iI();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class fV{constructor(){this.ro=new kE,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new kE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ute{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let om=null;function O0(){return om===null?om=function(){return 268435456+Math.round(2147483648*Math.random())}():om++,"0x"+om.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="WebChannelConnection";class fte extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(n,r,i,s,o){const l=O0(),c=this.Do(n,r);re("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(h,s,o),this.vo(n,c,h,i).then(f=>(re("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw Yi("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",c,"request:",i),f})}Fo(n,r,i,s,o,l){return this.bo(n,r,i,s,o)}Co(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Do(n,r){const i=cte[n];return`${this.po}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=O0();return new Promise((o,l)=>{const c=new lZ;c.setWithCredentials(!0),c.listenOnce(oZ.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case R0.NO_ERROR:const f=c.getResponseJson();re(cr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case R0.TIMEOUT:re(cr,`RPC '${e}' ${s} timed out`),l(new te(q.DEADLINE_EXCEEDED,"Request time out"));break;case R0.HTTP_ERROR:const p=c.getStatus();if(re(cr,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const v=function(R){const T=R.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(T)>=0?T:q.UNKNOWN}(y.status);l(new te(v,y.message))}else l(new te(q.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new te(q.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{re(cr,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);re(cr,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)})}Mo(e,n,r){const i=O0(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iZ(),l=sZ(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Co(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");re(cr,`Creating RPC '${e}' stream ${i}: ${f}`,c);const p=o.createWebChannel(f,c);let m=!1,y=!1;const v=new hte({ho:R=>{y?re(cr,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(re(cr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),re(cr,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Po:()=>p.close()}),w=(R,T,S)=>{R.listen(T,I=>{try{S(I)}catch(E){setTimeout(()=>{throw E},0)}})};return w(p,tm.EventType.OPEN,()=>{y||re(cr,`RPC '${e}' stream ${i} transport opened.`)}),w(p,tm.EventType.CLOSE,()=>{y||(y=!0,re(cr,`RPC '${e}' stream ${i} transport closed`),v.mo())}),w(p,tm.EventType.ERROR,R=>{y||(y=!0,Yi(cr,`RPC '${e}' stream ${i} transport errored:`,R),v.mo(new te(q.UNAVAILABLE,"The operation could not be completed")))}),w(p,tm.EventType.MESSAGE,R=>{var T;if(!y){const S=R.data[0];Le(!!S);const I=S,E=I.error||((T=I[0])===null||T===void 0?void 0:T.error);if(E){re(cr,`RPC '${e}' stream ${i} received error:`,E);const P=E.status;let O=function(W){const Y=Pn[W];if(Y!==void 0)return DF(Y)}(P),D=E.message;O===void 0&&(O=q.INTERNAL,D="Unknown error status: "+P+" with message "+E.message),y=!0,v.mo(new te(O,D)),p.close()}else re(cr,`RPC '${e}' stream ${i} received:`,S),v.fo(S)}}),w(l,aZ.STAT_EVENT,R=>{R.stat===bC.PROXY?re(cr,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===bC.NOPROXY&&re(cr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Vo()},0),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(){return typeof window<"u"?window:null}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t){return new wee(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n,r,i,s,o,l,c){this._i=e,this.Uo=r,this.Wo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new _I(e,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(An(n.toString()),An("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{e(()=>{const i=new te(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dte extends pV{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=Iee(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ne.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ne.min():o.readTime?Cn(o.readTime):Ne.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=ed(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=Dg(c)?{documents:BF(s,c)}:{query:UF(s,c)},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=MF(s,o.resumeToken);const h=bE(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(Ne.min())>0){l.readTime=pc(s,o.snapshotVersion.toTimestamp());const h=bE(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=xee(this.serializer,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=ed(this.serializer),n.removeTarget=e,this.n_(n)}}class pte extends pV{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=See(e.writeResults,e.commitTime),r=Cn(e.commitTime);return this.listener.T_(r,n)}return Le(!e.writeResults||e.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=ed(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>td(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mte extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new te(q.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(q.UNKNOWN,i.toString())})}Fo(e,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(q.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class gte{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(An(n),this.p_=!1):re("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yte{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(o=>{r.enqueueAndForget(async()=>{xa(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(c){const h=ye(c);h.F_.add(4),await Fc(h),h.O_.set("Unknown"),h.F_.delete(4),await Vd(h)}(this))})}),this.O_=new gte(r,i)}}async function Vd(t){if(xa(t))for(const e of t.M_)await e(!0)}async function Fc(t){for(const e of t.M_)await e(!1)}function Qy(t,e){const n=ye(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),TI(n)?EI(n):$c(n).Yo()&&wI(n,e))}function nd(t,e){const n=ye(t),r=$c(n);n.v_.delete(e),r.Yo()&&mV(n,e),n.v_.size===0&&(r.Yo()?r.e_():xa(n)&&n.O_.set("Unknown"))}function wI(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$c(t).l_(e)}function mV(t,e){t.N_.Le(e),$c(t).h_(e)}function EI(t){t.N_=new gee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),$c(t).start(),t.O_.y_()}function TI(t){return xa(t)&&!$c(t).Jo()&&t.v_.size>0}function xa(t){return ye(t).F_.size===0}function gV(t){t.N_=void 0}async function vte(t){t.v_.forEach((e,n)=>{wI(t,e)})}async function _te(t,e){gV(t),TI(t)?(t.O_.b_(e),EI(t)):t.O_.set("Unknown")}async function wte(t,e,n){if(t.O_.set("Online"),e instanceof LF&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.v_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.v_.delete(l),i.N_.removeTarget(l))}(t,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bg(t,r)}else if(e instanceof Dm?t.N_.Ge(e):e instanceof NF?t.N_.Xe(e):t.N_.He(e),!n.isEqual(Ne.min()))try{const r=await aV(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.N_._t(o);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.v_.get(h);f&&s.v_.set(h,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,h)=>{const f=s.v_.get(c);if(!f)return;s.v_.set(c,f.withResumeToken($n.EMPTY_BYTE_STRING,f.snapshotVersion)),mV(s,c);const p=new qs(f.target,c,h,f.sequenceNumber);wI(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await Bg(t,r)}}async function Bg(t,e,n){if(!Ia(e))throw e;t.F_.add(1),await Fc(t),t.O_.set("Offline"),n||(n=()=>aV(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.F_.delete(1),await Vd(t)})}function yV(t,e){return e().catch(n=>Bg(t,n,e))}async function Vc(t){const e=ye(t),n=ha(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;Ete(e);)try{const i=await ote(e.localStore,r);if(i===null){e.C_.length===0&&n.e_();break}r=i.batchId,Tte(e,i)}catch(i){await Bg(e,i)}vV(e)&&_V(e)}function Ete(t){return xa(t)&&t.C_.length<10}function Tte(t,e){t.C_.push(e);const n=ha(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function vV(t){return xa(t)&&!ha(t).Jo()&&t.C_.length>0}function _V(t){ha(t).start()}async function Ite(t){ha(t).A_()}async function Ste(t){const e=ha(t);for(const n of t.C_)e.d_(n.mutations)}async function xte(t,e,n){const r=t.C_.shift(),i=aI.from(r,e,n);await yV(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Vc(t)}async function Rte(t,e){e&&ha(t).I_&&await async function(r,i){if(function(o){return OF(o)&&o!==q.ABORTED}(i.code)){const s=r.C_.shift();ha(r).Xo(),await yV(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Vc(r)}}(t,e),vV(t)&&_V(t)}async function EP(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=xa(n);n.F_.add(3),await Fc(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),await Vd(n)}async function NE(t,e){const n=ye(t);e?(n.F_.delete(2),await Vd(n)):e||(n.F_.add(2),await Fc(n),n.O_.set("Unknown"))}function $c(t){return t.B_||(t.B_=function(n,r,i){const s=ye(n);return s.V_(),new dte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:vte.bind(null,t),Eo:_te.bind(null,t),c_:wte.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),TI(t)?EI(t):t.O_.set("Unknown")):(await t.B_.stop(),gV(t))})),t.B_}function ha(t){return t.L_||(t.L_=function(n,r,i){const s=ye(n);return s.V_(),new pte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:Ite.bind(null,t),Eo:Rte.bind(null,t),E_:Ste.bind(null,t),T_:xte.bind(null,t)}),t.M_.push(async e=>{e?(t.L_.Xo(),await Vc(t)):(await t.L_.stop(),t.C_.length>0&&(re("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new II(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jc(t,e){if(An("AsyncQueue",`${e}: ${t}`),Ia(t))return new te(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=jh(),this.sortedSet=new Ut(this.comparator)}static emptySet(e){return new Hu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.k_=new Ut(de.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?e.type!==0&&r.type===3?this.k_=this.k_.insert(n,e):e.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.k_=this.k_.remove(n):e.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):Se():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class yc{constructor(e,n,r,i,s,o,l,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new yc(e,n,Hu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bte{constructor(){this.Q_=void 0,this.listeners=[]}}class Ate{constructor(){this.queries=new Sa(e=>gF(e),Dd),this.onlineState="Unknown",this.K_=new Set}}async function SI(t,e){const n=ye(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new bte),i)try{s.Q_=await n.onListen(r)}catch(o){const l=jc(o,`Initialization of query '${gu(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.listeners.push(e),e.U_(n.onlineState),s.Q_&&e.W_(s.Q_)&&RI(n)}async function xI(t,e){const n=ye(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Cte(t,e){const n=ye(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.listeners)l.W_(i)&&(r=!0);o.Q_=i}}r&&RI(n)}function Pte(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function RI(t){t.K_.forEach(e=>{e.next()})}class bI{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(e,n){this.X_=e,this.byteLength=n}ea(){return"metadata"in this.X_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.serializer=e}Is(e){return _s(this.serializer,e)}ds(e){return e.metadata.exists?jF(this.serializer,e.document,!1):Gt.newNoDocument(this.Is(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Cn(e)}}class Dte{constructor(e,n,r){this.ta=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wV(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++n;const r=vt.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ra(e){const n=new Map,r=new IP(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Is(i.metadata.name);for(const o of i.metadata.queries){const l=(n.get(o)||nt()).add(s);n.set(o,l)}}return n}async complete(){const e=await ate(this.localStore,new IP(this.serializer),this.documents,this.ta.id),n=this.ra(this.documents);for(const r of this.queries)await lte(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function wV(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.key=e}}class TV{constructor(e){this.key=e}}class IV{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=nt(),this.mutatedKeys=nt(),this.ua=vF(e),this.ca=new Hu(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new TP,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const m=i.get(f),y=kd(this.query,p)?p:null,v=!!m&&this.mutatedKeys.has(m.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let R=!1;m&&y?m.data.isEqual(y.data)?v!==w&&(r.track({type:3,doc:y}),R=!0):this.Ia(m,y)||(r.track({type:2,doc:y}),R=!0,(c&&this.ua(y,c)>0||h&&this.ua(y,h)<0)&&(l=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(c||h)&&(l=!0)),R&&(y?(o=o.add(y),s=w?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{ca:o,Pa:r,es:l,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.q_();s.sort((h,f)=>function(m,y){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return v(m)-v(y)}(h.type,f.type)||this.ua(h.doc,f.doc)),this.da(r);const o=n?this.Ta():[],l=this.aa.size===0&&this.current?1:0,c=l!==this._a;return this._a=l,s.length!==0||c?{snapshot:new yc(this.query,e.ca,i,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new TP,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=nt(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new TV(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new EV(r))}),n}Ra(e){this.oa=e.Ps,this.aa=nt();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return yc.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class kte{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Nte{constructor(e){this.key=e,this.ma=!1}}class Lte{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Sa(l=>gF(l),Dd),this.pa=new Map,this.ya=new Set,this.wa=new Ut(de.comparator),this.Sa=new Map,this.ba=new pI,this.Da={},this.Ca=new Map,this.va=Al.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function Mte(t,e){const n=DI(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await mc(n.localStore,br(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await AI(n,e,r,l==="current",o.resumeToken),n.isPrimaryClient&&Qy(n.remoteStore,o)}return i}async function AI(t,e,n,r,i){t.Ma=(p,m,y)=>async function(w,R,T,S){let I=R.view.ha(T);I.es&&(I=await Vg(w.localStore,R.query,!1).then(({documents:O})=>R.view.ha(O,I)));const E=S&&S.targetChanges.get(R.targetId),P=R.view.applyChanges(I,w.isPrimaryClient,E);return LE(w,R.targetId,P.Ea),P.snapshot}(t,p,m,y);const s=await Vg(t.localStore,e,!0),o=new IV(e,s.Ps),l=o.ha(s.documents),c=Md.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(l,t.isPrimaryClient,c);LE(t,n,h.Ea);const f=new kte(e,n,o);return t.ga.set(e,f),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),h.snapshot}async function Fte(t,e){const n=ye(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Dd(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await gc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),nd(n.remoteStore,r.targetId),vc(n,r.targetId)}).catch(Ta)):(vc(n,r.targetId),await gc(n.localStore,r.targetId,!0))}async function Vte(t,e,n){const r=kI(t);try{const i=await function(o,l){const c=ye(o),h=rn.now(),f=l.reduce((y,v)=>y.add(v.key),nt());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let v=jr(),w=nt();return c._s.getEntries(y,f).next(R=>{v=R,v.forEach((T,S)=>{S.isValidDocument()||(w=w.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,v)).next(R=>{p=R;const T=[];for(const S of l){const I=dee(S,p.get(S.key).overlayedDocument);I!=null&&T.push(new fo(S.key,I,aF(I.value.mapValue),nn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,h,T,l)}).next(R=>{m=R;const T=R.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(y,R.batchId,T)})}).then(()=>({batchId:m.batchId,changes:wF(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let h=o.Da[o.currentUser.toKey()];h||(h=new Ut(Ze)),h=h.insert(l,c),o.Da[o.currentUser.toKey()]=h}(r,i.batchId,n),await po(r,i.changes),await Vc(r.remoteStore)}catch(i){const s=jc(i,"Failed to persist write");n.reject(s)}}async function SV(t,e){const n=ye(t);try{const r=await ste(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?Le(o.ma):i.removedDocuments.size>0&&(Le(o.ma),o.ma=!1))}),await po(n,r,e)}catch(r){await Ta(r)}}function SP(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const l=o.view.U_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=ye(o);c.onlineState=l;let h=!1;c.queries.forEach((f,p)=>{for(const m of p.listeners)m.U_(l)&&(h=!0)}),h&&RI(c)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $te(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Ut(de.comparator);o=o.insert(s,Gt.newNoDocument(s,Ne.min()));const l=nt().add(s),c=new Ld(Ne.min(),new Map,new Ut(Ze),o,l);await SV(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),OI(r)}else await gc(r.localStore,e,!1).then(()=>vc(r,e,n)).catch(Ta)}async function jte(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await ite(n.localStore,e);PI(n,r,null),CI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await po(n,i)}catch(i){await Ta(i)}}async function Bte(t,e,n){const r=ye(t);try{const i=await function(o,l){const c=ye(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return c.mutationQueue.lookupMutationBatch(h,l).next(p=>(Le(p!==null),f=p.keys(),c.mutationQueue.removeMutationBatch(h,p))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>c.localDocuments.getDocuments(h,f))})}(r.localStore,e);PI(r,e,n),CI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await po(r,i)}catch(i){await Ta(i)}}async function Ute(t,e){const n=ye(t);xa(n.remoteStore)||re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const l=ye(o);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>l.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Ca.get(r)||[];i.push(e),n.Ca.set(r,i)}catch(r){const i=jc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function CI(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function PI(t,e,n){const r=ye(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function vc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||xV(t,r)})}function xV(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(nd(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),OI(t))}function LE(t,e,n){for(const r of n)r instanceof EV?(t.ba.addReference(r.key,e),zte(t,r)):r instanceof TV?(re("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||xV(t,r.key)):Se()}function zte(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(re("SyncEngine","New document in limbo: "+n),t.ya.add(r),OI(t))}function OI(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new de(vt.fromString(e)),r=t.va.next();t.Sa.set(r,new Nte(n)),t.wa=t.wa.insert(n,r),Qy(t.remoteStore,new qs(br(Nc(n.path)),r,"TargetPurposeLimboResolution",Vr.ae))}}async function po(t,e,n){const r=ye(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((l,c)=>{o.push(r.Ma(c,e,n).then(h=>{if((h||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,h!=null&&h.fromCache?"not-current":"current"),h){i.push(h);const f=yI.$i(c.targetId,h);s.push(f)}}))}),await Promise.all(o),r.fa.c_(i),await async function(c,h){const f=ye(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>B.forEach(h,m=>B.forEach(m.Qi,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>B.forEach(m.Ki,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Ia(p))throw p;re("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const y=f.rs.get(m),v=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(v);f.rs=f.rs.insert(m,w)}}}(r.localStore,s))}async function qte(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=await oV(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(l=>{l.forEach(c=>{c.reject(new te(q.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await po(n,r.cs)}}function Wte(t,e){const n=ye(t),r=n.Sa.get(e);if(r&&r.ma)return nt().add(r.key);{let i=nt();const s=n.pa.get(e);if(!s)return i;for(const o of s){const l=n.ga.get(o);i=i.unionWith(l.view.la)}return i}}async function Kte(t,e){const n=ye(t),r=await Vg(n.localStore,e.query,!0),i=e.view.Ra(r);return n.isPrimaryClient&&LE(n,e.targetId,i.Ea),i}async function Hte(t,e){const n=ye(t);return cV(n.localStore,e).then(r=>po(n,r))}async function Gte(t,e,n,r){const i=ye(t),s=await function(l,c){const h=ye(l),f=ye(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",p=>f.Fn(p,c).next(m=>m?h.localDocuments.getDocuments(p,m):B.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Vc(i.remoteStore):n==="acknowledged"||n==="rejected"?(PI(i,e,r||null),CI(i,e),function(l,c){ye(ye(l).mutationQueue).xn(c)}(i.localStore,e)):Se(),await po(i,s)):re("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Qte(t,e){const n=ye(t);if(DI(n),kI(n),e===!0&&n.Fa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await xP(n,r.toArray());n.Fa=!0,await NE(n.remoteStore,!0);for(const s of i)Qy(n.remoteStore,s)}else if(e===!1&&n.Fa!==!1){const r=[];let i=Promise.resolve();n.pa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(vc(n,o),gc(n.localStore,o,!0))),nd(n.remoteStore,o)}),await i,await xP(n,r),function(o){const l=ye(o);l.Sa.forEach((c,h)=>{nd(l.remoteStore,h)}),l.ba.gr(),l.Sa=new Map,l.wa=new Ut(de.comparator)}(n),n.Fa=!1,await NE(n.remoteStore,!1)}}async function xP(t,e,n){const r=ye(t),i=[],s=[];for(const o of e){let l;const c=r.pa.get(o);if(c&&c.length!==0){l=await mc(r.localStore,br(c[0]));for(const h of c){const f=r.ga.get(h),p=await Kte(r,f);p.snapshot&&s.push(p.snapshot)}}else{const h=await uV(r.localStore,o);l=await mc(r.localStore,h),await AI(r,RV(h),o,!1,l.resumeToken)}i.push(l)}return r.fa.c_(s),i}function RV(t){return mF(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Yte(t){return function(n){return ye(ye(n).persistence).ki()}(ye(t).localStore)}async function Xte(t,e,n,r){const i=ye(t);if(i.Fa)return void re("SyncEngine","Ignoring unexpected query state notification.");const s=i.pa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await cV(i.localStore,yF(s[0])),l=Ld.createSynthesizedRemoteEventForCurrentChange(e,n==="current",$n.EMPTY_BYTE_STRING);await po(i,o,l);break}case"rejected":await gc(i.localStore,e,!0),vc(i,e,r);break;default:Se()}}async function Jte(t,e,n){const r=DI(t);if(r.Fa){for(const i of e){if(r.pa.has(i)){re("SyncEngine","Adding an already active target "+i);continue}const s=await uV(r.localStore,i),o=await mc(r.localStore,s);await AI(r,RV(s),o.targetId,!1,o.resumeToken),Qy(r.remoteStore,o)}for(const i of n)r.pa.has(i)&&await gc(r.localStore,i,!1).then(()=>{nd(r.remoteStore,i),vc(r,i)}).catch(Ta)}}function DI(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$te.bind(null,e),e.fa.c_=Cte.bind(null,e.eventManager),e.fa.xa=Pte.bind(null,e.eventManager),e}function kI(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jte.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bte.bind(null,e),e}function Zte(t,e,n){const r=ye(t);(async function(s,o,l){try{const c=await o.getMetadata();if(await function(y,v){const w=ye(y),R=Cn(v.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",T=>w.Ur.getBundleMetadata(T,v.id)).then(T=>!!T&&T.createTime.compareTo(R)>=0)}(s.localStore,c))return await o.close(),l._completeWith(function(y){return{taskState:"Success",documentsLoaded:y.totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}}(c)),Promise.resolve(new Set);l._updateProgress(wV(c));const h=new Dte(c,s.localStore,o.serializer);let f=await o.Oa();for(;f;){const m=await h.na(f);m&&l._updateProgress(m),f=await o.Oa()}const p=await h.complete();return await po(s,p.sa,void 0),await function(y,v){const w=ye(y);return w.persistence.runTransaction("Save bundle","readwrite",R=>w.Ur.saveBundleMetadata(R,v))}(s.localStore,c),l._completeWith(p.progress),Promise.resolve(p.ia)}catch(c){return Yi("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class ME{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Fd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return sV(this.persistence,new iV,e.initialUser,this.serializer)}createPersistence(e){return new rV(Gy.Jr,this.serializer)}createSharedClientState(e){return new fV}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class bV extends ME{constructor(e,n,r){super(),this.Na=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await kI(this.Na.syncEngine),await Vc(this.Na.remoteStore),await this.persistence.gi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return sV(this.persistence,new iV,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Bee(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new SZ(n,this.persistence);return new IZ(e.asyncQueue,r)}createPersistence(e){const n=gI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Lr.withCacheSize(this.cacheSizeBytes):Lr.DEFAULT;return new mI(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,dV(),km(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new fV}}class ene extends bV{constructor(e,n){super(e,n,!1),this.Na=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Na.syncEngine;this.sharedClientState instanceof P0&&(this.sharedClientState.syncEngine={Xs:Gte.bind(null,n),eo:Xte.bind(null,n),no:Jte.bind(null,n),ki:Yte.bind(null,n),Zs:Hte.bind(null,n)},await this.sharedClientState.start()),await this.persistence.gi(async r=>{await Qte(this.Na.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=dV();if(!P0.C(n))throw new te(q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=gI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new P0(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class NI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qte.bind(null,this.syncEngine),await NE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ate}()}createDatastore(e){const n=Fd(e.databaseInfo.databaseId),r=function(s){return new fte(s)}(e.databaseInfo);return function(s,o,l,c){return new mte(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new yte(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>SP(this.syncEngine,n,0),function(){return wP.C()?new wP:new ute}())}createSyncEngine(e,n){return function(i,s,o,l,c,h,f){const p=new Lte(i,s,o,l,c,h);return f&&(p.Fa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ye(n);re("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await Fc(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):An("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tne{constructor(e,n){this.ka=e,this.serializer=n,this.metadata=new Wn,this.buffer=new Uint8Array,this.qa=function(){return new TextDecoder("utf-8")}(),this.Qa().then(r=>{r&&r.ea()?this.metadata.resolve(r.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.X_)}`))},r=>this.metadata.reject(r))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(e===null)return null;const n=this.qa.decode(e),r=Number(n);isNaN(r)&&this.$a(`length string (${n}) is not valid number`);const i=await this.Ua(r);return new Ote(JSON.parse(i),e.length+r)}Wa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(this.buffer.length===0)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const n=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ga(){const e=await this.ka.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new te(q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(i,s){const o=ye(i),l=ed(o.serializer)+"/documents",c={documents:s.map(m=>Zf(o.serializer,m))},h=await o.Fo("BatchGetDocuments",l,c,s.length),f=new Map;h.forEach(m=>{const y=Tee(o.serializer,m);f.set(y.key.toString(),y)});const p=[];return s.forEach(m=>{const y=f.get(m.toString());Le(!!y),p.push(y)}),p}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=de.fromPath(r);this.mutations.push(new sI(i,this.precondition(i)))}),await async function(r,i){const s=ye(r),o=ed(s.serializer)+"/documents",l={writes:i.map(c=>td(s.serializer,c))};await s.bo("Commit",o,l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Se();n=Ne.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new te(q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ne.min())?nn.exists(!1):nn.updateTime(n):nn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ne.min()))throw new te(q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nn.updateTime(n)}return nn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.za=r.maxAttempts,this.Ho=new _I(this.asyncQueue,"transaction_retry")}run(){this.za-=1,this.ja()}ja(){this.Ho.Qo(async()=>{const e=new nne(this.datastore),n=this.Ha(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Ja(i)}))}).catch(r=>{this.Ja(r)})})}Ha(e){try{const n=this.updateFunction(e);return!Pd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ja(e){this.za>0&&this.Ya(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.ja(),Promise.resolve()))):this.deferred.reject(e)}Ya(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!OF(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zn.UNAUTHENTICATED,this.clientId=HM.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{re("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(re("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Nm(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await oV(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function FE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LI(t);re("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>EP(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>EP(e.remoteStore,s)),t._onlineComponents=e}function AV(t){return t.name==="FirebaseError"?t.code===q.FAILED_PRECONDITION||t.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function LI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await Nm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!AV(n))throw n;Yi("Error using user provided cache. Falling back to memory cache: "+n),await Nm(t,new ME)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await Nm(t,new ME);return t._offlineComponents}async function Xy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await FE(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await FE(t,new NI))),t._onlineComponents}function CV(t){return LI(t).then(e=>e.persistence)}function MI(t){return LI(t).then(e=>e.localStore)}function PV(t){return Xy(t).then(e=>e.remoteStore)}function FI(t){return Xy(t).then(e=>e.syncEngine)}function sne(t){return Xy(t).then(e=>e.datastore)}async function _c(t){const e=await Xy(t),n=e.eventManager;return n.onListen=Mte.bind(null,e.syncEngine),n.onUnlisten=Fte.bind(null,e.syncEngine),n}function one(t){return t.asyncQueue.enqueue(async()=>{const e=await CV(t),n=await PV(t);return e.setNetworkEnabled(!0),function(i){const s=ye(i);return s.F_.delete(0),Vd(s)}(n)})}function ane(t){return t.asyncQueue.enqueue(async()=>{const e=await CV(t),n=await PV(t);return e.setNetworkEnabled(!1),async function(i){const s=ye(i);s.F_.add(0),await Fc(s),s.O_.set("Offline")}(n)})}function lne(t,e){const n=new Wn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const l=await function(h,f){const p=ye(h);return p.persistence.runTransaction("read document","readonly",m=>p.localDocuments.getDocument(m,f))}(i,s);l.isFoundDocument()?o.resolve(l):l.isNoDocument()?o.resolve(null):o.reject(new te(q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=jc(l,`Failed to get document '${s} from cache`);o.reject(c)}}(await MI(t),e,n)),n.promise}function OV(t,e,n={}){const r=new Wn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,h){const f=new Yy({next:m=>{o.enqueueAndForget(()=>xI(s,p));const y=m.docs.has(l);!y&&m.fromCache?h.reject(new te(q.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?h.reject(new te(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new bI(Nc(l.path),f,{includeMetadataChanges:!0,Z_:!0});return SI(s,p)}(await _c(t),t.asyncQueue,e,n,r)),r.promise}function une(t,e){const n=new Wn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const l=await Vg(i,s,!0),c=new IV(s,l.Ps),h=c.ha(l.documents),f=c.applyChanges(h,!1);o.resolve(f.snapshot)}catch(l){const c=jc(l,`Failed to execute query '${s} against cache`);o.reject(c)}}(await MI(t),e,n)),n.promise}function DV(t,e,n={}){const r=new Wn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,h){const f=new Yy({next:m=>{o.enqueueAndForget(()=>xI(s,p)),m.fromCache&&c.source==="server"?h.reject(new te(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new bI(l,f,{includeMetadataChanges:!0,Z_:!0});return SI(s,p)}(await _c(t),t.asyncQueue,e,n,r)),r.promise}function cne(t,e){const n=new Yy(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){ye(i).K_.add(s),s.next()}(await _c(t),n)),()=>{n.La(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){ye(i).K_.delete(s)}(await _c(t),n))}}function hne(t,e,n,r){const i=function(o,l){let c;return c=typeof o=="string"?kF().encode(o):o,function(f,p){return new tne(f,p)}(function(f,p){if(f instanceof Uint8Array)return RP(f,p);if(f instanceof ArrayBuffer)return RP(new Uint8Array(f),p);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),l)}(n,Fd(e));t.asyncQueue.enqueueAndForget(async()=>{Zte(await FI(t),i,r)})}function fne(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=ye(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Ur.getNamedQuery(o,i))}(await MI(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t,e,n){if(!n)throw new te(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NV(t,e,n,r){if(e===!0&&r===!0)throw new te(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AP(t){if(!de.isDocumentKey(t))throw new te(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CP(t){if(de.isDocumentKey(t))throw new te(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function Tt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jy(t);throw new te(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function LV(t,e){if(e<=0)throw new te(q.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kV((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $d{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PP(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fZ;switch(r.type){case"firstParty":return new gZ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=bP.get(n);r&&(re("ComponentProvider","Removing Datastore"),bP.delete(n),r.terminate())}(this),Promise.resolve()}}function dne(t,e,n,r={}){var i;const s=(t=Tt(t,$d))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=zn.MOCK_USER;else{l=PL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new te(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new zn(h)}t._authCredentials=new dZ(new KM(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ar=class MV{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new MV(this.firestore,e,this._query)}},hn=class FV{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new FV(this.firestore,e,this._key)}},Zo=class VV extends Ar{constructor(e,n,r){super(e,n,Nc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new de(e))}withConverter(e){return new VV(this.firestore,e,this._path)}};function $V(t,e,...n){if(t=Mt(t),VI("collection","path",e),t instanceof $d){const r=vt.fromString(e,...n);return CP(r),new Zo(t,null,r)}{if(!(t instanceof hn||t instanceof Zo))throw new te(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return CP(r),new Zo(t.firestore,null,r)}}function pne(t,e){if(t=Tt(t,$d),VI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new te(q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ar(t,null,function(r){return new ho(vt.emptyPath(),r)}(e))}function Ug(t,e,...n){if(t=Mt(t),arguments.length===1&&(e=HM.V()),VI("doc","path",e),t instanceof $d){const r=vt.fromString(e,...n);return AP(r),new hn(t,null,new de(r))}{if(!(t instanceof hn||t instanceof Zo))throw new te(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return AP(r),new hn(t.firestore,t instanceof Zo?t.converter:null,new de(r))}}function jV(t,e){return t=Mt(t),e=Mt(e),(t instanceof hn||t instanceof Zo)&&(e instanceof hn||e instanceof Zo)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function BV(t,e){return t=Mt(t),e=Mt(e),t instanceof Ar&&e instanceof Ar&&t.firestore===e.firestore&&Dd(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mne{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new _I(this,"async_queue_retry"),this.ou=()=>{const n=km();n&&re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=km();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new Wn;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!Ia(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{this.nu=r,this.ru=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw An("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const i=II.createAndSchedule(this,e,n,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&Se()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}function VE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class gne{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yne=-1;let Tn=class extends $d{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new mne}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||UV(this),this._firestoreClient.terminate()}};function Qn(t){return t._firestoreClient||UV(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function UV(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,h,f){return new WZ(l,c,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,kV(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ine(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function vne(t,e){qV(t=Tt(t,Tn));const n=Qn(t);if(n._uninitializedComponentsProvider)throw new te(q.FAILED_PRECONDITION,"SDK cache is already specified.");Yi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new NI;return zV(n,i,new bV(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function _ne(t){qV(t=Tt(t,Tn));const e=Qn(t);if(e._uninitializedComponentsProvider)throw new te(q.FAILED_PRECONDITION,"SDK cache is already specified.");Yi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new NI;return zV(e,r,new ene(r,n.cacheSizeBytes))}function zV(t,e,n){const r=new Wn;return t.asyncQueue.enqueue(async()=>{try{await Nm(t,n),await FE(t,e),r.resolve()}catch(i){const s=i;if(!AV(s))throw s;Yi("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function wne(t){if(t._initialized&&!t._terminated)throw new te(q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wn;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!qi.C())return Promise.resolve();const i=r+"main";await qi.delete(i)}(gI(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Ene(t){return function(n){const r=new Wn;return n.asyncQueue.enqueueAndForget(async()=>Ute(await FI(n),r)),r.promise}(Qn(t=Tt(t,Tn)))}function Tne(t){return one(Qn(t=Tt(t,Tn)))}function Ine(t){return ane(Qn(t=Tt(t,Tn)))}function Sne(t,e){const n=Qn(t=Tt(t,Tn)),r=new gne;return hne(n,t._databaseId,e,r),r}function xne(t,e){return fne(Qn(t=Tt(t,Tn)),e).then(n=>n?new Ar(t,null,n.query):null)}function qV(t){if(t._initialized||t._terminated)throw new te(q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts($n.fromBase64String(e))}catch(n){throw new te(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ts($n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rne=/^__.*__$/;class bne{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lc(e,this.data,n,this.fieldTransforms)}}class WV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class ev{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new ev(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return zg(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(e.length===0)throw this.gu("Document fields must not be empty");if(KV(this.Tu)&&Rne.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class Ane{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fd(e)}wu(e,n,r,i=!1){return new ev({Tu:e,methodName:n,yu:r,path:wn.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $l(t){const e=t._freezeSettings(),n=Fd(t._databaseId);return new Ane(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tv(t,e,n,r,i,s={}){const o=t.wu(s.merge||s.mergeFields?2:0,e,n,i);UI("Data must be an object, but it was:",o,r);const l=QV(r,o);let c,h;if(s.merge)c=new $r(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const m=$E(e,p,n);if(!o.contains(m))throw new te(q.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);XV(f,m)||f.push(m)}c=new $r(f),h=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,h=o.fieldTransforms;return new bne(new tr(l),c,h)}class jd extends Vl{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.gu(`${this._methodName}() can only appear at the top level of your update data`):e.gu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jd}}function HV(t,e,n){return new ev({Tu:3,yu:e.settings.yu,methodName:t._methodName,Ru:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $I extends Vl{_toFieldTransform(e){return new Nd(e.path,new fc)}isEqual(e){return e instanceof $I}}class Cne extends Vl{constructor(e,n){super(e),this.Su=n}_toFieldTransform(e){const n=HV(this,e,!0),r=this.Su.map(s=>jl(s,n)),i=new Sl(r);return new Nd(e.path,i)}isEqual(e){return this===e}}class Pne extends Vl{constructor(e,n){super(e),this.Su=n}_toFieldTransform(e){const n=HV(this,e,!0),r=this.Su.map(s=>jl(s,n)),i=new xl(r);return new Nd(e.path,i)}isEqual(e){return this===e}}class One extends Vl{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=new dc(e.serializer,SF(e.serializer,this.bu));return new Nd(e.path,n)}isEqual(e){return this===e}}function jI(t,e,n,r){const i=t.wu(1,e,n);UI("Data must be an object, but it was:",i,r);const s=[],o=tr.empty();Fl(r,(c,h)=>{const f=zI(e,c,n);h=Mt(h);const p=i.mu(f);if(h instanceof jd)s.push(f);else{const m=jl(h,p);m!=null&&(s.push(f),o.set(f,m))}});const l=new $r(s);return new WV(o,l,i.fieldTransforms)}function BI(t,e,n,r,i,s){const o=t.wu(1,e,n),l=[$E(e,r,n)],c=[i];if(s.length%2!=0)throw new te(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push($E(e,s[m])),c.push(s[m+1]);const h=[],f=tr.empty();for(let m=l.length-1;m>=0;--m)if(!XV(h,l[m])){const y=l[m];let v=c[m];v=Mt(v);const w=o.mu(y);if(v instanceof jd)h.push(y);else{const R=jl(v,w);R!=null&&(h.push(y),f.set(y,R))}}const p=new $r(h);return new WV(f,p,o.fieldTransforms)}function GV(t,e,n,r=!1){return jl(n,t.wu(r?4:3,e))}function jl(t,e){if(YV(t=Mt(t)))return UI("Unsupported field value:",e,t),QV(t,e);if(t instanceof Vl)return function(r,i){if(!KV(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&e.Tu!==4)throw e.gu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=jl(l,i.fu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=rn.fromDate(r);return{timestampValue:pc(i.serializer,s)}}if(r instanceof rn){const s=new rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pc(i.serializer,s)}}if(r instanceof Zy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ts)return{bytesValue:MF(i.serializer,r._byteString)};if(r instanceof hn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cI(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${Jy(r)}`)}(t,e)}function QV(t,e){const n={};return iF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fl(t,(r,i)=>{const s=jl(i,e.Au(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function YV(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rn||t instanceof Zy||t instanceof Ts||t instanceof hn||t instanceof Vl)}function UI(t,e,n){if(!YV(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Jy(n);throw r==="an object"?e.gu(t+" a custom object"):e.gu(t+" "+r)}}function $E(t,e,n){if((e=Mt(e))instanceof fa)return e._internalPath;if(typeof e=="string")return zI(t,e);throw zg("Field path arguments must be of type string or ",t,!1,void 0,n)}const Dne=new RegExp("[~\\*/\\[\\]]");function zI(t,e,n){if(e.search(Dne)>=0)throw zg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fa(...e.split("."))._internalPath}catch{throw zg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new te(q.INVALID_ARGUMENT,l+t+c)}function XV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kne extends rd{data(){return super.data()}}function nv(t,e){return typeof e=="string"?zI(t,e):e instanceof fa?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qI{}class Bd extends qI{}function Co(t,e,...n){let r=[];e instanceof qI&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof WI).length,l=s.filter(c=>c instanceof rv).length;if(o>1||o>0&&l>0)throw new te(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class rv extends Bd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new rv(e,n,r)}_apply(e){const n=this._parse(e);return e$(e._query,n),new Ar(e.firestore,e.converter,RE(e._query,n))}_parse(e){const n=$l(e.firestore);return function(s,o,l,c,h,f,p){let m;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new te(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){DP(p,f);const y=[];for(const v of p)y.push(OP(c,s,v));m={arrayValue:{values:y}}}else m=OP(c,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||DP(p,f),m=GV(l,o,p,f==="in"||f==="not-in");return ft.create(h,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Nne(t,e,n){const r=e,i=nv("where",t);return rv._create(i,r,n)}class WI extends qI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new WI(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)e$(o,c),o=RE(o,c)}(e._query,n),new Ar(e.firestore,e.converter,RE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class KI extends Bd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new KI(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new te(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new te(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Wu(s,o);return function(h,f){if(nI(h)===null){const p=zy(h);p!==null&&t$(h,p,f.field)}}(i,l),l}(e._query,this._field,this._direction);return new Ar(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ho(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Lne(t,e="asc"){const n=e,r=nv("orderBy",t);return KI._create(r,n)}class iv extends Bd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new iv(e,n,r)}_apply(e){return new Ar(e.firestore,e.converter,Ng(e._query,this._limit,this._limitType))}}function Mne(t){return LV("limit",t),iv._create("limit",t,"F")}function Fne(t){return LV("limitToLast",t),iv._create("limitToLast",t,"L")}class sv extends Bd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new sv(e,n,r)}_apply(e){const n=ZV(e,this.type,this._docOrFields,this._inclusive);return new Ar(e.firestore,e.converter,function(i,s){return new ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function Vne(...t){return sv._create("startAt",t,!0)}function $ne(...t){return sv._create("startAfter",t,!1)}class ov extends Bd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ov(e,n,r)}_apply(e){const n=ZV(e,this.type,this._docOrFields,this._inclusive);return new Ar(e.firestore,e.converter,function(i,s){return new ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function jne(...t){return ov._create("endBefore",t,!1)}function Bne(...t){return ov._create("endAt",t,!0)}function ZV(t,e,n,r){if(n[0]=Mt(n[0]),n[0]instanceof rd)return function(s,o,l,c,h){if(!c)throw new te(q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const f=[];for(const p of Ku(s))if(p.field.isKeyField())f.push(Tl(o,c.key));else{const m=c.data.field(p.field);if(Uy(m))throw new te(q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){const y=p.field.canonicalString();throw new te(q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}f.push(m)}return new ca(f,h)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=$l(t.firestore);return function(o,l,c,h,f,p){const m=o.explicitOrderBy;if(f.length>m.length)throw new te(q.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let v=0;v<f.length;v++){const w=f[v];if(m[v].field.isKeyField()){if(typeof w!="string")throw new te(q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof w}`);if(!rI(o)&&w.indexOf("/")!==-1)throw new te(q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${w}' contains a slash.`);const R=o.path.child(vt.fromString(w));if(!de.isDocumentKey(R))throw new te(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const T=new de(R);y.push(Tl(l,T))}else{const R=GV(c,h,w);y.push(R)}}return new ca(y,p)}(t._query,t.firestore._databaseId,i,e,n,r)}}function OP(t,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new te(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rI(e)&&n.indexOf("/")!==-1)throw new te(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vt.fromString(n));if(!de.isDocumentKey(r))throw new te(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tl(t,new de(r))}if(n instanceof hn)return Tl(t,n._key);throw new te(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jy(n)}.`)}function DP(t,e){if(!Array.isArray(t)||t.length===0)throw new te(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e$(t,e){if(e.isInequality()){const r=zy(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new te(q.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=nI(t);s!==null&&t$(t,i,s)}const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function t$(t,e,n){if(!n.isEqual(e))throw new te(q.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class HI{convertValue(e,n="none"){switch(El(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Zy(vn(e.latitude),vn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=eI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yf(e));default:return null}}convertTimestamp(e){const n=oa(e);return new rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);Le(KF(r));const i=new la(r.get(1),r.get(3)),s=new de(r.popFirst(5));return i.isEqual(n)||An(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Une extends HI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let oo=class extends rd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},cf=class extends oo{data(e={}){return super.data(e)}},da=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new rl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cf(this._firestore,this._userDataWriter,r.key,r,new rl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new cf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new rl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new cf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new rl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:zne(l.type),doc:c,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function zne(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}function n$(t,e){return t instanceof oo&&e instanceof oo?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof da&&e instanceof da&&t._firestore===e._firestore&&BV(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qne(t){t=Tt(t,hn);const e=Tt(t.firestore,Tn);return OV(Qn(e),t._key).then(n=>GI(e,t,n))}class Bl extends HI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function Wne(t){t=Tt(t,hn);const e=Tt(t.firestore,Tn),n=Qn(e),r=new Bl(e);return lne(n,t._key).then(i=>new oo(e,r,t._key,i,new rl(i!==null&&i.hasLocalMutations,!0),t.converter))}function Kne(t){t=Tt(t,hn);const e=Tt(t.firestore,Tn);return OV(Qn(e),t._key,{source:"server"}).then(n=>GI(e,t,n))}function Hne(t){t=Tt(t,Ar);const e=Tt(t.firestore,Tn),n=Qn(e),r=new Bl(e);return JV(t._query),DV(n,t._query).then(i=>new da(e,r,t,i))}function Gne(t){t=Tt(t,Ar);const e=Tt(t.firestore,Tn),n=Qn(e),r=new Bl(e);return une(n,t._query).then(i=>new da(e,r,t,i))}function Qne(t){t=Tt(t,Ar);const e=Tt(t.firestore,Tn),n=Qn(e),r=new Bl(e);return DV(n,t._query,{source:"server"}).then(i=>new da(e,r,t,i))}function kP(t,e,n){t=Tt(t,hn);const r=Tt(t.firestore,Tn),i=av(t.converter,e,n);return Ud(r,[tv($l(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,nn.none())])}function NP(t,e,n,...r){t=Tt(t,hn);const i=Tt(t.firestore,Tn),s=$l(i);let o;return o=typeof(e=Mt(e))=="string"||e instanceof fa?BI(s,"updateDoc",t._key,e,n,r):jI(s,"updateDoc",t._key,e),Ud(i,[o.toMutation(t._key,nn.exists(!0))])}function Yne(t){return Ud(Tt(t.firestore,Tn),[new Mc(t._key,nn.none())])}function Xne(t,e){const n=Tt(t.firestore,Tn),r=Ug(t),i=av(t.converter,e);return Ud(n,[tv($l(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,nn.exists(!1))]).then(()=>r)}function r$(t,...e){var n,r,i;t=Mt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||VE(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges};if(VE(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,h,f;if(t instanceof hn)h=Tt(t.firestore,Tn),f=Nc(t._key.path),c={next:p=>{e[o]&&e[o](GI(h,t,p))},error:e[o+1],complete:e[o+2]};else{const p=Tt(t,Ar);h=Tt(p.firestore,Tn),f=p._query;const m=new Bl(h);c={next:y=>{e[o]&&e[o](new da(h,m,p,y))},error:e[o+1],complete:e[o+2]},JV(t._query)}return function(m,y,v,w){const R=new Yy(w),T=new bI(y,R,v);return m.asyncQueue.enqueueAndForget(async()=>SI(await _c(m),T)),()=>{R.La(),m.asyncQueue.enqueueAndForget(async()=>xI(await _c(m),T))}}(Qn(h),f,l,c)}function Jne(t,e){return cne(Qn(t=Tt(t,Tn)),VE(e)?e:{next:e})}function Ud(t,e){return function(r,i){const s=new Wn;return r.asyncQueue.enqueueAndForget(async()=>Vte(await FI(r),i,s)),s.promise}(Qn(t),e)}function GI(t,e,n){const r=n.docs.get(e._key),i=new Bl(t);return new oo(t,i,e._key,r,new rl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zne={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ere=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=$l(e)}set(e,n,r){this._verifyNotCommitted();const i=Vo(e,this._firestore),s=av(i.converter,n,r),o=tv(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,nn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Vo(e,this._firestore);let o;return o=typeof(n=Mt(n))=="string"||n instanceof fa?BI(this._dataReader,"WriteBatch.update",s._key,n,r,i):jI(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,nn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Vo(e,this._firestore);return this._mutations=this._mutations.concat(new Mc(n._key,nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new te(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Vo(t,e){if((t=Mt(t)).firestore!==e)throw new te(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tre=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=$l(n)}get(n){const r=Vo(n,this._firestore),i=new Une(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return Se();const o=s[0];if(o.isFoundDocument())return new rd(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new rd(this._firestore,i,r._key,null,r.converter);throw Se()})}set(n,r,i){const s=Vo(n,this._firestore),o=av(s.converter,r,i),l=tv(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,l),this}update(n,r,i,...s){const o=Vo(n,this._firestore);let l;return l=typeof(r=Mt(r))=="string"||r instanceof fa?BI(this._dataReader,"Transaction.update",o._key,r,i,s):jI(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,l),this}delete(n){const r=Vo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Vo(e,this._firestore),r=new Bl(this._firestore);return super.get(e).then(i=>new oo(this._firestore,r,n._key,i._document,new rl(!1,!1),n.converter))}};function nre(t,e,n){t=Tt(t,Tn);const r=Object.assign(Object.assign({},Zne),n);return function(s){if(s.maxAttempts<1)throw new te(q.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,l){const c=new Wn;return s.asyncQueue.enqueueAndForget(async()=>{const h=await sne(s);new rne(s.asyncQueue,h,l,o,c).run()}),c.promise}(Qn(t),i=>e(new tre(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rre(){return new jd("deleteField")}function ire(){return new $I("serverTimestamp")}function sre(...t){return new Cne("arrayUnion",t)}function ore(...t){return new Pne("arrayRemove",t)}function are(t){return new One("increment",t)}(function(e,n=!0){(function(i){kc=i})(Sy),wl(new io("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Tn(new pZ(r.getProvider("auth-internal")),new vZ(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new te(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new la(h.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),vs(AC,"4.2.0",e),vs(AC,"4.2.0","esm2017")})();const lre={apiKey:"AIzaSyD7w6wRVPsf0DaH2YARMaFKXWJHjPsSd3s",authDomain:"pokemon-go-gym.firebaseapp.com",projectId:"pokemon-go-gym",storageBucket:"pokemon-go-gym.appspot.com",messagingSenderId:"48932195856",appId:"1:48932195856:web:93f21318228a7976e34495"};Pc.initializeApp(lre);const ure="@firebase/firestore-compat",cre="0.3.18";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new te("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(){if(typeof Uint8Array>"u")throw new te("unimplemented","Uint8Arrays are not available in this environment.")}function MP(){if(!zZ())throw new te("unimplemented","Blobs are unavailable in Firestore in this environment.")}let i$=class jE{constructor(e){this._delegate=e}static fromBase64String(e){return MP(),new jE(Ts.fromBase64String(e))}static fromUint8Array(e){return LP(),new jE(Ts.fromUint8Array(e))}toBase64(){return MP(),this._delegate.toBase64()}toUint8Array(){return LP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t){return hre(t,["next","error","complete"])}function hre(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fre{enableIndexedDbPersistence(e,n){return vne(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return _ne(e._delegate)}clearIndexedDbPersistence(e){return wne(e._delegate)}}class s${constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof la||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Yi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){dne(this._delegate,e,n,r)}enableNetwork(){return Tne(this._delegate)}disableNetwork(){return Ine(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,NV("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Ene(this._delegate)}onSnapshotsInSync(e){return Jne(this._delegate,e)}get app(){if(!this._appCompat)throw new te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new wc(this,$V(this._delegate,e))}catch(n){throw Tr(n,"collection()","Firestore.collection()")}}doc(e){try{return new Si(this,Ug(this._delegate,e))}catch(n){throw Tr(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Er(this,pne(this._delegate,e))}catch(n){throw Tr(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return nre(this._delegate,n=>e(new o$(this,n)))}batch(){return Qn(this._delegate),new a$(new ere(this._delegate,e=>Ud(this._delegate,e)))}loadBundle(e){return Sne(this._delegate,e)}namedQuery(e){return xne(this._delegate,e).then(n=>n?new Er(this,n):null)}}class lv extends HI{constructor(e){super(),this.firestore=e}convertBytes(e){return new i$(new Ts(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Si.forKey(n,this.firestore,null)}}function dre(t){cZ(t)}class o${constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new lv(e)}get(e){const n=il(e);return this._delegate.get(n).then(r=>new id(this._firestore,new oo(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=il(e);return r?(QI("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=il(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=il(e);return this._delegate.delete(n),this}}class a${constructor(e){this._delegate=e}set(e,n,r){const i=il(e);return r?(QI("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=il(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=il(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Cl{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new cf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sd(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Cl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Cl(e,new lv(e),n),i.set(n,s)),s}}Cl.INSTANCES=new WeakMap;class Si{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new lv(e)}static forPath(e,n,r){if(e.length%2!==0)throw new te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Si(n,new hn(n._delegate,r,new de(e)))}static forKey(e,n,r){return new Si(n,new hn(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new wc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new wc(this.firestore,$V(this._delegate,e))}catch(n){throw Tr(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Mt(e),e instanceof hn?jV(this._delegate,e):!1}set(e,n){n=QI("DocumentReference.set",n);try{return n?kP(this._delegate,e,n):kP(this._delegate,e)}catch(r){throw Tr(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?NP(this._delegate,e):NP(this._delegate,e,n,...r)}catch(i){throw Tr(i,"updateDoc()","DocumentReference.update()")}}delete(){return Yne(this._delegate)}onSnapshot(...e){const n=l$(e),r=u$(e,i=>new id(this.firestore,new oo(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return r$(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Wne(this._delegate):(e==null?void 0:e.source)==="server"?n=Kne(this._delegate):n=qne(this._delegate),n.then(r=>new id(this.firestore,new oo(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Si(this.firestore,e?this._delegate.withConverter(Cl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Tr(t,e,n){return t.message=t.message.replace(e,n),t}function l$(t){for(const e of t)if(typeof e=="object"&&!BE(e))return e;return{}}function u$(t,e){var n,r;let i;return BE(t[0])?i=t[0]:BE(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class id{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Si(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return n$(this._delegate,e._delegate)}}class sd extends id{data(e){const n=this._delegate.data(e);return hZ(n!==void 0),n}}class Er{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new lv(e)}where(e,n,r){try{return new Er(this.firestore,Co(this._delegate,Nne(e,n,r)))}catch(i){throw Tr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Er(this.firestore,Co(this._delegate,Lne(e,n)))}catch(r){throw Tr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Er(this.firestore,Co(this._delegate,Mne(e)))}catch(n){throw Tr(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Er(this.firestore,Co(this._delegate,Fne(e)))}catch(n){throw Tr(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Er(this.firestore,Co(this._delegate,Vne(...e)))}catch(n){throw Tr(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Er(this.firestore,Co(this._delegate,$ne(...e)))}catch(n){throw Tr(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Er(this.firestore,Co(this._delegate,jne(...e)))}catch(n){throw Tr(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Er(this.firestore,Co(this._delegate,Bne(...e)))}catch(n){throw Tr(n,"endAt()","Query.endAt()")}}isEqual(e){return BV(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Gne(this._delegate):(e==null?void 0:e.source)==="server"?n=Qne(this._delegate):n=Hne(this._delegate),n.then(r=>new UE(this.firestore,new da(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=l$(e),r=u$(e,i=>new UE(this.firestore,new da(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return r$(this._delegate,n,r)}withConverter(e){return new Er(this.firestore,e?this._delegate.withConverter(Cl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class pre{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new sd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class UE{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Er(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new sd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new pre(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new sd(this._firestore,r))})}isEqual(e){return n$(this._delegate,e._delegate)}}class wc extends Er{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Si(this.firestore,e):null}doc(e){try{return e===void 0?new Si(this.firestore,Ug(this._delegate)):new Si(this.firestore,Ug(this._delegate,e))}catch(n){throw Tr(n,"doc()","CollectionReference.doc()")}}add(e){return Xne(this._delegate,e).then(n=>new Si(this.firestore,n))}isEqual(e){return jV(this._delegate,e._delegate)}withConverter(e){return new wc(this.firestore,e?this._delegate.withConverter(Cl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function il(t){return Tt(t,hn)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(...e){this._delegate=new fa(...e)}static documentId(){return new YI(wn.keyField().canonicalString())}isEqual(e){return e=Mt(e),e instanceof fa?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this._delegate=e}static serverTimestamp(){const e=ire();return e._methodName="FieldValue.serverTimestamp",new Ga(e)}static delete(){const e=rre();return e._methodName="FieldValue.delete",new Ga(e)}static arrayUnion(...e){const n=sre(...e);return n._methodName="FieldValue.arrayUnion",new Ga(n)}static arrayRemove(...e){const n=ore(...e);return n._methodName="FieldValue.arrayRemove",new Ga(n)}static increment(e){const n=are(e);return n._methodName="FieldValue.increment",new Ga(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mre={Firestore:s$,GeoPoint:Zy,Timestamp:rn,Blob:i$,Transaction:o$,WriteBatch:a$,DocumentReference:Si,DocumentSnapshot:id,Query:Er,QueryDocumentSnapshot:sd,QuerySnapshot:UE,CollectionReference:wc,FieldPath:YI,FieldValue:Ga,setLogLevel:dre,CACHE_SIZE_UNLIMITED:yne};function gre(t,e){t.INTERNAL.registerComponent(new io("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},mre)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yre(t){gre(t,(e,n)=>new s$(e,n,new fre)),t.registerVersion(ure,cre)}yre(Pc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$="firebasestorage.googleapis.com",h$="storageBucket",vre=2*60*1e3,_re=10*60*1e3,wre=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn extends _a{constructor(e,n,r=0){super(D0(e),`Firebase Storage: ${n} (${D0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return D0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xt||(Xt={}));function D0(t){return"storage/"+t}function XI(){const t="An unknown error occurred, please check the error payload for server response.";return new dn(Xt.UNKNOWN,t)}function Ere(t){return new dn(Xt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Tre(t){return new dn(Xt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ire(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dn(Xt.UNAUTHENTICATED,t)}function Sre(){return new dn(Xt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function xre(t){return new dn(Xt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function f$(){return new dn(Xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function d$(){return new dn(Xt.CANCELED,"User canceled the upload/download.")}function Rre(t){return new dn(Xt.INVALID_URL,"Invalid URL '"+t+"'.")}function bre(t){return new dn(Xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Are(){return new dn(Xt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+h$+"' property when initializing the app?")}function p$(){return new dn(Xt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Cre(){return new dn(Xt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Pre(){return new dn(Xt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Ore(t){return new dn(Xt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Gu(t){return new dn(Xt.INVALID_ARGUMENT,t)}function m$(){return new dn(Xt.APP_DELETED,"The Firebase app was deleted.")}function g$(t){return new dn(Xt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hf(t,e){return new dn(Xt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ph(t){throw new dn(Xt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=fr.makeFromUrl(e,n)}catch{return new fr(e,"")}if(r.path==="")return r;throw bre(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function h(E){E.path_=decodeURIComponent(E.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${f}/b/${i}/o${m}`,"i"),v={bucket:1,path:3},w=n===c$?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",T=new RegExp(`^https?://${w}/${i}/${R}`,"i"),I=[{regex:l,indices:c,postModify:s},{regex:y,indices:v,postModify:h},{regex:T,indices:{bucket:1,path:2},postModify:h}];for(let E=0;E<I.length;E++){const P=I[E],O=P.regex.exec(e);if(O){const D=O[P.indices.bucket];let N=O[P.indices.path];N||(N=""),r=new fr(D,N),P.postModify(r);break}}if(r==null)throw Rre(e);return r}}class Dre{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kre(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function c(){return l===2}let h=!1;function f(...R){h||(h=!0,e.apply(null,R))}function p(R){i=setTimeout(()=>{i=null,t(y,c())},R)}function m(){s&&clearTimeout(s)}function y(R,...T){if(h){m();return}if(R){m(),f.call(null,R,...T);return}if(c()||o){m(),f.call(null,R,...T);return}r<64&&(r*=2);let I;l===1?(l=2,I=0):I=(r+Math.random())*1e3,p(I)}let v=!1;function w(R){v||(v=!0,m(),!h&&(i!==null?(R||(l=2),clearTimeout(i),p(0)):R||(l=1)))}return p(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function Nre(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lre(t){return t!==void 0}function Mre(t){return typeof t=="function"}function Fre(t){return typeof t=="object"&&!Array.isArray(t)}function uv(t){return typeof t=="string"||t instanceof String}function FP(t){return JI()&&t instanceof Blob}function JI(){return typeof Blob<"u"&&!OL()}function zE(t,e,n,r){if(r<e)throw Gu(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Gu(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function y$(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ul;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ul||(ul={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre{constructor(e,n,r,i,s,o,l,c,h,f,p,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=p,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,v)=>{this.resolve_=y,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new am(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const c=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===ul.NO_ERROR,c=s.getStatus();if(!l||v$(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===ul.ABORT;r(!1,new am(!1,null,f));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new am(h,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Lre(c)?s(c):s()}catch(c){o(c)}else if(l!==null){const c=XI();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?m$():d$();o(c)}else{const c=f$();o(c)}};this.canceled_?n(!1,new am(!1,null,!0)):this.backoffId_=kre(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Nre(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class am{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function $re(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function jre(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Bre(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Ure(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zre(t,e,n,r,i,s,o=!0){const l=y$(t.urlParams),c=t.url+l,h=Object.assign({},t.headers);return Bre(h,e),$re(h,n),jre(h,s),Ure(h,r),new Vre(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qre(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Wre(...t){const e=qre();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(JI())return new Blob(t);throw new dn(Xt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Kre(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hre(t){if(typeof atob>"u")throw Ore("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class k0{constructor(e,n){this.data=e,this.contentType=n||null}}function _$(t,e){switch(t){case xi.RAW:return new k0(w$(e));case xi.BASE64:case xi.BASE64URL:return new k0(E$(t,e));case xi.DATA_URL:return new k0(Qre(e),Yre(e))}throw XI()}function w$(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Gre(t){let e;try{e=decodeURIComponent(t)}catch{throw hf(xi.DATA_URL,"Malformed data URL.")}return w$(e)}function E$(t,e){switch(t){case xi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw hf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case xi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw hf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Hre(e)}catch(i){throw i.message.includes("polyfill")?i:hf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class T${constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw hf(xi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Xre(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Qre(t){const e=new T$(t);return e.base64?E$(xi.BASE64,e.rest):Gre(e.rest)}function Yre(t){return new T$(t).contentType}function Xre(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){let r=0,i="";FP(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(FP(this.data_)){const r=this.data_,i=Kre(r,e,n);return i===null?null:new js(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new js(r,!0)}}static getBlob(...e){if(JI()){const n=e.map(r=>r instanceof js?r.data_:r);return new js(Wre.apply(null,n))}else{const n=e.map(o=>uv(o)?_$(xi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new js(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t){let e;try{e=JSON.parse(t)}catch{return null}return Fre(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jre(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Zre(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function I$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eie(t,e){return e}class _r{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||eie}}let lm=null;function tie(t){return!uv(t)||t.length<2?t:I$(t)}function cv(){if(lm)return lm;const t=[];t.push(new _r("bucket")),t.push(new _r("generation")),t.push(new _r("metageneration")),t.push(new _r("name","fullPath",!0));function e(s,o){return tie(o)}const n=new _r("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new _r("size");return i.xform=r,t.push(i),t.push(new _r("timeCreated")),t.push(new _r("updated")),t.push(new _r("md5Hash",null,!0)),t.push(new _r("cacheControl",null,!0)),t.push(new _r("contentDisposition",null,!0)),t.push(new _r("contentEncoding",null,!0)),t.push(new _r("contentLanguage",null,!0)),t.push(new _r("contentType",null,!0)),t.push(new _r("metadata","customMetadata",!0)),lm=t,lm}function nie(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new fr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function rie(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return nie(r,t),r}function S$(t,e,n){const r=ZI(e);return r===null?null:rie(t,r,n)}function iie(t,e,n,r){const i=ZI(e);if(i===null||!uv(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(h=>{const f=t.bucket,p=t.fullPath,m="/b/"+o(f)+"/o/"+o(p),y=Ra(m,n,r),v=y$({alt:"media",token:h});return y+v})[0]}function eS(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="prefixes",$P="items";function sie(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[VP])for(const i of n[VP]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new fr(e,s));r.prefixes.push(o)}if(n[$P])for(const i of n[$P]){const s=t._makeStorageReference(new fr(e,i.name));r.items.push(s)}return r}function oie(t,e,n){const r=ZI(n);return r===null?null:sie(t,e,r)}class mo{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t){if(!t)throw XI()}function hv(t,e){function n(r,i){const s=S$(t,i,e);return ws(s!==null),s}return n}function aie(t,e){function n(r,i){const s=oie(t,e,i);return ws(s!==null),s}return n}function lie(t,e){function n(r,i){const s=S$(t,i,e);return ws(s!==null),iie(s,i,t.host,t._protocol)}return n}function Bc(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Sre():i=Ire():n.getStatus()===402?i=Tre(t.bucket):n.getStatus()===403?i=xre(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function fv(t){const e=Bc(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Ere(t.path)),s.serverResponse=i.serverResponse,s}return n}function x$(t,e,n){const r=e.fullServerUrl(),i=Ra(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new mo(i,s,hv(t,n),o);return l.errorHandler=fv(e),l}function uie(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),l=Ra(o,t.host,t._protocol),c="GET",h=t.maxOperationRetryTime,f=new mo(l,c,aie(t,e.bucket),h);return f.urlParams=s,f.errorHandler=Bc(e),f}function cie(t,e,n){const r=e.fullServerUrl(),i=Ra(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new mo(i,s,lie(t,n),o);return l.errorHandler=fv(e),l}function hie(t,e,n,r){const i=e.fullServerUrl(),s=Ra(i,t.host,t._protocol),o="PATCH",l=eS(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=t.maxOperationRetryTime,f=new mo(s,o,hv(t,r),h);return f.headers=c,f.body=l,f.errorHandler=fv(e),f}function fie(t,e){const n=e.fullServerUrl(),r=Ra(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(c,h){}const l=new mo(r,i,o,s);return l.successCodes=[200,204],l.errorHandler=fv(e),l}function die(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function R$(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=die(null,e)),r}function pie(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let I="";for(let E=0;E<2;E++)I=I+Math.random().toString().slice(2);return I}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const h=R$(e,r,i),f=eS(h,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+c+"--",y=js.getBlob(p,r,m);if(y===null)throw p$();const v={name:h.fullPath},w=Ra(s,t.host,t._protocol),R="POST",T=t.maxUploadRetryTime,S=new mo(w,R,hv(t,n),T);return S.urlParams=v,S.headers=o,S.body=y.uploadData(),S.errorHandler=Bc(e),S}class qg{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function tS(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ws(!1)}return ws(!!n&&(e||["active"]).indexOf(n)!==-1),n}function mie(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=R$(e,r,i),l={name:o.fullPath},c=Ra(s,t.host,t._protocol),h="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},p=eS(o,n),m=t.maxUploadRetryTime;function y(w){tS(w);let R;try{R=w.getResponseHeader("X-Goog-Upload-URL")}catch{ws(!1)}return ws(uv(R)),R}const v=new mo(c,h,y,m);return v.urlParams=l,v.headers=f,v.body=p,v.errorHandler=Bc(e),v}function gie(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(h){const f=tS(h,["active","final"]);let p=null;try{p=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ws(!1)}p||ws(!1);const m=Number(p);return ws(!isNaN(m)),new qg(m,r.size(),f==="final")}const o="POST",l=t.maxUploadRetryTime,c=new mo(n,o,s,l);return c.headers=i,c.errorHandler=Bc(e),c}const jP=256*1024;function yie(t,e,n,r,i,s,o,l){const c=new qg(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw Cre();const h=c.total-c.current;let f=h;i>0&&(f=Math.min(f,i));const p=c.current,m=p+f;let y="";f===0?y="finalize":h===f?y="upload, finalize":y="upload";const v={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${c.current}`},w=r.slice(p,m);if(w===null)throw p$();function R(E,P){const O=tS(E,["active","final"]),D=c.current+f,N=r.size();let W;return O==="final"?W=hv(e,s)(E,P):W=null,new qg(D,N,O==="final",W)}const T="POST",S=e.maxUploadRetryTime,I=new mo(n,T,R,S);return I.headers=v,I.body=w.uploadData(),I.progressCallback=l||null,I.errorHandler=Bc(t),I}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vie={STATE_CHANGED:"state_changed"},Ir={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function N0(t){switch(t){case"running":case"pausing":case"canceling":return Ir.RUNNING;case"paused":return Ir.PAUSED;case"success":return Ir.SUCCESS;case"canceled":return Ir.CANCELED;case"error":return Ir.ERROR;default:return Ir.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ie{constructor(e,n,r){if(Mre(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class wie{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ul.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ul.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ul.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ph("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ph("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ph("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ph("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ph("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Eie extends wie{initXhr(){this.xhr_.responseType="text"}}function as(){return new Eie}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=cv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Xt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(v$(i.status,[]))if(s)i=f$();else{this.sleepTime=Math.max(this.sleepTime*2,wre),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Xt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=mie(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,as,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=gie(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,as,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=jP*this._chunkMultiplier,n=new qg(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=yie(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const l=this._ref.storage._makeRequest(o,as,i,s,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){jP*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=x$(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,as,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=pie(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,as,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=d$(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=N0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new _ie(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(N0(this._state)){case Ir.SUCCESS:fu(this._resolve.bind(null,this.snapshot))();break;case Ir.CANCELED:case Ir.ERROR:const n=this._reject;fu(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(N0(this._state)){case Ir.RUNNING:case Ir.PAUSED:e.next&&fu(e.next.bind(e,this.snapshot))();break;case Ir.SUCCESS:e.complete&&fu(e.complete.bind(e))();break;case Ir.CANCELED:case Ir.ERROR:e.error&&fu(e.error.bind(e,this._error))();break;default:e.error&&fu(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this._service=e,n instanceof fr?this._location=n:this._location=fr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Pl(e,n)}get root(){const e=new fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return I$(this._location.path)}get storage(){return this._service}get parent(){const e=Jre(this._location.path);if(e===null)return null;const n=new fr(this._location.bucket,e);return new Pl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw g$(e)}}function Tie(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new b$(t,new js(e),n)}function Iie(t){const e={prefixes:[],items:[]};return A$(t,e).then(()=>e)}async function A$(t,e,n){const i=await C$(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await A$(t,e,i.nextPageToken)}function C$(t,e){e!=null&&typeof e.maxResults=="number"&&zE("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=uie(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,as)}function Sie(t){t._throwIfRoot("getMetadata");const e=x$(t.storage,t._location,cv());return t.storage.makeRequestWithTokens(e,as)}function xie(t,e){t._throwIfRoot("updateMetadata");const n=hie(t.storage,t._location,e,cv());return t.storage.makeRequestWithTokens(n,as)}function Rie(t){t._throwIfRoot("getDownloadURL");const e=cie(t.storage,t._location,cv());return t.storage.makeRequestWithTokens(e,as).then(n=>{if(n===null)throw Pre();return n})}function bie(t){t._throwIfRoot("deleteObject");const e=fie(t.storage,t._location);return t.storage.makeRequestWithTokens(e,as)}function P$(t,e){const n=Zre(t._location.path,e),r=new fr(t._location.bucket,n);return new Pl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aie(t){return/^[A-Za-z]+:\/\//.test(t)}function Cie(t,e){return new Pl(t,e)}function O$(t,e){if(t instanceof nS){const n=t;if(n._bucket==null)throw Are();const r=new Pl(n,n._bucket);return e!=null?O$(r,e):r}else return e!==void 0?P$(t,e):t}function Pie(t,e){if(e&&Aie(e)){if(t instanceof nS)return Cie(t,e);throw Gu("To use ref(service, url), the first argument must be a Storage instance.")}else return O$(t,e)}function BP(t,e){const n=e==null?void 0:e[h$];return n==null?null:fr.makeFromBucketSpec(n,t)}function Oie(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:PL(i,t.app.options.projectId))}class nS{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=c$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vre,this._maxUploadRetryTime=_re,this._requests=new Set,i!=null?this._bucket=fr.makeFromBucketSpec(i,this._host):this._bucket=BP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,e):this._bucket=BP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Dre(m$());{const o=zre(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const UP="@firebase/storage",zP="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Die="storage";function kie(t,e,n){return t=Mt(t),Tie(t,e,n)}function Nie(t){return t=Mt(t),Sie(t)}function Lie(t,e){return t=Mt(t),xie(t,e)}function Mie(t,e){return t=Mt(t),C$(t,e)}function Fie(t){return t=Mt(t),Iie(t)}function Vie(t){return t=Mt(t),Rie(t)}function $ie(t){return t=Mt(t),bie(t)}function qP(t,e){return t=Mt(t),Pie(t,e)}function jie(t,e){return P$(t,e)}function Bie(t,e,n,r={}){Oie(t,e,n,r)}function Uie(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new nS(n,r,i,e,Sy)}function zie(){wl(new io(Die,Uie,"PUBLIC").setMultipleInstances(!0)),vs(UP,zP,""),vs(UP,zP,"esm2017")}zie();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new um(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new um(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(typeof n=="function"?s=o=>n(new um(o,this,this._ref)):s={next:n.next?o=>n.next(new um(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class KP{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Xs(e,this._service))}get items(){return this._delegate.items.map(e=>new Xs(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=jie(this._delegate,e);return new Xs(n,this.storage)}get root(){return new Xs(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new Xs(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new WP(kie(this._delegate,e,n),this)}putString(e,n=xi.RAW,r){this._throwIfRoot("putString");const i=_$(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new WP(new b$(this._delegate,new js(i.data,!0),s),this)}listAll(){return Fie(this._delegate).then(e=>new KP(e,this.storage))}list(e){return Mie(this._delegate,e||void 0).then(n=>new KP(n,this.storage))}getMetadata(){return Nie(this._delegate)}updateMetadata(e){return Lie(this._delegate,e)}getDownloadURL(){return Vie(this._delegate)}delete(){return this._throwIfRoot("delete"),$ie(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw g$(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(HP(e))throw Gu("ref() expected a child path but got a URL, use refFromURL instead.");return new Xs(qP(this._delegate,e),this)}refFromURL(e){if(!HP(e))throw Gu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{fr.makeFromUrl(e,this._delegate.host)}catch{throw Gu("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xs(qP(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){Bie(this._delegate,e,n,r)}}function HP(t){return/^[A-Za-z]+:\/\//.test(t)}const qie="@firebase/storage-compat",Wie="0.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kie="storage-compat";function Hie(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new D$(n,r)}function Gie(t){const e={TaskState:Ir,TaskEvent:vie,StringFormat:xi,Storage:D$,Reference:Xs};t.INTERNAL.registerComponent(new io(Kie,Hie,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(qie,Wie)}Gie(Pc);const rS=Pc.firestore(),Qie=async()=>{const t=await rS.collection("tier_collections").get();if(!t){console.log("tier collection is not exists.");return}const e=t.docs.map(r=>({tier:r.id,data:r.data()}));return await Promise.all(e)},Yie=()=>{const{handleTierPokemon:t,bestDamage:e,storeAllPokemon:n}=ui();x.useEffect(()=>{Qie().then(r=>{const i=r.sort((l,c)=>l.data.Order-c.data.Order),s={};for(let l=0;l<i.length;l++){const c=i[l].tier;s[c]||(s[c]=[]),s[c].push(i[l].data.Names)}const o=n.reduce((l,c)=>{if(c===void 0)return l;const{enName:h}=c,f=Object.keys(s).find(p=>s[p][0].includes(h));return f&&(l[f]||(l[f]=[]),l[f].push(c)),l},{});o&&t(o)})},[e])},Xie=async(t,e)=>{try{return(await t.get()).exists?(console.log(`${e} is ready exist!`),!0):(console.log(`${e} is not exist!`),!1)}catch(n){throw n}},Jie=(t,e,n)=>{const{Types:r,zhName:i,enName:s,pokeId:o,sprite:l}=n,c=rS.batch();c.set(t,{enName:s});for(let h=0;h<e;h++){const f=t.collection("shards").doc(h.toString());c.set(f,{count:0})}return c.commit()},Zie=(t,e,n)=>{const r=Math.floor(Math.random()*e).toString();return t.collection("shards").doc(r).update("count",Pc.firestore.FieldValue.increment(n))},ese=t=>{try{t.forEach((e,n)=>{tse({value:e,zhName:n})}),console.log("post success")}catch(e){console.log("post error",e)}},tse=async t=>{console.log("post data to firebase");const{zhName:e,value:n}=t,r=10,i=rS.collection("popular_pokemon_v2").doc(e);await Xie(i,e)||Jie(i,r,n).then(o=>console.log(`Create new pokemon ${e} successful.`)).catch(o=>console.log(`Something wrong when create pokemon, msg:${o.message}`)),await Zie(i,r,n.amount).then(o=>console.log(`${e} count is increase`)).catch(o=>console.log(o.message))},nse=()=>b.jsx("div",{style:{width:"100%",textAlign:"center"},children:b.jsx("div",{className:"loading"})}),rse=x.lazy(()=>T8(()=>Promise.resolve().then(()=>JG),void 0)),ise=()=>{const{page:t,clickImg:e,selectImg:n,AddRemoveImg:r,RemoveImg:i,showInfo_select:s,showType_select:o,showInfo_beenSelect:l,showType_beenSelect:c,showInfo_bestDamage:h,showType_bestDamage:f,storeAllPokemon:p,bestDamage:m,filterBestPokemon:y,tierPokemon:v}=ui();vY(),_Y(),console.log("production"),Yie(),x.useEffect(()=>{const R=T=>(T.preventDefault(),e.size>0&&ese(e),T.returnValue="Are you sure you want to exit?");return window.addEventListener("beforeunload",R),()=>{window.removeEventListener("beforeunload",R)}},[e]);const w=()=>{if(n.length!==0)return m.length===0?b.jsx("p",{className:"best-damage-no-data",children:"沒有共同相剋的屬性!"}):Object.keys(v).length>0?b.jsx(rL,{showInfo_select:h.type,showType_select:f.type,displayTier:v,bestDamage:m}):b.jsxs(b.Fragment,{children:[b.jsx("p",{}),b.jsx("p",{className:"best-damage-no-data",children:"目前沒有推薦屬性的神奇寶貝"})]})};return b.jsx("main",{children:b.jsxs("section",{className:"hero",children:[b.jsx(l0,{title:e0[0].title,typeClass:s.type,id:ms,children:b.jsx(x.Suspense,{fallback:b.jsx(nse,{}),children:b.jsx(rse,{showInfo_select:s.type,showType_select:o.type,displayCharacter:p.slice(0,t),handleClick:r,id:ms})})}),b.jsx(l0,{title:e0[1].title,typeClass:l.type,id:G1,children:b.jsx(iL,{showInfo_select:l.type,showType_select:c.type,displayCharacter:n,handleClick:i})}),b.jsx(l0,{title:e0[2].title,typeClass:h.type,id:pd,children:b.jsx(w,{})})]})})},L0=()=>b.jsx(b.Fragment,{children:b.jsxs(D8,{children:[b.jsx(ise,{}),b.jsx(Gk,{})]})}),sse=()=>{const t=new Date().getFullYear(),{textColor:e,bgColor:n}=va();return b.jsx("footer",{className:`bg-${n} p-3`,children:b.jsx("div",{className:"container",children:b.jsxs("p",{className:"text-center",children:["Copyright © ",t," Pokemon Gym. All Rights Reserved."]})})})},ose="/pokemon-Gym/assets/logo-0fa1e8ab.png";function ase(t){return dd({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z",clipRule:"evenodd"}}]})(t)}function lse(t){return dd({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.768 3.96v.001l-.002-.005a9.08 9.08 0 0 0-.218-.779c-.13-.394.21-.8.602-.67.29.096.575.205.855.328l.01.005A10.002 10.002 0 0 1 12 22a10.002 10.002 0 0 1-9.162-5.985l-.004-.01a9.722 9.722 0 0 1-.329-.855c-.13-.392.277-.732.67-.602.257.084.517.157.78.218l.004.002A9 9 0 0 0 14.999 6a9.09 9.09 0 0 0-.231-2.04ZM16.5 6c0 5.799-4.701 10.5-10.5 10.5-.426 0-.847-.026-1.26-.075A8.5 8.5 0 1 0 16.425 4.74c.05.413.075.833.075 1.259Z"}}]})(t)}function use(t){return dd({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 19a7 7 0 1 1 0-14 7 7 0 0 1 0 14Zm0-1.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 1 0 0 11Zm-5.657.157a.75.75 0 0 1 0 1.06l-1.768 1.768a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.767-1.768a.75.75 0 0 1 1.061 0ZM3.515 3.515a.75.75 0 0 1 1.06 0l1.768 1.768a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L3.515 4.575a.75.75 0 0 1 0-1.06ZM12 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 12 0ZM4 12a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 12Zm8 8a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 12 20Zm12-8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 24 12Zm-6.343 5.657a.75.75 0 0 1 1.06 0l1.768 1.768a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-1.768-1.767a.75.75 0 0 1 0-1.061Zm2.828-14.142a.75.75 0 0 1 0 1.06l-1.768 1.768a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l1.767-1.768a.75.75 0 0 1 1.061 0Z"}}]})(t)}const cse=()=>{const{isDarkMode:t,handleIsDarkMode:e}=va();return b.jsx(b.Fragment,{children:b.jsx(Yp,{expand:"md","data-bs-theme":"dark",className:"bg-primary",children:b.jsxs(rT,{expand:"md",children:[b.jsxs(Yp.Brand,{as:pu,to:"Gym",children:[b.jsx("img",{src:ose,width:"30",height:"30",className:"d-inline-block align-top",alt:"Welcome to pokemon gym"}),b.jsx("span",{className:"text-capitalize",children:"pokemon gym"})]}),b.jsx(Yp.Toggle,{"aria-controls":"responsive-navbar-nav",children:b.jsx(ase,{})}),b.jsx(Yp.Collapse,{id:"responsive-navbar-nav",className:"justify-content-end",children:b.jsxs(Eh,{children:[b.jsx("div",{className:"theme-toggle",onClick:()=>{e()},children:t?b.jsx(lse,{}):b.jsx(use,{})}),b.jsx(Eh.Link,{as:pu,to:"About",children:"關於"}),b.jsx(Eh.Link,{as:pu,to:"Pokedex",children:"圖鑑"}),b.jsx(Eh.Link,{as:pu,to:"Gym",children:"道館"}),b.jsx(Eh.Link,{as:pu,to:"Login",children:"登入/註冊"})]})})]})})})},hse=()=>b.jsx(b.Fragment,{children:b.jsxs(jG,{children:[b.jsx(cse,{}),b.jsx(Gk,{}),b.jsx(sse,{})]})}),M0=()=>b.jsxs("div",{id:"error-page",className:"text-center pt-5",children:[b.jsx("h1",{className:"text-danger",children:"Oops!"}),b.jsx("p",{className:"text-secondary",children:"Sorry, an unexpected error has occurred."}),b.jsx("p",{})]}),fse="/pokemon-Gym/assets/personal-avatar-234ffb1f.jpg",dse=()=>(va(),b.jsx("section",{className:"text-center",children:b.jsxs(rT,{children:[b.jsx("h1",{children:"關於"}),b.jsx("hr",{}),b.jsxs(BA,{className:"justify-content-md-center",children:[b.jsx(Fh,{md:"5",children:b.jsx("p",{children:"Pokemon Gym是一款在打道館時，可以快速選擇相抗衡角色的網頁工具。"})}),b.jsx(Fh,{md:"5",children:b.jsx("p",{children:"開發理念在於不需要記下屬性相抗表、角色屬性，只需要透過搜尋、選擇，自動幫使用者帶出推薦的資料，節省查詢角色、開新視窗，進一步透過塞選屬性功能，在多選時也能夠帶出推薦的屬性。"})})]}),b.jsxs(BA,{className:"justify-content-md-center align-items-end",children:[b.jsx(Fh,{md:"auto",children:b.jsx("img",{id:"avatar",src:fse,alt:"personal avatar"})}),b.jsx(Fh,{md:"6",children:b.jsx("div",{style:{fontSize:"0.8rem"},children:"本網頁由PaddyTian獨立開發，使用JavaScript, React開發，了解更多可以留言私訊。"})})]})]})})),du=t=>t.map(({name:e})=>md.filter(({enName:n})=>e===n)[0]),pse=({title:t,detail_item:e,textColor:n})=>b.jsxs(b.Fragment,{children:[b.jsx("h6",{className:`text-${n}`,children:t}),b.jsx("div",{className:"mb-2",children:e.length===0?b.jsx("span",{className:`text-${n}`,children:"-"}):e.map(({zhName:r,bgColor:i})=>b.jsx("span",{className:"ps-2 pe-2 ms-1 me-1 rounded-3 text-light",style:{backgroundColor:i,cursor:"pointer"},children:r},Hi()))})]}),GP=()=>{const{isDarkMode:t,bgColor:e,textColor:n}=va(),{storeAllTypes:r}=ui();let i=qk(),{type:s}=z7(),o=md.filter(W=>W.enName===s)[0],l=o==null?void 0:o.zhName,c=o==null?void 0:o.bgColor,h=r.filter(W=>W.name===s)[0],{damage_relations:f}=h||{},{double_damage_from:p,double_damage_to:m,half_damage_from:y,half_damage_to:v,no_damage_from:w,no_damage_to:R}=f||{},T=du(p),S=du(m),I=du(y),E=du(v),P=du(w),O=du(R);function D(){i(-1)}const N=[{title:"效果絕佳",detail_item:S},{title:"效果不好",detail_item:E},{title:"沒有效果",detail_item:O},{title:"遭受效果絕佳",detail_item:T},{title:"遭受效果不好",detail_item:I},{title:"沒有傷害",detail_item:P}];return b.jsxs($s,{show:!0,onHide:D,id:"typeView",fullscreen:"xs-down",children:[b.jsx($s.Header,{closeButton:!0,className:t?"bg-darkBg":"text-white-50",children:b.jsxs($s.Title,{children:[b.jsx("span",{style:{color:c},children:l}),b.jsx("span",{className:`text-${n}`,children:"屬性"})]})}),b.jsx($s.Body,{className:t?"bg-darkBg":"text-white-50",children:N.map(({title:W,detail_item:Y})=>b.jsx(pse,{title:W,detail_item:Y,textColor:n},Hi()))})]})},QP=()=>(va(),b.jsx("section",{className:"text-center fst-italic",children:b.jsx(rT,{children:b.jsx("h3",{children:"Coming Soon..."})})})),mse=a8([{path:"/Pokemon-Gym",element:b.jsx(hse,{}),errorElement:b.jsx(M0,{}),children:[{errorElement:b.jsx(M0,{}),children:[{index:!0,element:b.jsx(L0,{})},{path:"/Pokemon-Gym/",element:b.jsx(L0,{}),children:[{path:"type/:type",element:b.jsx(GP,{})}]},{path:"/Pokemon-Gym/Gym",element:b.jsx(L0,{}),children:[{path:"type/:type",element:b.jsx(GP,{})}]},{path:"/Pokemon-Gym/About",element:b.jsx(dse,{})},{path:"/Pokemon-Gym/Pokedex",element:b.jsx(QP,{})},{path:"/Pokemon-Gym/Login",element:b.jsx(QP,{})},{path:"*",element:b.jsx(M0,{})}]}]}]),gse=new bq;F0.createRoot(document.getElementById("root")).render(b.jsx(Qt.StrictMode,{children:b.jsxs(Bq,{client:gse,children:[b.jsx(m8,{router:mse}),b.jsx(Hq,{initialIsOpen:!1})]})}));
