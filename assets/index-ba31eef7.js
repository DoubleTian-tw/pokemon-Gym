function F6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function od(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var YP={exports:{}},Ug={},XP={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ad=Symbol.for("react.element"),V6=Symbol.for("react.portal"),$6=Symbol.for("react.fragment"),B6=Symbol.for("react.strict_mode"),j6=Symbol.for("react.profiler"),U6=Symbol.for("react.provider"),z6=Symbol.for("react.context"),q6=Symbol.for("react.forward_ref"),W6=Symbol.for("react.suspense"),K6=Symbol.for("react.memo"),H6=Symbol.for("react.lazy"),CR=Symbol.iterator;function G6(t){return t===null||typeof t!="object"?null:(t=CR&&t[CR]||t["@@iterator"],typeof t=="function"?t:null)}var JP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZP=Object.assign,eO={};function wc(t,e,n){this.props=t,this.context=e,this.refs=eO,this.updater=n||JP}wc.prototype.isReactComponent={};wc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tO(){}tO.prototype=wc.prototype;function zE(t,e,n){this.props=t,this.context=e,this.refs=eO,this.updater=n||JP}var qE=zE.prototype=new tO;qE.constructor=zE;ZP(qE,wc.prototype);qE.isPureReactComponent=!0;var PR=Array.isArray,nO=Object.prototype.hasOwnProperty,WE={current:null},rO={key:!0,ref:!0,__self:!0,__source:!0};function iO(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)nO.call(e,r)&&!rO.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ad,type:t,key:s,ref:o,props:i,_owner:WE.current}}function Q6(t,e){return{$$typeof:ad,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function KE(t){return typeof t=="object"&&t!==null&&t.$$typeof===ad}function Y6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var OR=/\/+/g;function T_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Y6(""+t.key):e.toString(36)}function um(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ad:case V6:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+T_(o,0):r,PR(i)?(n="",t!=null&&(n=t.replace(OR,"$&/")+"/"),um(i,e,n,"",function(h){return h})):i!=null&&(KE(i)&&(i=Q6(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(OR,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",PR(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+T_(s,l);o+=um(s,e,n,c,i)}else if(c=G6(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+T_(s,l++),o+=um(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cp(t,e,n){if(t==null)return t;var r=[],i=0;return um(t,r,"","",function(s){return e.call(n,s,i++)}),r}function X6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cr={current:null},cm={transition:null},J6={ReactCurrentDispatcher:Cr,ReactCurrentBatchConfig:cm,ReactCurrentOwner:WE};pt.Children={map:Cp,forEach:function(t,e,n){Cp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cp(t,function(){e++}),e},toArray:function(t){return Cp(t,function(e){return e})||[]},only:function(t){if(!KE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pt.Component=wc;pt.Fragment=$6;pt.Profiler=j6;pt.PureComponent=zE;pt.StrictMode=B6;pt.Suspense=W6;pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J6;pt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ZP({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=WE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)nO.call(e,c)&&!rO.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:ad,type:t.type,key:i,ref:s,props:r,_owner:o}};pt.createContext=function(t){return t={$$typeof:z6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:U6,_context:t},t.Consumer=t};pt.createElement=iO;pt.createFactory=function(t){var e=iO.bind(null,t);return e.type=t,e};pt.createRef=function(){return{current:null}};pt.forwardRef=function(t){return{$$typeof:q6,render:t}};pt.isValidElement=KE;pt.lazy=function(t){return{$$typeof:H6,_payload:{_status:-1,_result:t},_init:X6}};pt.memo=function(t,e){return{$$typeof:K6,type:t,compare:e===void 0?null:e}};pt.startTransition=function(t){var e=cm.transition;cm.transition={};try{t()}finally{cm.transition=e}};pt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};pt.useCallback=function(t,e){return Cr.current.useCallback(t,e)};pt.useContext=function(t){return Cr.current.useContext(t)};pt.useDebugValue=function(){};pt.useDeferredValue=function(t){return Cr.current.useDeferredValue(t)};pt.useEffect=function(t,e){return Cr.current.useEffect(t,e)};pt.useId=function(){return Cr.current.useId()};pt.useImperativeHandle=function(t,e,n){return Cr.current.useImperativeHandle(t,e,n)};pt.useInsertionEffect=function(t,e){return Cr.current.useInsertionEffect(t,e)};pt.useLayoutEffect=function(t,e){return Cr.current.useLayoutEffect(t,e)};pt.useMemo=function(t,e){return Cr.current.useMemo(t,e)};pt.useReducer=function(t,e,n){return Cr.current.useReducer(t,e,n)};pt.useRef=function(t){return Cr.current.useRef(t)};pt.useState=function(t){return Cr.current.useState(t)};pt.useSyncExternalStore=function(t,e,n){return Cr.current.useSyncExternalStore(t,e,n)};pt.useTransition=function(){return Cr.current.useTransition()};pt.version="18.2.0";XP.exports=pt;var x=XP.exports;const Yt=od(x),Z6=F6({__proto__:null,default:Yt},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e9=x,t9=Symbol.for("react.element"),n9=Symbol.for("react.fragment"),r9=Object.prototype.hasOwnProperty,i9=e9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s9={key:!0,ref:!0,__self:!0,__source:!0};function sO(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)r9.call(e,r)&&!s9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:t9,type:t,key:s,ref:o,props:i,_owner:i9.current}}Ug.Fragment=n9;Ug.jsx=sO;Ug.jsxs=sO;YP.exports=Ug;var A=YP.exports,L0={},oO={exports:{}},ai={},aO={exports:{}},lO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,he){var oe=H.length;H.push(he);e:for(;0<oe;){var _e=oe-1>>>1,be=H[_e];if(0<i(be,he))H[_e]=he,H[oe]=be,oe=_e;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var he=H[0],oe=H.pop();if(oe!==he){H[0]=oe;e:for(var _e=0,be=H.length,Ne=be>>>1;_e<Ne;){var $e=2*(_e+1)-1,ke=H[$e],at=$e+1,Zt=H[at];if(0>i(ke,oe))at<be&&0>i(Zt,ke)?(H[_e]=Zt,H[at]=oe,_e=at):(H[_e]=ke,H[$e]=oe,_e=$e);else if(at<be&&0>i(Zt,oe))H[_e]=Zt,H[at]=oe,_e=at;else break e}}return he}function i(H,he){var oe=H.sortIndex-he.sortIndex;return oe!==0?oe:H.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],h=[],f=1,p=null,m=3,y=!1,v=!1,w=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(H){for(var he=n(h);he!==null;){if(he.callback===null)r(h);else if(he.startTime<=H)r(h),he.sortIndex=he.expirationTime,e(c,he);else break;he=n(h)}}function E(H){if(w=!1,I(H),!v)if(n(c)!==null)v=!0,Ce(P);else{var he=n(h);he!==null&&Fe(E,he.startTime-H)}}function P(H,he){v=!1,w&&(w=!1,T(N),N=-1),y=!0;var oe=m;try{for(I(he),p=n(c);p!==null&&(!(p.expirationTime>he)||H&&!se());){var _e=p.callback;if(typeof _e=="function"){p.callback=null,m=p.priorityLevel;var be=_e(p.expirationTime<=he);he=t.unstable_now(),typeof be=="function"?p.callback=be:p===n(c)&&r(c),I(he)}else r(c);p=n(c)}if(p!==null)var Ne=!0;else{var $e=n(h);$e!==null&&Fe(E,$e.startTime-he),Ne=!1}return Ne}finally{p=null,m=oe,y=!1}}var O=!1,D=null,N=-1,q=5,Y=-1;function se(){return!(t.unstable_now()-Y<q)}function fe(){if(D!==null){var H=t.unstable_now();Y=H;var he=!0;try{he=D(!0,H)}finally{he?ve():(O=!1,D=null)}}else O=!1}var ve;if(typeof S=="function")ve=function(){S(fe)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,Ae=Ve.port2;Ve.port1.onmessage=fe,ve=function(){Ae.postMessage(null)}}else ve=function(){R(fe,0)};function Ce(H){D=H,O||(O=!0,ve())}function Fe(H,he){N=R(function(){H(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,Ce(P))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(H){switch(m){case 1:case 2:case 3:var he=3;break;default:he=m}var oe=m;m=he;try{return H()}finally{m=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,he){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var oe=m;m=H;try{return he()}finally{m=oe}},t.unstable_scheduleCallback=function(H,he,oe){var _e=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?_e+oe:_e):oe=_e,H){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=oe+be,H={id:f++,callback:he,priorityLevel:H,startTime:oe,expirationTime:be,sortIndex:-1},oe>_e?(H.sortIndex=oe,e(h,H),n(c)===null&&H===n(h)&&(w?(T(N),N=-1):w=!0,Fe(E,oe-_e))):(H.sortIndex=be,e(c,H),v||y||(v=!0,Ce(P))),H},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(H){var he=m;return function(){var oe=m;m=he;try{return H.apply(this,arguments)}finally{m=oe}}}})(lO);aO.exports=lO;var o9=aO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uO=x,ri=o9;function ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cO=new Set,ff={};function Pl(t,e){Gu(t,e),Gu(t+"Capture",e)}function Gu(t,e){for(ff[t]=e,t=0;t<e.length;t++)cO.add(e[t])}var Xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),M0=Object.prototype.hasOwnProperty,a9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DR={},kR={};function l9(t){return M0.call(kR,t)?!0:M0.call(DR,t)?!1:a9.test(t)?kR[t]=!0:(DR[t]=!0,!1)}function u9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function c9(t,e,n,r){if(e===null||typeof e>"u"||u9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ir[t]=new Pr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ir[e]=new Pr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ir[t]=new Pr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ir[t]=new Pr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ir[t]=new Pr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ir[t]=new Pr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ir[t]=new Pr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ir[t]=new Pr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ir[t]=new Pr(t,5,!1,t.toLowerCase(),null,!1,!1)});var HE=/[\-:]([a-z])/g;function GE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(HE,GE);ir[e]=new Pr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(HE,GE);ir[e]=new Pr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(HE,GE);ir[e]=new Pr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ir[t]=new Pr(t,1,!1,t.toLowerCase(),null,!1,!1)});ir.xlinkHref=new Pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ir[t]=new Pr(t,1,!1,t.toLowerCase(),null,!0,!0)});function QE(t,e,n,r){var i=ir.hasOwnProperty(e)?ir[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(c9(e,n,i,r)&&(n=null),r||i===null?l9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var oo=uO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pp=Symbol.for("react.element"),_u=Symbol.for("react.portal"),wu=Symbol.for("react.fragment"),YE=Symbol.for("react.strict_mode"),F0=Symbol.for("react.profiler"),hO=Symbol.for("react.provider"),fO=Symbol.for("react.context"),XE=Symbol.for("react.forward_ref"),V0=Symbol.for("react.suspense"),$0=Symbol.for("react.suspense_list"),JE=Symbol.for("react.memo"),Po=Symbol.for("react.lazy"),dO=Symbol.for("react.offscreen"),NR=Symbol.iterator;function oh(t){return t===null||typeof t!="object"?null:(t=NR&&t[NR]||t["@@iterator"],typeof t=="function"?t:null)}var fn=Object.assign,I_;function Oh(t){if(I_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);I_=e&&e[1]||""}return`
`+I_+t}var S_=!1;function x_(t,e){if(!t||S_)return"";S_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{S_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oh(t):""}function h9(t){switch(t.tag){case 5:return Oh(t.type);case 16:return Oh("Lazy");case 13:return Oh("Suspense");case 19:return Oh("SuspenseList");case 0:case 2:case 15:return t=x_(t.type,!1),t;case 11:return t=x_(t.type.render,!1),t;case 1:return t=x_(t.type,!0),t;default:return""}}function B0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wu:return"Fragment";case _u:return"Portal";case F0:return"Profiler";case YE:return"StrictMode";case V0:return"Suspense";case $0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fO:return(t.displayName||"Context")+".Consumer";case hO:return(t._context.displayName||"Context")+".Provider";case XE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case JE:return e=t.displayName||null,e!==null?e:B0(t.type)||"Memo";case Po:e=t._payload,t=t._init;try{return B0(t(e))}catch{}}return null}function f9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B0(e);case 8:return e===YE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function d9(t){var e=pO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Op(t){t._valueTracker||(t._valueTracker=d9(t))}function mO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=pO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function j0(t,e){var n=e.checked;return fn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function LR(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gO(t,e){e=e.checked,e!=null&&QE(t,"checked",e,!1)}function U0(t,e){gO(t,e);var n=Zo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?z0(t,e.type,n):e.hasOwnProperty("defaultValue")&&z0(t,e.type,Zo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function MR(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function z0(t,e,n){(e!=="number"||Nm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Dh=Array.isArray;function Nu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function q0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return fn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function FR(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ue(92));if(Dh(n)){if(1<n.length)throw Error(ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zo(n)}}function yO(t,e){var n=Zo(e.value),r=Zo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function VR(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function W0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dp,_O=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dp=Dp||document.createElement("div"),Dp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function df(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p9=["Webkit","ms","Moz","O"];Object.keys(zh).forEach(function(t){p9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zh[e]=zh[t]})});function wO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zh.hasOwnProperty(t)&&zh[t]?(""+e).trim():e+"px"}function EO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=wO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var m9=fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function K0(t,e){if(e){if(m9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function H0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G0=null;function ZE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Q0=null,Lu=null,Mu=null;function $R(t){if(t=cd(t)){if(typeof Q0!="function")throw Error(ue(280));var e=t.stateNode;e&&(e=Hg(e),Q0(t.stateNode,t.type,e))}}function TO(t){Lu?Mu?Mu.push(t):Mu=[t]:Lu=t}function IO(){if(Lu){var t=Lu,e=Mu;if(Mu=Lu=null,$R(t),e)for(t=0;t<e.length;t++)$R(e[t])}}function SO(t,e){return t(e)}function xO(){}var R_=!1;function RO(t,e,n){if(R_)return t(e,n);R_=!0;try{return SO(t,e,n)}finally{R_=!1,(Lu!==null||Mu!==null)&&(xO(),IO())}}function pf(t,e){var n=t.stateNode;if(n===null)return null;var r=Hg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,e,typeof n));return n}var Y0=!1;if(Xs)try{var ah={};Object.defineProperty(ah,"passive",{get:function(){Y0=!0}}),window.addEventListener("test",ah,ah),window.removeEventListener("test",ah,ah)}catch{Y0=!1}function g9(t,e,n,r,i,s,o,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var qh=!1,Lm=null,Mm=!1,X0=null,y9={onError:function(t){qh=!0,Lm=t}};function v9(t,e,n,r,i,s,o,l,c){qh=!1,Lm=null,g9.apply(y9,arguments)}function _9(t,e,n,r,i,s,o,l,c){if(v9.apply(this,arguments),qh){if(qh){var h=Lm;qh=!1,Lm=null}else throw Error(ue(198));Mm||(Mm=!0,X0=h)}}function Ol(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function BR(t){if(Ol(t)!==t)throw Error(ue(188))}function w9(t){var e=t.alternate;if(!e){if(e=Ol(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return BR(i),t;if(s===r)return BR(i),e;s=s.sibling}throw Error(ue(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:e}function AO(t){return t=w9(t),t!==null?CO(t):null}function CO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=CO(t);if(e!==null)return e;t=t.sibling}return null}var PO=ri.unstable_scheduleCallback,jR=ri.unstable_cancelCallback,E9=ri.unstable_shouldYield,T9=ri.unstable_requestPaint,bn=ri.unstable_now,I9=ri.unstable_getCurrentPriorityLevel,e1=ri.unstable_ImmediatePriority,OO=ri.unstable_UserBlockingPriority,Fm=ri.unstable_NormalPriority,S9=ri.unstable_LowPriority,DO=ri.unstable_IdlePriority,zg=null,hs=null;function x9(t){if(hs&&typeof hs.onCommitFiberRoot=="function")try{hs.onCommitFiberRoot(zg,t,void 0,(t.current.flags&128)===128)}catch{}}var Wi=Math.clz32?Math.clz32:A9,R9=Math.log,b9=Math.LN2;function A9(t){return t>>>=0,t===0?32:31-(R9(t)/b9|0)|0}var kp=64,Np=4194304;function kh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=kh(l):(s&=o,s!==0&&(r=kh(s)))}else o=n&~i,o!==0?r=kh(o):s!==0&&(r=kh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wi(e),i=1<<n,r|=t[n],e&=~i;return r}function C9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P9(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Wi(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=C9(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function J0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kO(){var t=kp;return kp<<=1,!(kp&4194240)&&(kp=64),t}function b_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ld(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wi(e),t[e]=n}function O9(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function t1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Dt=0;function NO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var LO,n1,MO,FO,VO,Z0=!1,Lp=[],Uo=null,zo=null,qo=null,mf=new Map,gf=new Map,No=[],D9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function UR(t,e){switch(t){case"focusin":case"focusout":Uo=null;break;case"dragenter":case"dragleave":zo=null;break;case"mouseover":case"mouseout":qo=null;break;case"pointerover":case"pointerout":mf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(e.pointerId)}}function lh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=cd(e),e!==null&&n1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function k9(t,e,n,r,i){switch(e){case"focusin":return Uo=lh(Uo,t,e,n,r,i),!0;case"dragenter":return zo=lh(zo,t,e,n,r,i),!0;case"mouseover":return qo=lh(qo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return mf.set(s,lh(mf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gf.set(s,lh(gf.get(s)||null,t,e,n,r,i)),!0}return!1}function $O(t){var e=Ga(t.target);if(e!==null){var n=Ol(e);if(n!==null){if(e=n.tag,e===13){if(e=bO(n),e!==null){t.blockedOn=e,VO(t.priority,function(){MO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ew(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);G0=r,n.target.dispatchEvent(r),G0=null}else return e=cd(n),e!==null&&n1(e),t.blockedOn=n,!1;e.shift()}return!0}function zR(t,e,n){hm(t)&&n.delete(e)}function N9(){Z0=!1,Uo!==null&&hm(Uo)&&(Uo=null),zo!==null&&hm(zo)&&(zo=null),qo!==null&&hm(qo)&&(qo=null),mf.forEach(zR),gf.forEach(zR)}function uh(t,e){t.blockedOn===e&&(t.blockedOn=null,Z0||(Z0=!0,ri.unstable_scheduleCallback(ri.unstable_NormalPriority,N9)))}function yf(t){function e(i){return uh(i,t)}if(0<Lp.length){uh(Lp[0],t);for(var n=1;n<Lp.length;n++){var r=Lp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Uo!==null&&uh(Uo,t),zo!==null&&uh(zo,t),qo!==null&&uh(qo,t),mf.forEach(e),gf.forEach(e),n=0;n<No.length;n++)r=No[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<No.length&&(n=No[0],n.blockedOn===null);)$O(n),n.blockedOn===null&&No.shift()}var Fu=oo.ReactCurrentBatchConfig,$m=!0;function L9(t,e,n,r){var i=Dt,s=Fu.transition;Fu.transition=null;try{Dt=1,r1(t,e,n,r)}finally{Dt=i,Fu.transition=s}}function M9(t,e,n,r){var i=Dt,s=Fu.transition;Fu.transition=null;try{Dt=4,r1(t,e,n,r)}finally{Dt=i,Fu.transition=s}}function r1(t,e,n,r){if($m){var i=ew(t,e,n,r);if(i===null)F_(t,e,r,Bm,n),UR(t,r);else if(k9(i,t,e,n,r))r.stopPropagation();else if(UR(t,r),e&4&&-1<D9.indexOf(t)){for(;i!==null;){var s=cd(i);if(s!==null&&LO(s),s=ew(t,e,n,r),s===null&&F_(t,e,r,Bm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else F_(t,e,r,null,n)}}var Bm=null;function ew(t,e,n,r){if(Bm=null,t=ZE(r),t=Ga(t),t!==null)if(e=Ol(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bm=t,null}function BO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I9()){case e1:return 1;case OO:return 4;case Fm:case S9:return 16;case DO:return 536870912;default:return 16}default:return 16}}var Vo=null,i1=null,fm=null;function jO(){if(fm)return fm;var t,e=i1,n=e.length,r,i="value"in Vo?Vo.value:Vo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return fm=i.slice(t,1<r?1-r:void 0)}function dm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mp(){return!0}function qR(){return!1}function li(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Mp:qR,this.isPropagationStopped=qR,this}return fn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mp)},persist:function(){},isPersistent:Mp}),e}var Ec={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},s1=li(Ec),ud=fn({},Ec,{view:0,detail:0}),F9=li(ud),A_,C_,ch,qg=fn({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ch&&(ch&&t.type==="mousemove"?(A_=t.screenX-ch.screenX,C_=t.screenY-ch.screenY):C_=A_=0,ch=t),A_)},movementY:function(t){return"movementY"in t?t.movementY:C_}}),WR=li(qg),V9=fn({},qg,{dataTransfer:0}),$9=li(V9),B9=fn({},ud,{relatedTarget:0}),P_=li(B9),j9=fn({},Ec,{animationName:0,elapsedTime:0,pseudoElement:0}),U9=li(j9),z9=fn({},Ec,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),q9=li(z9),W9=fn({},Ec,{data:0}),KR=li(W9),K9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=G9[t])?!!e[t]:!1}function o1(){return Q9}var Y9=fn({},ud,{key:function(t){if(t.key){var e=K9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?H9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o1,charCode:function(t){return t.type==="keypress"?dm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),X9=li(Y9),J9=fn({},qg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),HR=li(J9),Z9=fn({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o1}),ez=li(Z9),tz=fn({},Ec,{propertyName:0,elapsedTime:0,pseudoElement:0}),nz=li(tz),rz=fn({},qg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iz=li(rz),sz=[9,13,27,32],a1=Xs&&"CompositionEvent"in window,Wh=null;Xs&&"documentMode"in document&&(Wh=document.documentMode);var oz=Xs&&"TextEvent"in window&&!Wh,UO=Xs&&(!a1||Wh&&8<Wh&&11>=Wh),GR=String.fromCharCode(32),QR=!1;function zO(t,e){switch(t){case"keyup":return sz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Eu=!1;function az(t,e){switch(t){case"compositionend":return qO(e);case"keypress":return e.which!==32?null:(QR=!0,GR);case"textInput":return t=e.data,t===GR&&QR?null:t;default:return null}}function lz(t,e){if(Eu)return t==="compositionend"||!a1&&zO(t,e)?(t=jO(),fm=i1=Vo=null,Eu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return UO&&e.locale!=="ko"?null:e.data;default:return null}}var uz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uz[t.type]:e==="textarea"}function WO(t,e,n,r){TO(r),e=jm(e,"onChange"),0<e.length&&(n=new s1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kh=null,vf=null;function cz(t){nD(t,0)}function Wg(t){var e=Su(t);if(mO(e))return t}function hz(t,e){if(t==="change")return e}var KO=!1;if(Xs){var O_;if(Xs){var D_="oninput"in document;if(!D_){var XR=document.createElement("div");XR.setAttribute("oninput","return;"),D_=typeof XR.oninput=="function"}O_=D_}else O_=!1;KO=O_&&(!document.documentMode||9<document.documentMode)}function JR(){Kh&&(Kh.detachEvent("onpropertychange",HO),vf=Kh=null)}function HO(t){if(t.propertyName==="value"&&Wg(vf)){var e=[];WO(e,vf,t,ZE(t)),RO(cz,e)}}function fz(t,e,n){t==="focusin"?(JR(),Kh=e,vf=n,Kh.attachEvent("onpropertychange",HO)):t==="focusout"&&JR()}function dz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wg(vf)}function pz(t,e){if(t==="click")return Wg(e)}function mz(t,e){if(t==="input"||t==="change")return Wg(e)}function gz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hi=typeof Object.is=="function"?Object.is:gz;function _f(t,e){if(Hi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!M0.call(e,i)||!Hi(t[i],e[i]))return!1}return!0}function ZR(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eb(t,e){var n=ZR(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ZR(n)}}function GO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?GO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function QO(){for(var t=window,e=Nm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nm(t.document)}return e}function l1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yz(t){var e=QO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&GO(n.ownerDocument.documentElement,n)){if(r!==null&&l1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=eb(n,s);var o=eb(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vz=Xs&&"documentMode"in document&&11>=document.documentMode,Tu=null,tw=null,Hh=null,nw=!1;function tb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nw||Tu==null||Tu!==Nm(r)||(r=Tu,"selectionStart"in r&&l1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hh&&_f(Hh,r)||(Hh=r,r=jm(tw,"onSelect"),0<r.length&&(e=new s1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Tu)))}function Fp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Iu={animationend:Fp("Animation","AnimationEnd"),animationiteration:Fp("Animation","AnimationIteration"),animationstart:Fp("Animation","AnimationStart"),transitionend:Fp("Transition","TransitionEnd")},k_={},YO={};Xs&&(YO=document.createElement("div").style,"AnimationEvent"in window||(delete Iu.animationend.animation,delete Iu.animationiteration.animation,delete Iu.animationstart.animation),"TransitionEvent"in window||delete Iu.transitionend.transition);function Kg(t){if(k_[t])return k_[t];if(!Iu[t])return t;var e=Iu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in YO)return k_[t]=e[n];return t}var XO=Kg("animationend"),JO=Kg("animationiteration"),ZO=Kg("animationstart"),eD=Kg("transitionend"),tD=new Map,nb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function da(t,e){tD.set(t,e),Pl(e,[t])}for(var N_=0;N_<nb.length;N_++){var L_=nb[N_],_z=L_.toLowerCase(),wz=L_[0].toUpperCase()+L_.slice(1);da(_z,"on"+wz)}da(XO,"onAnimationEnd");da(JO,"onAnimationIteration");da(ZO,"onAnimationStart");da("dblclick","onDoubleClick");da("focusin","onFocus");da("focusout","onBlur");da(eD,"onTransitionEnd");Gu("onMouseEnter",["mouseout","mouseover"]);Gu("onMouseLeave",["mouseout","mouseover"]);Gu("onPointerEnter",["pointerout","pointerover"]);Gu("onPointerLeave",["pointerout","pointerover"]);Pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ez=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nh));function rb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_9(r,e,void 0,t),t.currentTarget=null}function nD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;rb(i,l,h),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;rb(i,l,h),s=c}}}if(Mm)throw t=X0,Mm=!1,X0=null,t}function Ht(t,e){var n=e[aw];n===void 0&&(n=e[aw]=new Set);var r=t+"__bubble";n.has(r)||(rD(e,t,2,!1),n.add(r))}function M_(t,e,n){var r=0;e&&(r|=4),rD(n,t,r,e)}var Vp="_reactListening"+Math.random().toString(36).slice(2);function wf(t){if(!t[Vp]){t[Vp]=!0,cO.forEach(function(n){n!=="selectionchange"&&(Ez.has(n)||M_(n,!1,t),M_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vp]||(e[Vp]=!0,M_("selectionchange",!1,e))}}function rD(t,e,n,r){switch(BO(e)){case 1:var i=L9;break;case 4:i=M9;break;default:i=r1}n=i.bind(null,e,n,t),i=void 0,!Y0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function F_(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ga(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}RO(function(){var h=s,f=ZE(n),p=[];e:{var m=tD.get(t);if(m!==void 0){var y=s1,v=t;switch(t){case"keypress":if(dm(n)===0)break e;case"keydown":case"keyup":y=X9;break;case"focusin":v="focus",y=P_;break;case"focusout":v="blur",y=P_;break;case"beforeblur":case"afterblur":y=P_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=WR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=$9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=ez;break;case XO:case JO:case ZO:y=U9;break;case eD:y=nz;break;case"scroll":y=F9;break;case"wheel":y=iz;break;case"copy":case"cut":case"paste":y=q9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=HR}var w=(e&4)!==0,R=!w&&t==="scroll",T=w?m!==null?m+"Capture":null:m;w=[];for(var S=h,I;S!==null;){I=S;var E=I.stateNode;if(I.tag===5&&E!==null&&(I=E,T!==null&&(E=pf(S,T),E!=null&&w.push(Ef(S,E,I)))),R)break;S=S.return}0<w.length&&(m=new y(m,v,null,n,f),p.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==G0&&(v=n.relatedTarget||n.fromElement)&&(Ga(v)||v[Js]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=h,v=v?Ga(v):null,v!==null&&(R=Ol(v),v!==R||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=h),y!==v)){if(w=WR,E="onMouseLeave",T="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(w=HR,E="onPointerLeave",T="onPointerEnter",S="pointer"),R=y==null?m:Su(y),I=v==null?m:Su(v),m=new w(E,S+"leave",y,n,f),m.target=R,m.relatedTarget=I,E=null,Ga(f)===h&&(w=new w(T,S+"enter",v,n,f),w.target=I,w.relatedTarget=R,E=w),R=E,y&&v)t:{for(w=y,T=v,S=0,I=w;I;I=ru(I))S++;for(I=0,E=T;E;E=ru(E))I++;for(;0<S-I;)w=ru(w),S--;for(;0<I-S;)T=ru(T),I--;for(;S--;){if(w===T||T!==null&&w===T.alternate)break t;w=ru(w),T=ru(T)}w=null}else w=null;y!==null&&ib(p,m,y,w,!1),v!==null&&R!==null&&ib(p,R,v,w,!0)}}e:{if(m=h?Su(h):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var P=hz;else if(YR(m))if(KO)P=mz;else{P=dz;var O=fz}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=pz);if(P&&(P=P(t,h))){WO(p,P,n,f);break e}O&&O(t,m,h),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&z0(m,"number",m.value)}switch(O=h?Su(h):window,t){case"focusin":(YR(O)||O.contentEditable==="true")&&(Tu=O,tw=h,Hh=null);break;case"focusout":Hh=tw=Tu=null;break;case"mousedown":nw=!0;break;case"contextmenu":case"mouseup":case"dragend":nw=!1,tb(p,n,f);break;case"selectionchange":if(vz)break;case"keydown":case"keyup":tb(p,n,f)}var D;if(a1)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Eu?zO(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(UO&&n.locale!=="ko"&&(Eu||N!=="onCompositionStart"?N==="onCompositionEnd"&&Eu&&(D=jO()):(Vo=f,i1="value"in Vo?Vo.value:Vo.textContent,Eu=!0)),O=jm(h,N),0<O.length&&(N=new KR(N,t,null,n,f),p.push({event:N,listeners:O}),D?N.data=D:(D=qO(n),D!==null&&(N.data=D)))),(D=oz?az(t,n):lz(t,n))&&(h=jm(h,"onBeforeInput"),0<h.length&&(f=new KR("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:h}),f.data=D))}nD(p,e)})}function Ef(t,e,n){return{instance:t,listener:e,currentTarget:n}}function jm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=pf(t,n),s!=null&&r.unshift(Ef(t,s,i)),s=pf(t,e),s!=null&&r.push(Ef(t,s,i))),t=t.return}return r}function ru(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ib(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=pf(n,s),c!=null&&o.unshift(Ef(n,c,l))):i||(c=pf(n,s),c!=null&&o.push(Ef(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Tz=/\r\n?/g,Iz=/\u0000|\uFFFD/g;function sb(t){return(typeof t=="string"?t:""+t).replace(Tz,`
`).replace(Iz,"")}function $p(t,e,n){if(e=sb(e),sb(t)!==e&&n)throw Error(ue(425))}function Um(){}var rw=null,iw=null;function sw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ow=typeof setTimeout=="function"?setTimeout:void 0,Sz=typeof clearTimeout=="function"?clearTimeout:void 0,ob=typeof Promise=="function"?Promise:void 0,xz=typeof queueMicrotask=="function"?queueMicrotask:typeof ob<"u"?function(t){return ob.resolve(null).then(t).catch(Rz)}:ow;function Rz(t){setTimeout(function(){throw t})}function V_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yf(e)}function Wo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ab(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Tc=Math.random().toString(36).slice(2),rs="__reactFiber$"+Tc,Tf="__reactProps$"+Tc,Js="__reactContainer$"+Tc,aw="__reactEvents$"+Tc,bz="__reactListeners$"+Tc,Az="__reactHandles$"+Tc;function Ga(t){var e=t[rs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Js]||n[rs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ab(t);t!==null;){if(n=t[rs])return n;t=ab(t)}return e}t=n,n=t.parentNode}return null}function cd(t){return t=t[rs]||t[Js],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Su(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function Hg(t){return t[Tf]||null}var lw=[],xu=-1;function pa(t){return{current:t}}function Xt(t){0>xu||(t.current=lw[xu],lw[xu]=null,xu--)}function jt(t,e){xu++,lw[xu]=t.current,t.current=e}var ea={},mr=pa(ea),jr=pa(!1),ul=ea;function Qu(t,e){var n=t.type.contextTypes;if(!n)return ea;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ur(t){return t=t.childContextTypes,t!=null}function zm(){Xt(jr),Xt(mr)}function lb(t,e,n){if(mr.current!==ea)throw Error(ue(168));jt(mr,e),jt(jr,n)}function iD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ue(108,f9(t)||"Unknown",i));return fn({},n,r)}function qm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ea,ul=mr.current,jt(mr,t),jt(jr,jr.current),!0}function ub(t,e,n){var r=t.stateNode;if(!r)throw Error(ue(169));n?(t=iD(t,e,ul),r.__reactInternalMemoizedMergedChildContext=t,Xt(jr),Xt(mr),jt(mr,t)):Xt(jr),jt(jr,n)}var Ls=null,Gg=!1,$_=!1;function sD(t){Ls===null?Ls=[t]:Ls.push(t)}function Cz(t){Gg=!0,sD(t)}function ma(){if(!$_&&Ls!==null){$_=!0;var t=0,e=Dt;try{var n=Ls;for(Dt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ls=null,Gg=!1}catch(i){throw Ls!==null&&(Ls=Ls.slice(t+1)),PO(e1,ma),i}finally{Dt=e,$_=!1}}return null}var Ru=[],bu=0,Wm=null,Km=0,_i=[],wi=0,cl=null,Bs=1,js="";function $a(t,e){Ru[bu++]=Km,Ru[bu++]=Wm,Wm=t,Km=e}function oD(t,e,n){_i[wi++]=Bs,_i[wi++]=js,_i[wi++]=cl,cl=t;var r=Bs;t=js;var i=32-Wi(r)-1;r&=~(1<<i),n+=1;var s=32-Wi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Bs=1<<32-Wi(e)+i|n<<i|r,js=s+t}else Bs=1<<s|n<<i|r,js=t}function u1(t){t.return!==null&&($a(t,1),oD(t,1,0))}function c1(t){for(;t===Wm;)Wm=Ru[--bu],Ru[bu]=null,Km=Ru[--bu],Ru[bu]=null;for(;t===cl;)cl=_i[--wi],_i[wi]=null,js=_i[--wi],_i[wi]=null,Bs=_i[--wi],_i[wi]=null}var ni=null,ti=null,tn=!1,Ui=null;function aD(t,e){var n=Ti(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ni=t,ti=Wo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ni=t,ti=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cl!==null?{id:Bs,overflow:js}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ti(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ni=t,ti=null,!0):!1;default:return!1}}function uw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cw(t){if(tn){var e=ti;if(e){var n=e;if(!cb(t,e)){if(uw(t))throw Error(ue(418));e=Wo(n.nextSibling);var r=ni;e&&cb(t,e)?aD(r,n):(t.flags=t.flags&-4097|2,tn=!1,ni=t)}}else{if(uw(t))throw Error(ue(418));t.flags=t.flags&-4097|2,tn=!1,ni=t}}}function hb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ni=t}function Bp(t){if(t!==ni)return!1;if(!tn)return hb(t),tn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sw(t.type,t.memoizedProps)),e&&(e=ti)){if(uw(t))throw lD(),Error(ue(418));for(;e;)aD(t,e),e=Wo(e.nextSibling)}if(hb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ti=Wo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ti=null}}else ti=ni?Wo(t.stateNode.nextSibling):null;return!0}function lD(){for(var t=ti;t;)t=Wo(t.nextSibling)}function Yu(){ti=ni=null,tn=!1}function h1(t){Ui===null?Ui=[t]:Ui.push(t)}var Pz=oo.ReactCurrentBatchConfig;function $i(t,e){if(t&&t.defaultProps){e=fn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Hm=pa(null),Gm=null,Au=null,f1=null;function d1(){f1=Au=Gm=null}function p1(t){var e=Hm.current;Xt(Hm),t._currentValue=e}function hw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vu(t,e){Gm=t,f1=Au=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fr=!0),t.firstContext=null)}function bi(t){var e=t._currentValue;if(f1!==t)if(t={context:t,memoizedValue:e,next:null},Au===null){if(Gm===null)throw Error(ue(308));Au=t,Gm.dependencies={lanes:0,firstContext:t}}else Au=Au.next=t;return e}var Qa=null;function m1(t){Qa===null?Qa=[t]:Qa.push(t)}function uD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,m1(e)):(n.next=i.next,i.next=n),e.interleaved=n,Zs(t,r)}function Zs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Oo=!1;function g1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ko(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Tt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Zs(t,n)}return i=r.interleaved,i===null?(e.next=e,m1(r)):(e.next=i.next,i.next=e),r.interleaved=e,Zs(t,n)}function pm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,t1(t,n)}}function fb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qm(t,e,n,r){var i=t.updateQueue;Oo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,o===null?s=h:o.next=h,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;o=0,f=h=c=null,l=s;do{var m=l.lane,y=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,w=l;switch(m=e,y=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){p=v.call(y,p,m);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,m=typeof v=="function"?v.call(y,p,m):v,m==null)break e;p=fn({},p,m);break e;case 2:Oo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=y,c=p):f=f.next=y,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(f===null&&(c=p),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);fl|=o,t.lanes=o,t.memoizedState=p}}function db(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ue(191,i));i.call(r)}}}var hD=new uO.Component().refs;function fw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:fn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qg={isMounted:function(t){return(t=t._reactInternals)?Ol(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xr(),i=Go(t),s=qs(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ko(t,s,i),e!==null&&(Ki(e,t,i,r),pm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xr(),i=Go(t),s=qs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ko(t,s,i),e!==null&&(Ki(e,t,i,r),pm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xr(),r=Go(t),i=qs(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ko(t,i,r),e!==null&&(Ki(e,t,r,n),pm(e,t,r))}};function pb(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!_f(n,r)||!_f(i,s):!0}function fD(t,e,n){var r=!1,i=ea,s=e.contextType;return typeof s=="object"&&s!==null?s=bi(s):(i=Ur(e)?ul:mr.current,r=e.contextTypes,s=(r=r!=null)?Qu(t,i):ea),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function mb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qg.enqueueReplaceState(e,e.state,null)}function dw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=hD,g1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=bi(s):(s=Ur(e)?ul:mr.current,i.context=Qu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fw(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qg.enqueueReplaceState(i,i.state,null),Qm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function hh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===hD&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,t))}return t}function jp(t,e){throw t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gb(t){var e=t._init;return e(t._payload)}function dD(t){function e(T,S){if(t){var I=T.deletions;I===null?(T.deletions=[S],T.flags|=16):I.push(S)}}function n(T,S){if(!t)return null;for(;S!==null;)e(T,S),S=S.sibling;return null}function r(T,S){for(T=new Map;S!==null;)S.key!==null?T.set(S.key,S):T.set(S.index,S),S=S.sibling;return T}function i(T,S){return T=Qo(T,S),T.index=0,T.sibling=null,T}function s(T,S,I){return T.index=I,t?(I=T.alternate,I!==null?(I=I.index,I<S?(T.flags|=2,S):I):(T.flags|=2,S)):(T.flags|=1048576,S)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function l(T,S,I,E){return S===null||S.tag!==6?(S=K_(I,T.mode,E),S.return=T,S):(S=i(S,I),S.return=T,S)}function c(T,S,I,E){var P=I.type;return P===wu?f(T,S,I.props.children,E,I.key):S!==null&&(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Po&&gb(P)===S.type)?(E=i(S,I.props),E.ref=hh(T,S,I),E.return=T,E):(E=wm(I.type,I.key,I.props,null,T.mode,E),E.ref=hh(T,S,I),E.return=T,E)}function h(T,S,I,E){return S===null||S.tag!==4||S.stateNode.containerInfo!==I.containerInfo||S.stateNode.implementation!==I.implementation?(S=H_(I,T.mode,E),S.return=T,S):(S=i(S,I.children||[]),S.return=T,S)}function f(T,S,I,E,P){return S===null||S.tag!==7?(S=sl(I,T.mode,E,P),S.return=T,S):(S=i(S,I),S.return=T,S)}function p(T,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return S=K_(""+S,T.mode,I),S.return=T,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Pp:return I=wm(S.type,S.key,S.props,null,T.mode,I),I.ref=hh(T,null,S),I.return=T,I;case _u:return S=H_(S,T.mode,I),S.return=T,S;case Po:var E=S._init;return p(T,E(S._payload),I)}if(Dh(S)||oh(S))return S=sl(S,T.mode,I,null),S.return=T,S;jp(T,S)}return null}function m(T,S,I,E){var P=S!==null?S.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return P!==null?null:l(T,S,""+I,E);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Pp:return I.key===P?c(T,S,I,E):null;case _u:return I.key===P?h(T,S,I,E):null;case Po:return P=I._init,m(T,S,P(I._payload),E)}if(Dh(I)||oh(I))return P!==null?null:f(T,S,I,E,null);jp(T,I)}return null}function y(T,S,I,E,P){if(typeof E=="string"&&E!==""||typeof E=="number")return T=T.get(I)||null,l(S,T,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pp:return T=T.get(E.key===null?I:E.key)||null,c(S,T,E,P);case _u:return T=T.get(E.key===null?I:E.key)||null,h(S,T,E,P);case Po:var O=E._init;return y(T,S,I,O(E._payload),P)}if(Dh(E)||oh(E))return T=T.get(I)||null,f(S,T,E,P,null);jp(S,E)}return null}function v(T,S,I,E){for(var P=null,O=null,D=S,N=S=0,q=null;D!==null&&N<I.length;N++){D.index>N?(q=D,D=null):q=D.sibling;var Y=m(T,D,I[N],E);if(Y===null){D===null&&(D=q);break}t&&D&&Y.alternate===null&&e(T,D),S=s(Y,S,N),O===null?P=Y:O.sibling=Y,O=Y,D=q}if(N===I.length)return n(T,D),tn&&$a(T,N),P;if(D===null){for(;N<I.length;N++)D=p(T,I[N],E),D!==null&&(S=s(D,S,N),O===null?P=D:O.sibling=D,O=D);return tn&&$a(T,N),P}for(D=r(T,D);N<I.length;N++)q=y(D,T,N,I[N],E),q!==null&&(t&&q.alternate!==null&&D.delete(q.key===null?N:q.key),S=s(q,S,N),O===null?P=q:O.sibling=q,O=q);return t&&D.forEach(function(se){return e(T,se)}),tn&&$a(T,N),P}function w(T,S,I,E){var P=oh(I);if(typeof P!="function")throw Error(ue(150));if(I=P.call(I),I==null)throw Error(ue(151));for(var O=P=null,D=S,N=S=0,q=null,Y=I.next();D!==null&&!Y.done;N++,Y=I.next()){D.index>N?(q=D,D=null):q=D.sibling;var se=m(T,D,Y.value,E);if(se===null){D===null&&(D=q);break}t&&D&&se.alternate===null&&e(T,D),S=s(se,S,N),O===null?P=se:O.sibling=se,O=se,D=q}if(Y.done)return n(T,D),tn&&$a(T,N),P;if(D===null){for(;!Y.done;N++,Y=I.next())Y=p(T,Y.value,E),Y!==null&&(S=s(Y,S,N),O===null?P=Y:O.sibling=Y,O=Y);return tn&&$a(T,N),P}for(D=r(T,D);!Y.done;N++,Y=I.next())Y=y(D,T,N,Y.value,E),Y!==null&&(t&&Y.alternate!==null&&D.delete(Y.key===null?N:Y.key),S=s(Y,S,N),O===null?P=Y:O.sibling=Y,O=Y);return t&&D.forEach(function(fe){return e(T,fe)}),tn&&$a(T,N),P}function R(T,S,I,E){if(typeof I=="object"&&I!==null&&I.type===wu&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Pp:e:{for(var P=I.key,O=S;O!==null;){if(O.key===P){if(P=I.type,P===wu){if(O.tag===7){n(T,O.sibling),S=i(O,I.props.children),S.return=T,T=S;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Po&&gb(P)===O.type){n(T,O.sibling),S=i(O,I.props),S.ref=hh(T,O,I),S.return=T,T=S;break e}n(T,O);break}else e(T,O);O=O.sibling}I.type===wu?(S=sl(I.props.children,T.mode,E,I.key),S.return=T,T=S):(E=wm(I.type,I.key,I.props,null,T.mode,E),E.ref=hh(T,S,I),E.return=T,T=E)}return o(T);case _u:e:{for(O=I.key;S!==null;){if(S.key===O)if(S.tag===4&&S.stateNode.containerInfo===I.containerInfo&&S.stateNode.implementation===I.implementation){n(T,S.sibling),S=i(S,I.children||[]),S.return=T,T=S;break e}else{n(T,S);break}else e(T,S);S=S.sibling}S=H_(I,T.mode,E),S.return=T,T=S}return o(T);case Po:return O=I._init,R(T,S,O(I._payload),E)}if(Dh(I))return v(T,S,I,E);if(oh(I))return w(T,S,I,E);jp(T,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,S!==null&&S.tag===6?(n(T,S.sibling),S=i(S,I),S.return=T,T=S):(n(T,S),S=K_(I,T.mode,E),S.return=T,T=S),o(T)):n(T,S)}return R}var Xu=dD(!0),pD=dD(!1),hd={},fs=pa(hd),If=pa(hd),Sf=pa(hd);function Ya(t){if(t===hd)throw Error(ue(174));return t}function y1(t,e){switch(jt(Sf,e),jt(If,t),jt(fs,hd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:W0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=W0(e,t)}Xt(fs),jt(fs,e)}function Ju(){Xt(fs),Xt(If),Xt(Sf)}function mD(t){Ya(Sf.current);var e=Ya(fs.current),n=W0(e,t.type);e!==n&&(jt(If,t),jt(fs,n))}function v1(t){If.current===t&&(Xt(fs),Xt(If))}var ln=pa(0);function Ym(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var B_=[];function _1(){for(var t=0;t<B_.length;t++)B_[t]._workInProgressVersionPrimary=null;B_.length=0}var mm=oo.ReactCurrentDispatcher,j_=oo.ReactCurrentBatchConfig,hl=0,cn=null,Fn=null,Un=null,Xm=!1,Gh=!1,xf=0,Oz=0;function lr(){throw Error(ue(321))}function w1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hi(t[n],e[n]))return!1;return!0}function E1(t,e,n,r,i,s){if(hl=s,cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mm.current=t===null||t.memoizedState===null?Lz:Mz,t=n(r,i),Gh){s=0;do{if(Gh=!1,xf=0,25<=s)throw Error(ue(301));s+=1,Un=Fn=null,e.updateQueue=null,mm.current=Fz,t=n(r,i)}while(Gh)}if(mm.current=Jm,e=Fn!==null&&Fn.next!==null,hl=0,Un=Fn=cn=null,Xm=!1,e)throw Error(ue(300));return t}function T1(){var t=xf!==0;return xf=0,t}function ns(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?cn.memoizedState=Un=t:Un=Un.next=t,Un}function Ai(){if(Fn===null){var t=cn.alternate;t=t!==null?t.memoizedState:null}else t=Fn.next;var e=Un===null?cn.memoizedState:Un.next;if(e!==null)Un=e,Fn=t;else{if(t===null)throw Error(ue(310));Fn=t,t={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},Un===null?cn.memoizedState=Un=t:Un=Un.next=t}return Un}function Rf(t,e){return typeof e=="function"?e(t):e}function U_(t){var e=Ai(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=Fn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,h=s;do{var f=h.lane;if((hl&f)===f)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=p,o=r):c=c.next=p,cn.lanes|=f,fl|=f}h=h.next}while(h!==null&&h!==s);c===null?o=r:c.next=l,Hi(r,e.memoizedState)||(Fr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,cn.lanes|=s,fl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function z_(t){var e=Ai(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Hi(s,e.memoizedState)||(Fr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function gD(){}function yD(t,e){var n=cn,r=Ai(),i=e(),s=!Hi(r.memoizedState,i);if(s&&(r.memoizedState=i,Fr=!0),r=r.queue,I1(wD.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Un!==null&&Un.memoizedState.tag&1){if(n.flags|=2048,bf(9,_D.bind(null,n,r,i,e),void 0,null),qn===null)throw Error(ue(349));hl&30||vD(n,e,i)}return i}function vD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _D(t,e,n,r){e.value=n,e.getSnapshot=r,ED(e)&&TD(t)}function wD(t,e,n){return n(function(){ED(e)&&TD(t)})}function ED(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hi(t,n)}catch{return!0}}function TD(t){var e=Zs(t,1);e!==null&&Ki(e,t,1,-1)}function yb(t){var e=ns();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rf,lastRenderedState:t},e.queue=t,t=t.dispatch=Nz.bind(null,cn,t),[e.memoizedState,t]}function bf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ID(){return Ai().memoizedState}function gm(t,e,n,r){var i=ns();cn.flags|=t,i.memoizedState=bf(1|e,n,void 0,r===void 0?null:r)}function Yg(t,e,n,r){var i=Ai();r=r===void 0?null:r;var s=void 0;if(Fn!==null){var o=Fn.memoizedState;if(s=o.destroy,r!==null&&w1(r,o.deps)){i.memoizedState=bf(e,n,s,r);return}}cn.flags|=t,i.memoizedState=bf(1|e,n,s,r)}function vb(t,e){return gm(8390656,8,t,e)}function I1(t,e){return Yg(2048,8,t,e)}function SD(t,e){return Yg(4,2,t,e)}function xD(t,e){return Yg(4,4,t,e)}function RD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bD(t,e,n){return n=n!=null?n.concat([t]):null,Yg(4,4,RD.bind(null,e,t),n)}function S1(){}function AD(t,e){var n=Ai();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&w1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function CD(t,e){var n=Ai();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&w1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function PD(t,e,n){return hl&21?(Hi(n,e)||(n=kO(),cn.lanes|=n,fl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fr=!0),t.memoizedState=n)}function Dz(t,e){var n=Dt;Dt=n!==0&&4>n?n:4,t(!0);var r=j_.transition;j_.transition={};try{t(!1),e()}finally{Dt=n,j_.transition=r}}function OD(){return Ai().memoizedState}function kz(t,e,n){var r=Go(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DD(t))kD(e,n);else if(n=uD(t,e,n,r),n!==null){var i=xr();Ki(n,t,r,i),ND(n,e,r)}}function Nz(t,e,n){var r=Go(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DD(t))kD(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Hi(l,o)){var c=e.interleaved;c===null?(i.next=i,m1(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=uD(t,e,i,r),n!==null&&(i=xr(),Ki(n,t,r,i),ND(n,e,r))}}function DD(t){var e=t.alternate;return t===cn||e!==null&&e===cn}function kD(t,e){Gh=Xm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ND(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,t1(t,n)}}var Jm={readContext:bi,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useInsertionEffect:lr,useLayoutEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useMutableSource:lr,useSyncExternalStore:lr,useId:lr,unstable_isNewReconciler:!1},Lz={readContext:bi,useCallback:function(t,e){return ns().memoizedState=[t,e===void 0?null:e],t},useContext:bi,useEffect:vb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gm(4194308,4,RD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gm(4194308,4,t,e)},useInsertionEffect:function(t,e){return gm(4,2,t,e)},useMemo:function(t,e){var n=ns();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ns();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kz.bind(null,cn,t),[r.memoizedState,t]},useRef:function(t){var e=ns();return t={current:t},e.memoizedState=t},useState:yb,useDebugValue:S1,useDeferredValue:function(t){return ns().memoizedState=t},useTransition:function(){var t=yb(!1),e=t[0];return t=Dz.bind(null,t[1]),ns().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=cn,i=ns();if(tn){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=e(),qn===null)throw Error(ue(349));hl&30||vD(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,vb(wD.bind(null,r,s,t),[t]),r.flags|=2048,bf(9,_D.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ns(),e=qn.identifierPrefix;if(tn){var n=js,r=Bs;n=(r&~(1<<32-Wi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Oz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Mz={readContext:bi,useCallback:AD,useContext:bi,useEffect:I1,useImperativeHandle:bD,useInsertionEffect:SD,useLayoutEffect:xD,useMemo:CD,useReducer:U_,useRef:ID,useState:function(){return U_(Rf)},useDebugValue:S1,useDeferredValue:function(t){var e=Ai();return PD(e,Fn.memoizedState,t)},useTransition:function(){var t=U_(Rf)[0],e=Ai().memoizedState;return[t,e]},useMutableSource:gD,useSyncExternalStore:yD,useId:OD,unstable_isNewReconciler:!1},Fz={readContext:bi,useCallback:AD,useContext:bi,useEffect:I1,useImperativeHandle:bD,useInsertionEffect:SD,useLayoutEffect:xD,useMemo:CD,useReducer:z_,useRef:ID,useState:function(){return z_(Rf)},useDebugValue:S1,useDeferredValue:function(t){var e=Ai();return Fn===null?e.memoizedState=t:PD(e,Fn.memoizedState,t)},useTransition:function(){var t=z_(Rf)[0],e=Ai().memoizedState;return[t,e]},useMutableSource:gD,useSyncExternalStore:yD,useId:OD,unstable_isNewReconciler:!1};function Zu(t,e){try{var n="",r=e;do n+=h9(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function q_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Vz=typeof WeakMap=="function"?WeakMap:Map;function LD(t,e,n){n=qs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){eg||(eg=!0,Sw=r),pw(t,e)},n}function MD(t,e,n){n=qs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){pw(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){pw(t,e),typeof r!="function"&&(Ho===null?Ho=new Set([this]):Ho.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function _b(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Vz;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Jz.bind(null,t,e,n),e.then(t,t))}function wb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Eb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qs(-1,1),e.tag=2,Ko(n,e,1))),n.lanes|=1),t)}var $z=oo.ReactCurrentOwner,Fr=!1;function wr(t,e,n,r){e.child=t===null?pD(e,null,n,r):Xu(e,t.child,n,r)}function Tb(t,e,n,r,i){n=n.render;var s=e.ref;return Vu(e,i),r=E1(t,e,n,r,s,i),n=T1(),t!==null&&!Fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,eo(t,e,i)):(tn&&n&&u1(e),e.flags|=1,wr(t,e,r,i),e.child)}function Ib(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!D1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,FD(t,e,s,r,i)):(t=wm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:_f,n(o,r)&&t.ref===e.ref)return eo(t,e,i)}return e.flags|=1,t=Qo(s,r),t.ref=e.ref,t.return=e,e.child=t}function FD(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(_f(s,r)&&t.ref===e.ref)if(Fr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Fr=!0);else return e.lanes=t.lanes,eo(t,e,i)}return mw(t,e,n,r,i)}function VD(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(Pu,ei),ei|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,jt(Pu,ei),ei|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,jt(Pu,ei),ei|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,jt(Pu,ei),ei|=r;return wr(t,e,i,n),e.child}function $D(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mw(t,e,n,r,i){var s=Ur(n)?ul:mr.current;return s=Qu(e,s),Vu(e,i),n=E1(t,e,n,r,s,i),r=T1(),t!==null&&!Fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,eo(t,e,i)):(tn&&r&&u1(e),e.flags|=1,wr(t,e,n,i),e.child)}function Sb(t,e,n,r,i){if(Ur(n)){var s=!0;qm(e)}else s=!1;if(Vu(e,i),e.stateNode===null)ym(t,e),fD(e,n,r),dw(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=bi(h):(h=Ur(n)?ul:mr.current,h=Qu(e,h));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==h)&&mb(e,o,r,h),Oo=!1;var m=e.memoizedState;o.state=m,Qm(e,r,o,i),c=e.memoizedState,l!==r||m!==c||jr.current||Oo?(typeof f=="function"&&(fw(e,n,f,r),c=e.memoizedState),(l=Oo||pb(e,n,l,r,m,c,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,cD(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:$i(e.type,l),o.props=h,p=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=bi(c):(c=Ur(n)?ul:mr.current,c=Qu(e,c));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==c)&&mb(e,o,r,c),Oo=!1,m=e.memoizedState,o.state=m,Qm(e,r,o,i);var v=e.memoizedState;l!==p||m!==v||jr.current||Oo?(typeof y=="function"&&(fw(e,n,y,r),v=e.memoizedState),(h=Oo||pb(e,n,h,r,m,v,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=c,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return gw(t,e,n,r,s,i)}function gw(t,e,n,r,i,s){$D(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ub(e,n,!1),eo(t,e,s);r=e.stateNode,$z.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xu(e,t.child,null,s),e.child=Xu(e,null,l,s)):wr(t,e,l,s),e.memoizedState=r.state,i&&ub(e,n,!0),e.child}function BD(t){var e=t.stateNode;e.pendingContext?lb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lb(t,e.context,!1),y1(t,e.containerInfo)}function xb(t,e,n,r,i){return Yu(),h1(i),e.flags|=256,wr(t,e,n,r),e.child}var yw={dehydrated:null,treeContext:null,retryLane:0};function vw(t){return{baseLanes:t,cachePool:null,transitions:null}}function jD(t,e,n){var r=e.pendingProps,i=ln.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),jt(ln,i&1),t===null)return cw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Zg(o,r,0,null),t=sl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=vw(n),e.memoizedState=yw,t):x1(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Bz(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Qo(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Qo(l,s):(s=sl(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?vw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=yw,r}return s=t.child,t=s.sibling,r=Qo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function x1(t,e){return e=Zg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Up(t,e,n,r){return r!==null&&h1(r),Xu(e,t.child,null,n),t=x1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Bz(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=q_(Error(ue(422))),Up(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Zg({mode:"visible",children:r.children},i,0,null),s=sl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xu(e,t.child,null,o),e.child.memoizedState=vw(o),e.memoizedState=yw,s);if(!(e.mode&1))return Up(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(ue(419)),r=q_(s,r,void 0),Up(t,e,o,r)}if(l=(o&t.childLanes)!==0,Fr||l){if(r=qn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zs(t,i),Ki(r,t,i,-1))}return O1(),r=q_(Error(ue(421))),Up(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Zz.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ti=Wo(i.nextSibling),ni=e,tn=!0,Ui=null,t!==null&&(_i[wi++]=Bs,_i[wi++]=js,_i[wi++]=cl,Bs=t.id,js=t.overflow,cl=e),e=x1(e,r.children),e.flags|=4096,e)}function Rb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hw(t.return,e,n)}function W_(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function UD(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(wr(t,e,r.children,n),r=ln.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rb(t,n,e);else if(t.tag===19)Rb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(jt(ln,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ym(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),W_(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ym(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}W_(e,!0,n,null,s);break;case"together":W_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ym(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function eo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,n=Qo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jz(t,e,n){switch(e.tag){case 3:BD(e),Yu();break;case 5:mD(e);break;case 1:Ur(e.type)&&qm(e);break;case 4:y1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;jt(Hm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(jt(ln,ln.current&1),e.flags|=128,null):n&e.child.childLanes?jD(t,e,n):(jt(ln,ln.current&1),t=eo(t,e,n),t!==null?t.sibling:null);jt(ln,ln.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return UD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),jt(ln,ln.current),r)break;return null;case 22:case 23:return e.lanes=0,VD(t,e,n)}return eo(t,e,n)}var zD,_w,qD,WD;zD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_w=function(){};qD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ya(fs.current);var s=null;switch(n){case"input":i=j0(t,i),r=j0(t,r),s=[];break;case"select":i=fn({},i,{value:void 0}),r=fn({},r,{value:void 0}),s=[];break;case"textarea":i=q0(t,i),r=q0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Um)}K0(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ff.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ff.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Ht("scroll",t),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};WD=function(t,e,n,r){n!==r&&(e.flags|=4)};function fh(t,e){if(!tn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ur(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Uz(t,e,n){var r=e.pendingProps;switch(c1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(e),null;case 1:return Ur(e.type)&&zm(),ur(e),null;case 3:return r=e.stateNode,Ju(),Xt(jr),Xt(mr),_1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ui!==null&&(bw(Ui),Ui=null))),_w(t,e),ur(e),null;case 5:v1(e);var i=Ya(Sf.current);if(n=e.type,t!==null&&e.stateNode!=null)qD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return ur(e),null}if(t=Ya(fs.current),Bp(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[rs]=e,r[Tf]=s,t=(e.mode&1)!==0,n){case"dialog":Ht("cancel",r),Ht("close",r);break;case"iframe":case"object":case"embed":Ht("load",r);break;case"video":case"audio":for(i=0;i<Nh.length;i++)Ht(Nh[i],r);break;case"source":Ht("error",r);break;case"img":case"image":case"link":Ht("error",r),Ht("load",r);break;case"details":Ht("toggle",r);break;case"input":LR(r,s),Ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ht("invalid",r);break;case"textarea":FR(r,s),Ht("invalid",r)}K0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&$p(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&$p(r.textContent,l,t),i=["children",""+l]):ff.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ht("scroll",r)}switch(n){case"input":Op(r),MR(r,s,!0);break;case"textarea":Op(r),VR(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Um)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[rs]=e,t[Tf]=r,zD(t,e,!1,!1),e.stateNode=t;e:{switch(o=H0(n,r),n){case"dialog":Ht("cancel",t),Ht("close",t),i=r;break;case"iframe":case"object":case"embed":Ht("load",t),i=r;break;case"video":case"audio":for(i=0;i<Nh.length;i++)Ht(Nh[i],t);i=r;break;case"source":Ht("error",t),i=r;break;case"img":case"image":case"link":Ht("error",t),Ht("load",t),i=r;break;case"details":Ht("toggle",t),i=r;break;case"input":LR(t,r),i=j0(t,r),Ht("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=fn({},r,{value:void 0}),Ht("invalid",t);break;case"textarea":FR(t,r),i=q0(t,r),Ht("invalid",t);break;default:i=r}K0(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?EO(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&_O(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&df(t,c):typeof c=="number"&&df(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ff.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ht("scroll",t):c!=null&&QE(t,s,c,o))}switch(n){case"input":Op(t),MR(t,r,!1);break;case"textarea":Op(t),VR(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zo(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Nu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Nu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Um)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ur(e),null;case 6:if(t&&e.stateNode!=null)WD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ue(166));if(n=Ya(Sf.current),Ya(fs.current),Bp(e)){if(r=e.stateNode,n=e.memoizedProps,r[rs]=e,(s=r.nodeValue!==n)&&(t=ni,t!==null))switch(t.tag){case 3:$p(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$p(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rs]=e,e.stateNode=r}return ur(e),null;case 13:if(Xt(ln),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tn&&ti!==null&&e.mode&1&&!(e.flags&128))lD(),Yu(),e.flags|=98560,s=!1;else if(s=Bp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ue(317));s[rs]=e}else Yu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ur(e),s=!1}else Ui!==null&&(bw(Ui),Ui=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ln.current&1?Vn===0&&(Vn=3):O1())),e.updateQueue!==null&&(e.flags|=4),ur(e),null);case 4:return Ju(),_w(t,e),t===null&&wf(e.stateNode.containerInfo),ur(e),null;case 10:return p1(e.type._context),ur(e),null;case 17:return Ur(e.type)&&zm(),ur(e),null;case 19:if(Xt(ln),s=e.memoizedState,s===null)return ur(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)fh(s,!1);else{if(Vn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ym(t),o!==null){for(e.flags|=128,fh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return jt(ln,ln.current&1|2),e.child}t=t.sibling}s.tail!==null&&bn()>ec&&(e.flags|=128,r=!0,fh(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ym(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!tn)return ur(e),null}else 2*bn()-s.renderingStartTime>ec&&n!==1073741824&&(e.flags|=128,r=!0,fh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bn(),e.sibling=null,n=ln.current,jt(ln,r?n&1|2:n&1),e):(ur(e),null);case 22:case 23:return P1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ei&1073741824&&(ur(e),e.subtreeFlags&6&&(e.flags|=8192)):ur(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function zz(t,e){switch(c1(e),e.tag){case 1:return Ur(e.type)&&zm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ju(),Xt(jr),Xt(mr),_1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return v1(e),null;case 13:if(Xt(ln),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));Yu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xt(ln),null;case 4:return Ju(),null;case 10:return p1(e.type._context),null;case 22:case 23:return P1(),null;case 24:return null;default:return null}}var zp=!1,hr=!1,qz=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Cu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gn(t,e,r)}else n.current=null}function ww(t,e,n){try{n()}catch(r){gn(t,e,r)}}var bb=!1;function Wz(t,e){if(rw=$m,t=QO(),l1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,h=0,f=0,p=t,m=null;t:for(;;){for(var y;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===t)break t;if(m===n&&++h===i&&(l=o),m===s&&++f===r&&(c=o),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(iw={focusedElem:t,selectionRange:n},$m=!1,Re=e;Re!==null;)if(e=Re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Re=t;else for(;Re!==null;){e=Re;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,R=v.memoizedState,T=e.stateNode,S=T.getSnapshotBeforeUpdate(e.elementType===e.type?w:$i(e.type,w),R);T.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(E){gn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Re=t;break}Re=e.return}return v=bb,bb=!1,v}function Qh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ww(e,n,s)}i=i.next}while(i!==r)}}function Xg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ew(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function KD(t){var e=t.alternate;e!==null&&(t.alternate=null,KD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rs],delete e[Tf],delete e[aw],delete e[bz],delete e[Az])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function HD(t){return t.tag===5||t.tag===3||t.tag===4}function Ab(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||HD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Um));else if(r!==4&&(t=t.child,t!==null))for(Tw(t,e,n),t=t.sibling;t!==null;)Tw(t,e,n),t=t.sibling}function Iw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Iw(t,e,n),t=t.sibling;t!==null;)Iw(t,e,n),t=t.sibling}var Jn=null,Bi=!1;function So(t,e,n){for(n=n.child;n!==null;)GD(t,e,n),n=n.sibling}function GD(t,e,n){if(hs&&typeof hs.onCommitFiberUnmount=="function")try{hs.onCommitFiberUnmount(zg,n)}catch{}switch(n.tag){case 5:hr||Cu(n,e);case 6:var r=Jn,i=Bi;Jn=null,So(t,e,n),Jn=r,Bi=i,Jn!==null&&(Bi?(t=Jn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Jn.removeChild(n.stateNode));break;case 18:Jn!==null&&(Bi?(t=Jn,n=n.stateNode,t.nodeType===8?V_(t.parentNode,n):t.nodeType===1&&V_(t,n),yf(t)):V_(Jn,n.stateNode));break;case 4:r=Jn,i=Bi,Jn=n.stateNode.containerInfo,Bi=!0,So(t,e,n),Jn=r,Bi=i;break;case 0:case 11:case 14:case 15:if(!hr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ww(n,e,o),i=i.next}while(i!==r)}So(t,e,n);break;case 1:if(!hr&&(Cu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){gn(n,e,l)}So(t,e,n);break;case 21:So(t,e,n);break;case 22:n.mode&1?(hr=(r=hr)||n.memoizedState!==null,So(t,e,n),hr=r):So(t,e,n);break;default:So(t,e,n)}}function Cb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qz),e.forEach(function(r){var i=eq.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Jn=l.stateNode,Bi=!1;break e;case 3:Jn=l.stateNode.containerInfo,Bi=!0;break e;case 4:Jn=l.stateNode.containerInfo,Bi=!0;break e}l=l.return}if(Jn===null)throw Error(ue(160));GD(s,o,i),Jn=null,Bi=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){gn(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QD(e,t),e=e.sibling}function QD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vi(e,t),ts(t),r&4){try{Qh(3,t,t.return),Xg(3,t)}catch(w){gn(t,t.return,w)}try{Qh(5,t,t.return)}catch(w){gn(t,t.return,w)}}break;case 1:Vi(e,t),ts(t),r&512&&n!==null&&Cu(n,n.return);break;case 5:if(Vi(e,t),ts(t),r&512&&n!==null&&Cu(n,n.return),t.flags&32){var i=t.stateNode;try{df(i,"")}catch(w){gn(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&gO(i,s),H0(l,o);var h=H0(l,s);for(o=0;o<c.length;o+=2){var f=c[o],p=c[o+1];f==="style"?EO(i,p):f==="dangerouslySetInnerHTML"?_O(i,p):f==="children"?df(i,p):QE(i,f,p,h)}switch(l){case"input":U0(i,s);break;case"textarea":yO(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Nu(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?Nu(i,!!s.multiple,s.defaultValue,!0):Nu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Tf]=s}catch(w){gn(t,t.return,w)}}break;case 6:if(Vi(e,t),ts(t),r&4){if(t.stateNode===null)throw Error(ue(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){gn(t,t.return,w)}}break;case 3:if(Vi(e,t),ts(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yf(e.containerInfo)}catch(w){gn(t,t.return,w)}break;case 4:Vi(e,t),ts(t);break;case 13:Vi(e,t),ts(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(A1=bn())),r&4&&Cb(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(hr=(h=hr)||f,Vi(e,t),hr=h):Vi(e,t),ts(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(Re=t,f=t.child;f!==null;){for(p=Re=f;Re!==null;){switch(m=Re,y=m.child,m.tag){case 0:case 11:case 14:case 15:Qh(4,m,m.return);break;case 1:Cu(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){gn(r,n,w)}}break;case 5:Cu(m,m.return);break;case 22:if(m.memoizedState!==null){Ob(p);continue}}y!==null?(y.return=m,Re=y):Ob(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=wO("display",o))}catch(w){gn(t,t.return,w)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(w){gn(t,t.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Vi(e,t),ts(t),r&4&&Cb(t);break;case 21:break;default:Vi(e,t),ts(t)}}function ts(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(HD(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(df(i,""),r.flags&=-33);var s=Ab(t);Iw(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ab(t);Tw(t,l,o);break;default:throw Error(ue(161))}}catch(c){gn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Kz(t,e,n){Re=t,YD(t)}function YD(t,e,n){for(var r=(t.mode&1)!==0;Re!==null;){var i=Re,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||zp;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||hr;l=zp;var h=hr;if(zp=o,(hr=c)&&!h)for(Re=i;Re!==null;)o=Re,c=o.child,o.tag===22&&o.memoizedState!==null?Db(i):c!==null?(c.return=o,Re=c):Db(i);for(;s!==null;)Re=s,YD(s),s=s.sibling;Re=i,zp=l,hr=h}Pb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Re=s):Pb(t)}}function Pb(t){for(;Re!==null;){var e=Re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hr||Xg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$i(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&db(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}db(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&yf(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}hr||e.flags&512&&Ew(e)}catch(m){gn(e,e.return,m)}}if(e===t){Re=null;break}if(n=e.sibling,n!==null){n.return=e.return,Re=n;break}Re=e.return}}function Ob(t){for(;Re!==null;){var e=Re;if(e===t){Re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Re=n;break}Re=e.return}}function Db(t){for(;Re!==null;){var e=Re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xg(4,e)}catch(c){gn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){gn(e,i,c)}}var s=e.return;try{Ew(e)}catch(c){gn(e,s,c)}break;case 5:var o=e.return;try{Ew(e)}catch(c){gn(e,o,c)}}}catch(c){gn(e,e.return,c)}if(e===t){Re=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Re=l;break}Re=e.return}}var Hz=Math.ceil,Zm=oo.ReactCurrentDispatcher,R1=oo.ReactCurrentOwner,xi=oo.ReactCurrentBatchConfig,Tt=0,qn=null,On=null,nr=0,ei=0,Pu=pa(0),Vn=0,Af=null,fl=0,Jg=0,b1=0,Yh=null,Mr=null,A1=0,ec=1/0,Ns=null,eg=!1,Sw=null,Ho=null,qp=!1,$o=null,tg=0,Xh=0,xw=null,vm=-1,_m=0;function xr(){return Tt&6?bn():vm!==-1?vm:vm=bn()}function Go(t){return t.mode&1?Tt&2&&nr!==0?nr&-nr:Pz.transition!==null?(_m===0&&(_m=kO()),_m):(t=Dt,t!==0||(t=window.event,t=t===void 0?16:BO(t.type)),t):1}function Ki(t,e,n,r){if(50<Xh)throw Xh=0,xw=null,Error(ue(185));ld(t,n,r),(!(Tt&2)||t!==qn)&&(t===qn&&(!(Tt&2)&&(Jg|=n),Vn===4&&Lo(t,nr)),zr(t,r),n===1&&Tt===0&&!(e.mode&1)&&(ec=bn()+500,Gg&&ma()))}function zr(t,e){var n=t.callbackNode;P9(t,e);var r=Vm(t,t===qn?nr:0);if(r===0)n!==null&&jR(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jR(n),e===1)t.tag===0?Cz(kb.bind(null,t)):sD(kb.bind(null,t)),xz(function(){!(Tt&6)&&ma()}),n=null;else{switch(NO(r)){case 1:n=e1;break;case 4:n=OO;break;case 16:n=Fm;break;case 536870912:n=DO;break;default:n=Fm}n=ik(n,XD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function XD(t,e){if(vm=-1,_m=0,Tt&6)throw Error(ue(327));var n=t.callbackNode;if($u()&&t.callbackNode!==n)return null;var r=Vm(t,t===qn?nr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ng(t,r);else{e=r;var i=Tt;Tt|=2;var s=ZD();(qn!==t||nr!==e)&&(Ns=null,ec=bn()+500,il(t,e));do try{Yz();break}catch(l){JD(t,l)}while(1);d1(),Zm.current=s,Tt=i,On!==null?e=0:(qn=null,nr=0,e=Vn)}if(e!==0){if(e===2&&(i=J0(t),i!==0&&(r=i,e=Rw(t,i))),e===1)throw n=Af,il(t,0),Lo(t,r),zr(t,bn()),n;if(e===6)Lo(t,r);else{if(i=t.current.alternate,!(r&30)&&!Gz(i)&&(e=ng(t,r),e===2&&(s=J0(t),s!==0&&(r=s,e=Rw(t,s))),e===1))throw n=Af,il(t,0),Lo(t,r),zr(t,bn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ue(345));case 2:Ba(t,Mr,Ns);break;case 3:if(Lo(t,r),(r&130023424)===r&&(e=A1+500-bn(),10<e)){if(Vm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ow(Ba.bind(null,t,Mr,Ns),e);break}Ba(t,Mr,Ns);break;case 4:if(Lo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Wi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=bn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hz(r/1960))-r,10<r){t.timeoutHandle=ow(Ba.bind(null,t,Mr,Ns),r);break}Ba(t,Mr,Ns);break;case 5:Ba(t,Mr,Ns);break;default:throw Error(ue(329))}}}return zr(t,bn()),t.callbackNode===n?XD.bind(null,t):null}function Rw(t,e){var n=Yh;return t.current.memoizedState.isDehydrated&&(il(t,e).flags|=256),t=ng(t,e),t!==2&&(e=Mr,Mr=n,e!==null&&bw(e)),t}function bw(t){Mr===null?Mr=t:Mr.push.apply(Mr,t)}function Gz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Hi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lo(t,e){for(e&=~b1,e&=~Jg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wi(e),r=1<<n;t[n]=-1,e&=~r}}function kb(t){if(Tt&6)throw Error(ue(327));$u();var e=Vm(t,0);if(!(e&1))return zr(t,bn()),null;var n=ng(t,e);if(t.tag!==0&&n===2){var r=J0(t);r!==0&&(e=r,n=Rw(t,r))}if(n===1)throw n=Af,il(t,0),Lo(t,e),zr(t,bn()),n;if(n===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ba(t,Mr,Ns),zr(t,bn()),null}function C1(t,e){var n=Tt;Tt|=1;try{return t(e)}finally{Tt=n,Tt===0&&(ec=bn()+500,Gg&&ma())}}function dl(t){$o!==null&&$o.tag===0&&!(Tt&6)&&$u();var e=Tt;Tt|=1;var n=xi.transition,r=Dt;try{if(xi.transition=null,Dt=1,t)return t()}finally{Dt=r,xi.transition=n,Tt=e,!(Tt&6)&&ma()}}function P1(){ei=Pu.current,Xt(Pu)}function il(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Sz(n)),On!==null)for(n=On.return;n!==null;){var r=n;switch(c1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zm();break;case 3:Ju(),Xt(jr),Xt(mr),_1();break;case 5:v1(r);break;case 4:Ju();break;case 13:Xt(ln);break;case 19:Xt(ln);break;case 10:p1(r.type._context);break;case 22:case 23:P1()}n=n.return}if(qn=t,On=t=Qo(t.current,null),nr=ei=e,Vn=0,Af=null,b1=Jg=fl=0,Mr=Yh=null,Qa!==null){for(e=0;e<Qa.length;e++)if(n=Qa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Qa=null}return t}function JD(t,e){do{var n=On;try{if(d1(),mm.current=Jm,Xm){for(var r=cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xm=!1}if(hl=0,Un=Fn=cn=null,Gh=!1,xf=0,R1.current=null,n===null||n.return===null){Vn=1,Af=e,On=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=nr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=wb(o);if(y!==null){y.flags&=-257,Eb(y,o,l,s,e),y.mode&1&&_b(s,h,e),e=y,c=h;var v=e.updateQueue;if(v===null){var w=new Set;w.add(c),e.updateQueue=w}else v.add(c);break e}else{if(!(e&1)){_b(s,h,e),O1();break e}c=Error(ue(426))}}else if(tn&&l.mode&1){var R=wb(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Eb(R,o,l,s,e),h1(Zu(c,l));break e}}s=c=Zu(c,l),Vn!==4&&(Vn=2),Yh===null?Yh=[s]:Yh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=LD(s,c,e);fb(s,T);break e;case 1:l=c;var S=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Ho===null||!Ho.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=MD(s,l,e);fb(s,E);break e}}s=s.return}while(s!==null)}tk(n)}catch(P){e=P,On===n&&n!==null&&(On=n=n.return);continue}break}while(1)}function ZD(){var t=Zm.current;return Zm.current=Jm,t===null?Jm:t}function O1(){(Vn===0||Vn===3||Vn===2)&&(Vn=4),qn===null||!(fl&268435455)&&!(Jg&268435455)||Lo(qn,nr)}function ng(t,e){var n=Tt;Tt|=2;var r=ZD();(qn!==t||nr!==e)&&(Ns=null,il(t,e));do try{Qz();break}catch(i){JD(t,i)}while(1);if(d1(),Tt=n,Zm.current=r,On!==null)throw Error(ue(261));return qn=null,nr=0,Vn}function Qz(){for(;On!==null;)ek(On)}function Yz(){for(;On!==null&&!E9();)ek(On)}function ek(t){var e=rk(t.alternate,t,ei);t.memoizedProps=t.pendingProps,e===null?tk(t):On=e,R1.current=null}function tk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=zz(n,e),n!==null){n.flags&=32767,On=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vn=6,On=null;return}}else if(n=Uz(n,e,ei),n!==null){On=n;return}if(e=e.sibling,e!==null){On=e;return}On=e=t}while(e!==null);Vn===0&&(Vn=5)}function Ba(t,e,n){var r=Dt,i=xi.transition;try{xi.transition=null,Dt=1,Xz(t,e,n,r)}finally{xi.transition=i,Dt=r}return null}function Xz(t,e,n,r){do $u();while($o!==null);if(Tt&6)throw Error(ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(O9(t,s),t===qn&&(On=qn=null,nr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qp||(qp=!0,ik(Fm,function(){return $u(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xi.transition,xi.transition=null;var o=Dt;Dt=1;var l=Tt;Tt|=4,R1.current=null,Wz(t,n),QD(n,t),yz(iw),$m=!!rw,iw=rw=null,t.current=n,Kz(n),T9(),Tt=l,Dt=o,xi.transition=s}else t.current=n;if(qp&&(qp=!1,$o=t,tg=i),s=t.pendingLanes,s===0&&(Ho=null),x9(n.stateNode),zr(t,bn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(eg)throw eg=!1,t=Sw,Sw=null,t;return tg&1&&t.tag!==0&&$u(),s=t.pendingLanes,s&1?t===xw?Xh++:(Xh=0,xw=t):Xh=0,ma(),null}function $u(){if($o!==null){var t=NO(tg),e=xi.transition,n=Dt;try{if(xi.transition=null,Dt=16>t?16:t,$o===null)var r=!1;else{if(t=$o,$o=null,tg=0,Tt&6)throw Error(ue(331));var i=Tt;for(Tt|=4,Re=t.current;Re!==null;){var s=Re,o=s.child;if(Re.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(Re=h;Re!==null;){var f=Re;switch(f.tag){case 0:case 11:case 15:Qh(8,f,s)}var p=f.child;if(p!==null)p.return=f,Re=p;else for(;Re!==null;){f=Re;var m=f.sibling,y=f.return;if(KD(f),f===h){Re=null;break}if(m!==null){m.return=y,Re=m;break}Re=y}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var R=w.sibling;w.sibling=null,w=R}while(w!==null)}}Re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Re=o;else e:for(;Re!==null;){if(s=Re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qh(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,Re=T;break e}Re=s.return}}var S=t.current;for(Re=S;Re!==null;){o=Re;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,Re=I;else e:for(o=S;Re!==null;){if(l=Re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Xg(9,l)}}catch(P){gn(l,l.return,P)}if(l===o){Re=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,Re=E;break e}Re=l.return}}if(Tt=i,ma(),hs&&typeof hs.onPostCommitFiberRoot=="function")try{hs.onPostCommitFiberRoot(zg,t)}catch{}r=!0}return r}finally{Dt=n,xi.transition=e}}return!1}function Nb(t,e,n){e=Zu(n,e),e=LD(t,e,1),t=Ko(t,e,1),e=xr(),t!==null&&(ld(t,1,e),zr(t,e))}function gn(t,e,n){if(t.tag===3)Nb(t,t,n);else for(;e!==null;){if(e.tag===3){Nb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ho===null||!Ho.has(r))){t=Zu(n,t),t=MD(e,t,1),e=Ko(e,t,1),t=xr(),e!==null&&(ld(e,1,t),zr(e,t));break}}e=e.return}}function Jz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xr(),t.pingedLanes|=t.suspendedLanes&n,qn===t&&(nr&n)===n&&(Vn===4||Vn===3&&(nr&130023424)===nr&&500>bn()-A1?il(t,0):b1|=n),zr(t,e)}function nk(t,e){e===0&&(t.mode&1?(e=Np,Np<<=1,!(Np&130023424)&&(Np=4194304)):e=1);var n=xr();t=Zs(t,e),t!==null&&(ld(t,e,n),zr(t,n))}function Zz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nk(t,n)}function eq(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(e),nk(t,n)}var rk;rk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jr.current)Fr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Fr=!1,jz(t,e,n);Fr=!!(t.flags&131072)}else Fr=!1,tn&&e.flags&1048576&&oD(e,Km,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ym(t,e),t=e.pendingProps;var i=Qu(e,mr.current);Vu(e,n),i=E1(null,e,r,t,i,n);var s=T1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ur(r)?(s=!0,qm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,g1(e),i.updater=Qg,e.stateNode=i,i._reactInternals=e,dw(e,r,t,n),e=gw(null,e,r,!0,s,n)):(e.tag=0,tn&&s&&u1(e),wr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ym(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=nq(r),t=$i(r,t),i){case 0:e=mw(null,e,r,t,n);break e;case 1:e=Sb(null,e,r,t,n);break e;case 11:e=Tb(null,e,r,t,n);break e;case 14:e=Ib(null,e,r,$i(r.type,t),n);break e}throw Error(ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),mw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),Sb(t,e,r,i,n);case 3:e:{if(BD(e),t===null)throw Error(ue(387));r=e.pendingProps,s=e.memoizedState,i=s.element,cD(t,e),Qm(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zu(Error(ue(423)),e),e=xb(t,e,r,n,i);break e}else if(r!==i){i=Zu(Error(ue(424)),e),e=xb(t,e,r,n,i);break e}else for(ti=Wo(e.stateNode.containerInfo.firstChild),ni=e,tn=!0,Ui=null,n=pD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yu(),r===i){e=eo(t,e,n);break e}wr(t,e,r,n)}e=e.child}return e;case 5:return mD(e),t===null&&cw(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,sw(r,i)?o=null:s!==null&&sw(r,s)&&(e.flags|=32),$D(t,e),wr(t,e,o,n),e.child;case 6:return t===null&&cw(e),null;case 13:return jD(t,e,n);case 4:return y1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xu(e,null,r,n):wr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),Tb(t,e,r,i,n);case 7:return wr(t,e,e.pendingProps,n),e.child;case 8:return wr(t,e,e.pendingProps.children,n),e.child;case 12:return wr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,jt(Hm,r._currentValue),r._currentValue=o,s!==null)if(Hi(s.value,o)){if(s.children===i.children&&!jr.current){e=eo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=qs(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?c.next=c:(c.next=f.next,f.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),hw(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ue(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),hw(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}wr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Vu(e,n),i=bi(i),r=r(i),e.flags|=1,wr(t,e,r,n),e.child;case 14:return r=e.type,i=$i(r,e.pendingProps),i=$i(r.type,i),Ib(t,e,r,i,n);case 15:return FD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),ym(t,e),e.tag=1,Ur(r)?(t=!0,qm(e)):t=!1,Vu(e,n),fD(e,r,i),dw(e,r,i,n),gw(null,e,r,!0,t,n);case 19:return UD(t,e,n);case 22:return VD(t,e,n)}throw Error(ue(156,e.tag))};function ik(t,e){return PO(t,e)}function tq(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ti(t,e,n,r){return new tq(t,e,n,r)}function D1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nq(t){if(typeof t=="function")return D1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===XE)return 11;if(t===JE)return 14}return 2}function Qo(t,e){var n=t.alternate;return n===null?(n=Ti(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wm(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")D1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wu:return sl(n.children,i,s,e);case YE:o=8,i|=8;break;case F0:return t=Ti(12,n,e,i|2),t.elementType=F0,t.lanes=s,t;case V0:return t=Ti(13,n,e,i),t.elementType=V0,t.lanes=s,t;case $0:return t=Ti(19,n,e,i),t.elementType=$0,t.lanes=s,t;case dO:return Zg(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hO:o=10;break e;case fO:o=9;break e;case XE:o=11;break e;case JE:o=14;break e;case Po:o=16,r=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return e=Ti(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function sl(t,e,n,r){return t=Ti(7,t,r,e),t.lanes=n,t}function Zg(t,e,n,r){return t=Ti(22,t,r,e),t.elementType=dO,t.lanes=n,t.stateNode={isHidden:!1},t}function K_(t,e,n){return t=Ti(6,t,null,e),t.lanes=n,t}function H_(t,e,n){return e=Ti(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rq(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=b_(0),this.expirationTimes=b_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=b_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function k1(t,e,n,r,i,s,o,l,c){return t=new rq(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ti(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},g1(s),t}function iq(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_u,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sk(t){if(!t)return ea;t=t._reactInternals;e:{if(Ol(t)!==t||t.tag!==1)throw Error(ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ur(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(t.tag===1){var n=t.type;if(Ur(n))return iD(t,n,e)}return e}function ok(t,e,n,r,i,s,o,l,c){return t=k1(n,r,!0,t,i,s,o,l,c),t.context=sk(null),n=t.current,r=xr(),i=Go(n),s=qs(r,i),s.callback=e??null,Ko(n,s,i),t.current.lanes=i,ld(t,i,r),zr(t,r),t}function ey(t,e,n,r){var i=e.current,s=xr(),o=Go(i);return n=sk(n),e.context===null?e.context=n:e.pendingContext=n,e=qs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ko(i,e,o),t!==null&&(Ki(t,i,o,s),pm(t,i,o)),o}function rg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Lb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function N1(t,e){Lb(t,e),(t=t.alternate)&&Lb(t,e)}function sq(){return null}var ak=typeof reportError=="function"?reportError:function(t){console.error(t)};function L1(t){this._internalRoot=t}ty.prototype.render=L1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));ey(t,e,null,null)};ty.prototype.unmount=L1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;dl(function(){ey(null,t,null,null)}),e[Js]=null}};function ty(t){this._internalRoot=t}ty.prototype.unstable_scheduleHydration=function(t){if(t){var e=FO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<No.length&&e!==0&&e<No[n].priority;n++);No.splice(n,0,t),n===0&&$O(t)}};function M1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ny(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mb(){}function oq(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=rg(o);s.call(h)}}var o=ok(e,r,t,0,null,!1,!1,"",Mb);return t._reactRootContainer=o,t[Js]=o.current,wf(t.nodeType===8?t.parentNode:t),dl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=rg(c);l.call(h)}}var c=k1(t,0,!1,null,null,!1,!1,"",Mb);return t._reactRootContainer=c,t[Js]=c.current,wf(t.nodeType===8?t.parentNode:t),dl(function(){ey(e,c,n,r)}),c}function ry(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=rg(o);l.call(c)}}ey(e,o,t,i)}else o=oq(n,e,t,i,r);return rg(o)}LO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=kh(e.pendingLanes);n!==0&&(t1(e,n|1),zr(e,bn()),!(Tt&6)&&(ec=bn()+500,ma()))}break;case 13:dl(function(){var r=Zs(t,1);if(r!==null){var i=xr();Ki(r,t,1,i)}}),N1(t,1)}};n1=function(t){if(t.tag===13){var e=Zs(t,134217728);if(e!==null){var n=xr();Ki(e,t,134217728,n)}N1(t,134217728)}};MO=function(t){if(t.tag===13){var e=Go(t),n=Zs(t,e);if(n!==null){var r=xr();Ki(n,t,e,r)}N1(t,e)}};FO=function(){return Dt};VO=function(t,e){var n=Dt;try{return Dt=t,e()}finally{Dt=n}};Q0=function(t,e,n){switch(e){case"input":if(U0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hg(r);if(!i)throw Error(ue(90));mO(r),U0(r,i)}}}break;case"textarea":yO(t,n);break;case"select":e=n.value,e!=null&&Nu(t,!!n.multiple,e,!1)}};SO=C1;xO=dl;var aq={usingClientEntryPoint:!1,Events:[cd,Su,Hg,TO,IO,C1]},dh={findFiberByHostInstance:Ga,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lq={bundleType:dh.bundleType,version:dh.version,rendererPackageName:dh.rendererPackageName,rendererConfig:dh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AO(t),t===null?null:t.stateNode},findFiberByHostInstance:dh.findFiberByHostInstance||sq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wp.isDisabled&&Wp.supportsFiber)try{zg=Wp.inject(lq),hs=Wp}catch{}}ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aq;ai.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!M1(e))throw Error(ue(200));return iq(t,e,null,n)};ai.createRoot=function(t,e){if(!M1(t))throw Error(ue(299));var n=!1,r="",i=ak;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=k1(t,1,!1,null,null,n,!1,r,i),t[Js]=e.current,wf(t.nodeType===8?t.parentNode:t),new L1(e)};ai.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=AO(e),t=t===null?null:t.stateNode,t};ai.flushSync=function(t){return dl(t)};ai.hydrate=function(t,e,n){if(!ny(e))throw Error(ue(200));return ry(null,t,e,!0,n)};ai.hydrateRoot=function(t,e,n){if(!M1(t))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ak;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ok(e,null,t,1,n??null,i,!1,s,o),t[Js]=e.current,wf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ty(e)};ai.render=function(t,e,n){if(!ny(e))throw Error(ue(200));return ry(null,t,e,!1,n)};ai.unmountComponentAtNode=function(t){if(!ny(t))throw Error(ue(40));return t._reactRootContainer?(dl(function(){ry(null,null,t,!1,function(){t._reactRootContainer=null,t[Js]=null})}),!0):!1};ai.unstable_batchedUpdates=C1;ai.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ny(n))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return ry(t,e,n,!1,r)};ai.version="18.2.0-next-9e3b772b8-20220608";function lk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lk)}catch(t){console.error(t)}}lk(),oO.exports=ai;var F1=oO.exports;const Ou=od(F1);var Fb=F1;L0.createRoot=Fb.createRoot,L0.hydrateRoot=Fb.hydrateRoot;class Ic{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Cf=typeof window>"u"||"Deno"in window;function yi(){}function uq(t,e){return typeof t=="function"?t(e):t}function Aw(t){return typeof t=="number"&&t>=0&&t!==1/0}function Vb(t,e){return t.filter(n=>!e.includes(n))}function cq(t,e,n){const r=t.slice(0);return r[e]=n,r}function uk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Lh(t,e,n){return iy(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function Do(t,e,n){return iy(t)?[{...e,queryKey:t},n]:[t||{},e]}function $b(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(iy(o)){if(r){if(e.queryHash!==V1(o,e.options))return!1}else if(!ig(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function Bb(t,e){const{exact:n,fetching:r,predicate:i,mutationKey:s}=t;if(iy(s)){if(!e.options.mutationKey)return!1;if(n){if(Xa(e.options.mutationKey)!==Xa(s))return!1}else if(!ig(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function V1(t,e){return((e==null?void 0:e.queryKeyHashFn)||Xa)(t)}function Xa(t){return JSON.stringify(t,(e,n)=>Pw(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ig(t,e){return ck(t,e)}function ck(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ck(t[n],e[n])):!1}function hk(t,e){if(t===e)return t;const n=jb(t)&&jb(e);if(n||Pw(t)&&Pw(e)){const r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{};let l=0;for(let c=0;c<s;c++){const h=n?c:i[c];o[h]=hk(t[h],e[h]),o[h]===t[h]&&l++}return r===s&&l===r?t:o}return e}function Cw(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function jb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Pw(t){if(!Ub(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!Ub(n)||!n.hasOwnProperty("isPrototypeOf"))}function Ub(t){return Object.prototype.toString.call(t)==="[object Object]"}function iy(t){return Array.isArray(t)}function fk(t){return new Promise(e=>{setTimeout(e,t)})}function zb(t){fk(0).then(t)}function hq(){if(typeof AbortController=="function")return new AbortController}function Ow(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?hk(t,e):e}class fq extends Ic{constructor(){super(),this.setup=e=>{if(!Cf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const sg=new fq,qb=["online","offline"];class dq extends Ic{constructor(){super(),this.setup=e=>{if(!Cf&&window.addEventListener){const n=()=>e();return qb.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{qb.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const og=new dq;function pq(t){return Math.min(1e3*2**t,3e4)}function sy(t){return(t??"online")==="online"?og.isOnline():!0}class dk{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function Em(t){return t instanceof dk}function pk(t){let e=!1,n=0,r=!1,i,s,o;const l=new Promise((R,T)=>{s=R,o=T}),c=R=>{r||(y(new dk(R)),t.abort==null||t.abort())},h=()=>{e=!0},f=()=>{e=!1},p=()=>!sg.isFocused()||t.networkMode!=="always"&&!og.isOnline(),m=R=>{r||(r=!0,t.onSuccess==null||t.onSuccess(R),i==null||i(),s(R))},y=R=>{r||(r=!0,t.onError==null||t.onError(R),i==null||i(),o(R))},v=()=>new Promise(R=>{i=T=>{const S=r||!p();return S&&R(T),S},t.onPause==null||t.onPause()}).then(()=>{i=void 0,r||t.onContinue==null||t.onContinue()}),w=()=>{if(r)return;let R;try{R=t.fn()}catch(T){R=Promise.reject(T)}Promise.resolve(R).then(m).catch(T=>{var S,I;if(r)return;const E=(S=t.retry)!=null?S:3,P=(I=t.retryDelay)!=null?I:pq,O=typeof P=="function"?P(n,T):P,D=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,T);if(e||!D){y(T);return}n++,t.onFail==null||t.onFail(n,T),fk(O).then(()=>{if(p())return v()}).then(()=>{e?y(T):w()})})};return sy(t.networkMode)?w():v().then(w),{promise:l,cancel:c,continue:()=>(i==null?void 0:i())?l:Promise.resolve(),cancelRetry:h,continueRetry:f}}const $1=console;function mq(){let t=[],e=0,n=f=>{f()},r=f=>{f()};const i=f=>{let p;e++;try{p=f()}finally{e--,e||l()}return p},s=f=>{e?t.push(f):zb(()=>{n(f)})},o=f=>(...p)=>{s(()=>{f(...p)})},l=()=>{const f=t;t=[],f.length&&zb(()=>{r(()=>{f.forEach(p=>{n(p)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{r=f}}}const un=mq();class mk{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Aw(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(Cf?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}let gq=class extends mk{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||$1,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||yq(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const r=Ow(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(e),r?r.then(yi).catch(yi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!uk(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const y=this.observers.find(v=>v.options.queryFn);y&&this.setOptions(y.options)}const o=hq(),l={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};c(l);const h=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(l)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),f={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:h};if(c(f),(r=this.options.behavior)==null||r.onFetch(f),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=f.fetchOptions)==null?void 0:i.meta)){var p;this.dispatch({type:"fetch",meta:(p=f.fetchOptions)==null?void 0:p.meta})}const m=y=>{if(Em(y)&&y.silent||this.dispatch({type:"error",error:y}),!Em(y)){var v,w,R,T;(v=(w=this.cache.config).onError)==null||v.call(w,y,this),(R=(T=this.cache.config).onSettled)==null||R.call(T,this.state.data,y,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=pk({fn:f.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:y=>{var v,w,R,T;if(typeof y>"u"){m(new Error(this.queryHash+" data is undefined"));return}this.setData(y),(v=(w=this.cache.config).onSuccess)==null||v.call(w,y,this),(R=(T=this.cache.config).onSettled)==null||R.call(T,y,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:m,onFail:(y,v)=>{this.dispatch({type:"failed",failureCount:y,error:v})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=r=>{var i,s;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:sy(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return Em(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),un.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}};function yq(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class vq extends Ic{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,r){var i;const s=n.queryKey,o=(i=n.queryHash)!=null?i:V1(s,n);let l=this.get(o);return l||(l=new gq({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(l)),l}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){un.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[r]=Do(e,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>$b(r,i))}findAll(e,n){const[r]=Do(e,n);return Object.keys(r).length>0?this.queries.filter(i=>$b(r,i)):this.queries}notify(e){un.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){un.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){un.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}let _q=class extends mk{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||$1,this.observers=[],this.state=e.state||wq(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var D;return this.retryer=pk({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(N,q)=>{this.dispatch({type:"failed",failureCount:N,error:q})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(D=this.options.retry)!=null?D:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,s,o,l,c,h,f;if(!n){var p,m,y,v;this.dispatch({type:"loading",variables:this.options.variables}),await((p=(m=this.mutationCache.config).onMutate)==null?void 0:p.call(m,this.state.variables,this));const N=await((y=(v=this.options).onMutate)==null?void 0:y.call(v,this.state.variables));N!==this.state.context&&this.dispatch({type:"loading",context:N,variables:this.state.variables})}const D=await e();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,D,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,D,this.state.variables,this.state.context)),await((l=(c=this.mutationCache.config).onSettled)==null?void 0:l.call(c,D,null,this.state.variables,this.state.context,this)),await((h=(f=this.options).onSettled)==null?void 0:h.call(f,D,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:D}),D}catch(D){try{var w,R,T,S,I,E,P,O;throw await((w=(R=this.mutationCache.config).onError)==null?void 0:w.call(R,D,this.state.variables,this.state.context,this)),await((T=(S=this.options).onError)==null?void 0:T.call(S,D,this.state.variables,this.state.context)),await((I=(E=this.mutationCache.config).onSettled)==null?void 0:I.call(E,void 0,D,this.state.variables,this.state.context,this)),await((P=(O=this.options).onSettled)==null?void 0:P.call(O,void 0,D,this.state.variables,this.state.context)),D}finally{this.dispatch({type:"error",error:D})}}}dispatch(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!sy(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=n(this.state),un.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}};function wq(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class Eq extends Ic{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,r){const i=new _q({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){un.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>Bb(e,n))}findAll(e){return this.mutations.filter(n=>Bb(e,n))}notify(e){un.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return un.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(yi)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Tq(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,r,i,s,o;const l=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,c=(r=t.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,h=c==null?void 0:c.pageParam,f=(c==null?void 0:c.direction)==="forward",p=(c==null?void 0:c.direction)==="backward",m=((s=t.state.data)==null?void 0:s.pages)||[],y=((o=t.state.data)==null?void 0:o.pageParams)||[];let v=y,w=!1;const R=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>{var D;if((D=t.signal)!=null&&D.aborted)w=!0;else{var N;(N=t.signal)==null||N.addEventListener("abort",()=>{w=!0})}return t.signal}})},T=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),S=(O,D,N,q)=>(v=q?[D,...v]:[...v,D],q?[N,...O]:[...O,N]),I=(O,D,N,q)=>{if(w)return Promise.reject("Cancelled");if(typeof N>"u"&&!D&&O.length)return Promise.resolve(O);const Y={queryKey:t.queryKey,pageParam:N,meta:t.options.meta};R(Y);const se=T(Y);return Promise.resolve(se).then(ve=>S(O,N,ve,q))};let E;if(!m.length)E=I([]);else if(f){const O=typeof h<"u",D=O?h:Wb(t.options,m);E=I(m,O,D)}else if(p){const O=typeof h<"u",D=O?h:Iq(t.options,m);E=I(m,O,D,!0)}else{v=[];const O=typeof t.options.getNextPageParam>"u";E=(l&&m[0]?l(m[0],0,m):!0)?I([],O,y[0]):Promise.resolve(S([],y[0],m[0]));for(let N=1;N<m.length;N++)E=E.then(q=>{if(l&&m[N]?l(m[N],N,m):!0){const se=O?y[N]:Wb(t.options,q);return I(q,O,se)}return Promise.resolve(S(q,y[N],m[N]))})}return E.then(O=>({pages:O,pageParams:v}))}}}}function Wb(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function Iq(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class Sq{constructor(e={}){this.queryCache=e.queryCache||new vq,this.mutationCache=e.mutationCache||new Eq,this.logger=e.logger||$1,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=sg.subscribe(()=>{sg.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=og.subscribe(()=>{og.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[r]=Do(e,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state.data}ensureQueryData(e,n,r){const i=Lh(e,n,r),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.queryCache.find(e),s=i==null?void 0:i.state.data,o=uq(n,s);if(typeof o>"u")return;const l=Lh(e),c=this.defaultQueryOptions(l);return this.queryCache.build(this,c).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return un.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state}removeQueries(e,n){const[r]=Do(e,n),i=this.queryCache;un.batch(()=>{i.findAll(r).forEach(s=>{i.remove(s)})})}resetQueries(e,n,r){const[i,s]=Do(e,n,r),o=this.queryCache,l={type:"active",...i};return un.batch(()=>(o.findAll(i).forEach(c=>{c.reset()}),this.refetchQueries(l,s)))}cancelQueries(e,n,r){const[i,s={}]=Do(e,n,r);typeof s.revert>"u"&&(s.revert=!0);const o=un.batch(()=>this.queryCache.findAll(i).map(l=>l.cancel(s)));return Promise.all(o).then(yi).catch(yi)}invalidateQueries(e,n,r){const[i,s]=Do(e,n,r);return un.batch(()=>{var o,l;if(this.queryCache.findAll(i).forEach(h=>{h.invalidate()}),i.refetchType==="none")return Promise.resolve();const c={...i,type:(o=(l=i.refetchType)!=null?l:i.type)!=null?o:"active"};return this.refetchQueries(c,s)})}refetchQueries(e,n,r){const[i,s]=Do(e,n,r),o=un.batch(()=>this.queryCache.findAll(i).filter(c=>!c.isDisabled()).map(c=>{var h;return c.fetch(void 0,{...s,cancelRefetch:(h=s==null?void 0:s.cancelRefetch)!=null?h:!0,meta:{refetchPage:i.refetchPage}})}));let l=Promise.all(o).then(yi);return s!=null&&s.throwOnError||(l=l.catch(yi)),l}fetchQuery(e,n,r){const i=Lh(e,n,r),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,n,r){return this.fetchQuery(e,n,r).then(yi).catch(yi)}fetchInfiniteQuery(e,n,r){const i=Lh(e,n,r);return i.behavior=Tq(),this.fetchQuery(i)}prefetchInfiniteQuery(e,n,r){return this.fetchInfiniteQuery(e,n,r).then(yi).catch(yi)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const r=this.queryDefaults.find(i=>Xa(e)===Xa(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(r=>ig(e,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(e,n){const r=this.mutationDefaults.find(i=>Xa(e)===Xa(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(r=>ig(e,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=V1(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class gk extends Ic{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Kb(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Dw(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Dw(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Cw(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const s=this.hasListeners();s&&Hb(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e),r=this.createResult(n,e);return Rq(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(yi)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),Cf||this.currentResult.isStale||!Aw(this.options.staleTime))return;const n=uk(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Cf||this.options.enabled===!1||!Aw(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||sg.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const r=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,l=this.currentResultOptions,c=e!==r,h=c?e.state:this.currentQueryInitialState,f=c?this.currentResult:this.previousQueryResult,{state:p}=e;let{dataUpdatedAt:m,error:y,errorUpdatedAt:v,fetchStatus:w,status:R}=p,T=!1,S=!1,I;if(n._optimisticResults){const N=this.hasListeners(),q=!N&&Kb(e,n),Y=N&&Hb(e,r,n,i);(q||Y)&&(w=sy(e.options.networkMode)?"fetching":"paused",m||(R="loading")),n._optimisticResults==="isRestoring"&&(w="idle")}if(n.keepPreviousData&&!p.dataUpdatedAt&&f!=null&&f.isSuccess&&R!=="error")I=f.data,m=f.dataUpdatedAt,R=f.status,T=!0;else if(n.select&&typeof p.data<"u")if(s&&p.data===(o==null?void 0:o.data)&&n.select===this.selectFn)I=this.selectResult;else try{this.selectFn=n.select,I=n.select(p.data),I=Ow(s==null?void 0:s.data,I,n),this.selectResult=I,this.selectError=null}catch(N){this.selectError=N}else I=p.data;if(typeof n.placeholderData<"u"&&typeof I>"u"&&R==="loading"){let N;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))N=s.data;else if(N=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof N<"u")try{N=n.select(N),this.selectError=null}catch(q){this.selectError=q}typeof N<"u"&&(R="success",I=Ow(s==null?void 0:s.data,N,n),S=!0)}this.selectError&&(y=this.selectError,I=this.selectResult,v=Date.now(),R="error");const E=w==="fetching",P=R==="loading",O=R==="error";return{status:R,fetchStatus:w,isLoading:P,isSuccess:R==="success",isError:O,isInitialLoading:P&&E,data:I,dataUpdatedAt:m,error:y,errorUpdatedAt:v,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:E,isRefetching:E&&!P,isLoadingError:O&&p.dataUpdatedAt===0,isPaused:w==="paused",isPlaceholderData:S,isPreviousData:T,isRefetchError:O&&p.dataUpdatedAt!==0,isStale:B1(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Cw(r,n))return;this.currentResult=r;const i={cache:!0},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!this.trackedProps.size)return!0;const c=new Set(l??this.trackedProps);return this.options.useErrorBoundary&&c.add("error"),Object.keys(this.currentResult).some(h=>{const f=h;return this.currentResult[f]!==n[f]&&c.has(f)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!Em(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){un.batch(()=>{if(e.onSuccess){var n,r,i,s;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(s=this.options).onSettled)==null||i.call(s,this.currentResult.data,null)}else if(e.onError){var o,l,c,h;(o=(l=this.options).onError)==null||o.call(l,this.currentResult.error),(c=(h=this.options).onSettled)==null||c.call(h,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:f})=>{f(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function xq(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Kb(t,e){return xq(t,e)||t.state.dataUpdatedAt>0&&Dw(t,e,e.refetchOnMount)}function Dw(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&B1(t,e)}return!1}function Hb(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&B1(t,n)}function B1(t,e){return t.isStaleByTime(e.staleTime)}function Rq(t,e,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?e.isPlaceholderData:!Cw(t.getCurrentResult(),e)}class bq extends Ic{constructor(e,n){super(),this.client=e,this.queries=[],this.result=[],this.observers=[],this.observersMap={},n&&this.setQueries(n)}onSubscribe(){this.listeners.size===1&&this.observers.forEach(e=>{e.subscribe(n=>{this.onUpdate(e,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach(e=>{e.destroy()})}setQueries(e,n){this.queries=e,un.batch(()=>{const r=this.observers,i=this.findMatchingObservers(this.queries);i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions,n));const s=i.map(h=>h.observer),o=Object.fromEntries(s.map(h=>[h.options.queryHash,h])),l=s.map(h=>h.getCurrentResult()),c=s.some((h,f)=>h!==r[f]);r.length===s.length&&!c||(this.observers=s,this.observersMap=o,this.result=l,this.hasListeners()&&(Vb(r,s).forEach(h=>{h.destroy()}),Vb(s,r).forEach(h=>{h.subscribe(f=>{this.onUpdate(h,f)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(e=>e.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(e){return this.findMatchingObservers(e).map(n=>n.observer.getOptimisticResult(n.defaultedQueryOptions))}findMatchingObservers(e){const n=this.observers,r=new Map(n.map(y=>[y.options.queryHash,y])),i=e.map(y=>this.client.defaultQueryOptions(y)),s=i.flatMap(y=>{const v=r.get(y.queryHash);return v!=null?[{defaultedQueryOptions:y,observer:v}]:[]}),o=new Set(s.map(y=>y.defaultedQueryOptions.queryHash)),l=i.filter(y=>!o.has(y.queryHash)),c=new Set(s.map(y=>y.observer)),h=n.filter(y=>!c.has(y)),f=y=>{const v=this.client.defaultQueryOptions(y),w=this.observersMap[v.queryHash];return w??new gk(this.client,v)},p=l.map((y,v)=>{if(y.keepPreviousData){const w=h[v];if(w!==void 0)return{defaultedQueryOptions:y,observer:w}}return{defaultedQueryOptions:y,observer:f(y)}}),m=(y,v)=>i.indexOf(y.defaultedQueryOptions)-i.indexOf(v.defaultedQueryOptions);return s.concat(p).sort(m)}onUpdate(e,n){const r=this.observers.indexOf(e);r!==-1&&(this.result=cq(this.result,r,n),this.notify())}notify(){un.batch(()=>{this.listeners.forEach(({listener:e})=>{e(this.result)})})}}var yk={exports:{}},vk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tc=x;function Aq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cq=typeof Object.is=="function"?Object.is:Aq,Pq=tc.useState,Oq=tc.useEffect,Dq=tc.useLayoutEffect,kq=tc.useDebugValue;function Nq(t,e){var n=e(),r=Pq({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Dq(function(){i.value=n,i.getSnapshot=e,G_(i)&&s({inst:i})},[t,n,e]),Oq(function(){return G_(i)&&s({inst:i}),t(function(){G_(i)&&s({inst:i})})},[t]),kq(n),n}function G_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cq(t,n)}catch{return!0}}function Lq(t,e){return e()}var Mq=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Lq:Nq;vk.useSyncExternalStore=tc.useSyncExternalStore!==void 0?tc.useSyncExternalStore:Mq;yk.exports=vk;var Fq=yk.exports;const _k=Fq.useSyncExternalStore,Gb=x.createContext(void 0),wk=x.createContext(!1);function Ek(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Gb),window.ReactQueryClientContext):Gb)}const Tk=({context:t}={})=>{const e=x.useContext(Ek(t,x.useContext(wk)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Vq=({client:t,children:e,context:n,contextSharing:r=!1})=>{x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const i=Ek(n,r);return x.createElement(wk.Provider,{value:!n&&r},x.createElement(i.Provider,{value:t},e))},Ik=x.createContext(!1),Sk=()=>x.useContext(Ik);Ik.Provider;function $q(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const Bq=x.createContext($q()),xk=()=>x.useContext(Bq);function jq(t,e){return typeof t=="function"?t(...e):!!t}const Rk=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},bk=t=>{x.useEffect(()=>{t.clearReset()},[t])},Ak=({result:t,errorResetBoundary:e,useErrorBoundary:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&jq(n,[t.error,r]),Ck=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},Pk=(t,e)=>t.isLoading&&t.isFetching&&!e,kw=(t,e,n)=>(t==null?void 0:t.suspense)&&Pk(e,n),Nw=(t,e,n)=>e.fetchOptimistic(t).then(({data:r})=>{t.onSuccess==null||t.onSuccess(r),t.onSettled==null||t.onSettled(r,null)}).catch(r=>{n.clearReset(),t.onError==null||t.onError(r),t.onSettled==null||t.onSettled(void 0,r)});function Uq({queries:t,context:e}){const n=Tk({context:e}),r=Sk(),i=xk(),s=x.useMemo(()=>t.map(m=>{const y=n.defaultQueryOptions(m);return y._optimisticResults=r?"isRestoring":"optimistic",y}),[t,n,r]);s.forEach(m=>{Ck(m),Rk(m,i)}),bk(i);const[o]=x.useState(()=>new bq(n,s)),l=o.getOptimisticResult(s);_k(x.useCallback(m=>r?()=>{}:o.subscribe(un.batchCalls(m)),[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),x.useEffect(()=>{o.setQueries(s,{listeners:!1})},[s,o]);const h=l.some((m,y)=>kw(s[y],m,r))?l.flatMap((m,y)=>{const v=s[y],w=o.getObservers()[y];if(v&&w){if(kw(v,m,r))return Nw(v,w,i);Pk(m,r)&&Nw(v,w,i)}return[]}):[];if(h.length>0)throw Promise.all(h);const f=o.getQueries(),p=l.find((m,y)=>{var v,w;return Ak({result:m,errorResetBoundary:i,useErrorBoundary:(v=(w=s[y])==null?void 0:w.useErrorBoundary)!=null?v:!1,query:f[y]})});if(p!=null&&p.error)throw p.error;return l}function zq(t,e){const n=Tk({context:t.context}),r=Sk(),i=xk(),s=n.defaultQueryOptions(t);s._optimisticResults=r?"isRestoring":"optimistic",s.onError&&(s.onError=un.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=un.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=un.batchCalls(s.onSettled)),Ck(s),Rk(s,i),bk(i);const[o]=x.useState(()=>new e(n,s)),l=o.getOptimisticResult(s);if(_k(x.useCallback(c=>{const h=r?()=>{}:o.subscribe(un.batchCalls(c));return o.updateResult(),h},[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),x.useEffect(()=>{o.setOptions(s,{listeners:!1})},[s,o]),kw(s,l,r))throw Nw(s,o,i);if(Ak({result:l,errorResetBoundary:i,useErrorBoundary:s.useErrorBoundary,query:o.getCurrentQuery()}))throw l.error;return s.notifyOnChangeProps?l:o.trackResult(l)}function Ok(t,e,n){const r=Lh(t,e,n);return zq(r,gk)}const qq=function(){return null};/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yn(){return yn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yn.apply(this,arguments)}var xn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xn||(xn={}));const Qb="popstate";function Wq(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Pf("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ml(i)}return Hq(e,n,null,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Kq(){return Math.random().toString(36).substr(2,8)}function Yb(t,e){return{usr:t.state,key:t.key,idx:e}}function Pf(t,e,n,r){return n===void 0&&(n=null),yn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ao(e):e,{state:n,key:e&&e.key||r||Kq()})}function ml(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ao(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Hq(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=xn.Pop,c=null,h=f();h==null&&(h=0,o.replaceState(yn({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=xn.Pop;let R=f(),T=R==null?null:R-h;h=R,c&&c({action:l,location:w.location,delta:T})}function m(R,T){l=xn.Push;let S=Pf(w.location,R,T);n&&n(S,R),h=f()+1;let I=Yb(S,h),E=w.createHref(S);try{o.pushState(I,"",E)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(E)}s&&c&&c({action:l,location:w.location,delta:1})}function y(R,T){l=xn.Replace;let S=Pf(w.location,R,T);n&&n(S,R),h=f();let I=Yb(S,h),E=w.createHref(S);o.replaceState(I,"",E),s&&c&&c({action:l,location:w.location,delta:0})}function v(R){let T=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof R=="string"?R:ml(R);return ut(T,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,T)}let w={get action(){return l},get location(){return t(i,o)},listen(R){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Qb,p),c=R,()=>{i.removeEventListener(Qb,p),c=null}},createHref(R){return e(i,R)},createURL:v,encodeLocation(R){let T=v(R);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:y,go(R){return o.go(R)}};return w}var Rn;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Rn||(Rn={}));const Gq=new Set(["lazy","caseSensitive","path","id","index","children"]);function Qq(t){return t.index===!0}function Lw(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],l=typeof i.id=="string"?i.id:o.join("-");if(ut(i.index!==!0||!i.children,"Cannot specify children on an index route"),ut(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),Qq(i)){let c=yn({},i,e(i),{id:l});return r[l]=c,c}else{let c=yn({},i,e(i),{id:l,children:void 0});return r[l]=c,i.children&&(c.children=Lw(i.children,e,o,r)),c}})}function Du(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ao(e):e,i=Sc(r.pathname||"/",n);if(i==null)return null;let s=Dk(t);Xq(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=o7(s[l],u7(i));return o}function Yq(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Dk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(ut(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=Ws([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(ut(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Dk(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:i7(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of kk(s.path))i(s,o,c)}),e}function kk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=kk(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Xq(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:s7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Jq=/^:\w+$/,Zq=3,e7=2,t7=1,n7=10,r7=-2,Xb=t=>t==="*";function i7(t,e){let n=t.split("/"),r=n.length;return n.some(Xb)&&(r+=r7),e&&(r+=e7),n.filter(i=>!Xb(i)).reduce((i,s)=>i+(Jq.test(s)?Zq:s===""?t7:n7),r)}function s7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function o7(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=a7({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h);if(!f)return null;Object.assign(r,f.params);let p=l.route;s.push({params:r,pathname:Ws([i,f.pathname]),pathnameBase:d7(Ws([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Ws([i,f.pathnameBase]))}return s}function a7(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=l7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,f,p)=>{let{paramName:m,isOptional:y}=f;if(m==="*"){let w=l[p]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[p];return y&&!v?h[m]=void 0:h[m]=c7(v||"",m),h},{}),pathname:s,pathnameBase:o,pattern:t}}function l7(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),pl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function u7(t){try{return decodeURI(t)}catch(e){return pl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function c7(t,e){try{return decodeURIComponent(t)}catch(n){return pl(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Sc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function h7(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ao(t):t;return{pathname:n?n.startsWith("/")?n:f7(n,e):e,search:p7(r),hash:m7(i)}}function f7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Q_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oy(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function j1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ao(t):(i=yn({},t),ut(!i.pathname||!i.pathname.includes("?"),Q_("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),Q_("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),Q_("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(r||o==null)l=n;else{let p=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let c=h7(i,l),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}const Ws=t=>t.join("/").replace(/\/\/+/g,"/"),d7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),p7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,m7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class U1{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Nk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Lk=["post","put","patch","delete"],g7=new Set(Lk),y7=["get",...Lk],v7=new Set(y7),_7=new Set([301,302,303,307,308]),w7=new Set([307,308]),Y_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},E7={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ph={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Mk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T7=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Fk="remix-router-transitions";function I7(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ut(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let M=t.detectErrorBoundary;i=B=>({hasErrorBoundary:M(B)})}else i=T7;let s={},o=Lw(t.routes,i,void 0,s),l,c=t.basename||"/",h=yn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),f=null,p=new Set,m=null,y=null,v=null,w=t.hydrationData!=null,R=Du(o,t.history.location,c),T=null;if(R==null){let M=vi(404,{pathname:t.history.location.pathname}),{matches:B,route:K}=sA(o);R=B,T={[K.id]:M}}let S=!R.some(M=>M.route.lazy)&&(!R.some(M=>M.route.loader)||t.hydrationData!=null),I,E={historyAction:t.history.action,location:t.history.location,matches:R,initialized:S,navigation:Y_,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||T,fetchers:new Map,blockers:new Map},P=xn.Pop,O=!1,D,N=!1,q=new Map,Y=null,se=!1,fe=!1,ve=[],Ve=[],Ae=new Map,Ce=0,Fe=-1,H=new Map,he=new Set,oe=new Map,_e=new Map,be=new Set,Ne=new Map,$e=new Map,ke=!1;function at(){if(f=t.history.listen(M=>{let{action:B,location:K,delta:ce}=M;if(ke){ke=!1;return}pl($e.size===0||ce!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let pe=ht({currentLocation:E.location,nextLocation:K,historyAction:B});if(pe&&ce!=null){ke=!0,t.history.go(ce*-1),He(pe,{state:"blocked",location:K,proceed(){He(pe,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),t.history.go(ce)},reset(){let Te=new Map(E.blockers);Te.set(pe,ph),Qe({blockers:Te})}});return}return Et(B,K)}),n){N7(e,q);let M=()=>L7(e,q);e.addEventListener("pagehide",M),Y=()=>e.removeEventListener("pagehide",M)}return E.initialized||Et(xn.Pop,E.location),I}function Zt(){f&&f(),Y&&Y(),p.clear(),D&&D.abort(),E.fetchers.forEach((M,B)=>Nn(B)),E.blockers.forEach((M,B)=>Ke(B))}function wt(M){return p.add(M),()=>p.delete(M)}function Qe(M,B){E=yn({},E,M);let K=[],ce=[];h.v7_fetcherPersist&&E.fetchers.forEach((pe,Te)=>{pe.state==="idle"&&(be.has(Te)?ce.push(Te):K.push(Te))}),p.forEach(pe=>pe(E,{deletedFetchers:ce,unstable_viewTransitionOpts:B})),h.v7_fetcherPersist&&(K.forEach(pe=>E.fetchers.delete(pe)),ce.forEach(pe=>Nn(pe)))}function $t(M,B){var K,ce;let pe=E.actionData!=null&&E.navigation.formMethod!=null&&ji(E.navigation.formMethod)&&E.navigation.state==="loading"&&((K=M.state)==null?void 0:K._isRedirect)!==!0,Te;B.actionData?Object.keys(B.actionData).length>0?Te=B.actionData:Te=null:pe?Te=E.actionData:Te=null;let je=B.loaderData?iA(E.loaderData,B.loaderData,B.matches||[],B.errors):E.loaderData,Pe=E.blockers;Pe.size>0&&(Pe=new Map(Pe),Pe.forEach((Mt,ot)=>Pe.set(ot,ph)));let Oe=O===!0||E.navigation.formMethod!=null&&ji(E.navigation.formMethod)&&((ce=M.state)==null?void 0:ce._isRedirect)!==!0;l&&(o=l,l=void 0),se||P===xn.Pop||(P===xn.Push?t.history.push(M,M.state):P===xn.Replace&&t.history.replace(M,M.state));let St;if(P===xn.Pop){let Mt=q.get(E.location.pathname);Mt&&Mt.has(M.pathname)?St={currentLocation:E.location,nextLocation:M}:q.has(M.pathname)&&(St={currentLocation:M,nextLocation:E.location})}else if(N){let Mt=q.get(E.location.pathname);Mt?Mt.add(M.pathname):(Mt=new Set([M.pathname]),q.set(E.location.pathname,Mt)),St={currentLocation:E.location,nextLocation:M}}Qe(yn({},B,{actionData:Te,loaderData:je,historyAction:P,location:M,initialized:!0,navigation:Y_,revalidation:"idle",restoreScrollPosition:Ee(M,B.matches||E.matches),preventScrollReset:Oe,blockers:Pe}),St),P=xn.Pop,O=!1,N=!1,se=!1,fe=!1,ve=[],Ve=[]}async function ct(M,B){if(typeof M=="number"){t.history.go(M);return}let K=Mw(E.location,E.matches,c,h.v7_prependBasename,M,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:ce,submission:pe,error:Te}=Jb(h.v7_normalizeFormMethod,!1,K,B),je=E.location,Pe=Pf(E.location,ce,B&&B.state);Pe=yn({},Pe,t.history.encodeLocation(Pe));let Oe=B&&B.replace!=null?B.replace:void 0,St=xn.Push;Oe===!0?St=xn.Replace:Oe===!1||pe!=null&&ji(pe.formMethod)&&pe.formAction===E.location.pathname+E.location.search&&(St=xn.Replace);let Mt=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,ot=ht({currentLocation:je,nextLocation:Pe,historyAction:St});if(ot){He(ot,{state:"blocked",location:Pe,proceed(){He(ot,{state:"proceeding",proceed:void 0,reset:void 0,location:Pe}),ct(M,B)},reset(){let Ct=new Map(E.blockers);Ct.set(ot,ph),Qe({blockers:Ct})}});return}return await Et(St,Pe,{submission:pe,pendingError:Te,preventScrollReset:Mt,replace:B&&B.replace,enableViewTransition:B&&B.unstable_viewTransition})}function Rt(){if(kn(),Qe({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){Et(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}Et(P||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation})}}async function Et(M,B,K){D&&D.abort(),D=null,P=M,se=(K&&K.startUninterruptedRevalidation)===!0,we(E.location,E.matches),O=(K&&K.preventScrollReset)===!0,N=(K&&K.enableViewTransition)===!0;let ce=l||o,pe=K&&K.overrideNavigation,Te=Du(ce,B,c);if(!Te){let Ct=vi(404,{pathname:B.pathname}),{matches:sn,route:Is}=sA(ce);W(),$t(B,{matches:sn,loaderData:{},errors:{[Is.id]:Ct}});return}if(E.initialized&&!fe&&A7(E.location,B)&&!(K&&K.submission&&ji(K.submission.formMethod))){$t(B,{matches:Te});return}D=new AbortController;let je=gh(t.history,B,D.signal,K&&K.submission),Pe,Oe;if(K&&K.pendingError)Oe={[Jh(Te).route.id]:K.pendingError};else if(K&&K.submission&&ji(K.submission.formMethod)){let Ct=await Nt(je,B,K.submission,Te,{replace:K.replace});if(Ct.shortCircuited)return;Pe=Ct.pendingActionData,Oe=Ct.pendingActionError,pe=X_(B,K.submission),je=new Request(je.url,{signal:je.signal})}let{shortCircuited:St,loaderData:Mt,errors:ot}=await et(je,B,Te,pe,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,Pe,Oe);St||(D=null,$t(B,yn({matches:Te},Pe?{actionData:Pe}:{},{loaderData:Mt,errors:ot})))}async function Nt(M,B,K,ce,pe){pe===void 0&&(pe={}),kn();let Te=D7(B,K);Qe({navigation:Te});let je,Pe=Vw(ce,B);if(!Pe.route.action&&!Pe.route.lazy)je={type:Rn.error,error:vi(405,{method:M.method,pathname:B.pathname,routeId:Pe.route.id})};else if(je=await mh("action",M,Pe,ce,s,i,c),M.signal.aborted)return{shortCircuited:!0};if(Bu(je)){let Oe;return pe&&pe.replace!=null?Oe=pe.replace:Oe=je.location===E.location.pathname+E.location.search,await Lt(E,je,{submission:K,replace:Oe}),{shortCircuited:!0}}if(Zh(je)){let Oe=Jh(ce,Pe.route.id);return(pe&&pe.replace)!==!0&&(P=xn.Push),{pendingActionData:{},pendingActionError:{[Oe.route.id]:je.error}}}if(Ja(je))throw vi(400,{type:"defer-action"});return{pendingActionData:{[Pe.route.id]:je.data}}}async function et(M,B,K,ce,pe,Te,je,Pe,Oe){let St=ce||X_(B,pe),Mt=pe||Te||lA(St),ot=l||o,[Ct,sn]=Zb(t.history,E,K,Mt,B,fe,ve,Ve,oe,he,ot,c,Pe,Oe);if(W(bt=>!(K&&K.some(Hr=>Hr.route.id===bt))||Ct&&Ct.some(Hr=>Hr.route.id===bt)),Fe=++Ce,Ct.length===0&&sn.length===0){let bt=$();return $t(B,yn({matches:K,loaderData:{},errors:Oe||null},Pe?{actionData:Pe}:{},bt?{fetchers:new Map(E.fetchers)}:{})),{shortCircuited:!0}}if(!se){sn.forEach(Hr=>{let Xi=E.fetchers.get(Hr.key),on=yh(void 0,Xi?Xi.data:void 0);E.fetchers.set(Hr.key,on)});let bt=Pe||E.actionData;Qe(yn({navigation:St},bt?Object.keys(bt).length===0?{actionData:null}:{actionData:bt}:{},sn.length>0?{fetchers:new Map(E.fetchers)}:{}))}sn.forEach(bt=>{Ae.has(bt.key)&&ze(bt.key),bt.controller&&Ae.set(bt.key,bt.controller)});let Is=()=>sn.forEach(bt=>ze(bt.key));D&&D.signal.addEventListener("abort",Is);let{results:Ss,loaderResults:Ra,fetcherResults:jc}=await Wt(E.matches,K,Ct,sn,M);if(M.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Is),sn.forEach(bt=>Ae.delete(bt.key));let ki=oA(Ss);if(ki){if(ki.idx>=Ct.length){let bt=sn[ki.idx-Ct.length].key;he.add(bt)}return await Lt(E,ki.result,{replace:je}),{shortCircuited:!0}}let{loaderData:Yi,errors:jl}=rA(E,K,Ct,Ra,Oe,sn,jc,Ne);Ne.forEach((bt,Hr)=>{bt.subscribe(Xi=>{(Xi||bt.done)&&Ne.delete(Hr)})});let Uc=$(),Ul=ne(Fe),zc=Uc||Ul||sn.length>0;return yn({loaderData:Yi,errors:jl},zc?{fetchers:new Map(E.fetchers)}:{})}function sr(M){return h.v7_fetcherPersist&&(_e.set(M,(_e.get(M)||0)+1),be.has(M)&&be.delete(M)),E.fetchers.get(M)||E7}function qt(M,B,K,ce){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ae.has(M)&&ze(M);let pe=l||o,Te=Mw(E.location,E.matches,c,h.v7_prependBasename,K,B,ce==null?void 0:ce.relative),je=Du(pe,Te,c);if(!je){pn(M,B,vi(404,{pathname:Te}));return}let{path:Pe,submission:Oe,error:St}=Jb(h.v7_normalizeFormMethod,!0,Te,ce);if(St){pn(M,B,St);return}let Mt=Vw(je,Pe);if(O=(ce&&ce.preventScrollReset)===!0,Oe&&ji(Oe.formMethod)){Kr(M,B,Pe,Mt,je,Oe);return}oe.set(M,{routeId:B,path:Pe}),Di(M,B,Pe,Mt,je,Oe)}async function Kr(M,B,K,ce,pe,Te){if(kn(),oe.delete(M),!ce.route.action&&!ce.route.lazy){let on=vi(405,{method:Te.formMethod,pathname:K,routeId:B});pn(M,B,on);return}let je=E.fetchers.get(M),Pe=k7(Te,je);E.fetchers.set(M,Pe),Qe({fetchers:new Map(E.fetchers)});let Oe=new AbortController,St=gh(t.history,K,Oe.signal,Te);Ae.set(M,Oe);let Mt=Ce,ot=await mh("action",St,ce,pe,s,i,c);if(St.signal.aborted){Ae.get(M)===Oe&&Ae.delete(M);return}if(be.has(M)){E.fetchers.set(M,Co(void 0)),Qe({fetchers:new Map(E.fetchers)});return}if(Bu(ot))if(Ae.delete(M),Fe>Mt){let on=Co(void 0);E.fetchers.set(M,on),Qe({fetchers:new Map(E.fetchers)});return}else{he.add(M);let on=yh(Te);return E.fetchers.set(M,on),Qe({fetchers:new Map(E.fetchers)}),Lt(E,ot,{fetcherSubmission:Te})}if(Zh(ot)){pn(M,B,ot.error);return}if(Ja(ot))throw vi(400,{type:"defer-action"});let Ct=E.navigation.location||E.location,sn=gh(t.history,Ct,Oe.signal),Is=l||o,Ss=E.navigation.state!=="idle"?Du(Is,E.navigation.location,c):E.matches;ut(Ss,"Didn't find any matches after fetcher action");let Ra=++Ce;H.set(M,Ra);let jc=yh(Te,ot.data);E.fetchers.set(M,jc);let[ki,Yi]=Zb(t.history,E,Ss,Te,Ct,fe,ve,Ve,oe,he,Is,c,{[ce.route.id]:ot.data},void 0);Yi.filter(on=>on.key!==M).forEach(on=>{let ba=on.key,Aa=E.fetchers.get(ba),hv=yh(void 0,Aa?Aa.data:void 0);E.fetchers.set(ba,hv),Ae.has(ba)&&ze(ba),on.controller&&Ae.set(ba,on.controller)}),Qe({fetchers:new Map(E.fetchers)});let jl=()=>Yi.forEach(on=>ze(on.key));Oe.signal.addEventListener("abort",jl);let{results:Uc,loaderResults:Ul,fetcherResults:zc}=await Wt(E.matches,Ss,ki,Yi,sn);if(Oe.signal.aborted)return;Oe.signal.removeEventListener("abort",jl),H.delete(M),Ae.delete(M),Yi.forEach(on=>Ae.delete(on.key));let bt=oA(Uc);if(bt){if(bt.idx>=ki.length){let on=Yi[bt.idx-ki.length].key;he.add(on)}return Lt(E,bt.result)}let{loaderData:Hr,errors:Xi}=rA(E,E.matches,ki,Ul,void 0,Yi,zc,Ne);if(E.fetchers.has(M)){let on=Co(ot.data);E.fetchers.set(M,on)}ne(Ra),E.navigation.state==="loading"&&Ra>Fe?(ut(P,"Expected pending action"),D&&D.abort(),$t(E.navigation.location,{matches:Ss,loaderData:Hr,errors:Xi,fetchers:new Map(E.fetchers)})):(Qe({errors:Xi,loaderData:iA(E.loaderData,Hr,Ss,Xi),fetchers:new Map(E.fetchers)}),fe=!1)}async function Di(M,B,K,ce,pe,Te){let je=E.fetchers.get(M),Pe=yh(Te,je?je.data:void 0);E.fetchers.set(M,Pe),Qe({fetchers:new Map(E.fetchers)});let Oe=new AbortController,St=gh(t.history,K,Oe.signal);Ae.set(M,Oe);let Mt=Ce,ot=await mh("loader",St,ce,pe,s,i,c);if(Ja(ot)&&(ot=await Bk(ot,St.signal,!0)||ot),Ae.get(M)===Oe&&Ae.delete(M),St.signal.aborted)return;if(be.has(M)){E.fetchers.set(M,Co(void 0)),Qe({fetchers:new Map(E.fetchers)});return}if(Bu(ot))if(Fe>Mt){let sn=Co(void 0);E.fetchers.set(M,sn),Qe({fetchers:new Map(E.fetchers)});return}else{he.add(M),await Lt(E,ot);return}if(Zh(ot)){pn(M,B,ot.error);return}ut(!Ja(ot),"Unhandled fetcher deferred data");let Ct=Co(ot.data);E.fetchers.set(M,Ct),Qe({fetchers:new Map(E.fetchers)})}async function Lt(M,B,K){let{submission:ce,fetcherSubmission:pe,replace:Te}=K===void 0?{}:K;B.revalidate&&(fe=!0);let je=Pf(M.location,B.location,{_isRedirect:!0});if(ut(je,"Expected a location on the redirect navigation"),n){let Ct=!1;if(B.reloadDocument)Ct=!0;else if(Mk.test(B.location)){const sn=t.history.createURL(B.location);Ct=sn.origin!==e.location.origin||Sc(sn.pathname,c)==null}if(Ct){Te?e.location.replace(B.location):e.location.assign(B.location);return}}D=null;let Pe=Te===!0?xn.Replace:xn.Push,{formMethod:Oe,formAction:St,formEncType:Mt}=M.navigation;!ce&&!pe&&Oe&&St&&Mt&&(ce=lA(M.navigation));let ot=ce||pe;if(w7.has(B.status)&&ot&&ji(ot.formMethod))await Et(Pe,je,{submission:yn({},ot,{formAction:B.location}),preventScrollReset:O});else{let Ct=X_(je,ce);await Et(Pe,je,{overrideNavigation:Ct,fetcherSubmission:pe,preventScrollReset:O})}}async function Wt(M,B,K,ce,pe){let Te=await Promise.all([...K.map(Oe=>mh("loader",pe,Oe,B,s,i,c)),...ce.map(Oe=>Oe.matches&&Oe.match&&Oe.controller?mh("loader",gh(t.history,Oe.path,Oe.controller.signal),Oe.match,Oe.matches,s,i,c):{type:Rn.error,error:vi(404,{pathname:Oe.path})})]),je=Te.slice(0,K.length),Pe=Te.slice(K.length);return await Promise.all([aA(M,K,je,je.map(()=>pe.signal),!1,E.loaderData),aA(M,ce.map(Oe=>Oe.match),Pe,ce.map(Oe=>Oe.controller?Oe.controller.signal:null),!0)]),{results:Te,loaderResults:je,fetcherResults:Pe}}function kn(){fe=!0,ve.push(...W()),oe.forEach((M,B)=>{Ae.has(B)&&(Ve.push(B),ze(B))})}function pn(M,B,K){let ce=Jh(E.matches,B);Nn(M),Qe({errors:{[ce.route.id]:K},fetchers:new Map(E.fetchers)})}function Nn(M){let B=E.fetchers.get(M);Ae.has(M)&&!(B&&B.state==="loading"&&H.has(M))&&ze(M),oe.delete(M),H.delete(M),he.delete(M),be.delete(M),E.fetchers.delete(M)}function le(M){if(h.v7_fetcherPersist){let B=(_e.get(M)||0)-1;B<=0?(_e.delete(M),be.add(M)):_e.set(M,B)}else Nn(M);Qe({fetchers:new Map(E.fetchers)})}function ze(M){let B=Ae.get(M);ut(B,"Expected fetch controller: "+M),B.abort(),Ae.delete(M)}function Q(M){for(let B of M){let K=sr(B),ce=Co(K.data);E.fetchers.set(B,ce)}}function $(){let M=[],B=!1;for(let K of he){let ce=E.fetchers.get(K);ut(ce,"Expected fetcher: "+K),ce.state==="loading"&&(he.delete(K),M.push(K),B=!0)}return Q(M),B}function ne(M){let B=[];for(let[K,ce]of H)if(ce<M){let pe=E.fetchers.get(K);ut(pe,"Expected fetcher: "+K),pe.state==="loading"&&(ze(K),H.delete(K),B.push(K))}return Q(B),B.length>0}function ae(M,B){let K=E.blockers.get(M)||ph;return $e.get(M)!==B&&$e.set(M,B),K}function Ke(M){E.blockers.delete(M),$e.delete(M)}function He(M,B){let K=E.blockers.get(M)||ph;ut(K.state==="unblocked"&&B.state==="blocked"||K.state==="blocked"&&B.state==="blocked"||K.state==="blocked"&&B.state==="proceeding"||K.state==="blocked"&&B.state==="unblocked"||K.state==="proceeding"&&B.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+B.state);let ce=new Map(E.blockers);ce.set(M,B),Qe({blockers:ce})}function ht(M){let{currentLocation:B,nextLocation:K,historyAction:ce}=M;if($e.size===0)return;$e.size>1&&pl(!1,"A router only supports one blocker at a time");let pe=Array.from($e.entries()),[Te,je]=pe[pe.length-1],Pe=E.blockers.get(Te);if(!(Pe&&Pe.state==="proceeding")&&je({currentLocation:B,nextLocation:K,historyAction:ce}))return Te}function W(M){let B=[];return Ne.forEach((K,ce)=>{(!M||M(ce))&&(K.cancel(),B.push(ce),Ne.delete(ce))}),B}function X(M,B,K){if(m=M,v=B,y=K||null,!w&&E.navigation===Y_){w=!0;let ce=Ee(E.location,E.matches);ce!=null&&Qe({restoreScrollPosition:ce})}return()=>{m=null,v=null,y=null}}function Se(M,B){return y&&y(M,B.map(ce=>Yq(ce,E.loaderData)))||M.key}function we(M,B){if(m&&v){let K=Se(M,B);m[K]=v()}}function Ee(M,B){if(m){let K=Se(M,B),ce=m[K];if(typeof ce=="number")return ce}return null}function nt(M){s={},l=Lw(M,i,void 0,s)}return I={get basename(){return c},get state(){return E},get routes(){return o},get window(){return e},initialize:at,subscribe:wt,enableScrollRestoration:X,navigate:ct,fetch:qt,revalidate:Rt,createHref:M=>t.history.createHref(M),encodeLocation:M=>t.history.encodeLocation(M),getFetcher:sr,deleteFetcher:le,dispose:Zt,getBlocker:ae,deleteBlocker:Ke,_internalFetchControllers:Ae,_internalActiveDeferreds:Ne,_internalSetRoutes:nt},I}function S7(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Mw(t,e,n,r,i,s,o){let l,c;if(s!=null&&o!=="path"){l=[];for(let f of e)if(l.push(f),f.route.id===s){c=f;break}}else l=e,c=e[e.length-1];let h=j1(i||".",oy(l).map(f=>f.pathnameBase),Sc(t.pathname,n)||t.pathname,o==="path");return i==null&&(h.search=t.search,h.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!z1(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(h.pathname=h.pathname==="/"?n:Ws([n,h.pathname])),ml(h)}function Jb(t,e,n,r){if(!r||!S7(r))return{path:n};if(r.formMethod&&!O7(r.formMethod))return{path:n,error:vi(405,{method:r.formMethod})};let i=()=>({path:n,error:vi(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=$k(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ji(o))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,v)=>{let[w,R]=v;return""+y+w+"="+R+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!ji(o))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}ut(typeof FormData=="function","FormData is not available in this environment");let c,h;if(r.formData)c=Fw(r.formData),h=r.formData;else if(r.body instanceof FormData)c=Fw(r.body),h=r.body;else if(r.body instanceof URLSearchParams)c=r.body,h=nA(c);else if(r.body==null)c=new URLSearchParams,h=new FormData;else try{c=new URLSearchParams(r.body),h=nA(c)}catch{return i()}let f={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(ji(f.formMethod))return{path:n,submission:f};let p=ao(n);return e&&p.search&&z1(p.search)&&c.append("index",""),p.search="?"+c,{path:ml(p),submission:f}}function x7(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Zb(t,e,n,r,i,s,o,l,c,h,f,p,m,y){let v=y?Object.values(y)[0]:m?Object.values(m)[0]:void 0,w=t.createURL(e.location),R=t.createURL(i),T=y?Object.keys(y)[0]:void 0,I=x7(n,T).filter((P,O)=>{if(P.route.lazy)return!0;if(P.route.loader==null)return!1;if(R7(e.loaderData,e.matches[O],P)||o.some(q=>q===P.route.id))return!0;let D=e.matches[O],N=P;return eA(P,yn({currentUrl:w,currentParams:D.params,nextUrl:R,nextParams:N.params},r,{actionResult:v,defaultShouldRevalidate:s||w.pathname+w.search===R.pathname+R.search||w.search!==R.search||Vk(D,N)}))}),E=[];return c.forEach((P,O)=>{if(!n.some(se=>se.route.id===P.routeId))return;let D=Du(f,P.path,p);if(!D){E.push({key:O,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(O),q=Vw(D,P.path),Y=!1;h.has(O)?Y=!1:l.includes(O)?Y=!0:N&&N.state!=="idle"&&N.data===void 0?Y=s:Y=eA(q,yn({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:R,nextParams:n[n.length-1].params},r,{actionResult:v,defaultShouldRevalidate:s})),Y&&E.push({key:O,routeId:P.routeId,path:P.path,matches:D,match:q,controller:new AbortController})}),[I,E]}function R7(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Vk(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function eA(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function tA(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ut(i,"No route found in manifest");let s={};for(let o in r){let c=i[o]!==void 0&&o!=="hasErrorBoundary";pl(!c,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!Gq.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,yn({},e(i),{lazy:void 0}))}async function mh(t,e,n,r,i,s,o,l){l===void 0&&(l={});let c,h,f,p=v=>{let w,R=new Promise((T,S)=>w=S);return f=()=>w(),e.signal.addEventListener("abort",f),Promise.race([v({request:e,params:n.params,context:l.requestContext}),R])};try{let v=n.route[t];if(n.route.lazy)if(v){let w,R=await Promise.all([p(v).catch(T=>{w=T}),tA(n.route,s,i)]);if(w)throw w;h=R[0]}else if(await tA(n.route,s,i),v=n.route[t],v)h=await p(v);else if(t==="action"){let w=new URL(e.url),R=w.pathname+w.search;throw vi(405,{method:e.method,pathname:R,routeId:n.route.id})}else return{type:Rn.data,data:void 0};else if(v)h=await p(v);else{let w=new URL(e.url),R=w.pathname+w.search;throw vi(404,{pathname:R})}ut(h!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(v){c=Rn.error,h=v}finally{f&&e.signal.removeEventListener("abort",f)}if(P7(h)){let v=h.status;if(_7.has(v)){let T=h.headers.get("Location");if(ut(T,"Redirects returned/thrown from loaders/actions must have a Location header"),!Mk.test(T))T=Mw(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,T);else if(!l.isStaticRequest){let S=new URL(e.url),I=T.startsWith("//")?new URL(S.protocol+T):new URL(T),E=Sc(I.pathname,o)!=null;I.origin===S.origin&&E&&(T=I.pathname+I.search+I.hash)}if(l.isStaticRequest)throw h.headers.set("Location",T),h;return{type:Rn.redirect,status:v,location:T,revalidate:h.headers.get("X-Remix-Revalidate")!==null,reloadDocument:h.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:c===Rn.error?Rn.error:Rn.data,response:h};let w,R=h.headers.get("Content-Type");return R&&/\bapplication\/json\b/.test(R)?w=await h.json():w=await h.text(),c===Rn.error?{type:c,error:new U1(v,h.statusText,w),headers:h.headers}:{type:Rn.data,data:w,statusCode:h.status,headers:h.headers}}if(c===Rn.error)return{type:c,error:h};if(C7(h)){var m,y;return{type:Rn.deferred,deferredData:h,statusCode:(m=h.init)==null?void 0:m.status,headers:((y=h.init)==null?void 0:y.headers)&&new Headers(h.init.headers)}}return{type:Rn.data,data:h}}function gh(t,e,n,r){let i=t.createURL($k(e)).toString(),s={signal:n};if(r&&ji(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=Fw(r.formData):s.body=r.formData}return new Request(i,s)}function Fw(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function nA(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function b7(t,e,n,r,i){let s={},o=null,l,c=!1,h={};return n.forEach((f,p)=>{let m=e[p].route.id;if(ut(!Bu(f),"Cannot handle redirect results in processLoaderData"),Zh(f)){let y=Jh(t,m),v=f.error;r&&(v=Object.values(r)[0],r=void 0),o=o||{},o[y.route.id]==null&&(o[y.route.id]=v),s[m]=void 0,c||(c=!0,l=Nk(f.error)?f.error.status:500),f.headers&&(h[m]=f.headers)}else Ja(f)?(i.set(m,f.deferredData),s[m]=f.deferredData.data):s[m]=f.data,f.statusCode!=null&&f.statusCode!==200&&!c&&(l=f.statusCode),f.headers&&(h[m]=f.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:h}}function rA(t,e,n,r,i,s,o,l){let{loaderData:c,errors:h}=b7(e,n,r,i,l);for(let f=0;f<s.length;f++){let{key:p,match:m,controller:y}=s[f];ut(o!==void 0&&o[f]!==void 0,"Did not find corresponding fetcher result");let v=o[f];if(!(y&&y.signal.aborted))if(Zh(v)){let w=Jh(t.matches,m==null?void 0:m.route.id);h&&h[w.route.id]||(h=yn({},h,{[w.route.id]:v.error})),t.fetchers.delete(p)}else if(Bu(v))ut(!1,"Unhandled fetcher revalidation redirect");else if(Ja(v))ut(!1,"Unhandled fetcher deferred data");else{let w=Co(v.data);t.fetchers.set(p,w)}}return{loaderData:c,errors:h}}function iA(t,e,n,r){let i=yn({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Jh(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function sA(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function vi(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",l='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new U1(t||500,o,new Error(l),!0)}function oA(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Bu(n))return{result:n,idx:e}}}function $k(t){let e=typeof t=="string"?ao(t):t;return ml(yn({},e,{hash:""}))}function A7(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Ja(t){return t.type===Rn.deferred}function Zh(t){return t.type===Rn.error}function Bu(t){return(t&&t.type)===Rn.redirect}function C7(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function P7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function O7(t){return v7.has(t.toLowerCase())}function ji(t){return g7.has(t.toLowerCase())}async function aA(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],c=e[o];if(!c)continue;let h=t.find(p=>p.route.id===c.route.id),f=h!=null&&!Vk(h,c)&&(s&&s[c.route.id])!==void 0;if(Ja(l)&&(i||f)){let p=r[o];ut(p,"Expected an AbortSignal for revalidating fetcher deferred result"),await Bk(l,p,i).then(m=>{m&&(n[o]=m||n[o])})}}}async function Bk(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Rn.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Rn.error,error:i}}return{type:Rn.data,data:t.deferredData.data}}}function z1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Vw(t,e){let n=typeof e=="string"?ao(e).search:e.search;if(t[t.length-1].route.index&&z1(n||""))return t[t.length-1];let r=oy(t);return r[r.length-1]}function lA(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function X_(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function D7(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function yh(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function k7(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Co(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function N7(t,e){try{let n=t.sessionStorage.getItem(Fk);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function L7(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Fk,JSON.stringify(n))}catch(r){pl(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ag.apply(this,arguments)}const ay=x.createContext(null),jk=x.createContext(null),xc=x.createContext(null),ly=x.createContext(null),lo=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Uk=x.createContext(null);function M7(t,e){let{relative:n}=e===void 0?{}:e;fd()||ut(!1);let{basename:r,navigator:i}=x.useContext(xc),{hash:s,pathname:o,search:l}=Wk(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ws([r,o])),i.createHref({pathname:c,search:l,hash:s})}function fd(){return x.useContext(ly)!=null}function uy(){return fd()||ut(!1),x.useContext(ly).location}function zk(t){x.useContext(xc).static||x.useLayoutEffect(t)}function qk(){let{isDataRoute:t}=x.useContext(lo);return t?X7():F7()}function F7(){fd()||ut(!1);let t=x.useContext(ay),{basename:e,navigator:n}=x.useContext(xc),{matches:r}=x.useContext(lo),{pathname:i}=uy(),s=JSON.stringify(oy(r).map(c=>c.pathnameBase)),o=x.useRef(!1);return zk(()=>{o.current=!0}),x.useCallback(function(c,h){if(h===void 0&&(h={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=j1(c,JSON.parse(s),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ws([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,s,i,t])}const V7=x.createContext(null);function $7(t){let e=x.useContext(lo).outlet;return e&&x.createElement(V7.Provider,{value:t},e)}function B7(){let{matches:t}=x.useContext(lo),e=t[t.length-1];return e?e.params:{}}function Wk(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=x.useContext(lo),{pathname:i}=uy(),s=JSON.stringify(oy(r).map(o=>o.pathnameBase));return x.useMemo(()=>j1(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function j7(t,e,n){fd()||ut(!1);let{navigator:r}=x.useContext(xc),{matches:i}=x.useContext(lo),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=uy(),h;if(e){var f;let w=typeof e=="string"?ao(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||ut(!1),h=w}else h=c;let p=h.pathname||"/",m=l==="/"?p:p.slice(l.length)||"/",y=Du(t,{pathname:m}),v=K7(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Ws([l,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Ws([l,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n);return e&&v?x.createElement(ly.Provider,{value:{location:ag({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:xn.Pop}},v):v}function U7(){let t=Y7(),e=Nk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,s)}const z7=x.createElement(U7,null);class q7 extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?x.createElement(lo.Provider,{value:this.props.routeContext},x.createElement(Uk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function W7(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(ay);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(lo.Provider,{value:e},r)}function K7(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let l=s.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id]));l>=0||ut(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,c,h)=>{let f=c.route.id?o==null?void 0:o[c.route.id]:null,p=null;n&&(p=c.route.errorElement||z7);let m=e.concat(s.slice(0,h+1)),y=()=>{let v;return f?v=p:c.route.Component?v=x.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=l,x.createElement(W7,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:n!=null},children:v})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?x.createElement(q7,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var Kk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Kk||{}),lg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lg||{});function H7(t){let e=x.useContext(ay);return e||ut(!1),e}function G7(t){let e=x.useContext(jk);return e||ut(!1),e}function Q7(t){let e=x.useContext(lo);return e||ut(!1),e}function Hk(t){let e=Q7(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function Y7(){var t;let e=x.useContext(Uk),n=G7(lg.UseRouteError),r=Hk(lg.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function X7(){let{router:t}=H7(Kk.UseNavigateStable),e=Hk(lg.UseNavigateStable),n=x.useRef(!1);return zk(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ag({fromRouteId:e},s)))},[t,e])}function Gk(t){return $7(t.context)}function J7(t){let{basename:e="/",children:n=null,location:r,navigationType:i=xn.Pop,navigator:s,static:o=!1}=t;fd()&&ut(!1);let l=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof r=="string"&&(r=ao(r));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:y="default"}=r,v=x.useMemo(()=>{let w=Sc(h,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:m,key:y},navigationType:i}},[l,h,f,p,m,y,i]);return v==null?null:x.createElement(xc.Provider,{value:c},x.createElement(ly.Provider,{children:n,value:v}))}new Promise(()=>{});function Z7(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:x.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:x.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Of(){return Of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Of.apply(this,arguments)}function e8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function t8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function n8(t,e){return t.button===0&&(!e||e==="_self")&&!t8(t)}const r8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function i8(t,e){return I7({basename:e==null?void 0:e.basename,future:Of({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Wq({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||s8(),routes:t,mapRouteProperties:Z7,window:e==null?void 0:e.window}).initialize()}function s8(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Of({},e,{errors:o8(e.errors)})),e}function o8(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new U1(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const a8=x.createContext({isTransitioning:!1}),l8=x.createContext(new Map),u8="startTransition",uA=Z6[u8];function c8(t){uA?uA(t):t()}let h8=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function f8(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=x.useState(n.state),[o,l]=x.useState(),[c,h]=x.useState({isTransitioning:!1}),[f,p]=x.useState(),[m,y]=x.useState(),[v,w]=x.useState(),R=x.useRef(new Map),{v7_startTransition:T}=r||{},S=x.useCallback(D=>{T?c8(D):D()},[T]),I=x.useCallback((D,N)=>{let{deletedFetchers:q,unstable_viewTransitionOpts:Y}=N;q.forEach(se=>R.current.delete(se)),D.fetchers.forEach((se,fe)=>{se.data!==void 0&&R.current.set(fe,se.data)}),!Y||n.window==null||typeof n.window.document.startViewTransition!="function"?S(()=>s(D)):m&&f?(f.resolve(),m.skipTransition(),w({state:D,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})):(l(D),h({isTransitioning:!0,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation}))},[n.window,m,f,R,S]);x.useLayoutEffect(()=>n.subscribe(I),[n,I]),x.useEffect(()=>{c.isTransitioning&&p(new h8)},[c.isTransitioning]),x.useEffect(()=>{if(f&&o&&n.window){let D=o,N=f.promise,q=n.window.document.startViewTransition(async()=>{S(()=>s(D)),await N});q.finished.finally(()=>{p(void 0),y(void 0),l(void 0),h({isTransitioning:!1})}),y(q)}},[S,o,f,n.window]),x.useEffect(()=>{f&&o&&i.location.key===o.location.key&&f.resolve()},[f,m,i.location,o]),x.useEffect(()=>{!c.isTransitioning&&v&&(l(v.state),h({isTransitioning:!0,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),w(void 0))},[c.isTransitioning,v]);let E=x.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:D=>n.navigate(D),push:(D,N,q)=>n.navigate(D,{state:N,preventScrollReset:q==null?void 0:q.preventScrollReset}),replace:(D,N,q)=>n.navigate(D,{replace:!0,state:N,preventScrollReset:q==null?void 0:q.preventScrollReset})}),[n]),P=n.basename||"/",O=x.useMemo(()=>({router:n,navigator:E,static:!1,basename:P}),[n,E,P]);return x.createElement(x.Fragment,null,x.createElement(ay.Provider,{value:O},x.createElement(jk.Provider,{value:i},x.createElement(l8.Provider,{value:R.current},x.createElement(a8.Provider,{value:c},x.createElement(J7,{basename:P,location:i.location,navigationType:i.historyAction,navigator:E},i.initialized?x.createElement(d8,{routes:n.routes,state:i}):e))))),null)}function d8(t){let{routes:e,state:n}=t;return j7(e,void 0,n)}const p8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,du=x.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:h,preventScrollReset:f,unstable_viewTransition:p}=e,m=e8(e,r8),{basename:y}=x.useContext(xc),v,w=!1;if(typeof h=="string"&&m8.test(h)&&(v=h,p8))try{let I=new URL(window.location.href),E=h.startsWith("//")?new URL(I.protocol+h):new URL(h),P=Sc(E.pathname,y);E.origin===I.origin&&P!=null?h=P+E.search+E.hash:w=!0}catch{}let R=M7(h,{relative:i}),T=g8(h,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,unstable_viewTransition:p});function S(I){r&&r(I),I.defaultPrevented||T(I)}return x.createElement("a",Of({},m,{href:v||R,onClick:w||s?r:S,ref:n,target:c}))});var cA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(cA||(cA={}));var hA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hA||(hA={}));function g8(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=qk(),h=uy(),f=Wk(t,{relative:o});return x.useCallback(p=>{if(n8(p,n)){p.preventDefault();let m=r!==void 0?r:ml(h)===ml(f);c(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[h,c,f,r,i,n,t,s,o,l])}const y8="modulepreload",v8=function(t){return"/pokemon-Gym/"+t},fA={},_8=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=v8(s),s in fA)return;fA[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let f=i.length-1;f>=0;f--){const p=i[f];if(p.href===s&&(!o||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const h=document.createElement("link");if(h.rel=o?"stylesheet":y8,o||(h.as="script",h.crossOrigin=""),h.href=s,document.head.appendChild(h),o)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Qk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dA=Yt.createContext&&Yt.createContext(Qk),Yo=globalThis&&globalThis.__assign||function(){return Yo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Yo.apply(this,arguments)},w8=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Yk(t){return t&&t.map(function(e,n){return Yt.createElement(e.tag,Yo({key:n},e.attr),Yk(e.child))})}function dd(t){return function(e){return Yt.createElement(E8,Yo({attr:Yo({},t.attr)},e),Yk(t.child))}}function E8(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=w8(t,["attr","size","title"]),l=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Yt.createElement("svg",Yo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:Yo(Yo({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Yt.createElement("title",null,s),t.children)};return dA!==void 0?Yt.createElement(dA.Consumer,null,function(n){return e(n)}):e(Qk)}function T8(t){return dd({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 7h-9"}},{tag:"path",attr:{d:"M14 17H5"}},{tag:"circle",attr:{cx:"17",cy:"17",r:"3"}},{tag:"circle",attr:{cx:"7",cy:"7",r:"3"}}]})(t)}let ds=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const q1="onlyImage",Dl="onlyText",W1="imageText",K1="colorText",H1="onlyColor",Xk="defaultNothing",I8="",ps="SelectGroup",S8="",G1="BeenSelectGroup",x8="",cy="DamageGroup",J_=[{id:1,title:I8},{id:2,title:S8},{id:3,title:x8}],R8=[{id:1,default:!0,type:q1,title:""},{id:2,default:!1,type:Dl,title:""},{id:3,default:!1,type:W1,title:""}],b8=[{id:3,default:!0,type:K1,title:""},{id:1,default:!1,type:H1,title:""},{id:2,default:!1,type:Dl,title:""},{id:4,default:!1,type:Xk,title:""}],Jk={enType:"all",zhType:"",bgColor:"#17CCF0"},pd=[{enType:"normal",zhType:"",bgColor:"#a8a8a8"},{enType:"fighting",zhType:"",bgColor:"#c03028"},{enType:"flying",zhType:"",bgColor:"#9096f0"},{enType:"poison",zhType:"",bgColor:"#a040a0"},{enType:"ground",zhType:"",bgColor:"#e0b668"},{enType:"rock",zhType:"",bgColor:"#b8a038"},{enType:"bug",zhType:"",bgColor:"#9cb820"},{enType:"ghost",zhType:"",bgColor:"#705898"},{enType:"steel",zhType:"",bgColor:"#6d8f9c"},{enType:"fire",zhType:"",bgColor:"#f08030"},{enType:"water",zhType:"",bgColor:"#6890f0"},{enType:"grass",zhType:"",bgColor:"#22c02a"},{enType:"electric",zhType:"",bgColor:"#f8d030"},{enType:"psychic",zhType:"",bgColor:"#f85888"},{enType:"ice",zhType:"",bgColor:"#98d8d8"},{enType:"dragon",zhType:"",bgColor:"#7038f8"},{enType:"dark",zhType:"",bgColor:"#504843"},{enType:"fairy",zhType:"",bgColor:"#f09ad9"}],A8="/pokemon-Gym/assets/25-759ceafd.png";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},C8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},eN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,y=h&63;c||(y=64,o||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Zk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||p==null)throw new P8;const m=s<<2|l>>4;if(r.push(m),h!==64){const y=l<<4&240|h>>2;if(r.push(y),p!==64){const v=h<<6&192|p;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class P8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O8=function(t){const e=Zk(t);return eN.encodeByteArray(e,!0)},ug=function(t){return O8(t).replace(/\./g,"")},D8=function(t){try{return eN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cg(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!k8(n)||(t[n]=cg(t[n],e[n]));return t}function k8(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=()=>N8().__FIREBASE_DEFAULTS__,M8=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},F8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&D8(t[1]);return e&&JSON.parse(e)},tN=()=>{try{return L8()||M8()||F8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nN=()=>{var t;return(t=tN())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[ug(JSON.stringify(n)),ug(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iN(){var t;const e=(t=tN())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $8(){return typeof self=="object"&&self.self===self}function B8(){return!iN()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sN(){try{return typeof indexedDB=="object"}catch{return!1}}function j8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8="FirebaseError";class ga extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=U8,Object.setPrototypeOf(this,ga.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hy.prototype.create)}}class hy{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?z8(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new ga(i,l,r)}}function z8(t,e){return t.replace(q8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const q8=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Bw(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(mA(s)&&mA(o)){if(!Bw(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mA(t){return t!==null&&typeof t=="object"}function W8(t,e){const n=new K8(t,e);return n.subscribe.bind(n)}class K8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");H8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Z_),i.error===void 0&&(i.error=Z_),i.complete===void 0&&(i.complete=Z_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Z_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class to{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new V8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y8(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ja){return this.instances.has(e)}getOptions(e=ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ja){return this.component?this.component.multipleInstances?e:ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q8(t){return t===ja?void 0:t}function Y8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new G8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=[];var gt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(gt||(gt={}));const oN={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},J8=gt.INFO,Z8={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},eW=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Z8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Y1{constructor(e){this.name=e,this._logLevel=J8,this._logHandler=eW,this._userLogHandler=null,Q1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...e),this._logHandler(this,gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...e),this._logHandler(this,gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gt.INFO,...e),this._logHandler(this,gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gt.WARN,...e),this._logHandler(this,gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...e),this._logHandler(this,gt.ERROR,...e)}}function tW(t){Q1.forEach(e=>{e.setLogLevel(t)})}function nW(t,e){for(const n of Q1){let r=null;e&&e.level&&(r=oN[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const l=o.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");s>=(r??i.logLevel)&&t({level:gt[s].toLowerCase(),message:l,args:o,type:i.name})}}}const rW=(t,e)=>e.some(n=>t instanceof n);let gA,yA;function iW(){return gA||(gA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sW(){return yA||(yA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aN=new WeakMap,jw=new WeakMap,lN=new WeakMap,e0=new WeakMap,X1=new WeakMap;function oW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Xo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aN.set(n,t)}).catch(()=>{}),X1.set(e,t),e}function aW(t){if(jw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});jw.set(t,e)}let Uw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lW(t){Uw=t(Uw)}function uW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(t0(this),e,...n);return lN.set(r,e.sort?e.sort():[e]),Xo(r)}:sW().includes(t)?function(...e){return t.apply(t0(this),e),Xo(aN.get(this))}:function(...e){return Xo(t.apply(t0(this),e))}}function cW(t){return typeof t=="function"?uW(t):(t instanceof IDBTransaction&&aW(t),rW(t,iW())?new Proxy(t,Uw):t)}function Xo(t){if(t instanceof IDBRequest)return oW(t);if(e0.has(t))return e0.get(t);const e=cW(t);return e!==t&&(e0.set(t,e),X1.set(e,t)),e}const t0=t=>X1.get(t);function hW(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Xo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Xo(o.result),c.oldVersion,c.newVersion,Xo(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const fW=["get","getKey","getAll","getAllKeys","count"],dW=["put","add","delete","clear"],n0=new Map;function vA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(n0.get(e))return n0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fW.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&c.done]))[0]};return n0.set(e,s),s}lW(t=>({...t,get:(e,n,r)=>vA(e,n)||t.get(e,n,r),has:(e,n)=>!!vA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zw="@firebase/app",_A="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=new Y1("@firebase/app"),gW="@firebase/app-compat",yW="@firebase/analytics-compat",vW="@firebase/analytics",_W="@firebase/app-check-compat",wW="@firebase/app-check",EW="@firebase/auth",TW="@firebase/auth-compat",IW="@firebase/database",SW="@firebase/database-compat",xW="@firebase/functions",RW="@firebase/functions-compat",bW="@firebase/installations",AW="@firebase/installations-compat",CW="@firebase/messaging",PW="@firebase/messaging-compat",OW="@firebase/performance",DW="@firebase/performance-compat",kW="@firebase/remote-config",NW="@firebase/remote-config-compat",LW="@firebase/storage",MW="@firebase/storage-compat",FW="@firebase/firestore",VW="@firebase/firestore-compat",$W="firebase",BW="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]",jW={[zw]:"fire-core",[gW]:"fire-core-compat",[vW]:"fire-analytics",[yW]:"fire-analytics-compat",[wW]:"fire-app-check",[_W]:"fire-app-check-compat",[EW]:"fire-auth",[TW]:"fire-auth-compat",[IW]:"fire-rtdb",[SW]:"fire-rtdb-compat",[xW]:"fire-fn",[RW]:"fire-fn-compat",[bW]:"fire-iid",[AW]:"fire-iid-compat",[CW]:"fire-fcm",[PW]:"fire-fcm-compat",[OW]:"fire-perf",[DW]:"fire-perf-compat",[kW]:"fire-rc",[NW]:"fire-rc-compat",[LW]:"fire-gcs",[MW]:"fire-gcs-compat",[FW]:"fire-fst",[VW]:"fire-fst-compat","fire-js":"fire-js",[$W]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Map,Df=new Map;function hg(t,e){try{t.container.addComponent(e)}catch(n){gl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uN(t,e){t.container.addOrOverwriteComponent(e)}function yl(t){const e=t.name;if(Df.has(e))return gl.debug(`There were multiple attempts to register component ${e}.`),!1;Df.set(e,t);for(const n of na.values())hg(n,t);return!0}function cN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function UW(t,e,n=ta){cN(t,e).clearInstance(n)}function zW(){Df.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ks=new hy("app","Firebase",qW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WW=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=BW;function J1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ta,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ks.create("bad-app-name",{appName:String(i)});if(n||(n=nN()),!n)throw Ks.create("no-options");const s=na.get(i);if(s){if(Bw(n,s.options)&&Bw(r,s.config))return s;throw Ks.create("duplicate-app",{appName:i})}const o=new X8(i);for(const c of Df.values())o.addComponent(c);const l=new WW(n,r,o);return na.set(i,l),l}function KW(t=ta){const e=na.get(t);if(!e&&t===ta&&nN())return J1();if(!e)throw Ks.create("no-app",{appName:t});return e}function HW(){return Array.from(na.values())}async function hN(t){const e=t.name;na.has(e)&&(na.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function ms(t,e,n){var r;let i=(r=jW[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gl.warn(l.join(" "));return}yl(new to(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function fN(t,e){if(t!==null&&typeof t!="function")throw Ks.create("invalid-log-argument");nW(t,e)}function dN(t){tW(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW="firebase-heartbeat-database",QW=1,kf="firebase-heartbeat-store";let r0=null;function pN(){return r0||(r0=hW(GW,QW,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(kf)}}}).catch(t=>{throw Ks.create("idb-open",{originalErrorMessage:t.message})})),r0}async function YW(t){try{return await(await pN()).transaction(kf).objectStore(kf).get(mN(t))}catch(e){if(e instanceof ga)gl.warn(e.message);else{const n=Ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gl.warn(n.message)}}}async function wA(t,e){try{const r=(await pN()).transaction(kf,"readwrite");await r.objectStore(kf).put(e,mN(t)),await r.done}catch(n){if(n instanceof ga)gl.warn(n.message);else{const r=Ks.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gl.warn(r.message)}}}function mN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XW=1024,JW=30*24*60*60*1e3;class ZW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tK(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=EA();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=JW}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=EA(),{heartbeatsToSend:n,unsentEntries:r}=eK(this._heartbeatsCache.heartbeats),i=ug(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function EA(){return new Date().toISOString().substring(0,10)}function eK(t,e=XW){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),TA(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),TA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sN()?j8().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await YW(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function TA(t){return ug(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nK(t){yl(new to("platform-logger",e=>new pW(e),"PRIVATE")),yl(new to("heartbeat",e=>new ZW(e),"PRIVATE")),ms(zw,_A,t),ms(zw,_A,"esm2017"),ms("fire-js","")}nK("");const rK=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:ga,SDK_VERSION:fy,_DEFAULT_ENTRY_NAME:ta,_addComponent:hg,_addOrOverwriteComponent:uN,_apps:na,_clearComponents:zW,_components:Df,_getProvider:cN,_registerComponent:yl,_removeServiceInstance:UW,deleteApp:hN,getApp:KW,getApps:HW,initializeApp:J1,onLog:fN,registerVersion:ms,setLogLevel:dN},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(e,n){this._delegate=e,this.firebase=n,hg(e,new to("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),hN(this._delegate)))}_getService(e,n=ta){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ta){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){hg(this._delegate,e)}_addOrOverwriteComponent(e){uN(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sK={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},IA=new hy("app-compat","Firebase",sK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oK(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:ms,setLogLevel:dN,onLog:fN,apps:null,SDK_VERSION:fy,INTERNAL:{registerComponent:l,removeApp:r,useAsService:c,modularAPIs:rK}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(h){delete e[h]}function i(h){if(h=h||ta,!pA(e,h))throw IA.create("no-app",{appName:h});return e[h]}i.App=t;function s(h,f={}){const p=J1(h,f);if(pA(e,p.name))return e[p.name];const m=new t(p,n);return e[p.name]=m,m}function o(){return Object.keys(e).map(h=>e[h])}function l(h){const f=h.name,p=f.replace("-compat","");if(yl(h)&&h.type==="PUBLIC"){const m=(y=i())=>{if(typeof y[p]!="function")throw IA.create("invalid-app-argument",{appName:f});return y[p]()};h.serviceProps!==void 0&&cg(m,h.serviceProps),n[p]=m,t.prototype[p]=function(...y){return this._getService.bind(this,f).apply(this,h.multipleInstances?y:[])}}return h.type==="PUBLIC"?n[p]:null}function c(h,f){return f==="serverAuth"?null:f}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(){const t=oK(iK);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:gN,extendNamespace:e,createSubscribe:W8,ErrorFactory:hy,deepExtend:cg});function e(n){cg(t,n)}return t}const aK=gN();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new Y1("@firebase/app-compat"),lK="@firebase/app-compat",uK="0.2.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cK(t){ms(lK,uK,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if($8()&&self.firebase!==void 0){SA.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&SA.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Rc=aK;cK();var hK="firebase",fK="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rc.registerVersion(hK,fK,"app-compat");var dK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ye,Z1=Z1||{},Ge=dK||self;function dy(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function md(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function pK(t){return Object.prototype.hasOwnProperty.call(t,i0)&&t[i0]||(t[i0]=++mK)}var i0="closure_uid_"+(1e9*Math.random()>>>0),mK=0;function gK(t,e,n){return t.call.apply(t.bind,arguments)}function yK(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?dr=gK:dr=yK,dr.apply(null,arguments)}function Kp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Hn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[i].apply(r,o)}}function ya(){this.s=this.s,this.o=this.o}var vK=0;ya.prototype.s=!1;ya.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),vK!=0)&&pK(this)};ya.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function eT(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function xA(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(dy(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function pr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}pr.prototype.h=function(){this.defaultPrevented=!0};var _K=function(){if(!Ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ge.addEventListener("test",()=>{},e),Ge.removeEventListener("test",()=>{},e)}catch{}return t}();function Nf(t){return/^[\s\xa0]*$/.test(t)}function py(){var t=Ge.navigator;return t&&(t=t.userAgent)?t:""}function is(t){return py().indexOf(t)!=-1}function tT(t){return tT[" "](t),t}tT[" "]=function(){};function wK(t,e){var n=fH;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var EK=is("Opera"),nc=is("Trident")||is("MSIE"),vN=is("Edge"),qw=vN||nc,_N=is("Gecko")&&!(py().toLowerCase().indexOf("webkit")!=-1&&!is("Edge"))&&!(is("Trident")||is("MSIE"))&&!is("Edge"),TK=py().toLowerCase().indexOf("webkit")!=-1&&!is("Edge");function wN(){var t=Ge.document;return t?t.documentMode:void 0}var Ww;e:{var s0="",o0=function(){var t=py();if(_N)return/rv:([^\);]+)(\)|;)/.exec(t);if(vN)return/Edge\/([\d\.]+)/.exec(t);if(nc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(TK)return/WebKit\/(\S+)/.exec(t);if(EK)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(o0&&(s0=o0?o0[1]:""),nc){var a0=wN();if(a0!=null&&a0>parseFloat(s0)){Ww=String(a0);break e}}Ww=s0}var Kw;if(Ge.document&&nc){var RA=wN();Kw=RA||parseInt(Ww,10)||void 0}else Kw=void 0;var IK=Kw;function Lf(t,e){if(pr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(_N){e:{try{tT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:SK[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Lf.$.h.call(this)}}Hn(Lf,pr);var SK={2:"touch",3:"pen",4:"mouse"};Lf.prototype.h=function(){Lf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var gd="closure_listenable_"+(1e6*Math.random()|0),xK=0;function RK(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++xK,this.fa=this.ia=!1}function my(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function nT(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function bK(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function EN(t){const e={};for(const n in t)e[n]=t[n];return e}const bA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TN(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<bA.length;s++)n=bA[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function gy(t){this.src=t,this.g={},this.h=0}gy.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Gw(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new RK(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Hw(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=yN(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(my(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Gw(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var rT="closure_lm_"+(1e6*Math.random()|0),l0={};function IN(t,e,n,r,i){if(r&&r.once)return xN(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)IN(t,e[s],n,r,i);return null}return n=oT(n),t&&t[gd]?t.O(e,n,md(r)?!!r.capture:!!r,i):SN(t,e,n,!1,r,i)}function SN(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=md(i)?!!i.capture:!!i,l=sT(t);if(l||(t[rT]=l=new gy(t)),n=l.add(e,n,r,o,s),n.proxy)return n;if(r=AK(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)_K||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bN(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function AK(){function t(n){return e.call(t.src,t.listener,n)}const e=CK;return t}function xN(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)xN(t,e[s],n,r,i);return null}return n=oT(n),t&&t[gd]?t.P(e,n,md(r)?!!r.capture:!!r,i):SN(t,e,n,!0,r,i)}function RN(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)RN(t,e[s],n,r,i);else r=md(r)?!!r.capture:!!r,n=oT(n),t&&t[gd]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Gw(s,n,r,i),-1<n&&(my(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=sT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Gw(e,n,r,i)),(n=-1<t?e[t]:null)&&iT(n))}function iT(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[gd])Hw(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=sT(e))?(Hw(n,t),n.h==0&&(n.src=null,e[rT]=null)):my(t)}}}function bN(t){return t in l0?l0[t]:l0[t]="on"+t}function CK(t,e){if(t.fa)t=!0;else{e=new Lf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&iT(t),t=n.call(r,e)}return t}function sT(t){return t=t[rT],t instanceof gy?t:null}var u0="__closure_events_fn_"+(1e9*Math.random()>>>0);function oT(t){return typeof t=="function"?t:(t[u0]||(t[u0]=function(e){return t.handleEvent(e)}),t[u0])}function Kn(){ya.call(this),this.i=new gy(this),this.S=this,this.J=null}Hn(Kn,ya);Kn.prototype[gd]=!0;Kn.prototype.removeEventListener=function(t,e,n,r){RN(this,t,e,n,r)};function rr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new pr(e,t);else if(e instanceof pr)e.target=e.target||t;else{var i=e;e=new pr(r,t),TN(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Hp(o,r,!0,e)&&i}if(o=e.g=t,i=Hp(o,r,!0,e)&&i,i=Hp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Hp(o,r,!1,e)&&i}Kn.prototype.N=function(){if(Kn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)my(n[r]);delete t.g[e],t.h--}}this.J=null};Kn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Kn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Hp(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var l=o.listener,c=o.la||o.src;o.ia&&Hw(t.i,o),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var aT=Ge.JSON.stringify;class PK{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function OK(){var t=lT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class DK{constructor(){this.h=this.g=null}add(e,n){const r=AN.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var AN=new PK(()=>new kK,t=>t.reset());class kK{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function NK(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function LK(t){Ge.setTimeout(()=>{throw t},0)}let Mf,Ff=!1,lT=new DK,CN=()=>{const t=Ge.Promise.resolve(void 0);Mf=()=>{t.then(MK)}};var MK=()=>{for(var t;t=OK();){try{t.h.call(t.g)}catch(n){LK(n)}var e=AN;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ff=!1};function yy(t,e){Kn.call(this),this.h=t||1,this.g=e||Ge,this.j=dr(this.qb,this),this.l=Date.now()}Hn(yy,Kn);ye=yy.prototype;ye.ga=!1;ye.T=null;ye.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rr(this,"tick"),this.ga&&(uT(this),this.start()))}};ye.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function uT(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ye.N=function(){yy.$.N.call(this),uT(this),delete this.g};function cT(t,e,n){if(typeof t=="function")n&&(t=dr(t,n));else if(t&&typeof t.handleEvent=="function")t=dr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ge.setTimeout(t,e||0)}function PN(t){t.g=cT(()=>{t.g=null,t.i&&(t.i=!1,PN(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class FK extends ya{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:PN(this)}N(){super.N(),this.g&&(Ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vf(t){ya.call(this),this.h=t,this.g={}}Hn(Vf,ya);var AA=[];function ON(t,e,n,r){Array.isArray(n)||(n&&(AA[0]=n.toString()),n=AA);for(var i=0;i<n.length;i++){var s=IN(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function DN(t){nT(t.g,function(e,n){this.g.hasOwnProperty(n)&&iT(e)},t),t.g={}}Vf.prototype.N=function(){Vf.$.N.call(this),DN(this)};Vf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function vy(){this.g=!0}vy.prototype.Ea=function(){this.g=!1};function VK(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var f=h[0];h=h[1];var p=f.split("_");o=2<=p.length&&p[1]=="type"?o+(f+"="+h+"&"):o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function $K(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ku(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+jK(t,n)+(r?" "+r:"")})}function BK(t,e){t.info(function(){return"TIMEOUT: "+e})}vy.prototype.info=function(){};function jK(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return aT(n)}catch{return e}}var kl={},CA=null;function _y(){return CA=CA||new Kn}kl.Ta="serverreachability";function kN(t){pr.call(this,kl.Ta,t)}Hn(kN,pr);function $f(t){const e=_y();rr(e,new kN(e))}kl.STAT_EVENT="statevent";function NN(t,e){pr.call(this,kl.STAT_EVENT,t),this.stat=e}Hn(NN,pr);function Sr(t){const e=_y();rr(e,new NN(e,t))}kl.Ua="timingevent";function LN(t,e){pr.call(this,kl.Ua,t),this.size=e}Hn(LN,pr);function yd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ge.setTimeout(function(){t()},e)}var wy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},MN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hT(){}hT.prototype.h=null;function PA(t){return t.h||(t.h=t.i())}function FN(){}var vd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fT(){pr.call(this,"d")}Hn(fT,pr);function dT(){pr.call(this,"c")}Hn(dT,pr);var Qw;function Ey(){}Hn(Ey,hT);Ey.prototype.g=function(){return new XMLHttpRequest};Ey.prototype.i=function(){return{}};Qw=new Ey;function _d(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Vf(this),this.P=UK,t=qw?125:void 0,this.V=new yy(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new VN}function VN(){this.i=null,this.g="",this.h=!1}var UK=45e3,Yw={},fg={};ye=_d.prototype;ye.setTimeout=function(t){this.P=t};function Xw(t,e,n){t.L=1,t.v=Iy(no(e)),t.s=n,t.S=!0,$N(t,null)}function $N(t,e){t.G=Date.now(),wd(t),t.A=no(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),HN(n.i,"t",r),t.C=0,n=t.l.J,t.h=new VN,t.g=p2(t.l,n?e:null,!t.s),0<t.O&&(t.M=new FK(dr(t.Pa,t,t.g),t.O)),ON(t.U,t.g,"readystatechange",t.nb),e=t.I?EN(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),$f(),VK(t.j,t.u,t.A,t.m,t.W,t.s)}ye.nb=function(t){t=t.target;const e=this.M;e&&os(t)==3?e.l():this.Pa(t)};ye.Pa=function(t){try{if(t==this.g)e:{const f=os(this.g);var e=this.g.Ia();const p=this.g.da();if(!(3>f)&&(f!=3||qw||this.g&&(this.h.h||this.g.ja()||NA(this.g)))){this.J||f!=4||e==7||(e==8||0>=p?$f(3):$f(2)),Ty(this);var n=this.g.da();this.ca=n;t:if(BN(this)){var r=NA(this.g);t="";var i=r.length,s=os(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Za(this),ef(this);var o="";break t}this.h.i=new Ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,$K(this.j,this.u,this.A,this.m,this.W,f,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nf(l)){var h=l;break t}}h=null}if(n=h)ku(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jw(this,n);else{this.i=!1,this.o=3,Sr(12),Za(this),ef(this);break e}}this.S?(jN(this,f,o),qw&&this.i&&f==3&&(ON(this.U,this.V,"tick",this.mb),this.V.start())):(ku(this.j,this.m,o,null),Jw(this,o)),f==4&&Za(this),this.i&&!this.J&&(f==4?c2(this.l,this):(this.i=!1,wd(this)))}else uH(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Sr(12)):(this.o=0,Sr(13)),Za(this),ef(this)}}}catch{}finally{}};function BN(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function jN(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=zK(t,n),i==fg){e==4&&(t.o=4,Sr(14),r=!1),ku(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Yw){t.o=4,Sr(15),ku(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ku(t.j,t.m,i,null),Jw(t,i);BN(t)&&i!=fg&&i!=Yw&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Sr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),_T(e),e.M=!0,Sr(11))):(ku(t.j,t.m,n,"[Invalid Chunked Response]"),Za(t),ef(t))}ye.mb=function(){if(this.g){var t=os(this.g),e=this.g.ja();this.C<e.length&&(Ty(this),jN(this,t,e),this.i&&t!=4&&wd(this))}};function zK(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?fg:(n=Number(e.substring(n,r)),isNaN(n)?Yw:(r+=1,r+n>e.length?fg:(e=e.slice(r,r+n),t.C=r+n,e)))}ye.cancel=function(){this.J=!0,Za(this)};function wd(t){t.Y=Date.now()+t.P,UN(t,t.P)}function UN(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=yd(dr(t.lb,t),e)}function Ty(t){t.B&&(Ge.clearTimeout(t.B),t.B=null)}ye.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(BK(this.j,this.A),this.L!=2&&($f(),Sr(17)),Za(this),this.o=2,ef(this)):UN(this,this.Y-t)};function ef(t){t.l.H==0||t.J||c2(t.l,t)}function Za(t){Ty(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,uT(t.V),DN(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Jw(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Zw(n.i,t))){if(!t.K&&Zw(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)mg(n),by(n);else break e;vT(n),Sr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=yd(dr(n.ib,n),6e3));if(1>=YN(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else el(n,11)}else if((t.K||n.g==t)&&mg(n),!Nf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.K=h[1],n.pa=h[2];const f=h[3];f!=null&&(n.ra=f,n.l.info("VER="+n.ra));const p=h[4];p!=null&&(n.Ga=p,n.l.info("SVER="+n.Ga));const m=h[5];m!=null&&typeof m=="number"&&0<m&&(r=1.5*m,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=t.g;if(y){const v=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(pT(s,s.h),s.h=null))}if(r.F){const w=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Gt(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=d2(r,r.J?r.pa:null,r.Y),o.K){XN(r.i,o);var l=o,c=r.L;c&&l.setTimeout(c),l.B&&(Ty(l),wd(l)),r.g=o}else l2(r);0<n.j.length&&Ay(n)}else h[0]!="stop"&&h[0]!="close"||el(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?el(n,7):yT(n):h[0]!="noop"&&n.h&&n.h.Aa(h),n.A=0)}}$f(4)}catch{}}function qK(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(dy(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function WK(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(dy(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function zN(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(dy(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=WK(t),r=qK(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var qN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KK(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ol(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ol){this.h=t.h,dg(this,t.j),this.s=t.s,this.g=t.g,pg(this,t.m),this.l=t.l;var e=t.i,n=new Bf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),OA(this,n),this.o=t.o}else t&&(e=String(t).match(qN))?(this.h=!1,dg(this,e[1]||"",!0),this.s=Mh(e[2]||""),this.g=Mh(e[3]||"",!0),pg(this,e[4]),this.l=Mh(e[5]||"",!0),OA(this,e[6]||"",!0),this.o=Mh(e[7]||"")):(this.h=!1,this.i=new Bf(null,this.h))}ol.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Fh(e,DA,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Fh(e,DA,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Fh(n,n.charAt(0)=="/"?QK:GK,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Fh(n,XK)),t.join("")};function no(t){return new ol(t)}function dg(t,e,n){t.j=n?Mh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function pg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function OA(t,e,n){e instanceof Bf?(t.i=e,JK(t.i,t.h)):(n||(e=Fh(e,YK)),t.i=new Bf(e,t.h))}function Gt(t,e,n){t.i.set(e,n)}function Iy(t){return Gt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Mh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fh(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,HK),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function HK(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var DA=/[#\/\?@]/g,GK=/[#\?:]/g,QK=/[#\?]/g,YK=/[#\?@]/g,XK=/#/g;function Bf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function va(t){t.g||(t.g=new Map,t.h=0,t.i&&KK(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ye=Bf.prototype;ye.add=function(t,e){va(this),this.i=null,t=bc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function WN(t,e){va(t),e=bc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function KN(t,e){return va(t),e=bc(t,e),t.g.has(e)}ye.forEach=function(t,e){va(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ye.ta=function(){va(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ye.Z=function(t){va(this);let e=[];if(typeof t=="string")KN(this,t)&&(e=e.concat(this.g.get(bc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ye.set=function(t,e){return va(this),this.i=null,t=bc(this,t),KN(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ye.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function HN(t,e,n){WN(t,e),0<n.length&&(t.i=null,t.g.set(bc(t,e),eT(n)),t.h+=n.length)}ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function bc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function JK(t,e){e&&!t.j&&(va(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(WN(this,r),HN(this,i,n))},t)),t.j=e}var ZK=class{constructor(t,e){this.g=t,this.map=e}};function GN(t){this.l=t||eH,Ge.PerformanceNavigationTiming?(t=Ge.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ge.g&&Ge.g.Ka&&Ge.g.Ka()&&Ge.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var eH=10;function QN(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function YN(t){return t.h?1:t.g?t.g.size:0}function Zw(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function pT(t,e){t.g?t.g.add(e):t.h=e}function XN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}GN.prototype.cancel=function(){if(this.i=JN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function JN(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return eT(t.i)}var tH=class{stringify(t){return Ge.JSON.stringify(t,void 0)}parse(t){return Ge.JSON.parse(t,void 0)}};function nH(){this.g=new tH}function rH(t,e,n){const r=n||"";try{zN(t,function(i,s){let o=i;md(i)&&(o=aT(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function iH(t,e){const n=new vy;if(Ge.Image){const r=new Image;r.onload=Kp(Gp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Kp(Gp,n,r,"TestLoadImage: error",!1,e),r.onabort=Kp(Gp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Kp(Gp,n,r,"TestLoadImage: timeout",!1,e),Ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Gp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Sy(t){this.l=t.ec||null,this.j=t.ob||!1}Hn(Sy,hT);Sy.prototype.g=function(){return new xy(this.l,this.j)};Sy.prototype.i=function(t){return function(){return t}}({});function xy(t,e){Kn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=mT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hn(xy,Kn);var mT=0;ye=xy.prototype;ye.open=function(t,e){if(this.readyState!=mT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,jf(this)};ye.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ed(this)),this.readyState=mT};ye.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,jf(this)),this.g&&(this.readyState=3,jf(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ZN(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function ZN(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ye.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ed(this):jf(this),this.readyState==3&&ZN(this)}};ye.Za=function(t){this.g&&(this.response=this.responseText=t,Ed(this))};ye.Ya=function(t){this.g&&(this.response=t,Ed(this))};ye.ka=function(){this.g&&Ed(this)};function Ed(t){t.readyState=4,t.l=null,t.j=null,t.A=null,jf(t)}ye.setRequestHeader=function(t,e){this.v.append(t,e)};ye.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ye.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function jf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(xy.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var sH=Ge.JSON.parse;function En(t){Kn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=e2,this.L=this.M=!1}Hn(En,Kn);var e2="",oH=/^https?$/i,aH=["POST","PUT"];ye=En.prototype;ye.Oa=function(t){this.M=t};ye.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Qw.g(),this.C=this.u?PA(this.u):PA(Qw),this.g.onreadystatechange=dr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){kA(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Ge.FormData&&t instanceof Ge.FormData,!(0<=yN(aH,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{r2(this),0<this.B&&((this.L=lH(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dr(this.ua,this)):this.A=cT(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){kA(this,s)}};function lH(t){return nc&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ye.ua=function(){typeof Z1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rr(this,"timeout"),this.abort(8))};function kA(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,t2(t),Ry(t)}function t2(t){t.F||(t.F=!0,rr(t,"complete"),rr(t,"error"))}ye.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rr(this,"complete"),rr(this,"abort"),Ry(this))};ye.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ry(this,!0)),En.$.N.call(this)};ye.La=function(){this.s||(this.G||this.v||this.l?n2(this):this.kb())};ye.kb=function(){n2(this)};function n2(t){if(t.h&&typeof Z1<"u"&&(!t.C[1]||os(t)!=4||t.da()!=2)){if(t.v&&os(t)==4)cT(t.La,0,t);else if(rr(t,"readystatechange"),os(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(qN)[1]||null;!i&&Ge.self&&Ge.self.location&&(i=Ge.self.location.protocol.slice(0,-1)),r=!oH.test(i?i.toLowerCase():"")}n=r}if(n)rr(t,"complete"),rr(t,"success");else{t.m=6;try{var s=2<os(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",t2(t)}}finally{Ry(t)}}}}function Ry(t,e){if(t.g){r2(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||rr(t,"ready");try{n.onreadystatechange=r}catch{}}}function r2(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ge.clearTimeout(t.A),t.A=null)}ye.isActive=function(){return!!this.g};function os(t){return t.g?t.g.readyState:0}ye.da=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}};ye.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ye.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),sH(e)}};function NA(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case e2:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function uH(t){const e={};t=(t.g&&2<=os(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Nf(t[r]))continue;var n=NK(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}bK(e,function(r){return r.join(", ")})}ye.Ia=function(){return this.m};ye.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function i2(t){let e="";return nT(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function gT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=i2(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Gt(t,e,n))}function vh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function s2(t){this.Ga=0,this.j=[],this.l=new vy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=vh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=vh("baseRetryDelayMs",5e3,t),this.hb=vh("retryDelaySeedMs",1e4,t),this.eb=vh("forwardChannelMaxRetries",2,t),this.xa=vh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new GN(t&&t.concurrentRequestLimit),this.Ja=new nH,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ye=s2.prototype;ye.ra=8;ye.H=1;function yT(t){if(o2(t),t.H==3){var e=t.W++,n=no(t.I);if(Gt(n,"SID",t.K),Gt(n,"RID",e),Gt(n,"TYPE","terminate"),Td(t,n),e=new _d(t,t.l,e),e.L=2,e.v=Iy(no(n)),n=!1,Ge.navigator&&Ge.navigator.sendBeacon)try{n=Ge.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ge.Image&&(new Image().src=e.v,n=!0),n||(e.g=p2(e.l,null),e.g.ha(e.v)),e.G=Date.now(),wd(e)}f2(t)}function by(t){t.g&&(_T(t),t.g.cancel(),t.g=null)}function o2(t){by(t),t.u&&(Ge.clearTimeout(t.u),t.u=null),mg(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ge.clearTimeout(t.m),t.m=null)}function Ay(t){if(!QN(t.i)&&!t.m){t.m=!0;var e=t.Na;Mf||CN(),Ff||(Mf(),Ff=!0),lT.add(e,t),t.C=0}}function cH(t,e){return YN(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=yd(dr(t.Na,t,e),h2(t,t.C)),t.C++,!0)}ye.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new _d(this,this.l,t);let s=this.s;if(this.U&&(s?(s=EN(s),TN(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=a2(this,i,e),n=no(this.I),Gt(n,"RID",t),Gt(n,"CVER",22),this.F&&Gt(n,"X-HTTP-Session-Id",this.F),Td(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(i2(s)))+"&"+e:this.o&&gT(n,this.o,s)),pT(this.i,i),this.bb&&Gt(n,"TYPE","init"),this.P?(Gt(n,"$req",e),Gt(n,"SID","null"),i.aa=!0,Xw(i,n,null)):Xw(i,n,e),this.H=2}}else this.H==3&&(t?LA(this,t):this.j.length==0||QN(this.i)||LA(this))};function LA(t,e){var n;e?n=e.m:n=t.W++;const r=no(t.I);Gt(r,"SID",t.K),Gt(r,"RID",n),Gt(r,"AID",t.V),Td(t,r),t.o&&t.s&&gT(r,t.o,t.s),n=new _d(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=a2(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),pT(t.i,n),Xw(n,r,e)}function Td(t,e){t.na&&nT(t.na,function(n,r){Gt(e,r,n)}),t.h&&zN({},function(n,r){Gt(e,r,n)})}function a2(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let c=0;c<n;c++){let h=i[c].g;const f=i[c].map;if(h-=s,0>h)s=Math.max(0,i[c].g-100),l=!1;else try{rH(f,o,"req"+h+"_")}catch{r&&r(f)}}if(l){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function l2(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Mf||CN(),Ff||(Mf(),Ff=!0),lT.add(e,t),t.A=0}}function vT(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=yd(dr(t.Ma,t),h2(t,t.A)),t.A++,!0)}ye.Ma=function(){if(this.u=null,u2(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=yd(dr(this.jb,this),t)}};ye.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Sr(10),by(this),u2(this))};function _T(t){t.B!=null&&(Ge.clearTimeout(t.B),t.B=null)}function u2(t){t.g=new _d(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=no(t.wa);Gt(e,"RID","rpc"),Gt(e,"SID",t.K),Gt(e,"AID",t.V),Gt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Gt(e,"TO",t.qa),Gt(e,"TYPE","xmlhttp"),Td(t,e),t.o&&t.s&&gT(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Iy(no(e)),n.s=null,n.S=!0,$N(n,t)}ye.ib=function(){this.v!=null&&(this.v=null,by(this),vT(this),Sr(19))};function mg(t){t.v!=null&&(Ge.clearTimeout(t.v),t.v=null)}function c2(t,e){var n=null;if(t.g==e){mg(t),_T(t),t.g=null;var r=2}else if(Zw(t.i,e))n=e.F,XN(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=_y(),rr(r,new LN(r,n)),Ay(t)}else l2(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&cH(t,e)||r==2&&vT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:el(t,5);break;case 4:el(t,10);break;case 3:el(t,6);break;default:el(t,2)}}}function h2(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function el(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=dr(t.pb,t);n||(n=new ol("//www.google.com/images/cleardot.gif"),Ge.location&&Ge.location.protocol=="http"||dg(n,"https"),Iy(n)),iH(n.toString(),r)}else Sr(2);t.H=0,t.h&&t.h.za(e),f2(t),o2(t)}ye.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Sr(2)):(this.l.info("Failed to ping google.com"),Sr(1))};function f2(t){if(t.H=0,t.ma=[],t.h){const e=JN(t.i);(e.length!=0||t.j.length!=0)&&(xA(t.ma,e),xA(t.ma,t.j),t.i.i.length=0,eT(t.j),t.j.length=0),t.h.ya()}}function d2(t,e,n){var r=n instanceof ol?no(n):new ol(n);if(r.g!="")e&&(r.g=e+"."+r.g),pg(r,r.m);else{var i=Ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ol(null);r&&dg(s,r),e&&(s.g=e),i&&pg(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Gt(r,n,e),Gt(r,"VER",t.ra),Td(t,r),r}function p2(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new En(new Sy({ob:!0})):new En(t.va),e.Oa(t.J),e}ye.isActive=function(){return!!this.h&&this.h.isActive(this)};function m2(){}ye=m2.prototype;ye.Ba=function(){};ye.Aa=function(){};ye.za=function(){};ye.ya=function(){};ye.isActive=function(){return!0};ye.Va=function(){};function gg(){if(nc&&!(10<=Number(IK)))throw Error("Environmental error: no available transport.")}gg.prototype.g=function(t,e){return new ii(t,e)};function ii(t,e){Kn.call(this),this.g=new s2(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Nf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nf(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ac(this)}Hn(ii,Kn);ii.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Sr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=d2(t,null,t.Y),Ay(t)};ii.prototype.close=function(){yT(this.g)};ii.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=aT(t),t=n);e.j.push(new ZK(e.fb++,t)),e.H==3&&Ay(e)};ii.prototype.N=function(){this.g.h=null,delete this.j,yT(this.g),delete this.g,ii.$.N.call(this)};function g2(t){fT.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Hn(g2,fT);function y2(){dT.call(this),this.status=1}Hn(y2,dT);function Ac(t){this.g=t}Hn(Ac,m2);Ac.prototype.Ba=function(){rr(this.g,"a")};Ac.prototype.Aa=function(t){rr(this.g,new g2(t))};Ac.prototype.za=function(t){rr(this.g,new y2)};Ac.prototype.ya=function(){rr(this.g,"b")};function hH(){this.blockSize=-1}function Gi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Hn(Gi,hH);Gi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function c0(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Gi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)c0(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){c0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){c0(this,r),i=0;break}}this.h=i,this.i+=e};Gi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function kt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var fH={};function wT(t){return-128<=t&&128>t?wK(t,function(e){return new kt([e|0],0>e?-1:0)}):new kt([t|0],0>t?-1:0)}function as(t){if(isNaN(t)||!isFinite(t))return ju;if(0>t)return er(as(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=eE;return new kt(e,0)}function v2(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return er(v2(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=as(Math.pow(e,8)),r=ju,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=as(Math.pow(e,s)),r=r.R(s).add(as(o))):(r=r.R(n),r=r.add(as(o)))}return r}var eE=4294967296,ju=wT(0),tE=wT(1),MA=wT(16777216);ye=kt.prototype;ye.ea=function(){if(Ei(this))return-er(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:eE+r)*e,e*=eE}return t};ye.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Us(this))return"0";if(Ei(this))return"-"+er(this).toString(t);for(var e=as(Math.pow(t,6)),n=this,r="";;){var i=vg(n,e).g;n=yg(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Us(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ye.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Us(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ei(t){return t.h==-1}ye.X=function(t){return t=yg(this,t),Ei(t)?-1:Us(t)?0:1};function er(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new kt(n,~t.h).add(tE)}ye.abs=function(){return Ei(this)?er(this):this};ye.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new kt(n,n[n.length-1]&-2147483648?-1:0)};function yg(t,e){return t.add(er(e))}ye.R=function(t){if(Us(this)||Us(t))return ju;if(Ei(this))return Ei(t)?er(this).R(er(t)):er(er(this).R(t));if(Ei(t))return er(this.R(er(t)));if(0>this.X(MA)&&0>t.X(MA))return as(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,l=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Qp(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Qp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*l,Qp(n,2*r+2*i+1),n[2*r+2*i+2]+=s*l,Qp(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new kt(n,0)};function Qp(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function _h(t,e){this.g=t,this.h=e}function vg(t,e){if(Us(e))throw Error("division by zero");if(Us(t))return new _h(ju,ju);if(Ei(t))return e=vg(er(t),e),new _h(er(e.g),er(e.h));if(Ei(e))return e=vg(t,er(e)),new _h(er(e.g),e.h);if(30<t.g.length){if(Ei(t)||Ei(e))throw Error("slowDivide_ only works with positive integers.");for(var n=tE,r=e;0>=r.X(t);)n=FA(n),r=FA(r);var i=iu(n,1),s=iu(r,1);for(r=iu(r,2),n=iu(n,2);!Us(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=iu(r,1),n=iu(n,1)}return e=yg(t,i.R(e)),new _h(i,e)}for(i=ju;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=as(n),o=s.R(e);Ei(o)||0<o.X(t);)n-=r,s=as(n),o=s.R(e);Us(s)&&(s=tE),i=i.add(s),t=yg(t,o)}return new _h(i,t)}ye.gb=function(t){return vg(this,t).h};ye.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new kt(n,this.h&t.h)};ye.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new kt(n,this.h|t.h)};ye.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new kt(n,this.h^t.h)};function FA(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new kt(n,t.h)}function iu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new kt(i,t.h)}gg.prototype.createWebChannel=gg.prototype.g;ii.prototype.send=ii.prototype.u;ii.prototype.open=ii.prototype.m;ii.prototype.close=ii.prototype.close;wy.NO_ERROR=0;wy.TIMEOUT=8;wy.HTTP_ERROR=6;MN.COMPLETE="complete";FN.EventType=vd;vd.OPEN="a";vd.CLOSE="b";vd.ERROR="c";vd.MESSAGE="d";Kn.prototype.listen=Kn.prototype.O;En.prototype.listenOnce=En.prototype.P;En.prototype.getLastError=En.prototype.Sa;En.prototype.getLastErrorCode=En.prototype.Ia;En.prototype.getStatus=En.prototype.da;En.prototype.getResponseJson=En.prototype.Wa;En.prototype.getResponseText=En.prototype.ja;En.prototype.send=En.prototype.ha;En.prototype.setWithCredentials=En.prototype.Oa;Gi.prototype.digest=Gi.prototype.l;Gi.prototype.reset=Gi.prototype.reset;Gi.prototype.update=Gi.prototype.j;kt.prototype.add=kt.prototype.add;kt.prototype.multiply=kt.prototype.R;kt.prototype.modulo=kt.prototype.gb;kt.prototype.compare=kt.prototype.X;kt.prototype.toNumber=kt.prototype.ea;kt.prototype.toString=kt.prototype.toString;kt.prototype.getBits=kt.prototype.D;kt.fromNumber=as;kt.fromString=v2;var dH=function(){return new gg},pH=function(){return _y()},h0=wy,mH=MN,gH=kl,VA={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Yp=FN,yH=En,vH=Gi,Uu=kt;const $A="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Y1("@firebase/firestore");function pu(){return ra.logLevel}function _H(t){ra.setLogLevel(t)}function ie(t,...e){if(ra.logLevel<=gt.DEBUG){const n=e.map(ET);ra.debug(`Firestore (${Cc}): ${t}`,...n)}}function An(t,...e){if(ra.logLevel<=gt.ERROR){const n=e.map(ET);ra.error(`Firestore (${Cc}): ${t}`,...n)}}function Qi(t,...e){if(ra.logLevel<=gt.WARN){const n=e.map(ET);ra.warn(`Firestore (${Cc}): ${t}`,...n)}}function ET(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t="Unexpected state"){const e=`FIRESTORE (${Cc}) INTERNAL ASSERTION FAILED: `+t;throw An(e),new Error(e)}function Me(t,e){t||Ie()}function wH(t,e){t||Ie()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends ga{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zn.UNAUTHENTICATED))}shutdown(){}}class TH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class IH{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Wn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new _2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new zn(e)}}class SH{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class xH{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new SH(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bH{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string"),this.R=n.token,new RH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=AH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ze(t,e){return t<e?-1:t>e?1:0}function rc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function E2(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Le(e)}static min(){return new Le(new rn(0,0))}static max(){return new Le(new rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(),r===void 0?r=e.length-n:r>e.length-n&&Ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Uf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Uf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _t extends Uf{construct(e,n,r){return new _t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _t(n)}static emptyPath(){return new _t([])}}const CH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends Uf{construct(e,n,r){return new _n(e,n,r)}static isValidIdentifier(e){return CH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _n(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new te(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new te(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(_t.fromString(e))}static fromName(e){return new de(_t.fromString(e).popFirst(5))}static empty(){return new de(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new _t(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function nE(t){return t.fields.find(e=>e.kind===2)}function Ua(t){return t.fields.filter(e=>e.kind!==2)}_g.UNKNOWN_ID=-1;class Tm{constructor(e,n){this.fieldPath=e,this.kind=n}}class zf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new zf(0,si.min())}}function T2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(r===1e9?new rn(n+1,0):new rn(n,r));return new si(i,de.empty(),e)}function I2(t){return new si(t.readTime,t.key,-1)}class si{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new si(Le.min(),de.empty(),-1)}static max(){return new si(Le.max(),de.empty(),-1)}}function TT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==S2)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const h=c;n(e[h]).next(f=>{o[h]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.m=new Wn,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{n.error?this.m.reject(new tf(e,n.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=IT(r.target.error);this.m.reject(new tf(e,i))}}static open(e,n,r,i){try{return new Cy(n,e.transaction(i,r))}catch(s){throw new tf(n,s)}}get g(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(ie("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}p(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new OH(n)}}class qi{constructor(e,n,r){this.name=e,this.version=n,this.S=r,qi.D($w())===12.2&&An("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ie("SimpleDb","Removing database:",e),za(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!sN())return!1;if(qi.v())return!0;const e=$w(),n=qi.D(e),r=0<n&&n<10,i=qi.F(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.M)==="YES"}static O(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static F(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async N(e){return this.db||(ie("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new tf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new te(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new te(z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new tf(e,o))},i.onupgradeneeded=s=>{ie("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.S.B(o,i.transaction,s.oldVersion,this.version).next(()=>{ie("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.N(e);const l=Cy.open(this.db,e,s?"readonly":"readwrite",r),c=i(l).next(h=>(l.p(),h)).catch(h=>(l.abort(h),j.reject(h))).toPromise();return c.catch(()=>{}),await l.g,c}catch(l){const c=l,h=c.name!=="FirebaseError"&&o<3;if(ie("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),this.close(),!h)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class PH{constructor(e){this.q=e,this.K=!1,this.$=null}get isDone(){return this.K}get U(){return this.$}set cursor(e){this.q=e}done(){this.K=!0}W(e){this.$=e}delete(){return za(this.q.delete())}}class tf extends te{constructor(e,n){super(z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function wa(t){return t.name==="IndexedDbTransactionError"}class OH{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ie("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(ie("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),za(r)}add(e){return ie("SimpleDb","ADD",this.store.name,e,e),za(this.store.add(e))}get(e){return za(this.store.get(e)).next(n=>(n===void 0&&(n=null),ie("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ie("SimpleDb","DELETE",this.store.name,e),za(this.store.delete(e))}count(){return ie("SimpleDb","COUNT",this.store.name),za(this.store.count())}G(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.j(i,(o,l)=>{s.push(l)}).next(()=>s)}{const i=this.store.getAll(r.range);return new j((s,o)=>{i.onerror=l=>{o(l.target.error)},i.onsuccess=l=>{s(l.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new j((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}J(e,n){ie("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.j(i,(s,o,l)=>l.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.j(i,n)}X(e){const n=this.cursor({});return new j((r,i)=>{n.onerror=s=>{const o=IT(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():r()}):r()}})}j(e,n){const r=[];return new j((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void i();const c=new PH(l),h=n(l.primaryKey,l.value,c);if(h instanceof j){const f=h.catch(p=>(c.done(),j.reject(p)));r.push(f)}c.isDone?i():c.U===null?l.continue():l.continue(c.U)}}).next(()=>j.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function za(t){return new j((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=IT(r.target.error);n(i)}})}let BA=!1;function IT(t){const e=qi.D($w());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return BA||(BA=!0,setTimeout(()=>{throw r},0)),r}}return t}class DH{constructor(e,n){this.asyncQueue=e,this.ee=n,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){ie("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{ie("IndexBackiller",`Documents written: ${await this.ee.ne()}`)}catch(n){wa(n)?ie("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await _a(n)}await this.te(6e4)})}}class kH{constructor(e,n){this.localStore=e,this.persistence=n}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.re(n,e))}re(e,n){const r=new Set;let i=n,s=!0;return j.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return ie("IndexBackiller",`Processing collection: ${o}`),this.ie(e,o,i).next(l=>{i-=l,r.add(o)});s=!1})).next(()=>n-i)}ie(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.se(i,s)).next(l=>(ie("IndexBackiller",`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l))).next(()=>o.size)}))}se(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=I2(s);TT(o,r)>0&&(r=o)}),new si(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Vr.ae=-1;function Id(t){return t==null}function qf(t){return t===0&&1/t==-1/0}function R2(t){return typeof t=="number"&&Number.isInteger(t)&&!qf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jA(e)),e=NH(t.get(n),e);return jA(e)}function NH(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function jA(t){return t+""}function ls(t){const e=t.length;if(Me(e>=2),e===2)return Me(t.charAt(0)===""&&t.charAt(1)===""),_t.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&Ie(),t.charAt(o+1)){case"":const l=t.substring(s,o);let c;i.length===0?c=l:(i+=l,c=i,i=""),r.push(c);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Ie()}s=o+2}return new _t(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(t,e){return[t,Rr(e)]}function b2(t,e,n){return[t,Rr(e),n]}const LH={},MH=["prefixPath","collectionGroup","readTime","documentId"],FH=["prefixPath","collectionGroup","documentId"],VH=["collectionGroup","readTime","prefixPath","documentId"],$H=["canonicalId","targetId"],BH=["targetId","path"],jH=["path","targetId"],UH=["collectionId","parent"],zH=["indexId","uid"],qH=["uid","sequenceNumber"],WH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],KH=["indexId","uid","orderedDocumentKey"],HH=["userId","collectionPath","documentId"],GH=["userId","collectionPath","largestBatchId"],QH=["userId","collectionGroup","largestBatchId"],A2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],YH=[...A2,"documentOverlays"],C2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],P2=C2,XH=[...P2,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE extends x2{constructor(e,n){super(),this.ue=e,this.currentSequenceNumber=n}}function Gn(t,e){const n=ge(t);return qi.O(n.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Nl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function O2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.comparator=e,this.root=n||Zn.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xp(this.root,e,this.comparator,!0)}}class Xp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Zn.RED,this.left=i??Zn.EMPTY,this.right=s??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Zn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qA(this.data.getIterator())}getIteratorFrom(e){return new qA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class qA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function su(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new $r([])}unionWith(e){let n=new Ut(_n.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $r(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JH(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new D2("Invalid base64 string: "+s):s}}(e);return new $n(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new $n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$n.EMPTY_BYTE_STRING=new $n("");const ZH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ia(t){if(Me(!!t),typeof t=="string"){let e=0;const n=ZH.exec(t);if(Me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vn(t.seconds),nanos:vn(t.nanos)}}function vn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function sa(t){return typeof t=="string"?$n.fromBase64String(t):$n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ST(t){const e=t.mapValue.fields.__previous_value__;return Py(e)?ST(e):e}function Wf(t){const e=ia(t.mapValue.fields.__local_write_time__.timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(e,n,r,i,s,o,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h}}class oa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new oa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof oa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Sm={nullValue:"NULL_VALUE"};function vl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Py(t)?4:k2(t)?9007199254740991:10:Ie()}function ws(t,e){if(t===e)return!0;const n=vl(t);if(n!==vl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wf(t).isEqual(Wf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ia(i.timestampValue),l=ia(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return sa(i.bytesValue).isEqual(sa(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return vn(i.geoPointValue.latitude)===vn(s.geoPointValue.latitude)&&vn(i.geoPointValue.longitude)===vn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return vn(i.integerValue)===vn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=vn(i.doubleValue),l=vn(s.doubleValue);return o===l?qf(o)===qf(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return rc(t.arrayValue.values||[],e.arrayValue.values||[],ws);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(zA(o)!==zA(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ws(o[c],l[c])))return!1;return!0}(t,e);default:return Ie()}}function Kf(t,e){return(t.values||[]).find(n=>ws(n,e))!==void 0}function aa(t,e){if(t===e)return 0;const n=vl(t),r=vl(e);if(n!==r)return Ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=vn(s.integerValue||s.doubleValue),c=vn(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return WA(t.timestampValue,e.timestampValue);case 4:return WA(Wf(t),Wf(e));case 5:return Ze(t.stringValue,e.stringValue);case 6:return function(s,o){const l=sa(s),c=sa(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let h=0;h<l.length&&h<c.length;h++){const f=Ze(l[h],c[h]);if(f!==0)return f}return Ze(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Ze(vn(s.latitude),vn(o.latitude));return l!==0?l:Ze(vn(s.longitude),vn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],c=o.values||[];for(let h=0;h<l.length&&h<c.length;++h){const f=aa(l[h],c[h]);if(f)return f}return Ze(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Bo.mapValue&&o===Bo.mapValue)return 0;if(s===Bo.mapValue)return 1;if(o===Bo.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),h=o.fields||{},f=Object.keys(h);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const m=Ze(c[p],f[p]);if(m!==0)return m;const y=aa(l[c[p]],h[f[p]]);if(y!==0)return y}return Ze(c.length,f.length)}(t.mapValue,e.mapValue);default:throw Ie()}}function WA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=ia(t),r=ia(e),i=Ze(n.seconds,r.seconds);return i!==0?i:Ze(n.nanos,r.nanos)}function ic(t){return iE(t)}function iE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ia(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return sa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=iE(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${iE(n.fields[o])}`;return i+"}"}(t.mapValue):Ie()}function _l(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sE(t){return!!t&&"integerValue"in t}function Hf(t){return!!t&&"arrayValue"in t}function KA(t){return!!t&&"nullValue"in t}function HA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xm(t){return!!t&&"mapValue"in t}function nf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Nl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function k2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function tG(t){return"nullValue"in t?Sm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?_l(oa.empty(),de.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Ie()}function nG(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?_l(oa.empty(),de.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Bo:Ie()}function GA(t,e){const n=aa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function QA(t,e){const n=aa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nf(n)}setAll(e){let n=_n.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=nf(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());xm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ws(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Nl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tr(nf(this.value))}}function N2(t){const e=[];return Nl(t.fields,(n,r)=>{const i=new _n([n]);if(xm(r)){const s=N2(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new $r(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Qt(e,0,Le.min(),Le.min(),Le.min(),tr.empty(),0)}static newFoundDocument(e,n,r,i){return new Qt(e,1,n,Le.min(),r,i,0)}static newNoDocument(e,n){return new Qt(e,2,n,Le.min(),Le.min(),tr.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,Le.min(),Le.min(),tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.position=e,this.inclusive=n}}function YA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=aa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function XA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ws(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n="asc"){this.field=e,this.dir=n}}function rG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{}class dt extends L2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new iG(e,n,r):n==="array-contains"?new aG(e,r):n==="in"?new j2(e,r):n==="not-in"?new lG(e,r):n==="array-contains-any"?new uG(e,r):new dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sG(e,r):new oG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(aa(n,this.value)):n!==null&&vl(this.value)===vl(n)&&this.matchesComparison(aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ot extends L2{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ot(e,n)}matches(e){return sc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function sc(t){return t.op==="and"}function oE(t){return t.op==="or"}function xT(t){return M2(t)&&sc(t)}function M2(t){for(const e of t.filters)if(e instanceof Ot)return!1;return!0}function aE(t){if(t instanceof dt)return t.field.canonicalString()+t.op.toString()+ic(t.value);if(xT(t))return t.filters.map(e=>aE(e)).join(",");{const e=t.filters.map(n=>aE(n)).join(",");return`${t.op}(${e})`}}function F2(t,e){return t instanceof dt?function(r,i){return i instanceof dt&&r.op===i.op&&r.field.isEqual(i.field)&&ws(r.value,i.value)}(t,e):t instanceof Ot?function(r,i){return i instanceof Ot&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&F2(o,i.filters[l]),!0):!1}(t,e):void Ie()}function V2(t,e){const n=t.filters.concat(e);return Ot.create(n,t.op)}function $2(t){return t instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${ic(n.value)}`}(t):t instanceof Ot?function(n){return n.op.toString()+" {"+n.getFilters().map($2).join(" ,")+"}"}(t):"Filter"}class iG extends dt{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class sG extends dt{constructor(e,n){super(e,"in",n),this.keys=B2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class oG extends dt{constructor(e,n){super(e,"not-in",n),this.keys=B2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function B2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class aG extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hf(n)&&Kf(n.arrayValue,this.value)}}class j2 extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kf(this.value.arrayValue,n)}}class lG extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Kf(this.value.arrayValue,n)}}class uG extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Kf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.he=null}}function lE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new cG(t,e,n,r,i,s,o)}function wl(t){const e=ge(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>aE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Id(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ic(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ic(r)).join(",")),e.he=n}return e.he}function Sd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!F2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XA(t.startAt,e.startAt)&&XA(t.endAt,e.endAt)}function wg(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Eg(t,e){return t.filters.filter(n=>n instanceof dt&&n.field.isEqual(e))}function JA(t,e,n){let r=Sm,i=!0;for(const s of Eg(t,e)){let o=Sm,l=!0;switch(s.op){case"<":case"<=":o=tG(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,l=!1;break;case"!=":case"not-in":o=Sm}GA({value:r,inclusive:i},{value:o,inclusive:l})<0&&(r=o,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];GA({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function ZA(t,e,n){let r=Bo,i=!0;for(const s of Eg(t,e)){let o=Bo,l=!0;switch(s.op){case">=":case">":o=nG(s.value),l=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,l=!1;break;case"!=":case"not-in":o=Bo}QA({value:r,inclusive:i},{value:o,inclusive:l})>0&&(r=o,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];QA({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function U2(t,e,n,r,i,s,o,l){return new uo(t,e,n,r,i,s,o,l)}function Pc(t){return new uo(t)}function eC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Oy(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function bT(t){return t.collectionGroup!==null}function qu(t){const e=ge(t);if(e.Pe===null){e.Pe=[];const n=Oy(e),r=RT(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new zu(n)),e.Pe.push(new zu(_n.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new zu(_n.keyField(),s))}}}return e.Pe}function br(t){const e=ge(t);return e.Ie||(e.Ie=hG(e,qu(t))),e.Ie}function hG(t,e){if(t.limitType==="F")return lE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new zu(i.field,s)});const n=t.endAt?new la(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new la(t.startAt.position,t.startAt.inclusive):null;return lE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function uE(t,e){e.getFirstInequalityField(),Oy(t);const n=t.filters.concat([e]);return new uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tg(t,e,n){return new uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xd(t,e){return Sd(br(t),br(e))&&t.limitType===e.limitType}function z2(t){return`${wl(br(t))}|lt:${t.limitType}`}function mu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$2(i)).join(", ")}]`),Id(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ic(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ic(i)).join(",")),`Target(${r})`}(br(t))}; limitType=${t.limitType})`}function Rd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):de.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of qu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const h=YA(o,l,c);return o.inclusive?h<=0:h<0}(r.startAt,qu(r),i)||r.endAt&&!function(o,l,c){const h=YA(o,l,c);return o.inclusive?h>=0:h>0}(r.endAt,qu(r),i))}(t,e)}function q2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function W2(t){return(e,n)=>{let r=!1;for(const i of qu(t)){const s=fG(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fG(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),h=l.data.field(s);return c!==null&&h!==null?aa(c,h):Ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Nl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return O2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=new zt(de.comparator);function Br(){return dG}const K2=new zt(de.comparator);function Vh(...t){let e=K2;for(const n of t)e=e.insert(n.key,n);return e}function H2(t){let e=K2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function us(){return rf()}function G2(){return rf()}function rf(){return new Ea(t=>t.toString(),(t,e)=>t.isEqual(e))}const pG=new zt(de.comparator),mG=new Ut(de.comparator);function tt(...t){let e=mG;for(const n of t)e=e.add(n);return e}const gG=new Ut(Ze);function AT(){return gG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qf(e)?"-0":e}}function Y2(t){return{integerValue:""+t}}function X2(t,e){return R2(e)?Y2(e):Q2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this._=void 0}}function yG(t,e,n){return t instanceof oc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Py(s)&&(s=ST(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof El?Z2(t,e):t instanceof Tl?eL(t,e):function(i,s){const o=J2(i,s),l=tC(o)+tC(i.Te);return sE(o)&&sE(i.Te)?Y2(l):Q2(i.serializer,l)}(t,e)}function vG(t,e,n){return t instanceof El?Z2(t,e):t instanceof Tl?eL(t,e):n}function J2(t,e){return t instanceof ac?function(r){return sE(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class oc extends Dy{}class El extends Dy{constructor(e){super(),this.elements=e}}function Z2(t,e){const n=tL(e);for(const r of t.elements)n.some(i=>ws(i,r))||n.push(r);return{arrayValue:{values:n}}}class Tl extends Dy{constructor(e){super(),this.elements=e}}function eL(t,e){let n=tL(e);for(const r of t.elements)n=n.filter(i=>!ws(i,r));return{arrayValue:{values:n}}}class ac extends Dy{constructor(e,n){super(),this.serializer=e,this.Te=n}}function tC(t){return vn(t.integerValue||t.doubleValue)}function tL(t){return Hf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n){this.field=e,this.transform=n}}function _G(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof El&&i instanceof El||r instanceof Tl&&i instanceof Tl?rc(r.elements,i.elements,ws):r instanceof ac&&i instanceof ac?ws(r.Te,i.Te):r instanceof oc&&i instanceof oc}(t.transform,e.transform)}class wG{constructor(e,n){this.version=e,this.transformResults=n}}class nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nn}static exists(e){return new nn(void 0,e)}static updateTime(e){return new nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ky{}function nL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Dc(t.key,nn.none()):new Oc(t.key,t.data,nn.none());{const n=t.data,r=tr.empty();let i=new Ut(_n.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new co(t.key,r,new $r(i.toArray()),nn.none())}}function EG(t,e,n){t instanceof Oc?function(i,s,o){const l=i.value.clone(),c=rC(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof co?function(i,s,o){if(!Rm(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=rC(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(rL(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function sf(t,e,n,r){return t instanceof Oc?function(s,o,l,c){if(!Rm(s.precondition,o))return l;const h=s.value.clone(),f=iC(s.fieldTransforms,c,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof co?function(s,o,l,c){if(!Rm(s.precondition,o))return l;const h=iC(s.fieldTransforms,c,o),f=o.data;return f.setAll(rL(s)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,l){return Rm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function TG(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=J2(r.transform,i||null);s!=null&&(n===null&&(n=tr.empty()),n.set(r.field,s))}return n||null}function nC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&rc(r,i,(s,o)=>_G(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Oc extends ky{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class co extends ky{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function rL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rC(t,e,n){const r=new Map;Me(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,vG(o,l,n[i]))}return r}function iC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,yG(s,o,e))}return r}class Dc extends ky{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CT extends ky{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&EG(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=G2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=nL(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&rc(this.mutations,e.mutations,(n,r)=>nC(n,r))&&rc(this.baseMutations,e.baseMutations,(n,r)=>nC(n,r))}}class OT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Me(e.mutations.length===r.length);let i=function(){return pG}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new OT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn,yt;function iL(t){switch(t){default:return Ie();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function sL(t){if(t===void 0)return An("GRPC error has no .code"),z.UNKNOWN;switch(t){case Pn.OK:return z.OK;case Pn.CANCELLED:return z.CANCELLED;case Pn.UNKNOWN:return z.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return z.INTERNAL;case Pn.UNAVAILABLE:return z.UNAVAILABLE;case Pn.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Pn.NOT_FOUND:return z.NOT_FOUND;case Pn.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Pn.ABORTED:return z.ABORTED;case Pn.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Pn.DATA_LOSS:return z.DATA_LOSS;default:return Ie()}}(yt=Pn||(Pn={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG=new Uu([4294967295,4294967295],0);function sC(t){const e=oL().encode(t),n=new vH;return n.update(e),new Uint8Array(n.digest())}function oC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Uu([n,r],0),new Uu([i,s],0)]}class kT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $h(`Invalid padding: ${n}`);if(r<0)throw new $h(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $h(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $h(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=Uu.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(Uu.fromNumber(r)));return i.compare(SG)===1&&(i=new Uu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=sC(e),[r,i]=oC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new kT(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ae===0)return;const n=sC(e),[r,i]=oC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $h extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Cd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ad(Le.min(),i,new zt(Ze),Br(),tt())}}class Cd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cd(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class aL{constructor(e,n){this.targetId=e,this.ye=n}}class lL{constructor(e,n,r=$n.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class aC{constructor(){this.we=0,this.Se=uC(),this.be=$n.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=tt(),n=tt(),r=tt();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ie()}}),new Cd(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=uC()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class xG{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=Br(),this.Ue=lC(),this.We=new zt(Ze)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:Ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const s=i.target;if(wg(s))if(r===0){const o=new de(s.path);this.je(n,o,Qt.newNoDocument(o,Le.min()))}else Me(r===1);else{const o=this.tt(n);if(o!==r){const l=this.nt(e),c=l?this.rt(l,e,o):1;if(c!==0){this.Ze(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,h)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=sa(r).toUint8Array()}catch(c){if(c instanceof D2)return Qi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new kT(o,i,s)}catch(c){return Qi(c instanceof $h?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ae===0?null:l}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.je(n,s,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((s,o)=>{const l=this.et(o);if(l){if(s.current&&wg(l.target)){const c=new de(l.target.path);this.$e.get(c)!==null||this.ut(o,c)||this.je(o,c,Qt.newNoDocument(c,e))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=tt();this.Ue.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const h=this.et(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new Ad(e,n,this.We,this.$e,r);return this.$e=Br(),this.Ue=lC(),this.We=new zt(Ze),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new aC,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Ut(Ze),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new aC),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function lC(){return new zt(de.comparator)}function uC(){return new zt(de.comparator)}const RG=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),bG=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),AG=(()=>({and:"AND",or:"OR"}))();class CG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cE(t,e){return t.useProto3Json||Id(e)?e:{value:e}}function lc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PG(t,e){return lc(t,e.toTimestamp())}function Cn(t){return Me(!!t),Le.fromTimestamp(function(n){const r=ia(n);return new rn(r.seconds,r.nanos)}(t))}function NT(t,e){return function(r){return new _t(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function cL(t){const e=_t.fromString(t);return Me(_L(e)),e}function Gf(t,e){return NT(t.databaseId,e.path)}function gs(t,e){const n=cL(e);if(n.get(1)!==t.databaseId.projectId)throw new te(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(fL(n))}function hE(t,e){return NT(t.databaseId,e)}function hL(t){const e=cL(t);return e.length===4?_t.emptyPath():fL(e)}function Qf(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fL(t){return Me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function cC(t,e,n){return{name:Gf(t,e),fields:n.value.mapValue.fields}}function dL(t,e,n){const r=gs(t,e.name),i=Cn(e.updateTime),s=e.createTime?Cn(e.createTime):Le.min(),o=new tr({mapValue:{fields:e.fields}}),l=Qt.newFoundDocument(r,i,s,o);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function OG(t,e){return"found"in e?function(r,i){Me(!!i.found),i.found.name,i.found.updateTime;const s=gs(r,i.found.name),o=Cn(i.found.updateTime),l=i.found.createTime?Cn(i.found.createTime):Le.min(),c=new tr({mapValue:{fields:i.found.fields}});return Qt.newFoundDocument(s,o,l,c)}(t,e):"missing"in e?function(r,i){Me(!!i.missing),Me(!!i.readTime);const s=gs(r,i.missing),o=Cn(i.readTime);return Qt.newNoDocument(s,o)}(t,e):Ie()}function DG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(Me(f===void 0||typeof f=="string"),$n.fromBase64String(f||"")):(Me(f===void 0||f instanceof Uint8Array),$n.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const f=h.code===void 0?z.UNKNOWN:sL(h.code);return new te(f,h.message||"")}(o);n=new lL(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=gs(t,r.document.name),s=Cn(r.document.updateTime),o=r.document.createTime?Cn(r.document.createTime):Le.min(),l=new tr({mapValue:{fields:r.document.fields}}),c=Qt.newFoundDocument(i,s,o,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new bm(h,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=gs(t,r.document),s=r.readTime?Cn(r.readTime):Le.min(),o=Qt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new bm([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=gs(t,r.document),s=r.removedTargetIds||[];n=new bm([],s,i,null)}else{if(!("filter"in e))return Ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new IG(i,s),l=r.targetId;n=new aL(l,o)}}return n}function Yf(t,e){let n;if(e instanceof Oc)n={update:cC(t,e.key,e.value)};else if(e instanceof Dc)n={delete:Gf(t,e.key)};else if(e instanceof co)n={update:cC(t,e.key,e.data),updateMask:VG(e.fieldMask)};else{if(!(e instanceof CT))return Ie();n={verify:Gf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof oc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof El)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Tl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ac)return{fieldPath:o.field.canonicalString(),increment:l.Te};throw Ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:PG(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ie()}(t,e.precondition)),n}function fE(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?nn.updateTime(Cn(s.updateTime)):s.exists!==void 0?nn.exists(s.exists):nn.none()}(e.currentDocument):nn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,l){let c=null;if("setToServerValue"in l)Me(l.setToServerValue==="REQUEST_TIME"),c=new oc;else if("appendMissingElements"in l){const f=l.appendMissingElements.values||[];c=new El(f)}else if("removeAllFromArray"in l){const f=l.removeAllFromArray.values||[];c=new Tl(f)}else"increment"in l?c=new ac(o,l.increment):Ie();const h=_n.fromServerFormat(l.fieldPath);return new bd(h,c)}(t,i)):[];if(e.update){e.update.name;const i=gs(t,e.update.name),s=new tr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(c){const h=c.fieldPaths||[];return new $r(h.map(f=>_n.fromServerFormat(f)))}(e.updateMask);return new co(i,s,o,n,r)}return new Oc(i,s,n,r)}if(e.delete){const i=gs(t,e.delete);return new Dc(i,n)}if(e.verify){const i=gs(t,e.verify);return new CT(i,n)}return Ie()}function kG(t,e){return t&&t.length>0?(Me(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Cn(i.updateTime):Cn(s);return o.isEqual(Le.min())&&(o=Cn(s)),new wG(o,i.transformResults||[])}(n,e))):[]}function pL(t,e){return{documents:[hE(t,e.path)]}}function mL(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=hE(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=hE(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(c.length!==0)return vL(Ot.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:gu(p.field),direction:LG(p.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=cE(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function gL(t){let e=hL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Me(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const m=yL(p);return m instanceof Ot&&xT(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(v){return new zu(yu(v.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Id(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){const m=!!p.before,y=p.values||[];return new la(y,m)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const m=!p.before,y=p.values||[];return new la(y,m)}(n.endAt)),U2(e,i,o,s,l,"F",c,h)}function NG(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yu(n.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=yu(n.unaryFilter.field);return dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=yu(n.unaryFilter.field);return dt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yu(n.unaryFilter.field);return dt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(t):t.fieldFilter!==void 0?function(n){return dt.create(yu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ot.create(n.compositeFilter.filters.map(r=>yL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie()}}(n.compositeFilter.op))}(t):Ie()}function LG(t){return RG[t]}function MG(t){return bG[t]}function FG(t){return AG[t]}function gu(t){return{fieldPath:t.canonicalString()}}function yu(t){return _n.fromServerFormat(t.fieldPath)}function vL(t){return t instanceof dt?function(n){if(n.op==="=="){if(HA(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NAN"}};if(KA(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HA(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NOT_NAN"}};if(KA(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gu(n.field),op:MG(n.op),value:n.value}}}(t):t instanceof Ot?function(n){const r=n.getFilters().map(i=>vL(i));return r.length===1?r[0]:{compositeFilter:{op:FG(n.op),filters:r}}}(t):Ie()}function VG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _L(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,r,i,s=Le.min(),o=Le.min(),l=$n.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.ht=e}}function $G(t,e){let n;if(e.document)n=dL(t.ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=de.fromSegments(e.noDocument.path),i=Sl(e.noDocument.readTime);n=Qt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ie();{const r=de.fromSegments(e.unknownDocument.path),i=Sl(e.unknownDocument.version);n=Qt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new rn(i[0],i[1]);return Le.fromTimestamp(s)}(e.readTime)),n}function hC(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ig(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Gf(s,o.key),fields:o.data.value.mapValue.fields,updateTime:lc(s,o.version.toTimestamp()),createTime:lc(s,o.createTime.toTimestamp())}}(t.ht,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Il(e.version)};else{if(!e.isUnknownDocument())return Ie();r.unknownDocument={path:n.path.toArray(),version:Il(e.version)}}return r}function Ig(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Il(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Sl(t){const e=new rn(t.seconds,t.nanoseconds);return Le.fromTimestamp(e)}function qa(t,e){const n=(e.baseMutations||[]).map(s=>fE(t.ht,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const l=e.mutations[s+1];o.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>fE(t.ht,s)),i=rn.fromMillis(e.localWriteTimeMs);return new PT(e.batchId,i,n,r)}function Bh(t){const e=Sl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Sl(t.lastLimboFreeSnapshotVersion):Le.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return Me(s.documents.length===1),br(Pc(hL(s.documents[0])))}(t.query):function(s){return br(gL(s))}(t.query),new zs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,$n.fromBase64String(t.resumeToken))}function EL(t,e){const n=Il(e.snapshotVersion),r=Il(e.lastLimboFreeSnapshotVersion);let i;i=wg(e.target)?pL(t.ht,e.target):mL(t.ht,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wl(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function LT(t){const e=gL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tg(e,e.limit,"L"):e}function f0(t,e){return new DT(e.largestBatchId,fE(t.ht,e.overlayMutation))}function fC(t,e){const n=e.path.lastSegment();return[t,Rr(e.path.popLast()),n]}function dC(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Il(r.readTime),documentKey:Rr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{getBundleMetadata(e,n){return pC(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Sl(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return pC(e).put(function(i){return{bundleId:i.id,createTime:Il(Cn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return mC(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:LT(s.bundledQuery),readTime:Sl(s.readTime)}}(r)})}saveNamedQuery(e,n){return mC(e).put(function(i){return{name:i.name,readTime:Il(Cn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function pC(t){return Gn(t,"bundles")}function mC(t){return Gn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n){this.serializer=e,this.userId=n}static Pt(e,n){const r=n.uid||"";return new Ny(e,r)}getOverlay(e,n){return wh(e).get(fC(this.userId,n)).next(r=>r?f0(this.serializer,r):null)}getOverlays(e,n){const r=us();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const l=new DT(n,o);i.push(this.It(e,l))}),j.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Rr(o.getCollectionPath())));const s=[];return i.forEach(o=>{const l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(wh(e).J("collectionPathOverlayIndex",l))}),j.waitFor(s)}getOverlaysForCollection(e,n,r){const i=us(),s=Rr(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return wh(e).G("collectionPathOverlayIndex",o).next(l=>{for(const c of l){const h=f0(this.serializer,c);i.set(h.getKey(),h)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=us();let o;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return wh(e).Z({index:"collectionGroupOverlayIndex",range:l},(c,h,f)=>{const p=f0(this.serializer,h);s.size()<i||p.largestBatchId===o?(s.set(p.getKey(),p),o=p.largestBatchId):f.done()}).next(()=>s)}It(e,n){return wh(e).put(function(i,s,o){const[l,c,h]=fC(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:h,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Yf(i.ht,o.mutation)}}(this.serializer,this.userId,n))}}function wh(t){return Gn(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){}dt(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.At(n,5);else if("booleanValue"in e)this.At(n,10),n.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(n,15),n.Rt(vn(e.integerValue));else if("doubleValue"in e){const r=vn(e.doubleValue);isNaN(r)?this.At(n,13):(this.At(n,15),qf(r)?n.Rt(0):n.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(n,20),typeof r=="string"?n.Vt(r):(n.Vt(`${r.seconds||""}`),n.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,n),this.gt(n);else if("bytesValue"in e)this.At(n,30),n.yt(sa(e.bytesValue)),this.gt(n);else if("referenceValue"in e)this.wt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(n,45),n.Rt(r.latitude||0),n.Rt(r.longitude||0)}else"mapValue"in e?k2(e)?this.At(n,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,n),this.gt(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.gt(n)):Ie()}ft(e,n){this.At(n,25),this.Dt(e,n)}Dt(e,n){n.Vt(e)}St(e,n){const r=e.fields||{};this.At(n,55);for(const i of Object.keys(r))this.ft(i,n),this.Tt(r[i],n)}bt(e,n){const r=e.values||[];this.At(n,50);for(const i of r)this.Tt(i,n)}wt(e,n){this.At(n,37),de.fromName(e).path.forEach(r=>{this.At(n,60),this.Dt(r,n)})}At(e,n){e.Rt(n)}gt(e){e.Rt(2)}}Wa.Ct=new Wa;function jG(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function gC(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=jG(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class UG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=gC(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=gC(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class zG{constructor(e){this.jt=e}yt(e){this.jt.vt(e)}Vt(e){this.jt.Bt(e)}Rt(e){this.jt.kt(e)}Et(){this.jt.$t()}}class qG{constructor(e){this.jt=e}yt(e){this.jt.xt(e)}Vt(e){this.jt.Lt(e)}Rt(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Eh{constructor(){this.jt=new UG,this.Ht=new zG(this.jt),this.Jt=new qG(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ka(this.indexId,this.documentKey,this.arrayValue,r)}}function xo(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=yC(t.arrayValue,e.arrayValue),n!==0?n:(n=yC(t.directionalValue,e.directionalValue),n!==0?n:de.comparator(t.documentKey,e.documentKey)))}function yC(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Xt=e.orderBy,this.en=[];for(const n of e.filters){const r=n;r.isInequality()?this.tn=r:this.en.push(r)}}nn(e){Me(e.collectionGroup===this.collectionId);const n=nE(e);if(n!==void 0&&!this.rn(n))return!1;const r=Ua(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.rn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.tn!==void 0){if(!i.has(this.tn.field.canonicalString())){const l=r[s];if(!this.sn(this.tn,l)||!this.on(this.Xt[o++],l))return!1}++s}for(;s<r.length;++s){const l=r[s];if(o>=this.Xt.length||!this.on(this.Xt[o++],l))return!1}return!0}_n(){let e=new Ut(_n.comparator);const n=[];for(const r of this.en)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Tm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Tm(r.field,0))}for(const r of this.Xt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Tm(r.field,r.dir==="asc"?0:1)));return new _g(_g.UNKNOWN_ID,this.collectionId,n,zf.empty())}rn(e){for(const n of this.en)if(this.sn(n,e))return!0;return!1}sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}on(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(t){var e,n;if(Me(t instanceof dt||t instanceof Ot),t instanceof dt){if(t instanceof j2){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>dt.create(t.field,"==",s)))||[];return Ot.create(i,"or")}return t}const r=t.filters.map(i=>TL(i));return Ot.create(r,t.op)}function WG(t){if(t.getFilters().length===0)return[];const e=mE(TL(t));return Me(IL(e)),dE(e)||pE(e)?[e]:e.getFilters()}function dE(t){return t instanceof dt}function pE(t){return t instanceof Ot&&xT(t)}function IL(t){return dE(t)||pE(t)||function(n){if(n instanceof Ot&&oE(n)){for(const r of n.getFilters())if(!dE(r)&&!pE(r))return!1;return!0}return!1}(t)}function mE(t){if(Me(t instanceof dt||t instanceof Ot),t instanceof dt)return t;if(t.filters.length===1)return mE(t.filters[0]);const e=t.filters.map(r=>mE(r));let n=Ot.create(e,t.op);return n=Sg(n),IL(n)?n:(Me(n instanceof Ot),Me(sc(n)),Me(n.filters.length>1),n.filters.reduce((r,i)=>MT(r,i)))}function MT(t,e){let n;return Me(t instanceof dt||t instanceof Ot),Me(e instanceof dt||e instanceof Ot),n=t instanceof dt?e instanceof dt?function(i,s){return Ot.create([i,s],"and")}(t,e):_C(t,e):e instanceof dt?_C(e,t):function(i,s){if(Me(i.filters.length>0&&s.filters.length>0),sc(i)&&sc(s))return V2(i,s.getFilters());const o=oE(i)?i:s,l=oE(i)?s:i,c=o.filters.map(h=>MT(h,l));return Ot.create(c,"or")}(t,e),Sg(n)}function _C(t,e){if(sc(e))return V2(e,t.getFilters());{const n=e.filters.map(r=>MT(t,r));return Ot.create(n,"or")}}function Sg(t){if(Me(t instanceof dt||t instanceof Ot),t instanceof dt)return t;const e=t.getFilters();if(e.length===1)return Sg(e[0]);if(M2(t))return t;const n=e.map(i=>Sg(i)),r=[];return n.forEach(i=>{i instanceof dt?r.push(i):i instanceof Ot&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Ot.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(){this.an=new FT}addToCollectionParentIndex(e,n){return this.an.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(si.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(si.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class FT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ut(_t.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ut(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=new Uint8Array(0);class HG{constructor(e,n){this.user=e,this.databaseId=n,this.un=new FT,this.cn=new Ea(r=>wl(r),(r,i)=>Sd(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.un.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.un.add(n)});const s={collectionId:r,parent:Rr(i)};return wC(e).put(s)}return j.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[E2(n),""],!1,!0);return wC(e).G(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(ls(o.parent))}return r})}addFieldIndex(e,n){const r=Th(e),i=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=au(e);return s.next(l=>{o.put(dC(l,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Th(e),i=au(e),s=ou(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Th(e),r=ou(e),i=au(e);return n.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,n){return j.forEach(this.ln(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new vC(r);return this.addFieldIndex(e,s._n())}}))}getDocumentsMatchingTarget(e,n){const r=ou(e);let i=!0;const s=new Map;return j.forEach(this.ln(n),o=>this.hn(e,o).next(l=>{i&&(i=!!l),s.set(o,l)})).next(()=>{if(i){let o=tt();const l=[];return j.forEach(s,(c,h)=>{ie("IndexedDbIndexManager",`Using index ${function(I){return`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(E=>`${E.fieldPath}:${E.kind}`).join(",")}`}(c)} to execute ${wl(n)}`);const f=function(I,E){const P=nE(E);if(P===void 0)return null;for(const O of Eg(I,P.fieldPath))switch(O.op){case"array-contains-any":return O.value.arrayValue.values||[];case"array-contains":return[O.value]}return null}(h,c),p=function(I,E){const P=new Map;for(const O of Ua(E))for(const D of Eg(I,O.fieldPath))switch(D.op){case"==":case"in":P.set(O.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return P.set(O.fieldPath.canonicalString(),D.value),Array.from(P.values())}return null}(h,c),m=function(I,E){const P=[];let O=!0;for(const D of Ua(E)){const N=D.kind===0?JA(I,D.fieldPath,I.startAt):ZA(I,D.fieldPath,I.startAt);P.push(N.value),O&&(O=N.inclusive)}return new la(P,O)}(h,c),y=function(I,E){const P=[];let O=!0;for(const D of Ua(E)){const N=D.kind===0?ZA(I,D.fieldPath,I.endAt):JA(I,D.fieldPath,I.endAt);P.push(N.value),O&&(O=N.inclusive)}return new la(P,O)}(h,c),v=this.Pn(c,h,m),w=this.Pn(c,h,y),R=this.In(c,h,p),T=this.dn(c.indexId,f,v,m.inclusive,w,y.inclusive,R);return j.forEach(T,S=>r.H(S,n.limit).next(I=>{I.forEach(E=>{const P=de.fromSegments(E.documentKey);o.has(P)||(o=o.add(P),l.push(P))})}))}).next(()=>l)}return j.resolve(null)})}ln(e){let n=this.cn.get(e);return n||(e.filters.length===0?n=[e]:n=WG(Ot.create(e.filters,"and")).map(r=>lE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.cn.set(e,n),n)}dn(e,n,r,i,s,o,l){const c=(n!=null?n.length:1)*Math.max(r.length,s.length),h=c/(n!=null?n.length:1),f=[];for(let p=0;p<c;++p){const m=n?this.Tn(n[p/h]):Jp,y=this.En(e,m,r[p%h],i),v=this.An(e,m,s[p%h],o),w=l.map(R=>this.En(e,m,R,!0));f.push(...this.createRange(y,v,w))}return f}En(e,n,r,i){const s=new Ka(e,de.empty(),n,r);return i?s:s.Zt()}An(e,n,r,i){const s=new Ka(e,de.empty(),n,r);return i?s.Zt():s}hn(e,n){const r=new vC(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const l of s)r.nn(l)&&(!o||l.fields.length>o.fields.length)&&(o=l);return o})}getIndexType(e,n){let r=2;const i=this.ln(n);return j.forEach(i,s=>this.hn(e,s).next(o=>{o?r!==0&&o.fields.length<function(c){let h=new Ut(_n.comparator),f=!1;for(const p of c.filters)for(const m of p.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?f=!0:h=h.add(m.field));for(const p of c.orderBy)p.field.isKeyField()||(h=h.add(p.field));return h.size+(f?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Rn(e,n){const r=new Eh;for(const i of Ua(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Yt(i.kind);Wa.Ct.dt(s,o)}return r.zt()}Tn(e){const n=new Eh;return Wa.Ct.dt(e,n.Yt(0)),n.zt()}Vn(e,n){const r=new Eh;return Wa.Ct.dt(_l(this.databaseId,n),r.Yt(function(s){const o=Ua(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}In(e,n,r){if(r===null)return[];let i=[];i.push(new Eh);let s=0;for(const o of Ua(e)){const l=r[s++];for(const c of i)if(this.mn(n,o.fieldPath)&&Hf(l))i=this.fn(i,o,l);else{const h=c.Yt(o.kind);Wa.Ct.dt(l,h)}}return this.gn(i)}Pn(e,n,r){return this.In(e,n,r.position)}gn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}fn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const l of i){const c=new Eh;c.seed(l.zt()),Wa.Ct.dt(o,c.Yt(n.kind)),s.push(c)}return s}mn(e,n){return!!e.filters.find(r=>r instanceof dt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Th(e),i=au(e);return(n?r.G("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.G()).next(s=>{const o=[];return j.forEach(s,l=>i.get([l.indexId,this.uid]).next(c=>{o.push(function(f,p){const m=p?new zf(p.sequenceNumber,new si(Sl(p.readTime),new de(ls(p.documentKey)),p.largestBatchId)):zf.empty(),y=f.fields.map(([v,w])=>new Tm(_n.fromServerFormat(v),w));return new _g(f.indexId,f.collectionGroup,y,m)}(l,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ze(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Th(e),s=au(e);return this.pn(e).next(o=>i.G("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(l=>j.forEach(l,c=>s.put(dC(c.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return j.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?j.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(l=>(r.set(i.collectionGroup,l),j.forEach(l,c=>this.yn(e,i,c).next(h=>{const f=this.wn(s,c);return h.isEqual(f)?j.resolve():this.Sn(e,s,c,h,f)}))))})}bn(e,n,r,i){return ou(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Vn(r,n.key),documentKey:n.key.path.toArray()})}Dn(e,n,r,i){return ou(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Vn(r,n.key),n.key.path.toArray()])}yn(e,n,r){const i=ou(e);let s=new Ut(xo);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Vn(r,n)])},(o,l)=>{s=s.add(new Ka(r.indexId,n,l.arrayValue,l.directionalValue))}).next(()=>s)}wn(e,n){let r=new Ut(xo);const i=this.Rn(n,e);if(i==null)return r;const s=nE(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Hf(o))for(const l of o.arrayValue.values||[])r=r.add(new Ka(n.indexId,e.key,this.Tn(l),i))}else r=r.add(new Ka(n.indexId,e.key,Jp,i));return r}Sn(e,n,r,i,s){ie("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(c,h,f,p,m){const y=c.getIterator(),v=h.getIterator();let w=su(y),R=su(v);for(;w||R;){let T=!1,S=!1;if(w&&R){const I=f(w,R);I<0?S=!0:I>0&&(T=!0)}else w!=null?S=!0:T=!0;T?(p(R),R=su(v)):S?(m(w),w=su(y)):(w=su(y),R=su(v))}}(i,s,xo,l=>{o.push(this.bn(e,n,r,l))},l=>{o.push(this.Dn(e,n,r,l))}),j.waitFor(o)}pn(e){let n=1;return au(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,l)=>xo(o,l)).filter((o,l,c)=>!l||xo(o,c[l-1])!==0);const i=[];i.push(e);for(const o of r){const l=xo(o,e),c=xo(o,n);if(l===0)i[0]=e.Zt();else if(l>0&&c<0)i.push(o),i.push(o.Zt());else if(c>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const l=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Jp,[]],c=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Jp,[]];s.push(IDBKeyRange.bound(l,c))}return s}Cn(e,n){return xo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(EC)}getMinOffset(e,n){return j.mapArray(this.ln(n),r=>this.hn(e,r).next(i=>i||Ie())).next(EC)}}function wC(t){return Gn(t,"collectionParents")}function ou(t){return Gn(t,"indexEntries")}function Th(t){return Gn(t,"indexConfiguration")}function au(t){return Gn(t,"indexState")}function EC(t){Me(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;TT(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new si(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Lr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Lr(e,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let l=0;const c=r.Z({range:o},(f,p,m)=>(l++,m.delete()));s.push(c.next(()=>{Me(l===1)}));const h=[];for(const f of n.mutations){const p=b2(e,f.key.path,n.batchId);s.push(i.delete(p)),h.push(f.key)}return j.waitFor(s).next(()=>h)}function xg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ie();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr.DEFAULT_COLLECTION_PERCENTILE=10,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lr.DEFAULT=new Lr(41943040,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lr.DISABLED=new Lr(-1,0,0);class Ly{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.vn={}}static Pt(e,n,r,i){Me(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Ly(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ro(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=vu(e),o=Ro(e);return o.add({}).next(l=>{Me(typeof l=="number");const c=new PT(l,n,r,i),h=function(y,v,w){const R=w.baseMutations.map(S=>Yf(y.ht,S)),T=w.mutations.map(S=>Yf(y.ht,S));return{userId:v,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:R,mutations:T}}(this.serializer,this.userId,c),f=[];let p=new Ut((m,y)=>Ze(m.canonicalString(),y.canonicalString()));for(const m of i){const y=b2(this.userId,m.key.path,l);p=p.add(m.key.path.popLast()),f.push(o.put(h)),f.push(s.put(y,LH))}return p.forEach(m=>{f.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.vn[l]=c.keys()}),j.waitFor(f).next(()=>c)})}lookupMutationBatch(e,n){return Ro(e).get(n).next(r=>r?(Me(r.userId===this.userId),qa(this.serializer,r)):null)}Fn(e,n){return this.vn[n]?j.resolve(this.vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.vn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Ro(e).Z({index:"userMutationsIndex",range:i},(o,l,c)=>{l.userId===this.userId&&(Me(l.batchId>=r),s=qa(this.serializer,l)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ro(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ro(e).G("userMutationsIndex",n).next(r=>r.map(i=>qa(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Im(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return vu(e).Z({range:i},(o,l,c)=>{const[h,f,p]=o,m=ls(f);if(h===this.userId&&n.path.isEqual(m))return Ro(e).get(p).next(y=>{if(!y)throw Ie();Me(y.userId===this.userId),s.push(qa(this.serializer,y))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(Ze);const i=[];return n.forEach(s=>{const o=Im(this.userId,s.path),l=IDBKeyRange.lowerBound(o),c=vu(e).Z({range:l},(h,f,p)=>{const[m,y,v]=h,w=ls(y);m===this.userId&&s.path.isEqual(w)?r=r.add(v):p.done()});i.push(c)}),j.waitFor(i).next(()=>this.Mn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Im(this.userId,r),o=IDBKeyRange.lowerBound(s);let l=new Ut(Ze);return vu(e).Z({range:o},(c,h,f)=>{const[p,m,y]=c,v=ls(m);p===this.userId&&r.isPrefixOf(v)?v.length===i&&(l=l.add(y)):f.done()}).next(()=>this.Mn(e,l))}Mn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Ro(e).get(s).next(o=>{if(o===null)throw Ie();Me(o.userId===this.userId),r.push(qa(this.serializer,o))}))}),j.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return SL(e.ue,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.xn(n.batchId)}),j.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}xn(e){delete this.vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return j.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return vu(e).Z({range:r},(s,o,l)=>{if(s[0]===this.userId){const c=ls(s[1]);i.push(c)}else l.done()}).next(()=>{Me(i.length===0)})})}containsKey(e,n){return xL(e,this.userId,n)}On(e){return RL(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function xL(t,e,n){const r=Im(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return vu(t).Z({range:s,Y:!0},(l,c,h)=>{const[f,p,m]=l;f===e&&p===i&&(o=!0),h.done()}).next(()=>o)}function Ro(t){return Gn(t,"mutations")}function vu(t){return Gn(t,"documentMutations")}function RL(t){return Gn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new xl(0)}static Ln(){return new xl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.kn(e).next(n=>{const r=new xl(n.highestTargetId);return n.highestTargetId=r.next(),this.qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.kn(e).next(n=>Le.fromTimestamp(new rn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.kn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.kn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.qn(e,i)))}addTargetData(e,n){return this.Qn(e,n).next(()=>this.kn(e).next(r=>(r.targetCount+=1,this.Kn(n,r),this.qn(e,r))))}updateTargetData(e,n){return this.Qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>lu(e).delete(n.targetId)).next(()=>this.kn(e)).next(r=>(Me(r.targetCount>0),r.targetCount-=1,this.qn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return lu(e).Z((o,l)=>{const c=Bh(l);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>j.waitFor(s)).next(()=>i)}forEachTarget(e,n){return lu(e).Z((r,i)=>{const s=Bh(i);n(s)})}kn(e){return IC(e).get("targetGlobalKey").next(n=>(Me(n!==null),n))}qn(e,n){return IC(e).put("targetGlobalKey",n)}Qn(e,n){return lu(e).put(EL(this.serializer,n))}Kn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.kn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=wl(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return lu(e).Z({range:i,index:"queryTargetsIndex"},(o,l,c)=>{const h=Bh(l);Sd(n,h.target)&&(s=h,c.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Mo(e);return n.forEach(o=>{const l=Rr(o.path);i.push(s.put({targetId:r,path:l})),i.push(this.referenceDelegate.addReference(e,r,o))}),j.waitFor(i)}removeMatchingKeys(e,n,r){const i=Mo(e);return j.forEach(n,s=>{const o=Rr(s.path);return j.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Mo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Mo(e);let s=tt();return i.Z({range:r,Y:!0},(o,l,c)=>{const h=ls(o[1]),f=new de(h);s=s.add(f)}).next(()=>s)}containsKey(e,n){const r=Rr(n.path),i=IDBKeyRange.bound([r],[E2(r)],!1,!0);let s=0;return Mo(e).Z({index:"documentTargetsIndex",Y:!0,range:i},([o,l],c,h)=>{o!==0&&(s++,h.done())}).next(()=>s>0)}lt(e,n){return lu(e).get(n).next(r=>r?Bh(r):null)}}function lu(t){return Gn(t,"targets")}function IC(t){return Gn(t,"targetGlobal")}function Mo(t){return Gn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC([t,e],[n,r]){const i=Ze(t,n);return i===0?Ze(e,r):i}class QG{constructor(e){this.$n=e,this.buffer=new Ut(SC),this.Un=0}Wn(){return++this.Un}Gn(e){const n=[e,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();SC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.zn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.jn(6e4)}stop(){this.zn&&(this.zn.cancel(),this.zn=null)}get started(){return this.zn!==null}jn(e){ie("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.zn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wa(n)?ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await _a(n)}await this.jn(3e5)})}}class XG{constructor(e,n){this.Hn=e,this.params=n}calculateTargetCount(e,n){return this.Hn.Jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Vr.ae);const r=new QG(n);return this.Hn.forEachTarget(e,i=>r.Gn(i.sequenceNumber)).next(()=>this.Hn.Yn(e,i=>r.Gn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Hn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Hn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(TC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TC):this.Zn(e,n))}getCacheSize(e){return this.Hn.getCacheSize(e)}Zn(e,n){let r,i,s,o,l,c,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(h=Date.now(),pu()<=gt.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(h-c)+`ms
Total Duration: ${h-f}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function JG(t,e){return new XG(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(e,n){this.db=e,this.garbageCollector=JG(this,n)}Jn(e){const n=this.Xn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Xn(e){let n=0;return this.Yn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Yn(e,n){return this.er(e,(r,i)=>n(i))}addReference(e,n,r){return Zp(e,r)}removeReference(e,n,r){return Zp(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Zp(e,n)}tr(e,n){return function(i,s){let o=!1;return RL(i).X(l=>xL(i,l,s).next(c=>(c&&(o=!0),j.resolve(!c)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.er(e,(o,l)=>{if(l<=n){const c=this.tr(e,o).next(h=>{if(!h)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Le.min()),Mo(e).delete(function(p){return[0,Rr(p.path)]}(o))))});i.push(c)}}).next(()=>j.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Zp(e,n)}er(e,n){const r=Mo(e);let i,s=Vr.ae;return r.Z({index:"documentTargetsIndex"},([o,l],{path:c,sequenceNumber:h})=>{o===0?(s!==Vr.ae&&n(new de(ls(i)),s),s=h,i=c):s=Vr.ae}).next(()=>{s!==Vr.ae&&n(new de(ls(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Zp(t,e){return Mo(t).put(function(r,i){return{targetId:0,path:Rr(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.changes=new Ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Va(e).put(r)}removeEntry(e,n,r){return Va(e).delete(function(s,o){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Ig(o),l[l.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.nr(e,r)))}getEntry(e,n){let r=Qt.newInvalidDocument(n);return Va(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ih(n))},(i,s)=>{r=this.rr(n,s)}).next(()=>r)}ir(e,n){let r={size:0,document:Qt.newInvalidDocument(n)};return Va(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ih(n))},(i,s)=>{r={document:this.rr(n,s),size:xg(s)}}).next(()=>r)}getEntries(e,n){let r=Br();return this.sr(e,n,(i,s)=>{const o=this.rr(i,s);r=r.insert(i,o)}).next(()=>r)}_r(e,n){let r=Br(),i=new zt(de.comparator);return this.sr(e,n,(s,o)=>{const l=this.rr(s,o);r=r.insert(s,l),i=i.insert(s,xg(o))}).next(()=>({documents:r,ar:i}))}sr(e,n,r){if(n.isEmpty())return j.resolve();let i=new Ut(bC);n.forEach(c=>i=i.add(c));const s=IDBKeyRange.bound(Ih(i.first()),Ih(i.last())),o=i.getIterator();let l=o.getNext();return Va(e).Z({index:"documentKeyIndex",range:s},(c,h,f)=>{const p=de.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;l&&bC(l,p)<0;)r(l,null),l=o.getNext();l&&l.isEqual(p)&&(r(l,h),l=o.hasNext()?o.getNext():null),l?f.W(Ih(l)):f.done()}).next(()=>{for(;l;)r(l,null),l=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,l=[o.popLast().toArray(),o.lastSegment(),Ig(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Va(e).G(IDBKeyRange.bound(l,c,!0)).next(h=>{s==null||s.incrementDocumentReadCount(h.length);let f=Br();for(const p of h){const m=this.rr(de.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);m.isFoundDocument()&&(Rd(n,m)||i.has(m.key))&&(f=f.insert(m.key,m))}return f})}getAllFromCollectionGroup(e,n,r,i){let s=Br();const o=RC(n,r),l=RC(n,si.max());return Va(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,l,!0)},(c,h,f)=>{const p=this.rr(de.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);s=s.insert(p.key,p),s.size===i&&f.done()}).next(()=>s)}newChangeBuffer(e){return new tQ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return xC(e).get("remoteDocumentGlobalKey").next(n=>(Me(!!n),n))}nr(e,n){return xC(e).put("remoteDocumentGlobalKey",n)}rr(e,n){if(n){const r=$G(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Le.min())))return r}return Qt.newInvalidDocument(e)}}function AL(t){return new eQ(t)}class tQ extends bL{constructor(e,n){super(),this.ur=e,this.trackRemovals=n,this.cr=new Ea(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ut((s,o)=>Ze(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const l=this.cr.get(s);if(n.push(this.ur.removeEntry(e,s,l.readTime)),o.isValidDocument()){const c=hC(this.ur.serializer,o);i=i.add(s.path.popLast());const h=xg(c);r+=h-l.size,n.push(this.ur.addEntry(e,s,c))}else if(r-=l.size,this.trackRemovals){const c=hC(this.ur.serializer,o.convertToNoDocument(Le.min()));n.push(this.ur.addEntry(e,s,c))}}),i.forEach(s=>{n.push(this.ur.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ur.updateMetadata(e,r)),j.waitFor(n)}getFromCache(e,n){return this.ur.ir(e,n).next(r=>(this.cr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ur._r(e,n).next(({documents:r,ar:i})=>(i.forEach((s,o)=>{this.cr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function xC(t){return Gn(t,"remoteDocumentGlobal")}function Va(t){return Gn(t,"remoteDocumentsV14")}function Ih(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function RC(t,e){const n=e.documentKey.path.toArray();return[t,Ig(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function bC(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ze(n[s],r[s]),i)return i;return i=Ze(n.length,r.length),i||(i=Ze(n[n.length-2],r[r.length-2]),i||Ze(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sf(r.mutation,i,$r.empty(),rn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=tt()){const i=us();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Vh();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=us();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,tt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Br();const o=rf(),l=function(){return rf()}();return n.forEach((c,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof co)?s=s.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),sf(f.mutation,h,f.mutation.getFieldMask(),rn.now())):o.set(h.key,$r.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,f)=>o.set(h,f)),n.forEach((h,f)=>{var p;return l.set(h,new nQ(f,(p=o.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=rf();let i=new zt((o,l)=>o-l),s=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let f=r.get(c)||$r.empty();f=l.applyToLocalView(h,f),r.set(c,f);const p=(i.get(l.batchId)||tt()).add(c);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,f=c.value,p=G2();f.forEach(m=>{if(!s.has(m)){const y=nL(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(us());let l=-1,c=s;return o.next(h=>j.forEach(h,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?j.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{c=c.insert(f,m)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,tt())).next(f=>({batchId:l,changes:H2(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=Vh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Vh();return this.indexManager.getCollectionParents(e,s).next(l=>j.forEach(l,c=>{const h=function(p,m){return new uo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,Qt.newInvalidDocument(f)))});let l=Vh();return o.forEach((c,h)=>{const f=s.get(c);f!==void 0&&sf(f.mutation,h,$r.empty(),rn.now()),Rd(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return j.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Cn(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:LT(i.bundledQuery),readTime:Cn(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(){this.overlays=new zt(de.comparator),this.Pr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=us();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.It(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=us(),s=n.length+1,o=new de(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new zt((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=s.get(h.largestBatchId);f===null&&(f=us(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=us(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return j.resolve(l)}It(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new DT(n,r));let s=this.Pr.get(n);s===void 0&&(s=tt(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.Ir=new Ut(jn.dr),this.Tr=new Ut(jn.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new jn(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new jn(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new de(new _t([])),r=new jn(n,e),i=new jn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new de(new _t([])),r=new jn(n,e),i=new jn(n,e+1);let s=tt();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new jn(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jn{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return de.comparator(e.key,n.key)||Ze(e.yr,n.yr)}static Er(e,n){return Ze(e.yr,n.yr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Ut(jn.dr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new PT(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Sr=this.Sr.add(new jn(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jn(n,0),i=new jn(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const l=this.br(o.yr);s.push(l)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(Ze);return n.forEach(i=>{const s=new jn(i,0),o=new jn(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],l=>{r=r.add(l.yr)})}),j.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;de.isDocumentKey(s)||(s=s.child(""));const o=new jn(new de(s),0);let l=new Ut(Ze);return this.Sr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.yr)),!0)},o),j.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Me(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return j.forEach(n.mutations,i=>{const s=new jn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new jn(n,0),i=this.Sr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(e){this.Fr=e,this.docs=function(){return new zt(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=Br();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qt.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Br();const o=n.path,l=new de(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||TT(I2(f),r)<=0||(i.has(f.key)||Rd(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ie()}Mr(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aQ(this)}getSize(e){return j.resolve(this.size)}}class aQ extends bL{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ{constructor(e){this.persistence=e,this.Or=new Ea(n=>wl(n),Sd),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.Nr=0,this.Br=new VT,this.targetCount=0,this.Lr=xl.Bn()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),j.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new xl(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Qn(n),j.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n){this.kr={},this.overlays={},this.qr=new Vr(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new lQ(this),this.indexManager=new KG,this.remoteDocumentCache=function(i){return new oQ(i)}(r=>this.referenceDelegate.$r(r)),this.serializer=new wL(n),this.Ur=new rQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new sQ(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new uQ(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(e,n){return j.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class uQ extends x2{constructor(e){super(),this.currentSequenceNumber=e}}class My{constructor(e){this.persistence=e,this.jr=new VT,this.Hr=null}static Jr(e){return new My(e)}get Yr(){if(this.Hr)return this.Hr;throw Ie()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),j.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Yr,r=>{const i=de.fromPath(r);return this.Zr(e,i).next(s=>{s||n.removeEntry(i,Le.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return j.or([()=>j.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(e){this.serializer=e}B(e,n,r,i){const s=new Cy("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",UA,{unique:!0}),c.createObjectStore("documentMutations")}(e),AC(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=j.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),AC(e)),o=o.next(()=>function(c){const h=c.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Le.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",f)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(c,h){return h.store("mutations").G().next(f=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",UA,{unique:!0});const p=h.store("mutations"),m=f.map(y=>p.put(y));return j.waitFor(m)})}(e,s))),o=o.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ei(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ti(s)))),r<7&&i>=7&&(o=o.next(()=>this.ni(s))),r<8&&i>=8&&(o=o.next(()=>this.ri(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ii(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(c){const h=c.createObjectStore("documentOverlays",{keyPath:HH});h.createIndex("collectionPathOverlayIndex",GH,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",QH,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(c){const h=c.createObjectStore("remoteDocumentsV14",{keyPath:MH});h.createIndex("documentKeyIndex",FH),h.createIndex("collectionGroupIndex",VH)}(e)).next(()=>this.si(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.oi(e,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:zH}).createIndex("sequenceNumberIndex",qH,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:WH}).createIndex("documentKeyIndex",KH,{unique:!1})}(e))),o}ti(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=xg(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ei(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next(i=>j.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",o).next(l=>j.forEach(l,c=>{Me(c.userId===s.userId);const h=qa(this.serializer,c);return SL(e,s.userId,h).next(()=>{})}))}))}ni(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,l)=>{const c=new _t(o),h=function(p){return[0,Rr(p)]}(c);s.push(n.get(h).next(f=>f?j.resolve():(p=>n.put({targetId:0,path:Rr(p),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>j.waitFor(s))})}ri(e,n){e.createObjectStore("collectionParents",{keyPath:UH});const r=n.store("collectionParents"),i=new FT,s=o=>{if(i.add(o)){const l=o.lastSegment(),c=o.popLast();return r.put({collectionId:l,parent:Rr(c)})}};return n.store("remoteDocuments").Z({Y:!0},(o,l)=>{const c=new _t(o);return s(c.popLast())}).next(()=>n.store("documentMutations").Z({Y:!0},([o,l,c],h)=>{const f=ls(l);return s(f.popLast())}))}ii(e){const n=e.store("targets");return n.Z((r,i)=>{const s=Bh(i),o=EL(this.serializer,s);return n.put(o)})}si(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const l=n.store("remoteDocumentsV14"),c=function(p){return p.document?new de(_t.fromString(p.document.name).popFirst(5)):p.noDocument?de.fromSegments(p.noDocument.path):p.unknownDocument?de.fromSegments(p.unknownDocument.path):Ie()}(o).path.toArray(),h={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(l.put(h))}).next(()=>j.waitFor(i))}oi(e,n){const r=n.store("mutations"),i=AL(this.serializer),s=new PL(My.Jr,this.serializer.ht);return r.G().next(o=>{const l=new Map;return o.forEach(c=>{var h;let f=(h=l.get(c.userId))!==null&&h!==void 0?h:tt();qa(this.serializer,c).keys().forEach(p=>f=f.add(p)),l.set(c.userId,f)}),j.forEach(l,(c,h)=>{const f=new zn(h),p=Ny.Pt(this.serializer,f),m=s.getIndexManager(f),y=Ly.Pt(f,this.serializer,m,s.referenceDelegate);return new CL(i,y,p,m).recalculateAndSaveOverlaysForDocumentKeys(new rE(n,Vr.ae),c).next()})})}}function AC(t){t.createObjectStore("targetDocuments",{keyPath:BH}).createIndex("documentTargetsIndex",jH,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$H,{unique:!0}),t.createObjectStore("targetGlobal")}const d0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $T{constructor(e,n,r,i,s,o,l,c,h,f,p=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this._i=s,this.window=o,this.document=l,this.ai=h,this.ui=f,this.ci=p,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.li=null,this.inForeground=!1,this.hi=null,this.Pi=null,this.Ii=Number.NEGATIVE_INFINITY,this.di=m=>Promise.resolve(),!$T.C())throw new te(z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ZG(this,i),this.Ti=n+"main",this.serializer=new wL(c),this.Ei=new qi(this.Ti,this.ci,new cQ(this.serializer)),this.Kr=new GG(this.referenceDelegate,this.serializer),this.remoteDocumentCache=AL(this.serializer),this.Ur=new BG,this.window&&this.window.localStorage?this.Ai=this.window.localStorage:(this.Ai=null,f===!1&&An("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ri().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new te(z.FAILED_PRECONDITION,d0);return this.Vi(),this.mi(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Kr.getHighestSequenceNumber(e))}).then(e=>{this.qr=new Vr(e,this.ai)}).then(()=>{this.Qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}gi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.k(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this._i.enqueueAndForget(async()=>{this.started&&await this.Ri()}))}Ri(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>em(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.pi(e).next(n=>{n||(this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.yi(e)).next(n=>this.isPrimary&&!n?this.wi(e).next(()=>!1):!!n&&this.Si(e).next(()=>!0))).catch(e=>{if(wa(e))return ie("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this._i.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}pi(e){return Sh(e).get("owner").next(n=>j.resolve(this.bi(n)))}Di(e){return em(e).delete(this.clientId)}async Ci(){if(this.isPrimary&&!this.vi(this.Ii,18e5)){this.Ii=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Gn(n,"clientMetadata");return r.G().next(i=>{const s=this.Fi(i,18e5),o=i.filter(l=>s.indexOf(l)===-1);return j.forEach(o,l=>r.delete(l.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ai)for(const n of e)this.Ai.removeItem(this.Mi(n.clientId))}}fi(){this.Pi=this._i.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ri().then(()=>this.Ci()).then(()=>this.fi()))}bi(e){return!!e&&e.ownerId===this.clientId}yi(e){return this.ui?j.resolve(!0):Sh(e).get("owner").next(n=>{if(n!==null&&this.vi(n.leaseTimestampMs,5e3)&&!this.xi(n.ownerId)){if(this.bi(n)&&this.networkEnabled)return!0;if(!this.bi(n)){if(!n.allowTabSynchronization)throw new te(z.FAILED_PRECONDITION,d0);return!1}}return!(!this.networkEnabled||!this.inForeground)||em(e).G().next(r=>this.Fi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,l=this.networkEnabled===i.networkEnabled;if(s||o&&l)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&ie("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Qr=!1,this.Oi(),this.Pi&&(this.Pi.cancel(),this.Pi=null),this.Ni(),this.Bi(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new rE(e,Vr.ae);return this.wi(n).next(()=>this.Di(n))}),this.Ei.close(),this.Li()}Fi(e,n){return e.filter(r=>this.vi(r.updateTimeMs,n)&&!this.xi(r.clientId))}ki(){return this.runTransaction("getActiveClients","readonly",e=>em(e).G().next(n=>this.Fi(n,18e5).map(r=>r.clientId)))}get started(){return this.Qr}getMutationQueue(e,n){return Ly.Pt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new HG(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return Ny.Pt(this.serializer,e)}getBundleCache(){return this.Ur}runTransaction(e,n,r){ie("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(c){return c===15?XH:c===14?P2:c===13?C2:c===12?YH:c===11?A2:void Ie()}(this.ci);let o;return this.Ei.runTransaction(e,i,s,l=>(o=new rE(l,this.qr?this.qr.next():Vr.ae),n==="readwrite-primary"?this.pi(o).next(c=>!!c||this.yi(o)).next(c=>{if(!c)throw An(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)),new te(z.FAILED_PRECONDITION,S2);return r(o)}).next(c=>this.Si(o).next(()=>c)):this.qi(o).next(()=>r(o)))).then(l=>(o.raiseOnCommittedEvent(),l))}qi(e){return Sh(e).get("owner").next(n=>{if(n!==null&&this.vi(n.leaseTimestampMs,5e3)&&!this.xi(n.ownerId)&&!this.bi(n)&&!(this.ui||this.allowTabSynchronization&&n.allowTabSynchronization))throw new te(z.FAILED_PRECONDITION,d0)})}Si(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sh(e).put("owner",n)}static C(){return qi.C()}wi(e){const n=Sh(e);return n.get("owner").next(r=>this.bi(r)?(ie("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):j.resolve())}vi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(An(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Vi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.hi=()=>{this._i.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ri()))},this.document.addEventListener("visibilitychange",this.hi),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.hi&&(this.document.removeEventListener("visibilitychange",this.hi),this.hi=null)}mi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.li=()=>{this.Oi();const n=/(?:Version|Mobile)\/1[456]/;B8()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this._i.enterRestrictedMode(!0),this._i.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.li))}Bi(){this.li&&(this.window.removeEventListener("pagehide",this.li),this.li=null)}xi(e){var n;try{const r=((n=this.Ai)===null||n===void 0?void 0:n.getItem(this.Mi(e)))!==null;return ie("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return An("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Oi(){if(this.Ai)try{this.Ai.setItem(this.Mi(this.clientId),String(Date.now()))}catch(e){An("Failed to set zombie client id.",e)}}Li(){if(this.Ai)try{this.Ai.removeItem(this.Mi(this.clientId))}catch{}}Mi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sh(t){return Gn(t,"owner")}function em(t){return Gn(t,"clientMetadata")}function BT(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(e,n){let r=tt(),i=tt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new jT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Hi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new hQ;return this.Yi(e,n,o).next(l=>{if(s.result=l,this.Wi)return this.Zi(e,n,o,l.size)})}).next(()=>s.result)}Zi(e,n,r,i){return r.documentReadCount<this.Gi?(pu()<=gt.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",mu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),j.resolve()):(pu()<=gt.DEBUG&&ie("QueryEngine","Query:",mu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(pu()<=gt.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",mu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):j.resolve())}Hi(e,n){if(eC(n))return j.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Tg(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=tt(...s);return this.ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.Xi(n,l);return this.es(n,h,o,c.readTime)?this.Hi(e,Tg(n,null,"F")):this.ts(e,h,n,c)}))})))}Ji(e,n,r,i){return eC(n)||i.isEqual(Le.min())?j.resolve(null):this.ji.getDocuments(e,r).next(s=>{const o=this.Xi(n,s);return this.es(n,o,r,i)?j.resolve(null):(pu()<=gt.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mu(n)),this.ts(e,o,n,T2(i,-1)).next(l=>l))})}Xi(e,n){let r=new Ut(W2(e));return n.forEach((i,s)=>{Rd(e,s)&&(r=r.add(s))}),r}es(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(e,n,r){return pu()<=gt.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",mu(n)),this.ji.getDocumentsMatchingQuery(e,n,si.min(),r)}ts(e,n,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQ{constructor(e,n,r,i){this.persistence=e,this.ns=n,this.serializer=i,this.rs=new zt(Ze),this.ss=new Ea(s=>wl(s),Sd),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CL(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function DL(t,e,n,r){return new fQ(t,e,n,r)}async function kL(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=tt();for(const h of i){o.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}for(const h of s){l.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(h=>({cs:h,removedBatchIds:o,addedBatchIds:l}))})})}function dQ(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n._s.newChangeBuffer({trackRemovals:!0});return function(l,c,h,f){const p=h.batch,m=p.keys();let y=j.resolve();return m.forEach(v=>{y=y.next(()=>f.getEntry(c,v)).next(w=>{const R=h.docVersions.get(v);Me(R!==null),w.version.compareTo(R)<0&&(p.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),f.addEntry(w)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=tt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function NL(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function pQ(t,e){const n=ge(t),r=e.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const l=[];e.targetChanges.forEach((f,p)=>{const m=i.get(p);if(!m)return;l.push(n.Kr.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Kr.addMatchingKeys(s,f.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken($n.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),function(w,R,T){return w.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,y,f)&&l.push(n.Kr.updateTargetData(s,y))});let c=Br(),h=tt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(LL(s,o,e.documentUpdates).next(f=>{c=f.ls,h=f.hs})),!r.isEqual(Le.min())){const f=n.Kr.getLastRemoteSnapshotVersion(s).next(p=>n.Kr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return j.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(n.rs=i,s))}function LL(t,e,n){let r=tt(),i=tt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Br();return n.forEach((l,c)=>{const h=s.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Le.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ie("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{ls:o,hs:i}})}function mQ(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uc(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.Kr.allocateTargetId(r).next(o=>(i=new zs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}async function cc(t,e,n){const r=ge(t),i=r.rs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!wa(o))throw o;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}function Rg(t,e,n){const r=ge(t);let i=Le.min(),s=tt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,f){const p=ge(c),m=p.ss.get(f);return m!==void 0?j.resolve(p.rs.get(m)):p.Kr.getTargetData(h,f)}(r,o,br(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ns.getDocumentsMatchingQuery(o,e,n?i:Le.min(),n?s:tt())).next(l=>(VL(r,q2(e),l),{documents:l,Ps:s})))}function ML(t,e){const n=ge(t),r=ge(n.Kr),i=n.rs.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.lt(s,e).next(o=>o?o.target:null))}function FL(t,e){const n=ge(t),r=n.os.get(e)||Le.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n._s.getAllFromCollectionGroup(i,e,T2(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(VL(n,e,i),i))}function VL(t,e,n){let r=t.os.get(e)||Le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.os.set(e,r)}async function gQ(t,e,n,r){const i=ge(t);let s=tt(),o=Br();for(const h of n){const f=e.Is(h.metadata.name);h.document&&(s=s.add(f));const p=e.ds(h);p.setReadTime(e.Ts(h.metadata.readTime)),o=o.insert(f,p)}const l=i._s.newChangeBuffer({trackRemovals:!0}),c=await uc(i,function(f){return br(Pc(_t.fromString(`__bundle__/docs/${f}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",h=>LL(h,l,o).next(f=>(l.apply(h),f)).next(f=>i.Kr.removeMatchingKeysForTargetId(h,c.targetId).next(()=>i.Kr.addMatchingKeys(h,s,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,f.ls,f.hs)).next(()=>f.ls)))}async function yQ(t,e,n=tt()){const r=await uc(t,br(LT(e.bundledQuery))),i=ge(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Cn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ur.saveNamedQuery(s,e);const l=r.withResumeToken($n.EMPTY_BYTE_STRING,o);return i.rs=i.rs.insert(l.targetId,l),i.Kr.updateTargetData(s,l).next(()=>i.Kr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Kr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Ur.saveNamedQuery(s,e))})}function CC(t,e){return`firestore_clients_${t}_${e}`}function PC(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function p0(t,e){return`firestore_targets_${t}_${e}`}class bg{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new te(i.error.code,i.error.message))),o?new bg(e,n,i.state,s):(An("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}As(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class of{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new te(r.error.code,r.error.message))),s?new of(e,r.state,i):(An("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}As(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ag{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=AT();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=R2(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Ag(e,s):(An("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class UT{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new UT(n.clientId,n.onlineState):(An("SharedClientState",`Failed to parse online state: ${e}`),null)}}class gE{constructor(){this.activeTargetIds=AT()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class m0{constructor(e,n,r,i,s){this.window=e,this._i=n,this.persistenceKey=r,this.fs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.gs=this.ps.bind(this),this.ys=new zt(Ze),this.started=!1,this.ws=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ss=CC(this.persistenceKey,this.fs),this.bs=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.ys=this.ys.insert(this.fs,new gE),this.Ds=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Cs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.vs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Fs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Ms=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.gs)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.ki();for(const r of e){if(r===this.fs)continue;const i=this.getItem(CC(this.persistenceKey,r));if(i){const s=Ag.Es(r,i);s&&(this.ys=this.ys.insert(s.clientId,s))}}this.xs();const n=this.storage.getItem(this.Fs);if(n){const r=this.Os(n);r&&this.Ns(r)}for(const r of this.ws)this.ps(r);this.ws=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Bs(this.ys)}isActiveQueryTarget(e){let n=!1;return this.ys.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.ks(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(p0(this.persistenceKey,e));if(r){const i=of.Es(e,r);i&&(n=i.state)}}return this.qs.Rs(e),this.xs(),n}removeLocalQueryTarget(e){this.qs.Vs(e),this.xs()}isLocalQueryTarget(e){return this.qs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(p0(this.persistenceKey,e))}updateQueryState(e,n,r){this.Qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.ks(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ks(e)}notifyBundleLoaded(e){this.$s(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.gs),this.removeItem(this.Ss),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ie("SharedClientState","READ",e,n),n}setItem(e,n){ie("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){ie("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ps(e){const n=e;if(n.storageArea===this.storage){if(ie("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ss)return void An("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._i.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ds.test(n.key)){if(n.newValue==null){const r=this.Us(n.key);return this.Ws(r,null)}{const r=this.Gs(n.key,n.newValue);if(r)return this.Ws(r.clientId,r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(this.vs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(n.key===this.Fs){if(n.newValue!==null){const r=this.Os(n.newValue);if(r)return this.Ns(r)}}else if(n.key===this.bs){const r=function(s){let o=Vr.ae;if(s!=null)try{const l=JSON.parse(s);Me(typeof l=="number"),o=l}catch(l){An("SharedClientState","Failed to read sequence number from WebStorage",l)}return o}(n.newValue);r!==Vr.ae&&this.sequenceNumberHandler(r)}else if(n.key===this.Ms){const r=this.Ys(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Zs(i)))}}}else this.ws.push(n)})}}get qs(){return this.ys.get(this.fs)}xs(){this.setItem(this.Ss,this.qs.As())}Ls(e,n,r){const i=new bg(this.currentUser,e,n,r),s=PC(this.persistenceKey,this.currentUser,e);this.setItem(s,i.As())}ks(e){const n=PC(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Ks(e){const n={clientId:this.fs,onlineState:e};this.storage.setItem(this.Fs,JSON.stringify(n))}Qs(e,n,r){const i=p0(this.persistenceKey,e),s=new of(e,n,r);this.setItem(i,s.As())}$s(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Ms,n)}Us(e){const n=this.Ds.exec(e);return n?n[1]:null}Gs(e,n){const r=this.Us(e);return Ag.Es(r,n)}zs(e,n){const r=this.Cs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return bg.Es(new zn(s),i,n)}Hs(e,n){const r=this.vs.exec(e),i=Number(r[1]);return of.Es(i,n)}Os(e){return UT.Es(e)}Ys(e){return JSON.parse(e)}async js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Xs(e.batchId,e.state,e.error);ie("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Js(e){return this.syncEngine.eo(e.targetId,e.state,e.error)}Ws(e,n){const r=n?this.ys.insert(e,n):this.ys.remove(e),i=this.Bs(this.ys),s=this.Bs(r),o=[],l=[];return s.forEach(c=>{i.has(c)||o.push(c)}),i.forEach(c=>{s.has(c)||l.push(c)}),this.syncEngine.no(o,l).then(()=>{this.ys=r})}Ns(e){this.ys.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Bs(e){let n=AT();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class $L{constructor(){this.ro=new gE,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new gE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tm=null;function g0(){return tm===null?tm=function(){return 268435456+Math.round(2147483648*Math.random())}():tm++,"0x"+tm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Q={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="WebChannelConnection";class EQ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(n,r,i,s,o){const l=g0(),c=this.Do(n,r);ie("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(h,s,o),this.vo(n,c,h,i).then(f=>(ie("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw Qi("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",c,"request:",i),f})}Fo(n,r,i,s,o,l){return this.bo(n,r,i,s,o)}Co(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Do(n,r){const i=_Q[n];return`${this.po}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=g0();return new Promise((o,l)=>{const c=new yH;c.setWithCredentials(!0),c.listenOnce(mH.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case h0.NO_ERROR:const f=c.getResponseJson();ie(cr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case h0.TIMEOUT:ie(cr,`RPC '${e}' ${s} timed out`),l(new te(z.DEADLINE_EXCEEDED,"Request time out"));break;case h0.HTTP_ERROR:const p=c.getStatus();if(ie(cr,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const v=function(R){const T=R.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(T)>=0?T:z.UNKNOWN}(y.status);l(new te(v,y.message))}else l(new te(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new te(z.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ie(cr,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);ie(cr,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)})}Mo(e,n,r){const i=g0(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dH(),l=pH(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Co(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");ie(cr,`Creating RPC '${e}' stream ${i}: ${f}`,c);const p=o.createWebChannel(f,c);let m=!1,y=!1;const v=new wQ({ho:R=>{y?ie(cr,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(ie(cr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),ie(cr,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Po:()=>p.close()}),w=(R,T,S)=>{R.listen(T,I=>{try{S(I)}catch(E){setTimeout(()=>{throw E},0)}})};return w(p,Yp.EventType.OPEN,()=>{y||ie(cr,`RPC '${e}' stream ${i} transport opened.`)}),w(p,Yp.EventType.CLOSE,()=>{y||(y=!0,ie(cr,`RPC '${e}' stream ${i} transport closed`),v.mo())}),w(p,Yp.EventType.ERROR,R=>{y||(y=!0,Qi(cr,`RPC '${e}' stream ${i} transport errored:`,R),v.mo(new te(z.UNAVAILABLE,"The operation could not be completed")))}),w(p,Yp.EventType.MESSAGE,R=>{var T;if(!y){const S=R.data[0];Me(!!S);const I=S,E=I.error||((T=I[0])===null||T===void 0?void 0:T.error);if(E){ie(cr,`RPC '${e}' stream ${i} received error:`,E);const P=E.status;let O=function(q){const Y=Pn[q];if(Y!==void 0)return sL(Y)}(P),D=E.message;O===void 0&&(O=z.INTERNAL,D="Unknown error status: "+P+" with message "+E.message),y=!0,v.mo(new te(O,D)),p.close()}else ie(cr,`RPC '${e}' stream ${i} received:`,S),v.fo(S)}}),w(l,gH.STAT_EVENT,R=>{R.stat===VA.PROXY?ie(cr,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===VA.NOPROXY&&ie(cr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Vo()},0),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(){return typeof window<"u"?window:null}function Am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t){return new CG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n,r,i,s,o,l,c){this._i=e,this.Uo=r,this.Wo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new zT(e,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(An(n.toString()),An("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{e(()=>{const i=new te(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TQ extends jL{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=DG(this.serializer,e),r=function(s){if(!("targetChange"in s))return Le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Le.min():o.readTime?Cn(o.readTime):Le.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=Qf(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=wg(c)?{documents:pL(s,c)}:{query:mL(s,c)},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=uL(s,o.resumeToken);const h=cE(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(Le.min())>0){l.readTime=lc(s,o.snapshotVersion.toTimestamp());const h=cE(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=NG(this.serializer,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=Qf(this.serializer),n.removeTarget=e,this.n_(n)}}class IQ extends jL{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=kG(e.writeResults,e.commitTime),r=Cn(e.commitTime);return this.listener.T_(r,n)}return Me(!e.writeResults||e.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=Qf(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Yf(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new te(z.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(z.UNKNOWN,i.toString())})}Fo(e,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(z.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class xQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(An(n),this.p_=!1):ie("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(o=>{r.enqueueAndForget(async()=>{Ta(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(c){const h=ge(c);h.F_.add(4),await kc(h),h.O_.set("Unknown"),h.F_.delete(4),await Od(h)}(this))})}),this.O_=new xQ(r,i)}}async function Od(t){if(Ta(t))for(const e of t.M_)await e(!0)}async function kc(t){for(const e of t.M_)await e(!1)}function Fy(t,e){const n=ge(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),KT(n)?WT(n):Lc(n).Yo()&&qT(n,e))}function Xf(t,e){const n=ge(t),r=Lc(n);n.v_.delete(e),r.Yo()&&UL(n,e),n.v_.size===0&&(r.Yo()?r.e_():Ta(n)&&n.O_.set("Unknown"))}function qT(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lc(t).l_(e)}function UL(t,e){t.N_.Le(e),Lc(t).h_(e)}function WT(t){t.N_=new xG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),Lc(t).start(),t.O_.y_()}function KT(t){return Ta(t)&&!Lc(t).Jo()&&t.v_.size>0}function Ta(t){return ge(t).F_.size===0}function zL(t){t.N_=void 0}async function bQ(t){t.v_.forEach((e,n)=>{qT(t,e)})}async function AQ(t,e){zL(t),KT(t)?(t.O_.b_(e),WT(t)):t.O_.set("Unknown")}async function CQ(t,e,n){if(t.O_.set("Online"),e instanceof lL&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.v_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.v_.delete(l),i.N_.removeTarget(l))}(t,e)}catch(r){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cg(t,r)}else if(e instanceof bm?t.N_.Ge(e):e instanceof aL?t.N_.Xe(e):t.N_.He(e),!n.isEqual(Le.min()))try{const r=await NL(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.N_._t(o);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.v_.get(h);f&&s.v_.set(h,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,h)=>{const f=s.v_.get(c);if(!f)return;s.v_.set(c,f.withResumeToken($n.EMPTY_BYTE_STRING,f.snapshotVersion)),UL(s,c);const p=new zs(f.target,c,h,f.sequenceNumber);qT(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ie("RemoteStore","Failed to raise snapshot:",r),await Cg(t,r)}}async function Cg(t,e,n){if(!wa(e))throw e;t.F_.add(1),await kc(t),t.O_.set("Offline"),n||(n=()=>NL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await n(),t.F_.delete(1),await Od(t)})}function qL(t,e){return e().catch(n=>Cg(t,n,e))}async function Nc(t){const e=ge(t),n=ua(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;PQ(e);)try{const i=await mQ(e.localStore,r);if(i===null){e.C_.length===0&&n.e_();break}r=i.batchId,OQ(e,i)}catch(i){await Cg(e,i)}WL(e)&&KL(e)}function PQ(t){return Ta(t)&&t.C_.length<10}function OQ(t,e){t.C_.push(e);const n=ua(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function WL(t){return Ta(t)&&!ua(t).Jo()&&t.C_.length>0}function KL(t){ua(t).start()}async function DQ(t){ua(t).A_()}async function kQ(t){const e=ua(t);for(const n of t.C_)e.d_(n.mutations)}async function NQ(t,e,n){const r=t.C_.shift(),i=OT.from(r,e,n);await qL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Nc(t)}async function LQ(t,e){e&&ua(t).I_&&await async function(r,i){if(function(o){return iL(o)&&o!==z.ABORTED}(i.code)){const s=r.C_.shift();ua(r).Xo(),await qL(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Nc(r)}}(t,e),WL(t)&&KL(t)}async function DC(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const r=Ta(n);n.F_.add(3),await kc(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),await Od(n)}async function yE(t,e){const n=ge(t);e?(n.F_.delete(2),await Od(n)):e||(n.F_.add(2),await kc(n),n.O_.set("Unknown"))}function Lc(t){return t.B_||(t.B_=function(n,r,i){const s=ge(n);return s.V_(),new TQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:bQ.bind(null,t),Eo:AQ.bind(null,t),c_:CQ.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),KT(t)?WT(t):t.O_.set("Unknown")):(await t.B_.stop(),zL(t))})),t.B_}function ua(t){return t.L_||(t.L_=function(n,r,i){const s=ge(n);return s.V_(),new IQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:DQ.bind(null,t),Eo:LQ.bind(null,t),E_:kQ.bind(null,t),T_:NQ.bind(null,t)}),t.M_.push(async e=>{e?(t.L_.Xo(),await Nc(t)):(await t.L_.stop(),t.C_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new HT(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mc(t,e){if(An("AsyncQueue",`${e}: ${t}`),wa(t))return new te(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=Vh(),this.sortedSet=new zt(this.comparator)}static emptySet(e){return new Wu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.k_=new zt(de.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?e.type!==0&&r.type===3?this.k_=this.k_.insert(n,e):e.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.k_=this.k_.remove(n):e.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):Ie():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class hc{constructor(e,n,r,i,s,o,l,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new hc(e,n,Wu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MQ{constructor(){this.Q_=void 0,this.listeners=[]}}class FQ{constructor(){this.queries=new Ea(e=>z2(e),xd),this.onlineState="Unknown",this.K_=new Set}}async function GT(t,e){const n=ge(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new MQ),i)try{s.Q_=await n.onListen(r)}catch(o){const l=Mc(o,`Initialization of query '${mu(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.listeners.push(e),e.U_(n.onlineState),s.Q_&&e.W_(s.Q_)&&YT(n)}async function QT(t,e){const n=ge(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function VQ(t,e){const n=ge(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.listeners)l.W_(i)&&(r=!0);o.Q_=i}}r&&YT(n)}function $Q(t,e,n){const r=ge(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function YT(t){t.K_.forEach(e=>{e.next()})}class XT{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new hc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BQ{constructor(e,n){this.X_=e,this.byteLength=n}ea(){return"metadata"in this.X_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.serializer=e}Is(e){return gs(this.serializer,e)}ds(e){return e.metadata.exists?dL(this.serializer,e.document,!1):Qt.newNoDocument(this.Is(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Cn(e)}}class jQ{constructor(e,n,r){this.ta=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=HL(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++n;const r=_t.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ra(e){const n=new Map,r=new NC(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Is(i.metadata.name);for(const o of i.metadata.queries){const l=(n.get(o)||tt()).add(s);n.set(o,l)}}return n}async complete(){const e=await gQ(this.localStore,new NC(this.serializer),this.documents,this.ta.id),n=this.ra(this.documents);for(const r of this.queries)await yQ(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function HL(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.key=e}}class QL{constructor(e){this.key=e}}class YL{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=tt(),this.mutatedKeys=tt(),this.ua=W2(e),this.ca=new Wu(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new kC,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const m=i.get(f),y=Rd(this.query,p)?p:null,v=!!m&&this.mutatedKeys.has(m.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let R=!1;m&&y?m.data.isEqual(y.data)?v!==w&&(r.track({type:3,doc:y}),R=!0):this.Ia(m,y)||(r.track({type:2,doc:y}),R=!0,(c&&this.ua(y,c)>0||h&&this.ua(y,h)<0)&&(l=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(c||h)&&(l=!0)),R&&(y?(o=o.add(y),s=w?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{ca:o,Pa:r,es:l,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.q_();s.sort((h,f)=>function(m,y){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return v(m)-v(y)}(h.type,f.type)||this.ua(h.doc,f.doc)),this.da(r);const o=n?this.Ta():[],l=this.aa.size===0&&this.current?1:0,c=l!==this._a;return this._a=l,s.length!==0||c?{snapshot:new hc(this.query,e.ca,i,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new kC,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=tt(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new QL(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new GL(r))}),n}Ra(e){this.oa=e.Ps,this.aa=tt();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return hc.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class UQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class zQ{constructor(e){this.key=e,this.ma=!1}}class qQ{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Ea(l=>z2(l),xd),this.pa=new Map,this.ya=new Set,this.wa=new zt(de.comparator),this.Sa=new Map,this.ba=new VT,this.Da={},this.Ca=new Map,this.va=xl.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function WQ(t,e){const n=nI(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await uc(n.localStore,br(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await JT(n,e,r,l==="current",o.resumeToken),n.isPrimaryClient&&Fy(n.remoteStore,o)}return i}async function JT(t,e,n,r,i){t.Ma=(p,m,y)=>async function(w,R,T,S){let I=R.view.ha(T);I.es&&(I=await Rg(w.localStore,R.query,!1).then(({documents:O})=>R.view.ha(O,I)));const E=S&&S.targetChanges.get(R.targetId),P=R.view.applyChanges(I,w.isPrimaryClient,E);return vE(w,R.targetId,P.Ea),P.snapshot}(t,p,m,y);const s=await Rg(t.localStore,e,!0),o=new YL(e,s.Ps),l=o.ha(s.documents),c=Cd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(l,t.isPrimaryClient,c);vE(t,n,h.Ea);const f=new UQ(e,n,o);return t.ga.set(e,f),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),h.snapshot}async function KQ(t,e){const n=ge(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!xd(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await cc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Xf(n.remoteStore,r.targetId),fc(n,r.targetId)}).catch(_a)):(fc(n,r.targetId),await cc(n.localStore,r.targetId,!0))}async function HQ(t,e,n){const r=rI(t);try{const i=await function(o,l){const c=ge(o),h=rn.now(),f=l.reduce((y,v)=>y.add(v.key),tt());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let v=Br(),w=tt();return c._s.getEntries(y,f).next(R=>{v=R,v.forEach((T,S)=>{S.isValidDocument()||(w=w.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,v)).next(R=>{p=R;const T=[];for(const S of l){const I=TG(S,p.get(S.key).overlayedDocument);I!=null&&T.push(new co(S.key,I,N2(I.value.mapValue),nn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,h,T,l)}).next(R=>{m=R;const T=R.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(y,R.batchId,T)})}).then(()=>({batchId:m.batchId,changes:H2(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let h=o.Da[o.currentUser.toKey()];h||(h=new zt(Ze)),h=h.insert(l,c),o.Da[o.currentUser.toKey()]=h}(r,i.batchId,n),await ho(r,i.changes),await Nc(r.remoteStore)}catch(i){const s=Mc(i,"Failed to persist write");n.reject(s)}}async function XL(t,e){const n=ge(t);try{const r=await pQ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?Me(o.ma):i.removedDocuments.size>0&&(Me(o.ma),o.ma=!1))}),await ho(n,r,e)}catch(r){await _a(r)}}function LC(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const l=o.view.U_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=ge(o);c.onlineState=l;let h=!1;c.queries.forEach((f,p)=>{for(const m of p.listeners)m.U_(l)&&(h=!0)}),h&&YT(c)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function GQ(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new zt(de.comparator);o=o.insert(s,Qt.newNoDocument(s,Le.min()));const l=tt().add(s),c=new Ad(Le.min(),new Map,new zt(Ze),o,l);await XL(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),tI(r)}else await cc(r.localStore,e,!1).then(()=>fc(r,e,n)).catch(_a)}async function QQ(t,e){const n=ge(t),r=e.batch.batchId;try{const i=await dQ(n.localStore,e);eI(n,r,null),ZT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ho(n,i)}catch(i){await _a(i)}}async function YQ(t,e,n){const r=ge(t);try{const i=await function(o,l){const c=ge(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return c.mutationQueue.lookupMutationBatch(h,l).next(p=>(Me(p!==null),f=p.keys(),c.mutationQueue.removeMutationBatch(h,p))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>c.localDocuments.getDocuments(h,f))})}(r.localStore,e);eI(r,e,n),ZT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ho(r,i)}catch(i){await _a(i)}}async function XQ(t,e){const n=ge(t);Ta(n.remoteStore)||ie("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const l=ge(o);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>l.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Ca.get(r)||[];i.push(e),n.Ca.set(r,i)}catch(r){const i=Mc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function ZT(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function eI(t,e,n){const r=ge(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function fc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||JL(t,r)})}function JL(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(Xf(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),tI(t))}function vE(t,e,n){for(const r of n)r instanceof GL?(t.ba.addReference(r.key,e),JQ(t,r)):r instanceof QL?(ie("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||JL(t,r.key)):Ie()}function JQ(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(ie("SyncEngine","New document in limbo: "+n),t.ya.add(r),tI(t))}function tI(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new de(_t.fromString(e)),r=t.va.next();t.Sa.set(r,new zQ(n)),t.wa=t.wa.insert(n,r),Fy(t.remoteStore,new zs(br(Pc(n.path)),r,"TargetPurposeLimboResolution",Vr.ae))}}async function ho(t,e,n){const r=ge(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((l,c)=>{o.push(r.Ma(c,e,n).then(h=>{if((h||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,h!=null&&h.fromCache?"not-current":"current"),h){i.push(h);const f=jT.$i(c.targetId,h);s.push(f)}}))}),await Promise.all(o),r.fa.c_(i),await async function(c,h){const f=ge(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>j.forEach(h,m=>j.forEach(m.Qi,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>j.forEach(m.Ki,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!wa(p))throw p;ie("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const y=f.rs.get(m),v=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(v);f.rs=f.rs.insert(m,w)}}}(r.localStore,s))}async function ZQ(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const r=await kL(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(l=>{l.forEach(c=>{c.reject(new te(z.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ho(n,r.cs)}}function eY(t,e){const n=ge(t),r=n.Sa.get(e);if(r&&r.ma)return tt().add(r.key);{let i=tt();const s=n.pa.get(e);if(!s)return i;for(const o of s){const l=n.ga.get(o);i=i.unionWith(l.view.la)}return i}}async function tY(t,e){const n=ge(t),r=await Rg(n.localStore,e.query,!0),i=e.view.Ra(r);return n.isPrimaryClient&&vE(n,e.targetId,i.Ea),i}async function nY(t,e){const n=ge(t);return FL(n.localStore,e).then(r=>ho(n,r))}async function rY(t,e,n,r){const i=ge(t),s=await function(l,c){const h=ge(l),f=ge(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",p=>f.Fn(p,c).next(m=>m?h.localDocuments.getDocuments(p,m):j.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Nc(i.remoteStore):n==="acknowledged"||n==="rejected"?(eI(i,e,r||null),ZT(i,e),function(l,c){ge(ge(l).mutationQueue).xn(c)}(i.localStore,e)):Ie(),await ho(i,s)):ie("SyncEngine","Cannot apply mutation batch with id: "+e)}async function iY(t,e){const n=ge(t);if(nI(n),rI(n),e===!0&&n.Fa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await MC(n,r.toArray());n.Fa=!0,await yE(n.remoteStore,!0);for(const s of i)Fy(n.remoteStore,s)}else if(e===!1&&n.Fa!==!1){const r=[];let i=Promise.resolve();n.pa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(fc(n,o),cc(n.localStore,o,!0))),Xf(n.remoteStore,o)}),await i,await MC(n,r),function(o){const l=ge(o);l.Sa.forEach((c,h)=>{Xf(l.remoteStore,h)}),l.ba.gr(),l.Sa=new Map,l.wa=new zt(de.comparator)}(n),n.Fa=!1,await yE(n.remoteStore,!1)}}async function MC(t,e,n){const r=ge(t),i=[],s=[];for(const o of e){let l;const c=r.pa.get(o);if(c&&c.length!==0){l=await uc(r.localStore,br(c[0]));for(const h of c){const f=r.ga.get(h),p=await tY(r,f);p.snapshot&&s.push(p.snapshot)}}else{const h=await ML(r.localStore,o);l=await uc(r.localStore,h),await JT(r,ZL(h),o,!1,l.resumeToken)}i.push(l)}return r.fa.c_(s),i}function ZL(t){return U2(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function sY(t){return function(n){return ge(ge(n).persistence).ki()}(ge(t).localStore)}async function oY(t,e,n,r){const i=ge(t);if(i.Fa)return void ie("SyncEngine","Ignoring unexpected query state notification.");const s=i.pa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await FL(i.localStore,q2(s[0])),l=Ad.createSynthesizedRemoteEventForCurrentChange(e,n==="current",$n.EMPTY_BYTE_STRING);await ho(i,o,l);break}case"rejected":await cc(i.localStore,e,!0),fc(i,e,r);break;default:Ie()}}async function aY(t,e,n){const r=nI(t);if(r.Fa){for(const i of e){if(r.pa.has(i)){ie("SyncEngine","Adding an already active target "+i);continue}const s=await ML(r.localStore,i),o=await uc(r.localStore,s);await JT(r,ZL(s),o.targetId,!1,o.resumeToken),Fy(r.remoteStore,o)}for(const i of n)r.pa.has(i)&&await cc(r.localStore,i,!1).then(()=>{Xf(r.remoteStore,i),fc(r,i)}).catch(_a)}}function nI(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GQ.bind(null,e),e.fa.c_=VQ.bind(null,e.eventManager),e.fa.xa=$Q.bind(null,e.eventManager),e}function rI(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YQ.bind(null,e),e}function lY(t,e,n){const r=ge(t);(async function(s,o,l){try{const c=await o.getMetadata();if(await function(y,v){const w=ge(y),R=Cn(v.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",T=>w.Ur.getBundleMetadata(T,v.id)).then(T=>!!T&&T.createTime.compareTo(R)>=0)}(s.localStore,c))return await o.close(),l._completeWith(function(y){return{taskState:"Success",documentsLoaded:y.totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}}(c)),Promise.resolve(new Set);l._updateProgress(HL(c));const h=new jQ(c,s.localStore,o.serializer);let f=await o.Oa();for(;f;){const m=await h.na(f);m&&l._updateProgress(m),f=await o.Oa()}const p=await h.complete();return await ho(s,p.sa,void 0),await function(y,v){const w=ge(y);return w.persistence.runTransaction("Save bundle","readwrite",R=>w.Ur.saveBundleMetadata(R,v))}(s.localStore,c),l._completeWith(p.progress),Promise.resolve(p.ia)}catch(c){return Qi("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class _E{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Pd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return DL(this.persistence,new OL,e.initialUser,this.serializer)}createPersistence(e){return new PL(My.Jr,this.serializer)}createSharedClientState(e){return new $L}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class eM extends _E{constructor(e,n,r){super(),this.Na=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await rI(this.Na.syncEngine),await Nc(this.Na.remoteStore),await this.persistence.gi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return DL(this.persistence,new OL,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new YG(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new kH(n,this.persistence);return new DH(e.asyncQueue,r)}createPersistence(e){const n=BT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Lr.withCacheSize(this.cacheSizeBytes):Lr.DEFAULT;return new $T(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,BL(),Am(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new $L}}class uY extends eM{constructor(e,n){super(e,n,!1),this.Na=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Na.syncEngine;this.sharedClientState instanceof m0&&(this.sharedClientState.syncEngine={Xs:rY.bind(null,n),eo:oY.bind(null,n),no:aY.bind(null,n),ki:sY.bind(null,n),Zs:nY.bind(null,n)},await this.sharedClientState.start()),await this.persistence.gi(async r=>{await iY(this.Na.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=BL();if(!m0.C(n))throw new te(z.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=BT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new m0(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class iI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>LC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZQ.bind(null,this.syncEngine),await yE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FQ}()}createDatastore(e){const n=Pd(e.databaseInfo.databaseId),r=function(s){return new EQ(s)}(e.databaseInfo);return function(s,o,l,c){return new SQ(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new RQ(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>LC(this.syncEngine,n,0),function(){return OC.C()?new OC:new vQ}())}createSyncEngine(e,n){return function(i,s,o,l,c,h,f){const p=new qQ(i,s,o,l,c,h);return f&&(p.Fa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ge(n);ie("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await kc(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):An("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(e,n){this.ka=e,this.serializer=n,this.metadata=new Wn,this.buffer=new Uint8Array,this.qa=function(){return new TextDecoder("utf-8")}(),this.Qa().then(r=>{r&&r.ea()?this.metadata.resolve(r.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.X_)}`))},r=>this.metadata.reject(r))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(e===null)return null;const n=this.qa.decode(e),r=Number(n);isNaN(r)&&this.$a(`length string (${n}) is not valid number`);const i=await this.Ua(r);return new BQ(JSON.parse(i),e.length+r)}Wa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(this.buffer.length===0)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const n=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ga(){const e=await this.ka.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new te(z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(i,s){const o=ge(i),l=Qf(o.serializer)+"/documents",c={documents:s.map(m=>Gf(o.serializer,m))},h=await o.Fo("BatchGetDocuments",l,c,s.length),f=new Map;h.forEach(m=>{const y=OG(o.serializer,m);f.set(y.key.toString(),y)});const p=[];return s.forEach(m=>{const y=f.get(m.toString());Me(!!y),p.push(y)}),p}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Dc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=de.fromPath(r);this.mutations.push(new CT(i,this.precondition(i)))}),await async function(r,i){const s=ge(r),o=Qf(s.serializer)+"/documents",l={writes:i.map(c=>Yf(s.serializer,c))};await s.bo("Commit",o,l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ie();n=Le.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new te(z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Le.min())?nn.exists(!1):nn.updateTime(n):nn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Le.min()))throw new te(z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nn.updateTime(n)}return nn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.za=r.maxAttempts,this.Ho=new zT(this.asyncQueue,"transaction_retry")}run(){this.za-=1,this.ja()}ja(){this.Ho.Qo(async()=>{const e=new hY(this.datastore),n=this.Ha(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Ja(i)}))}).catch(r=>{this.Ja(r)})})}Ha(e){try{const n=this.updateFunction(e);return!Id(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ja(e){this.za>0&&this.Ya(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.ja(),Promise.resolve()))):this.deferred.reject(e)}Ya(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!iL(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zn.UNAUTHENTICATED,this.clientId=w2.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ie("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ie("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Mc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cm(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await kL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function wE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sI(t);ie("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>DC(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>DC(e.remoteStore,s)),t._onlineComponents=e}function tM(t){return t.name==="FirebaseError"?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function sI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!tM(n))throw n;Qi("Error using user provided cache. Falling back to memory cache: "+n),await Cm(t,new _E)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await Cm(t,new _E);return t._offlineComponents}async function $y(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await wE(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await wE(t,new iI))),t._onlineComponents}function nM(t){return sI(t).then(e=>e.persistence)}function oI(t){return sI(t).then(e=>e.localStore)}function rM(t){return $y(t).then(e=>e.remoteStore)}function aI(t){return $y(t).then(e=>e.syncEngine)}function pY(t){return $y(t).then(e=>e.datastore)}async function dc(t){const e=await $y(t),n=e.eventManager;return n.onListen=WQ.bind(null,e.syncEngine),n.onUnlisten=KQ.bind(null,e.syncEngine),n}function mY(t){return t.asyncQueue.enqueue(async()=>{const e=await nM(t),n=await rM(t);return e.setNetworkEnabled(!0),function(i){const s=ge(i);return s.F_.delete(0),Od(s)}(n)})}function gY(t){return t.asyncQueue.enqueue(async()=>{const e=await nM(t),n=await rM(t);return e.setNetworkEnabled(!1),async function(i){const s=ge(i);s.F_.add(0),await kc(s),s.O_.set("Offline")}(n)})}function yY(t,e){const n=new Wn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const l=await function(h,f){const p=ge(h);return p.persistence.runTransaction("read document","readonly",m=>p.localDocuments.getDocument(m,f))}(i,s);l.isFoundDocument()?o.resolve(l):l.isNoDocument()?o.resolve(null):o.reject(new te(z.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=Mc(l,`Failed to get document '${s} from cache`);o.reject(c)}}(await oI(t),e,n)),n.promise}function iM(t,e,n={}){const r=new Wn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,h){const f=new Vy({next:m=>{o.enqueueAndForget(()=>QT(s,p));const y=m.docs.has(l);!y&&m.fromCache?h.reject(new te(z.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?h.reject(new te(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new XT(Pc(l.path),f,{includeMetadataChanges:!0,Z_:!0});return GT(s,p)}(await dc(t),t.asyncQueue,e,n,r)),r.promise}function vY(t,e){const n=new Wn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const l=await Rg(i,s,!0),c=new YL(s,l.Ps),h=c.ha(l.documents),f=c.applyChanges(h,!1);o.resolve(f.snapshot)}catch(l){const c=Mc(l,`Failed to execute query '${s} against cache`);o.reject(c)}}(await oI(t),e,n)),n.promise}function sM(t,e,n={}){const r=new Wn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,h){const f=new Vy({next:m=>{o.enqueueAndForget(()=>QT(s,p)),m.fromCache&&c.source==="server"?h.reject(new te(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new XT(l,f,{includeMetadataChanges:!0,Z_:!0});return GT(s,p)}(await dc(t),t.asyncQueue,e,n,r)),r.promise}function _Y(t,e){const n=new Vy(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){ge(i).K_.add(s),s.next()}(await dc(t),n)),()=>{n.La(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){ge(i).K_.delete(s)}(await dc(t),n))}}function wY(t,e,n,r){const i=function(o,l){let c;return c=typeof o=="string"?oL().encode(o):o,function(f,p){return new cY(f,p)}(function(f,p){if(f instanceof Uint8Array)return FC(f,p);if(f instanceof ArrayBuffer)return FC(new Uint8Array(f),p);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),l)}(n,Pd(e));t.asyncQueue.enqueueAndForget(async()=>{lY(await aI(t),i,r)})}function EY(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=ge(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Ur.getNamedQuery(o,i))}(await oI(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t,e,n){if(!n)throw new te(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aM(t,e,n,r){if(e===!0&&r===!0)throw new te(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $C(t){if(!de.isDocumentKey(t))throw new te(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function BC(t){if(de.isDocumentKey(t))throw new te(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function By(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie()}function It(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=By(t);throw new te(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function lM(t,e){if(e<=0)throw new te(z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new EH;switch(r.type){case"firstParty":return new xH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=VC.get(n);r&&(ie("ComponentProvider","Removing Datastore"),VC.delete(n),r.terminate())}(this),Promise.resolve()}}function TY(t,e,n,r={}){var i;const s=(t=It(t,Dd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Qi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=zn.MOCK_USER;else{l=rN(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new te(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new zn(h)}t._authCredentials=new TH(new _2(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ar=class uM{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uM(this.firestore,e,this._query)}},hn=class cM{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cM(this.firestore,e,this._key)}},Jo=class hM extends Ar{constructor(e,n,r){super(e,n,Pc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new de(e))}withConverter(e){return new hM(this.firestore,e,this._path)}};function fM(t,e,...n){if(t=Ft(t),lI("collection","path",e),t instanceof Dd){const r=_t.fromString(e,...n);return BC(r),new Jo(t,null,r)}{if(!(t instanceof hn||t instanceof Jo))throw new te(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return BC(r),new Jo(t.firestore,null,r)}}function IY(t,e){if(t=It(t,Dd),lI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new te(z.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ar(t,null,function(r){return new uo(_t.emptyPath(),r)}(e))}function Pg(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=w2.V()),lI("doc","path",e),t instanceof Dd){const r=_t.fromString(e,...n);return $C(r),new hn(t,null,new de(r))}{if(!(t instanceof hn||t instanceof Jo))throw new te(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return $C(r),new hn(t.firestore,t instanceof Jo?t.converter:null,new de(r))}}function dM(t,e){return t=Ft(t),e=Ft(e),(t instanceof hn||t instanceof Jo)&&(e instanceof hn||e instanceof Jo)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function pM(t,e){return t=Ft(t),e=Ft(e),t instanceof Ar&&e instanceof Ar&&t.firestore===e.firestore&&xd(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new zT(this,"async_queue_retry"),this.ou=()=>{const n=Am();n&&ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=Am();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=Am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new Wn;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!wa(e))throw e;ie("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{this.nu=r,this.ru=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw An("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const i=HT.createAndSchedule(this,e,n,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&Ie()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}function EE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class xY{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RY=-1;let Tn=class extends Dd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new SY}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||mM(this),this._firestoreClient.terminate()}};function Qn(t){return t._firestoreClient||mM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function mM(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,h,f){return new eG(l,c,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,oM(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new dY(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function bY(t,e){yM(t=It(t,Tn));const n=Qn(t);if(n._uninitializedComponentsProvider)throw new te(z.FAILED_PRECONDITION,"SDK cache is already specified.");Qi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new iI;return gM(n,i,new eM(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function AY(t){yM(t=It(t,Tn));const e=Qn(t);if(e._uninitializedComponentsProvider)throw new te(z.FAILED_PRECONDITION,"SDK cache is already specified.");Qi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new iI;return gM(e,r,new uY(r,n.cacheSizeBytes))}function gM(t,e,n){const r=new Wn;return t.asyncQueue.enqueue(async()=>{try{await Cm(t,n),await wE(t,e),r.resolve()}catch(i){const s=i;if(!tM(s))throw s;Qi("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function CY(t){if(t._initialized&&!t._terminated)throw new te(z.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wn;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!qi.C())return Promise.resolve();const i=r+"main";await qi.delete(i)}(BT(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function PY(t){return function(n){const r=new Wn;return n.asyncQueue.enqueueAndForget(async()=>XQ(await aI(n),r)),r.promise}(Qn(t=It(t,Tn)))}function OY(t){return mY(Qn(t=It(t,Tn)))}function DY(t){return gY(Qn(t=It(t,Tn)))}function kY(t,e){const n=Qn(t=It(t,Tn)),r=new xY;return wY(n,t._databaseId,e,r),r}function NY(t,e){return EY(Qn(t=It(t,Tn)),e).then(n=>n?new Ar(t,null,n.query):null)}function yM(t){if(t._initialized||t._terminated)throw new te(z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Es($n.fromBase64String(e))}catch(n){throw new te(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Es($n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ca=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LY=/^__.*__$/;class MY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oc(e,this.data,n,this.fieldTransforms)}}class vM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new co(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _M(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class Uy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new Uy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return Og(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(e.length===0)throw this.gu("Document fields must not be empty");if(_M(this.Tu)&&LY.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class FY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Pd(e)}wu(e,n,r,i=!1){return new Uy({Tu:e,methodName:n,yu:r,path:_n.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ml(t){const e=t._freezeSettings(),n=Pd(t._databaseId);return new FY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zy(t,e,n,r,i,s={}){const o=t.wu(s.merge||s.mergeFields?2:0,e,n,i);fI("Data must be an object, but it was:",o,r);const l=TM(r,o);let c,h;if(s.merge)c=new $r(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const m=TE(e,p,n);if(!o.contains(m))throw new te(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);SM(f,m)||f.push(m)}c=new $r(f),h=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,h=o.fieldTransforms;return new MY(new tr(l),c,h)}class kd extends Ll{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.gu(`${this._methodName}() can only appear at the top level of your update data`):e.gu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kd}}function wM(t,e,n){return new Uy({Tu:3,yu:e.settings.yu,methodName:t._methodName,Ru:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class uI extends Ll{_toFieldTransform(e){return new bd(e.path,new oc)}isEqual(e){return e instanceof uI}}class VY extends Ll{constructor(e,n){super(e),this.Su=n}_toFieldTransform(e){const n=wM(this,e,!0),r=this.Su.map(s=>Fl(s,n)),i=new El(r);return new bd(e.path,i)}isEqual(e){return this===e}}class $Y extends Ll{constructor(e,n){super(e),this.Su=n}_toFieldTransform(e){const n=wM(this,e,!0),r=this.Su.map(s=>Fl(s,n)),i=new Tl(r);return new bd(e.path,i)}isEqual(e){return this===e}}class BY extends Ll{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=new ac(e.serializer,X2(e.serializer,this.bu));return new bd(e.path,n)}isEqual(e){return this===e}}function cI(t,e,n,r){const i=t.wu(1,e,n);fI("Data must be an object, but it was:",i,r);const s=[],o=tr.empty();Nl(r,(c,h)=>{const f=dI(e,c,n);h=Ft(h);const p=i.mu(f);if(h instanceof kd)s.push(f);else{const m=Fl(h,p);m!=null&&(s.push(f),o.set(f,m))}});const l=new $r(s);return new vM(o,l,i.fieldTransforms)}function hI(t,e,n,r,i,s){const o=t.wu(1,e,n),l=[TE(e,r,n)],c=[i];if(s.length%2!=0)throw new te(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(TE(e,s[m])),c.push(s[m+1]);const h=[],f=tr.empty();for(let m=l.length-1;m>=0;--m)if(!SM(h,l[m])){const y=l[m];let v=c[m];v=Ft(v);const w=o.mu(y);if(v instanceof kd)h.push(y);else{const R=Fl(v,w);R!=null&&(h.push(y),f.set(y,R))}}const p=new $r(h);return new vM(f,p,o.fieldTransforms)}function EM(t,e,n,r=!1){return Fl(n,t.wu(r?4:3,e))}function Fl(t,e){if(IM(t=Ft(t)))return fI("Unsupported field value:",e,t),TM(t,e);if(t instanceof Ll)return function(r,i){if(!_M(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&e.Tu!==4)throw e.gu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=Fl(l,i.fu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return X2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=rn.fromDate(r);return{timestampValue:lc(i.serializer,s)}}if(r instanceof rn){const s=new rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lc(i.serializer,s)}}if(r instanceof jy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Es)return{bytesValue:uL(i.serializer,r._byteString)};if(r instanceof hn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:NT(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${By(r)}`)}(t,e)}function TM(t,e){const n={};return O2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nl(t,(r,i)=>{const s=Fl(i,e.Au(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function IM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rn||t instanceof jy||t instanceof Es||t instanceof hn||t instanceof Ll)}function fI(t,e,n){if(!IM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=By(n);throw r==="an object"?e.gu(t+" a custom object"):e.gu(t+" "+r)}}function TE(t,e,n){if((e=Ft(e))instanceof ca)return e._internalPath;if(typeof e=="string")return dI(t,e);throw Og("Field path arguments must be of type string or ",t,!1,void 0,n)}const jY=new RegExp("[~\\*/\\[\\]]");function dI(t,e,n){if(e.search(jY)>=0)throw Og(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ca(...e.split("."))._internalPath}catch{throw Og(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Og(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new te(z.INVALID_ARGUMENT,l+t+c)}function SM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UY extends Jf{data(){return super.data()}}function qy(t,e){return typeof e=="string"?dI(t,e):e instanceof ca?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pI{}class Nd extends pI{}function bo(t,e,...n){let r=[];e instanceof pI&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof mI).length,l=s.filter(c=>c instanceof Wy).length;if(o>1||o>0&&l>0)throw new te(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Wy extends Nd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wy(e,n,r)}_apply(e){const n=this._parse(e);return bM(e._query,n),new Ar(e.firestore,e.converter,uE(e._query,n))}_parse(e){const n=Ml(e.firestore);return function(s,o,l,c,h,f,p){let m;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new te(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){zC(p,f);const y=[];for(const v of p)y.push(UC(c,s,v));m={arrayValue:{values:y}}}else m=UC(c,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||zC(p,f),m=EM(l,o,p,f==="in"||f==="not-in");return dt.create(h,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zY(t,e,n){const r=e,i=qy("where",t);return Wy._create(i,r,n)}class mI extends pI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mI(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ot.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)bM(o,c),o=uE(o,c)}(e._query,n),new Ar(e.firestore,e.converter,uE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gI extends Nd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new gI(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new te(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new te(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new zu(s,o);return function(h,f){if(RT(h)===null){const p=Oy(h);p!==null&&AM(h,p,f.field)}}(i,l),l}(e._query,this._field,this._direction);return new Ar(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new uo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function qY(t,e="asc"){const n=e,r=qy("orderBy",t);return gI._create(r,n)}class Ky extends Nd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ky(e,n,r)}_apply(e){return new Ar(e.firestore,e.converter,Tg(e._query,this._limit,this._limitType))}}function WY(t){return lM("limit",t),Ky._create("limit",t,"F")}function KY(t){return lM("limitToLast",t),Ky._create("limitToLast",t,"L")}class Hy extends Nd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Hy(e,n,r)}_apply(e){const n=RM(e,this.type,this._docOrFields,this._inclusive);return new Ar(e.firestore,e.converter,function(i,s){return new uo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function HY(...t){return Hy._create("startAt",t,!0)}function GY(...t){return Hy._create("startAfter",t,!1)}class Gy extends Nd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Gy(e,n,r)}_apply(e){const n=RM(e,this.type,this._docOrFields,this._inclusive);return new Ar(e.firestore,e.converter,function(i,s){return new uo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function QY(...t){return Gy._create("endBefore",t,!1)}function YY(...t){return Gy._create("endAt",t,!0)}function RM(t,e,n,r){if(n[0]=Ft(n[0]),n[0]instanceof Jf)return function(s,o,l,c,h){if(!c)throw new te(z.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const f=[];for(const p of qu(s))if(p.field.isKeyField())f.push(_l(o,c.key));else{const m=c.data.field(p.field);if(Py(m))throw new te(z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){const y=p.field.canonicalString();throw new te(z.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}f.push(m)}return new la(f,h)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Ml(t.firestore);return function(o,l,c,h,f,p){const m=o.explicitOrderBy;if(f.length>m.length)throw new te(z.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let v=0;v<f.length;v++){const w=f[v];if(m[v].field.isKeyField()){if(typeof w!="string")throw new te(z.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof w}`);if(!bT(o)&&w.indexOf("/")!==-1)throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${w}' contains a slash.`);const R=o.path.child(_t.fromString(w));if(!de.isDocumentKey(R))throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const T=new de(R);y.push(_l(l,T))}else{const R=EM(c,h,w);y.push(R)}}return new la(y,p)}(t._query,t.firestore._databaseId,i,e,n,r)}}function UC(t,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new te(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bT(e)&&n.indexOf("/")!==-1)throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_t.fromString(n));if(!de.isDocumentKey(r))throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _l(t,new de(r))}if(n instanceof hn)return _l(t,n._key);throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${By(n)}.`)}function zC(t,e){if(!Array.isArray(t)||t.length===0)throw new te(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bM(t,e){if(e.isInequality()){const r=Oy(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new te(z.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=RT(t);s!==null&&AM(t,i,s)}const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function AM(t,e,n){if(!n.isEqual(e))throw new te(z.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class yI{convertValue(e,n="none"){switch(vl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Nl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new jy(vn(e.latitude),vn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ST(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wf(e));default:return null}}convertTimestamp(e){const n=ia(e);return new rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_t.fromString(e);Me(_L(r));const i=new oa(r.get(1),r.get(3)),s=new de(r.popFirst(5));return i.isEqual(n)||An(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class XY extends yI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Es(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let ro=class extends Jf{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},af=class extends ro{data(e={}){return super.data(e)}},ha=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new tl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new af(this._firestore,this._userDataWriter,r.key,r,new tl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new af(i._firestore,i._userDataWriter,l.doc.key,l.doc,new tl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new af(i._firestore,i._userDataWriter,l.doc.key,l.doc,new tl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:JY(l.type),doc:c,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function JY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}function CM(t,e){return t instanceof ro&&e instanceof ro?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ha&&e instanceof ha&&t._firestore===e._firestore&&pM(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZY(t){t=It(t,hn);const e=It(t.firestore,Tn);return iM(Qn(e),t._key).then(n=>vI(e,t,n))}class Vl extends yI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Es(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function eX(t){t=It(t,hn);const e=It(t.firestore,Tn),n=Qn(e),r=new Vl(e);return yY(n,t._key).then(i=>new ro(e,r,t._key,i,new tl(i!==null&&i.hasLocalMutations,!0),t.converter))}function tX(t){t=It(t,hn);const e=It(t.firestore,Tn);return iM(Qn(e),t._key,{source:"server"}).then(n=>vI(e,t,n))}function nX(t){t=It(t,Ar);const e=It(t.firestore,Tn),n=Qn(e),r=new Vl(e);return xM(t._query),sM(n,t._query).then(i=>new ha(e,r,t,i))}function rX(t){t=It(t,Ar);const e=It(t.firestore,Tn),n=Qn(e),r=new Vl(e);return vY(n,t._query).then(i=>new ha(e,r,t,i))}function iX(t){t=It(t,Ar);const e=It(t.firestore,Tn),n=Qn(e),r=new Vl(e);return sM(n,t._query,{source:"server"}).then(i=>new ha(e,r,t,i))}function qC(t,e,n){t=It(t,hn);const r=It(t.firestore,Tn),i=Qy(t.converter,e,n);return Ld(r,[zy(Ml(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,nn.none())])}function WC(t,e,n,...r){t=It(t,hn);const i=It(t.firestore,Tn),s=Ml(i);let o;return o=typeof(e=Ft(e))=="string"||e instanceof ca?hI(s,"updateDoc",t._key,e,n,r):cI(s,"updateDoc",t._key,e),Ld(i,[o.toMutation(t._key,nn.exists(!0))])}function sX(t){return Ld(It(t.firestore,Tn),[new Dc(t._key,nn.none())])}function oX(t,e){const n=It(t.firestore,Tn),r=Pg(t),i=Qy(t.converter,e);return Ld(n,[zy(Ml(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,nn.exists(!1))]).then(()=>r)}function PM(t,...e){var n,r,i;t=Ft(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||EE(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges};if(EE(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,h,f;if(t instanceof hn)h=It(t.firestore,Tn),f=Pc(t._key.path),c={next:p=>{e[o]&&e[o](vI(h,t,p))},error:e[o+1],complete:e[o+2]};else{const p=It(t,Ar);h=It(p.firestore,Tn),f=p._query;const m=new Vl(h);c={next:y=>{e[o]&&e[o](new ha(h,m,p,y))},error:e[o+1],complete:e[o+2]},xM(t._query)}return function(m,y,v,w){const R=new Vy(w),T=new XT(y,R,v);return m.asyncQueue.enqueueAndForget(async()=>GT(await dc(m),T)),()=>{R.La(),m.asyncQueue.enqueueAndForget(async()=>QT(await dc(m),T))}}(Qn(h),f,l,c)}function aX(t,e){return _Y(Qn(t=It(t,Tn)),EE(e)?e:{next:e})}function Ld(t,e){return function(r,i){const s=new Wn;return r.asyncQueue.enqueueAndForget(async()=>HQ(await aI(r),i,s)),s.promise}(Qn(t),e)}function vI(t,e,n){const r=n.docs.get(e._key),i=new Vl(t);return new ro(t,i,e._key,r,new tl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lX={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uX=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ml(e)}set(e,n,r){this._verifyNotCommitted();const i=Fo(e,this._firestore),s=Qy(i.converter,n,r),o=zy(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,nn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Fo(e,this._firestore);let o;return o=typeof(n=Ft(n))=="string"||n instanceof ca?hI(this._dataReader,"WriteBatch.update",s._key,n,r,i):cI(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,nn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Fo(e,this._firestore);return this._mutations=this._mutations.concat(new Dc(n._key,nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new te(z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Fo(t,e){if((t=Ft(t)).firestore!==e)throw new te(z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cX=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Ml(n)}get(n){const r=Fo(n,this._firestore),i=new XY(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return Ie();const o=s[0];if(o.isFoundDocument())return new Jf(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Jf(this._firestore,i,r._key,null,r.converter);throw Ie()})}set(n,r,i){const s=Fo(n,this._firestore),o=Qy(s.converter,r,i),l=zy(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,l),this}update(n,r,i,...s){const o=Fo(n,this._firestore);let l;return l=typeof(r=Ft(r))=="string"||r instanceof ca?hI(this._dataReader,"Transaction.update",o._key,r,i,s):cI(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,l),this}delete(n){const r=Fo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Fo(e,this._firestore),r=new Vl(this._firestore);return super.get(e).then(i=>new ro(this._firestore,r,n._key,i._document,new tl(!1,!1),n.converter))}};function hX(t,e,n){t=It(t,Tn);const r=Object.assign(Object.assign({},lX),n);return function(s){if(s.maxAttempts<1)throw new te(z.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,l){const c=new Wn;return s.asyncQueue.enqueueAndForget(async()=>{const h=await pY(s);new fY(s.asyncQueue,h,l,o,c).run()}),c.promise}(Qn(t),i=>e(new cX(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fX(){return new kd("deleteField")}function dX(){return new uI("serverTimestamp")}function pX(...t){return new VY("arrayUnion",t)}function mX(...t){return new $Y("arrayRemove",t)}function gX(t){return new BY("increment",t)}(function(e,n=!0){(function(i){Cc=i})(fy),yl(new to("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Tn(new IH(r.getProvider("auth-internal")),new bH(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new te(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oa(h.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ms($A,"4.2.0",e),ms($A,"4.2.0","esm2017")})();const yX={apiKey:"AIzaSyD7w6wRVPsf0DaH2YARMaFKXWJHjPsSd3s",authDomain:"pokemon-go-gym.firebaseapp.com",projectId:"pokemon-go-gym",storageBucket:"pokemon-go-gym.appspot.com",messagingSenderId:"48932195856",appId:"1:48932195856:web:93f21318228a7976e34495"};Rc.initializeApp(yX);const vX="@firebase/firestore-compat",_X="0.3.18";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new te("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){if(typeof Uint8Array>"u")throw new te("unimplemented","Uint8Arrays are not available in this environment.")}function HC(){if(!JH())throw new te("unimplemented","Blobs are unavailable in Firestore in this environment.")}let OM=class IE{constructor(e){this._delegate=e}static fromBase64String(e){return HC(),new IE(Es.fromBase64String(e))}static fromUint8Array(e){return KC(),new IE(Es.fromUint8Array(e))}toBase64(){return HC(),this._delegate.toBase64()}toUint8Array(){return KC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t){return wX(t,["next","error","complete"])}function wX(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{enableIndexedDbPersistence(e,n){return bY(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return AY(e._delegate)}clearIndexedDbPersistence(e){return CY(e._delegate)}}class DM{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof oa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Qi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){TY(this._delegate,e,n,r)}enableNetwork(){return OY(this._delegate)}disableNetwork(){return DY(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,aM("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return PY(this._delegate)}onSnapshotsInSync(e){return aX(this._delegate,e)}get app(){if(!this._appCompat)throw new te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new pc(this,fM(this._delegate,e))}catch(n){throw Tr(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ii(this,Pg(this._delegate,e))}catch(n){throw Tr(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Er(this,IY(this._delegate,e))}catch(n){throw Tr(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return hX(this._delegate,n=>e(new kM(this,n)))}batch(){return Qn(this._delegate),new NM(new uX(this._delegate,e=>Ld(this._delegate,e)))}loadBundle(e){return kY(this._delegate,e)}namedQuery(e){return NY(this._delegate,e).then(n=>n?new Er(this,n):null)}}class Yy extends yI{constructor(e){super(),this.firestore=e}convertBytes(e){return new OM(new Es(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ii.forKey(n,this.firestore,null)}}function TX(t){_H(t)}class kM{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Yy(e)}get(e){const n=nl(e);return this._delegate.get(n).then(r=>new Zf(this._firestore,new ro(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=nl(e);return r?(_I("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=nl(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=nl(e);return this._delegate.delete(n),this}}class NM{constructor(e){this._delegate=e}set(e,n,r){const i=nl(e);return r?(_I("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=nl(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=nl(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Rl{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new af(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ed(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Rl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Rl(e,new Yy(e),n),i.set(n,s)),s}}Rl.INSTANCES=new WeakMap;class Ii{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Yy(e)}static forPath(e,n,r){if(e.length%2!==0)throw new te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ii(n,new hn(n._delegate,r,new de(e)))}static forKey(e,n,r){return new Ii(n,new hn(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new pc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new pc(this.firestore,fM(this._delegate,e))}catch(n){throw Tr(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ft(e),e instanceof hn?dM(this._delegate,e):!1}set(e,n){n=_I("DocumentReference.set",n);try{return n?qC(this._delegate,e,n):qC(this._delegate,e)}catch(r){throw Tr(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?WC(this._delegate,e):WC(this._delegate,e,n,...r)}catch(i){throw Tr(i,"updateDoc()","DocumentReference.update()")}}delete(){return sX(this._delegate)}onSnapshot(...e){const n=LM(e),r=MM(e,i=>new Zf(this.firestore,new ro(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return PM(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=eX(this._delegate):(e==null?void 0:e.source)==="server"?n=tX(this._delegate):n=ZY(this._delegate),n.then(r=>new Zf(this.firestore,new ro(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ii(this.firestore,e?this._delegate.withConverter(Rl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Tr(t,e,n){return t.message=t.message.replace(e,n),t}function LM(t){for(const e of t)if(typeof e=="object"&&!SE(e))return e;return{}}function MM(t,e){var n,r;let i;return SE(t[0])?i=t[0]:SE(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Zf{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ii(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return CM(this._delegate,e._delegate)}}class ed extends Zf{data(e){const n=this._delegate.data(e);return wH(n!==void 0),n}}class Er{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Yy(e)}where(e,n,r){try{return new Er(this.firestore,bo(this._delegate,zY(e,n,r)))}catch(i){throw Tr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Er(this.firestore,bo(this._delegate,qY(e,n)))}catch(r){throw Tr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Er(this.firestore,bo(this._delegate,WY(e)))}catch(n){throw Tr(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Er(this.firestore,bo(this._delegate,KY(e)))}catch(n){throw Tr(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Er(this.firestore,bo(this._delegate,HY(...e)))}catch(n){throw Tr(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Er(this.firestore,bo(this._delegate,GY(...e)))}catch(n){throw Tr(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Er(this.firestore,bo(this._delegate,QY(...e)))}catch(n){throw Tr(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Er(this.firestore,bo(this._delegate,YY(...e)))}catch(n){throw Tr(n,"endAt()","Query.endAt()")}}isEqual(e){return pM(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=rX(this._delegate):(e==null?void 0:e.source)==="server"?n=iX(this._delegate):n=nX(this._delegate),n.then(r=>new xE(this.firestore,new ha(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=LM(e),r=MM(e,i=>new xE(this.firestore,new ha(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return PM(this._delegate,n,r)}withConverter(e){return new Er(this.firestore,e?this._delegate.withConverter(Rl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class IX{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new ed(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xE{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Er(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ed(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new IX(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new ed(this._firestore,r))})}isEqual(e){return CM(this._delegate,e._delegate)}}class pc extends Er{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ii(this.firestore,e):null}doc(e){try{return e===void 0?new Ii(this.firestore,Pg(this._delegate)):new Ii(this.firestore,Pg(this._delegate,e))}catch(n){throw Tr(n,"doc()","CollectionReference.doc()")}}add(e){return oX(this._delegate,e).then(n=>new Ii(this.firestore,n))}isEqual(e){return dM(this._delegate,e._delegate)}withConverter(e){return new pc(this.firestore,e?this._delegate.withConverter(Rl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function nl(t){return It(t,hn)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(...e){this._delegate=new ca(...e)}static documentId(){return new wI(_n.keyField().canonicalString())}isEqual(e){return e=Ft(e),e instanceof ca?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this._delegate=e}static serverTimestamp(){const e=dX();return e._methodName="FieldValue.serverTimestamp",new Ha(e)}static delete(){const e=fX();return e._methodName="FieldValue.delete",new Ha(e)}static arrayUnion(...e){const n=pX(...e);return n._methodName="FieldValue.arrayUnion",new Ha(n)}static arrayRemove(...e){const n=mX(...e);return n._methodName="FieldValue.arrayRemove",new Ha(n)}static increment(e){const n=gX(e);return n._methodName="FieldValue.increment",new Ha(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SX={Firestore:DM,GeoPoint:jy,Timestamp:rn,Blob:OM,Transaction:kM,WriteBatch:NM,DocumentReference:Ii,DocumentSnapshot:Zf,Query:Er,QueryDocumentSnapshot:ed,QuerySnapshot:xE,CollectionReference:pc,FieldPath:wI,FieldValue:Ha,setLogLevel:TX,CACHE_SIZE_UNLIMITED:RY};function xX(t,e){t.INTERNAL.registerComponent(new to("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},SX)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RX(t){xX(t,(e,n)=>new DM(e,n,new EX)),t.registerVersion(vX,_X)}RX(Rc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM="firebasestorage.googleapis.com",VM="storageBucket",bX=2*60*1e3,AX=10*60*1e3,CX=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn extends ga{constructor(e,n,r=0){super(y0(e),`Firebase Storage: ${n} (${y0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return y0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Jt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Jt||(Jt={}));function y0(t){return"storage/"+t}function EI(){const t="An unknown error occurred, please check the error payload for server response.";return new dn(Jt.UNKNOWN,t)}function PX(t){return new dn(Jt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function OX(t){return new dn(Jt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function DX(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dn(Jt.UNAUTHENTICATED,t)}function kX(){return new dn(Jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function NX(t){return new dn(Jt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function $M(){return new dn(Jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BM(){return new dn(Jt.CANCELED,"User canceled the upload/download.")}function LX(t){return new dn(Jt.INVALID_URL,"Invalid URL '"+t+"'.")}function MX(t){return new dn(Jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function FX(){return new dn(Jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+VM+"' property when initializing the app?")}function jM(){return new dn(Jt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function VX(){return new dn(Jt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function $X(){return new dn(Jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function BX(t){return new dn(Jt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ku(t){return new dn(Jt.INVALID_ARGUMENT,t)}function UM(){return new dn(Jt.APP_DELETED,"The Firebase app was deleted.")}function zM(t){return new dn(Jt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lf(t,e){return new dn(Jt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function xh(t){throw new dn(Jt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=fr.makeFromUrl(e,n)}catch{return new fr(e,"")}if(r.path==="")return r;throw MX(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function h(E){E.path_=decodeURIComponent(E.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${f}/b/${i}/o${m}`,"i"),v={bucket:1,path:3},w=n===FM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",T=new RegExp(`^https?://${w}/${i}/${R}`,"i"),I=[{regex:l,indices:c,postModify:s},{regex:y,indices:v,postModify:h},{regex:T,indices:{bucket:1,path:2},postModify:h}];for(let E=0;E<I.length;E++){const P=I[E],O=P.regex.exec(e);if(O){const D=O[P.indices.bucket];let N=O[P.indices.path];N||(N=""),r=new fr(D,N),P.postModify(r);break}}if(r==null)throw LX(e);return r}}class jX{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UX(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function c(){return l===2}let h=!1;function f(...R){h||(h=!0,e.apply(null,R))}function p(R){i=setTimeout(()=>{i=null,t(y,c())},R)}function m(){s&&clearTimeout(s)}function y(R,...T){if(h){m();return}if(R){m(),f.call(null,R,...T);return}if(c()||o){m(),f.call(null,R,...T);return}r<64&&(r*=2);let I;l===1?(l=2,I=0):I=(r+Math.random())*1e3,p(I)}let v=!1;function w(R){v||(v=!0,m(),!h&&(i!==null?(R||(l=2),clearTimeout(i),p(0)):R||(l=1)))}return p(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function zX(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qX(t){return t!==void 0}function WX(t){return typeof t=="function"}function KX(t){return typeof t=="object"&&!Array.isArray(t)}function Xy(t){return typeof t=="string"||t instanceof String}function GC(t){return TI()&&t instanceof Blob}function TI(){return typeof Blob<"u"&&!iN()}function RE(t,e,n,r){if(r<e)throw Ku(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ku(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function qM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var al;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(al||(al={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{constructor(e,n,r,i,s,o,l,c,h,f,p,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=p,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,v)=>{this.resolve_=y,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new nm(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const c=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===al.NO_ERROR,c=s.getStatus();if(!l||WM(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===al.ABORT;r(!1,new nm(!1,null,f));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new nm(h,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());qX(c)?s(c):s()}catch(c){o(c)}else if(l!==null){const c=EI();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?UM():BM();o(c)}else{const c=$M();o(c)}};this.canceled_?n(!1,new nm(!1,null,!0)):this.backoffId_=UX(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function GX(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function QX(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function YX(t,e){e&&(t["X-Firebase-GMPID"]=e)}function XX(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function JX(t,e,n,r,i,s,o=!0){const l=qM(t.urlParams),c=t.url+l,h=Object.assign({},t.headers);return YX(h,e),GX(h,n),QX(h,s),XX(h,r),new HX(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function eJ(...t){const e=ZX();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(TI())return new Blob(t);throw new dn(Jt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function tJ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nJ(t){if(typeof atob>"u")throw BX("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class v0{constructor(e,n){this.data=e,this.contentType=n||null}}function KM(t,e){switch(t){case Si.RAW:return new v0(HM(e));case Si.BASE64:case Si.BASE64URL:return new v0(GM(t,e));case Si.DATA_URL:return new v0(iJ(e),sJ(e))}throw EI()}function HM(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function rJ(t){let e;try{e=decodeURIComponent(t)}catch{throw lf(Si.DATA_URL,"Malformed data URL.")}return HM(e)}function GM(t,e){switch(t){case Si.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw lf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Si.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw lf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=nJ(e)}catch(i){throw i.message.includes("polyfill")?i:lf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class QM{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw lf(Si.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=oJ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function iJ(t){const e=new QM(t);return e.base64?GM(Si.BASE64,e.rest):rJ(e.rest)}function sJ(t){return new QM(t).contentType}function oJ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){let r=0,i="";GC(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(GC(this.data_)){const r=this.data_,i=tJ(r,e,n);return i===null?null:new Fs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Fs(r,!0)}}static getBlob(...e){if(TI()){const n=e.map(r=>r instanceof Fs?r.data_:r);return new Fs(eJ.apply(null,n))}else{const n=e.map(o=>Xy(o)?KM(Si.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new Fs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t){let e;try{e=JSON.parse(t)}catch{return null}return KX(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aJ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function lJ(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function YM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uJ(t,e){return e}class _r{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||uJ}}let rm=null;function cJ(t){return!Xy(t)||t.length<2?t:YM(t)}function Jy(){if(rm)return rm;const t=[];t.push(new _r("bucket")),t.push(new _r("generation")),t.push(new _r("metageneration")),t.push(new _r("name","fullPath",!0));function e(s,o){return cJ(o)}const n=new _r("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new _r("size");return i.xform=r,t.push(i),t.push(new _r("timeCreated")),t.push(new _r("updated")),t.push(new _r("md5Hash",null,!0)),t.push(new _r("cacheControl",null,!0)),t.push(new _r("contentDisposition",null,!0)),t.push(new _r("contentEncoding",null,!0)),t.push(new _r("contentLanguage",null,!0)),t.push(new _r("contentType",null,!0)),t.push(new _r("metadata","customMetadata",!0)),rm=t,rm}function hJ(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new fr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function fJ(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return hJ(r,t),r}function XM(t,e,n){const r=II(e);return r===null?null:fJ(t,r,n)}function dJ(t,e,n,r){const i=II(e);if(i===null||!Xy(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(h=>{const f=t.bucket,p=t.fullPath,m="/b/"+o(f)+"/o/"+o(p),y=Ia(m,n,r),v=qM({alt:"media",token:h});return y+v})[0]}function SI(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="prefixes",YC="items";function pJ(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[QC])for(const i of n[QC]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new fr(e,s));r.prefixes.push(o)}if(n[YC])for(const i of n[YC]){const s=t._makeStorageReference(new fr(e,i.name));r.items.push(s)}return r}function mJ(t,e,n){const r=II(n);return r===null?null:pJ(t,e,r)}class fo{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t){if(!t)throw EI()}function Zy(t,e){function n(r,i){const s=XM(t,i,e);return ys(s!==null),s}return n}function gJ(t,e){function n(r,i){const s=mJ(t,e,i);return ys(s!==null),s}return n}function yJ(t,e){function n(r,i){const s=XM(t,i,e);return ys(s!==null),dJ(s,i,t.host,t._protocol)}return n}function Fc(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=kX():i=DX():n.getStatus()===402?i=OX(t.bucket):n.getStatus()===403?i=NX(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function ev(t){const e=Fc(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=PX(t.path)),s.serverResponse=i.serverResponse,s}return n}function JM(t,e,n){const r=e.fullServerUrl(),i=Ia(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new fo(i,s,Zy(t,n),o);return l.errorHandler=ev(e),l}function vJ(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),l=Ia(o,t.host,t._protocol),c="GET",h=t.maxOperationRetryTime,f=new fo(l,c,gJ(t,e.bucket),h);return f.urlParams=s,f.errorHandler=Fc(e),f}function _J(t,e,n){const r=e.fullServerUrl(),i=Ia(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new fo(i,s,yJ(t,n),o);return l.errorHandler=ev(e),l}function wJ(t,e,n,r){const i=e.fullServerUrl(),s=Ia(i,t.host,t._protocol),o="PATCH",l=SI(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=t.maxOperationRetryTime,f=new fo(s,o,Zy(t,r),h);return f.headers=c,f.body=l,f.errorHandler=ev(e),f}function EJ(t,e){const n=e.fullServerUrl(),r=Ia(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(c,h){}const l=new fo(r,i,o,s);return l.successCodes=[200,204],l.errorHandler=ev(e),l}function TJ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ZM(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=TJ(null,e)),r}function IJ(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let I="";for(let E=0;E<2;E++)I=I+Math.random().toString().slice(2);return I}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const h=ZM(e,r,i),f=SI(h,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+c+"--",y=Fs.getBlob(p,r,m);if(y===null)throw jM();const v={name:h.fullPath},w=Ia(s,t.host,t._protocol),R="POST",T=t.maxUploadRetryTime,S=new fo(w,R,Zy(t,n),T);return S.urlParams=v,S.headers=o,S.body=y.uploadData(),S.errorHandler=Fc(e),S}class Dg{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function xI(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ys(!1)}return ys(!!n&&(e||["active"]).indexOf(n)!==-1),n}function SJ(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=ZM(e,r,i),l={name:o.fullPath},c=Ia(s,t.host,t._protocol),h="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},p=SI(o,n),m=t.maxUploadRetryTime;function y(w){xI(w);let R;try{R=w.getResponseHeader("X-Goog-Upload-URL")}catch{ys(!1)}return ys(Xy(R)),R}const v=new fo(c,h,y,m);return v.urlParams=l,v.headers=f,v.body=p,v.errorHandler=Fc(e),v}function xJ(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(h){const f=xI(h,["active","final"]);let p=null;try{p=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ys(!1)}p||ys(!1);const m=Number(p);return ys(!isNaN(m)),new Dg(m,r.size(),f==="final")}const o="POST",l=t.maxUploadRetryTime,c=new fo(n,o,s,l);return c.headers=i,c.errorHandler=Fc(e),c}const XC=256*1024;function RJ(t,e,n,r,i,s,o,l){const c=new Dg(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw VX();const h=c.total-c.current;let f=h;i>0&&(f=Math.min(f,i));const p=c.current,m=p+f;let y="";f===0?y="finalize":h===f?y="upload, finalize":y="upload";const v={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${c.current}`},w=r.slice(p,m);if(w===null)throw jM();function R(E,P){const O=xI(E,["active","final"]),D=c.current+f,N=r.size();let q;return O==="final"?q=Zy(e,s)(E,P):q=null,new Dg(D,N,O==="final",q)}const T="POST",S=e.maxUploadRetryTime,I=new fo(n,T,R,S);return I.headers=v,I.body=w.uploadData(),I.progressCallback=l||null,I.errorHandler=Fc(t),I}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bJ={STATE_CHANGED:"state_changed"},Ir={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _0(t){switch(t){case"running":case"pausing":case"canceling":return Ir.RUNNING;case"paused":return Ir.PAUSED;case"success":return Ir.SUCCESS;case"canceled":return Ir.CANCELED;case"error":return Ir.ERROR;default:return Ir.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{constructor(e,n,r){if(WX(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class CJ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=al.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=al.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=al.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw xh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class PJ extends CJ{initXhr(){this.xhr_.responseType="text"}}function ss(){return new PJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Jy(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Jt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(WM(i.status,[]))if(s)i=$M();else{this.sleepTime=Math.max(this.sleepTime*2,CX),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Jt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=SJ(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ss,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=xJ(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,ss,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=XC*this._chunkMultiplier,n=new Dg(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=RJ(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const l=this._ref.storage._makeRequest(o,ss,i,s,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){XC*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=JM(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ss,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=IJ(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ss,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=BM(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=_0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new AJ(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(_0(this._state)){case Ir.SUCCESS:uu(this._resolve.bind(null,this.snapshot))();break;case Ir.CANCELED:case Ir.ERROR:const n=this._reject;uu(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(_0(this._state)){case Ir.RUNNING:case Ir.PAUSED:e.next&&uu(e.next.bind(e,this.snapshot))();break;case Ir.SUCCESS:e.complete&&uu(e.complete.bind(e))();break;case Ir.CANCELED:case Ir.ERROR:e.error&&uu(e.error.bind(e,this._error))();break;default:e.error&&uu(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n){this._service=e,n instanceof fr?this._location=n:this._location=fr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new bl(e,n)}get root(){const e=new fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YM(this._location.path)}get storage(){return this._service}get parent(){const e=aJ(this._location.path);if(e===null)return null;const n=new fr(this._location.bucket,e);return new bl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw zM(e)}}function OJ(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new eF(t,new Fs(e),n)}function DJ(t){const e={prefixes:[],items:[]};return tF(t,e).then(()=>e)}async function tF(t,e,n){const i=await nF(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await tF(t,e,i.nextPageToken)}function nF(t,e){e!=null&&typeof e.maxResults=="number"&&RE("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=vJ(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,ss)}function kJ(t){t._throwIfRoot("getMetadata");const e=JM(t.storage,t._location,Jy());return t.storage.makeRequestWithTokens(e,ss)}function NJ(t,e){t._throwIfRoot("updateMetadata");const n=wJ(t.storage,t._location,e,Jy());return t.storage.makeRequestWithTokens(n,ss)}function LJ(t){t._throwIfRoot("getDownloadURL");const e=_J(t.storage,t._location,Jy());return t.storage.makeRequestWithTokens(e,ss).then(n=>{if(n===null)throw $X();return n})}function MJ(t){t._throwIfRoot("deleteObject");const e=EJ(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ss)}function rF(t,e){const n=lJ(t._location.path,e),r=new fr(t._location.bucket,n);return new bl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FJ(t){return/^[A-Za-z]+:\/\//.test(t)}function VJ(t,e){return new bl(t,e)}function iF(t,e){if(t instanceof RI){const n=t;if(n._bucket==null)throw FX();const r=new bl(n,n._bucket);return e!=null?iF(r,e):r}else return e!==void 0?rF(t,e):t}function $J(t,e){if(e&&FJ(e)){if(t instanceof RI)return VJ(t,e);throw Ku("To use ref(service, url), the first argument must be a Storage instance.")}else return iF(t,e)}function JC(t,e){const n=e==null?void 0:e[VM];return n==null?null:fr.makeFromBucketSpec(n,t)}function BJ(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:rN(i,t.app.options.projectId))}class RI{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=FM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bX,this._maxUploadRetryTime=AX,this._requests=new Set,i!=null?this._bucket=fr.makeFromBucketSpec(i,this._host):this._bucket=JC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,e):this._bucket=JC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){RE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){RE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new jX(UM());{const o=JX(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const ZC="@firebase/storage",eP="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jJ="storage";function UJ(t,e,n){return t=Ft(t),OJ(t,e,n)}function zJ(t){return t=Ft(t),kJ(t)}function qJ(t,e){return t=Ft(t),NJ(t,e)}function WJ(t,e){return t=Ft(t),nF(t,e)}function KJ(t){return t=Ft(t),DJ(t)}function HJ(t){return t=Ft(t),LJ(t)}function GJ(t){return t=Ft(t),MJ(t)}function tP(t,e){return t=Ft(t),$J(t,e)}function QJ(t,e){return rF(t,e)}function YJ(t,e,n,r={}){BJ(t,e,n,r)}function XJ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new RI(n,r,i,e,fy)}function JJ(){yl(new to(jJ,XJ,"PUBLIC").setMultipleInstances(!0)),ms(ZC,eP,""),ms(ZC,eP,"esm2017")}JJ();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new im(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new im(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(typeof n=="function"?s=o=>n(new im(o,this,this._ref)):s={next:n.next?o=>n.next(new im(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class rP{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Hs(e,this._service))}get items(){return this._delegate.items.map(e=>new Hs(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=QJ(this._delegate,e);return new Hs(n,this.storage)}get root(){return new Hs(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new Hs(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new nP(UJ(this._delegate,e,n),this)}putString(e,n=Si.RAW,r){this._throwIfRoot("putString");const i=KM(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new nP(new eF(this._delegate,new Fs(i.data,!0),s),this)}listAll(){return KJ(this._delegate).then(e=>new rP(e,this.storage))}list(e){return WJ(this._delegate,e||void 0).then(n=>new rP(n,this.storage))}getMetadata(){return zJ(this._delegate)}updateMetadata(e){return qJ(this._delegate,e)}getDownloadURL(){return HJ(this._delegate)}delete(){return this._throwIfRoot("delete"),GJ(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw zM(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(iP(e))throw Ku("ref() expected a child path but got a URL, use refFromURL instead.");return new Hs(tP(this._delegate,e),this)}refFromURL(e){if(!iP(e))throw Ku("refFromURL() expected a full URL but got a child path, use ref() instead.");try{fr.makeFromUrl(e,this._delegate.host)}catch{throw Ku("refFromUrl() expected a valid full URL but got an invalid one.")}return new Hs(tP(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){YJ(this._delegate,e,n,r)}}function iP(t){return/^[A-Za-z]+:\/\//.test(t)}const ZJ="@firebase/storage-compat",eZ="0.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tZ="storage-compat";function nZ(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new sF(n,r)}function rZ(t){const e={TaskState:Ir,TaskEvent:bJ,StringFormat:Si,Storage:sF,Reference:Hs};t.INTERNAL.registerComponent(new to(tZ,nZ,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(ZJ,eZ)}rZ(Rc);const bI=Rc.firestore(),iZ=async(t,e)=>{try{return(await t.get()).exists?(console.log(`${e} is ready exist!`),!0):(console.log(`${e} is not exist!`),!1)}catch(n){throw n}},sZ=(t,e,n)=>{const{Types:r,zhName:i,enName:s,pokeId:o,sprite:l}=n,c=bI.batch();c.set(t,{sprite:l,pokeId:o,zhName:i,enName:s,types:r,num_shards:e});for(let h=0;h<e;h++){const f=t.collection("shards").doc(h.toString());c.set(f,{count:0})}return c.commit()},oZ=(t,e,n)=>{const r=Math.floor(Math.random()*e).toString();return t.collection("shards").doc(r).update("count",Rc.firestore.FieldValue.increment(n))},aZ=async()=>{console.log("get all pokemon order");try{const t=await bI.collection("popular_pokemon").get();if(!t)return;const e=t.docs.map(async r=>{const i=r.data().zhName,s=r.data().enName,o=r.data().types,l=r.data().pokeId,c=r.data().sprite,f=await r.ref.collection("shards").get();if(!f)return;let p=0;return f.forEach(m=>{p+=m.data().count}),{total:p,Types:o,enName:s,zhName:i,pokeId:l,sprite:c}});return await Promise.all(e)}catch(t){throw t}},lZ=t=>{try{t.forEach((e,n)=>{uZ({count:e,zhName:n})}),console.log("post success")}catch(e){console.log("post error",e)}},uZ=async t=>{console.log("post data to firebase");const{zhName:e,count:n}=t,r=10,i=bI.collection("popular_pokemon").doc(e);await iZ(i,e)||sZ(i,r,t).then(o=>console.log(`Create new pokemon ${e} successful.`)).catch(o=>console.log(`Something wrong when create pokemon, msg:${o.message}`)),await oZ(i,r,n).then(o=>console.log(`${e} count is increase`)).catch(o=>console.log(o.message))},cZ=()=>{const{handlePopularPokemon:t}=Oi();x.useEffect(()=>{aZ().then(e=>{e.sort((n,r)=>r.total-n.total),t(e)})},[])},hZ=()=>{const{bestDamage:t,popularPokemon:e,handleFilterBestPokemon:n}=Oi();x.useEffect(()=>{const r=(e??[]).filter(i=>{let s=!1;if(i.Types.forEach(o=>{t.forEach(l=>{l.zhType===o.zhType&&(s=!0)})}),s)return i});n(r)},[t])};function oF(t,e){return function(){return t.apply(e,arguments)}}const{toString:fZ}=Object.prototype,{getPrototypeOf:AI}=Object,tv=(t=>e=>{const n=fZ.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ts=t=>(t=t.toLowerCase(),e=>tv(e)===t),nv=t=>e=>typeof e===t,{isArray:Vc}=Array,td=nv("undefined");function dZ(t){return t!==null&&!td(t)&&t.constructor!==null&&!td(t.constructor)&&Ri(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const aF=Ts("ArrayBuffer");function pZ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&aF(t.buffer),e}const mZ=nv("string"),Ri=nv("function"),lF=nv("number"),rv=t=>t!==null&&typeof t=="object",gZ=t=>t===!0||t===!1,Pm=t=>{if(tv(t)!=="object")return!1;const e=AI(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},yZ=Ts("Date"),vZ=Ts("File"),_Z=Ts("Blob"),wZ=Ts("FileList"),EZ=t=>rv(t)&&Ri(t.pipe),TZ=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ri(t.append)&&((e=tv(t))==="formdata"||e==="object"&&Ri(t.toString)&&t.toString()==="[object FormData]"))},IZ=Ts("URLSearchParams"),SZ=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Md(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Vc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function uF(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const cF=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),hF=t=>!td(t)&&t!==cF;function bE(){const{caseless:t}=hF(this)&&this||{},e={},n=(r,i)=>{const s=t&&uF(e,i)||i;Pm(e[s])&&Pm(r)?e[s]=bE(e[s],r):Pm(r)?e[s]=bE({},r):Vc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Md(arguments[r],n);return e}const xZ=(t,e,n,{allOwnKeys:r}={})=>(Md(e,(i,s)=>{n&&Ri(i)?t[s]=oF(i,n):t[s]=i},{allOwnKeys:r}),t),RZ=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),bZ=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},AZ=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&AI(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},CZ=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},PZ=t=>{if(!t)return null;if(Vc(t))return t;let e=t.length;if(!lF(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},OZ=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&AI(Uint8Array)),DZ=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},kZ=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},NZ=Ts("HTMLFormElement"),LZ=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),sP=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),MZ=Ts("RegExp"),fF=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Md(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},FZ=t=>{fF(t,(e,n)=>{if(Ri(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ri(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},VZ=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Vc(t)?r(t):r(String(t).split(e)),n},$Z=()=>{},BZ=(t,e)=>(t=+t,Number.isFinite(t)?t:e),w0="abcdefghijklmnopqrstuvwxyz",oP="0123456789",dF={DIGIT:oP,ALPHA:w0,ALPHA_DIGIT:w0+w0.toUpperCase()+oP},jZ=(t=16,e=dF.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function UZ(t){return!!(t&&Ri(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const zZ=t=>{const e=new Array(10),n=(r,i)=>{if(rv(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Vc(r)?[]:{};return Md(r,(o,l)=>{const c=n(o,i+1);!td(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return n(t,0)},qZ=Ts("AsyncFunction"),WZ=t=>t&&(rv(t)||Ri(t))&&Ri(t.then)&&Ri(t.catch),ee={isArray:Vc,isArrayBuffer:aF,isBuffer:dZ,isFormData:TZ,isArrayBufferView:pZ,isString:mZ,isNumber:lF,isBoolean:gZ,isObject:rv,isPlainObject:Pm,isUndefined:td,isDate:yZ,isFile:vZ,isBlob:_Z,isRegExp:MZ,isFunction:Ri,isStream:EZ,isURLSearchParams:IZ,isTypedArray:OZ,isFileList:wZ,forEach:Md,merge:bE,extend:xZ,trim:SZ,stripBOM:RZ,inherits:bZ,toFlatObject:AZ,kindOf:tv,kindOfTest:Ts,endsWith:CZ,toArray:PZ,forEachEntry:DZ,matchAll:kZ,isHTMLForm:NZ,hasOwnProperty:sP,hasOwnProp:sP,reduceDescriptors:fF,freezeMethods:FZ,toObjectSet:VZ,toCamelCase:LZ,noop:$Z,toFiniteNumber:BZ,findKey:uF,global:cF,isContextDefined:hF,ALPHABET:dF,generateString:jZ,isSpecCompliantForm:UZ,toJSONObject:zZ,isAsyncFn:qZ,isThenable:WZ};function vt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}ee.inherits(vt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const pF=vt.prototype,mF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{mF[t]={value:t}});Object.defineProperties(vt,mF);Object.defineProperty(pF,"isAxiosError",{value:!0});vt.from=(t,e,n,r,i,s)=>{const o=Object.create(pF);return ee.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),vt.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const KZ=null;function AE(t){return ee.isPlainObject(t)||ee.isArray(t)}function gF(t){return ee.endsWith(t,"[]")?t.slice(0,-2):t}function aP(t,e,n){return t?t.concat(e).map(function(i,s){return i=gF(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function HZ(t){return ee.isArray(t)&&!t.some(AE)}const GZ=ee.toFlatObject(ee,{},null,function(e){return/^is[A-Z]/.test(e)});function iv(t,e,n){if(!ee.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,R){return!ee.isUndefined(R[w])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(e);if(!ee.isFunction(i))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if(ee.isDate(v))return v.toISOString();if(!c&&ee.isBlob(v))throw new vt("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(v)||ee.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,w,R){let T=v;if(v&&!R&&typeof v=="object"){if(ee.endsWith(w,"{}"))w=r?w:w.slice(0,-2),v=JSON.stringify(v);else if(ee.isArray(v)&&HZ(v)||(ee.isFileList(v)||ee.endsWith(w,"[]"))&&(T=ee.toArray(v)))return w=gF(w),T.forEach(function(I,E){!(ee.isUndefined(I)||I===null)&&e.append(o===!0?aP([w],E,s):o===null?w:w+"[]",h(I))}),!1}return AE(v)?!0:(e.append(aP(R,w,s),h(v)),!1)}const p=[],m=Object.assign(GZ,{defaultVisitor:f,convertValue:h,isVisitable:AE});function y(v,w){if(!ee.isUndefined(v)){if(p.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));p.push(v),ee.forEach(v,function(T,S){(!(ee.isUndefined(T)||T===null)&&i.call(e,T,ee.isString(S)?S.trim():S,w,m))===!0&&y(T,w?w.concat(S):[S])}),p.pop()}}if(!ee.isObject(t))throw new TypeError("data must be an object");return y(t),e}function lP(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function CI(t,e){this._pairs=[],t&&iv(t,this,e)}const yF=CI.prototype;yF.append=function(e,n){this._pairs.push([e,n])};yF.toString=function(e){const n=e?function(r){return e.call(this,r,lP)}:lP;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function QZ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vF(t,e,n){if(!e)return t;const r=n&&n.encode||QZ,i=n&&n.serialize;let s;if(i?s=i(e,n):s=ee.isURLSearchParams(e)?e.toString():new CI(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class YZ{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ee.forEach(this.handlers,function(r){r!==null&&e(r)})}}const uP=YZ,_F={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},XZ=typeof URLSearchParams<"u"?URLSearchParams:CI,JZ=typeof FormData<"u"?FormData:null,ZZ=typeof Blob<"u"?Blob:null,eee=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),tee=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),cs={isBrowser:!0,classes:{URLSearchParams:XZ,FormData:JZ,Blob:ZZ},isStandardBrowserEnv:eee,isStandardBrowserWebWorkerEnv:tee,protocols:["http","https","file","blob","url","data"]};function nee(t,e){return iv(t,new cs.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return cs.isNode&&ee.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function ree(t){return ee.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function iee(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function wF(t){function e(n,r,i,s){let o=n[s++];const l=Number.isFinite(+o),c=s>=n.length;return o=!o&&ee.isArray(i)?i.length:o,c?(ee.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!ee.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&ee.isArray(i[o])&&(i[o]=iee(i[o])),!l)}if(ee.isFormData(t)&&ee.isFunction(t.entries)){const n={};return ee.forEachEntry(t,(r,i)=>{e(ree(r),i,n,0)}),n}return null}function see(t,e,n){if(ee.isString(t))try{return(e||JSON.parse)(t),ee.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const PI={transitional:_F,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=ee.isObject(e);if(s&&ee.isHTMLForm(e)&&(e=new FormData(e)),ee.isFormData(e))return i&&i?JSON.stringify(wF(e)):e;if(ee.isArrayBuffer(e)||ee.isBuffer(e)||ee.isStream(e)||ee.isFile(e)||ee.isBlob(e))return e;if(ee.isArrayBufferView(e))return e.buffer;if(ee.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return nee(e,this.formSerializer).toString();if((l=ee.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return iv(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),see(e)):e}],transformResponse:[function(e){const n=this.transitional||PI.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&ee.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?vt.from(l,vt.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cs.classes.FormData,Blob:cs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],t=>{PI.headers[t]={}});const OI=PI,oee=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aee=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&oee[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},cP=Symbol("internals");function Rh(t){return t&&String(t).trim().toLowerCase()}function Om(t){return t===!1||t==null?t:ee.isArray(t)?t.map(Om):String(t)}function lee(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const uee=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function E0(t,e,n,r,i){if(ee.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ee.isString(e)){if(ee.isString(r))return e.indexOf(r)!==-1;if(ee.isRegExp(r))return r.test(e)}}function cee(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function hee(t,e){const n=ee.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class sv{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,c,h){const f=Rh(c);if(!f)throw new Error("header name must be a non-empty string");const p=ee.findKey(i,f);(!p||i[p]===void 0||h===!0||h===void 0&&i[p]!==!1)&&(i[p||c]=Om(l))}const o=(l,c)=>ee.forEach(l,(h,f)=>s(h,f,c));return ee.isPlainObject(e)||e instanceof this.constructor?o(e,n):ee.isString(e)&&(e=e.trim())&&!uee(e)?o(aee(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=Rh(e),e){const r=ee.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return lee(i);if(ee.isFunction(n))return n.call(this,i,r);if(ee.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Rh(e),e){const r=ee.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||E0(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Rh(o),o){const l=ee.findKey(r,o);l&&(!n||E0(r,r[l],l,n))&&(delete r[l],i=!0)}}return ee.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||E0(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return ee.forEach(this,(i,s)=>{const o=ee.findKey(r,s);if(o){n[o]=Om(i),delete n[s];return}const l=e?cee(s):String(s).trim();l!==s&&delete n[s],n[l]=Om(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ee.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ee.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[cP]=this[cP]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=Rh(o);r[l]||(hee(i,o),r[l]=!0)}return ee.isArray(e)?e.forEach(s):s(e),this}}sv.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(sv.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ee.freezeMethods(sv);const Gs=sv;function T0(t,e){const n=this||OI,r=e||n,i=Gs.from(r.headers);let s=r.data;return ee.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function EF(t){return!!(t&&t.__CANCEL__)}function Fd(t,e,n){vt.call(this,t??"canceled",vt.ERR_CANCELED,e,n),this.name="CanceledError"}ee.inherits(Fd,vt,{__CANCEL__:!0});function fee(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new vt("Request failed with status code "+n.status,[vt.ERR_BAD_REQUEST,vt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const dee=cs.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,l){const c=[];c.push(n+"="+encodeURIComponent(r)),ee.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),ee.isString(s)&&c.push("path="+s),ee.isString(o)&&c.push("domain="+o),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function pee(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function mee(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function TF(t,e){return t&&!pee(e)?mee(t,e):e}const gee=cs.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const l=ee.isString(o)?i(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function yee(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function vee(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const h=Date.now(),f=r[s];o||(o=h),n[i]=c,r[i]=h;let p=s,m=0;for(;p!==i;)m+=n[p++],p=p%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),h-o<e)return;const y=f&&h-f;return y?Math.round(m*1e3/y):void 0}}function hP(t,e){let n=0;const r=vee(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,l=s-n,c=r(l),h=s<=o;n=s;const f={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&h?(o-s)/c:void 0,event:i};f[e?"download":"upload"]=!0,t(f)}}const _ee=typeof XMLHttpRequest<"u",wee=_ee&&function(t){return new Promise(function(n,r){let i=t.data;const s=Gs.from(t.headers).normalize(),o=t.responseType;let l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let h;ee.isFormData(i)&&(cs.isStandardBrowserEnv||cs.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.getContentType(/^\s*multipart\/form-data/)?ee.isString(h=s.getContentType())&&s.setContentType(h.replace(/^\s*(multipart\/form-data);+/,"$1")):s.setContentType("multipart/form-data"));let f=new XMLHttpRequest;if(t.auth){const v=t.auth.username||"",w=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(v+":"+w))}const p=TF(t.baseURL,t.url);f.open(t.method.toUpperCase(),vF(p,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function m(){if(!f)return;const v=Gs.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),R={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:v,config:t,request:f};fee(function(S){n(S),c()},function(S){r(S),c()},R),f=null}if("onloadend"in f?f.onloadend=m:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(m)},f.onabort=function(){f&&(r(new vt("Request aborted",vt.ECONNABORTED,t,f)),f=null)},f.onerror=function(){r(new vt("Network Error",vt.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let w=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const R=t.transitional||_F;t.timeoutErrorMessage&&(w=t.timeoutErrorMessage),r(new vt(w,R.clarifyTimeoutError?vt.ETIMEDOUT:vt.ECONNABORTED,t,f)),f=null},cs.isStandardBrowserEnv){const v=(t.withCredentials||gee(p))&&t.xsrfCookieName&&dee.read(t.xsrfCookieName);v&&s.set(t.xsrfHeaderName,v)}i===void 0&&s.setContentType(null),"setRequestHeader"in f&&ee.forEach(s.toJSON(),function(w,R){f.setRequestHeader(R,w)}),ee.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),o&&o!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",hP(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",hP(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=v=>{f&&(r(!v||v.type?new Fd(null,t,f):v),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const y=yee(p);if(y&&cs.protocols.indexOf(y)===-1){r(new vt("Unsupported protocol "+y+":",vt.ERR_BAD_REQUEST,t));return}f.send(i||null)})},CE={http:KZ,xhr:wee};ee.forEach(CE,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const fP=t=>`- ${t}`,Eee=t=>ee.isFunction(t)||t===null||t===!1,IF={getAdapter:t=>{t=ee.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!Eee(n)&&(r=CE[(o=String(n)).toLowerCase()],r===void 0))throw new vt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(fP).join(`
`):" "+fP(s[0]):"as no adapter specified";throw new vt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:CE};function I0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Fd(null,t)}function dP(t){return I0(t),t.headers=Gs.from(t.headers),t.data=T0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),IF.getAdapter(t.adapter||OI.adapter)(t).then(function(r){return I0(t),r.data=T0.call(t,t.transformResponse,r),r.headers=Gs.from(r.headers),r},function(r){return EF(r)||(I0(t),r&&r.response&&(r.response.data=T0.call(t,t.transformResponse,r.response),r.response.headers=Gs.from(r.response.headers))),Promise.reject(r)})}const pP=t=>t instanceof Gs?t.toJSON():t;function mc(t,e){e=e||{};const n={};function r(h,f,p){return ee.isPlainObject(h)&&ee.isPlainObject(f)?ee.merge.call({caseless:p},h,f):ee.isPlainObject(f)?ee.merge({},f):ee.isArray(f)?f.slice():f}function i(h,f,p){if(ee.isUndefined(f)){if(!ee.isUndefined(h))return r(void 0,h,p)}else return r(h,f,p)}function s(h,f){if(!ee.isUndefined(f))return r(void 0,f)}function o(h,f){if(ee.isUndefined(f)){if(!ee.isUndefined(h))return r(void 0,h)}else return r(void 0,f)}function l(h,f,p){if(p in e)return r(h,f);if(p in t)return r(void 0,h)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(h,f)=>i(pP(h),pP(f),!0)};return ee.forEach(Object.keys(Object.assign({},t,e)),function(f){const p=c[f]||i,m=p(t[f],e[f],f);ee.isUndefined(m)&&p!==l||(n[f]=m)}),n}const SF="1.5.1",DI={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{DI[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const mP={};DI.transitional=function(e,n,r){function i(s,o){return"[Axios v"+SF+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new vt(i(o," has been removed"+(n?" in "+n:"")),vt.ERR_DEPRECATED);return n&&!mP[o]&&(mP[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};function Tee(t,e,n){if(typeof t!="object")throw new vt("options must be an object",vt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],c=l===void 0||o(l,s,t);if(c!==!0)throw new vt("option "+s+" must be "+c,vt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new vt("Unknown option "+s,vt.ERR_BAD_OPTION)}}const PE={assertOptions:Tee,validators:DI},Ao=PE.validators;class kg{constructor(e){this.defaults=e,this.interceptors={request:new uP,response:new uP}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=mc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&PE.assertOptions(r,{silentJSONParsing:Ao.transitional(Ao.boolean),forcedJSONParsing:Ao.transitional(Ao.boolean),clarifyTimeoutError:Ao.transitional(Ao.boolean)},!1),i!=null&&(ee.isFunction(i)?n.paramsSerializer={serialize:i}:PE.assertOptions(i,{encode:Ao.function,serialize:Ao.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&ee.merge(s.common,s[n.method]);s&&ee.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),n.headers=Gs.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let f,p=0,m;if(!c){const v=[dP.bind(this),void 0];for(v.unshift.apply(v,l),v.push.apply(v,h),m=v.length,f=Promise.resolve(n);p<m;)f=f.then(v[p++],v[p++]);return f}m=l.length;let y=n;for(p=0;p<m;){const v=l[p++],w=l[p++];try{y=v(y)}catch(R){w.call(this,R);break}}try{f=dP.call(this,y)}catch(v){return Promise.reject(v)}for(p=0,m=h.length;p<m;)f=f.then(h[p++],h[p++]);return f}getUri(e){e=mc(this.defaults,e);const n=TF(e.baseURL,e.url);return vF(n,e.params,e.paramsSerializer)}}ee.forEach(["delete","get","head","options"],function(e){kg.prototype[e]=function(n,r){return this.request(mc(r||{},{method:e,url:n,data:(r||{}).data}))}});ee.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(mc(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}kg.prototype[e]=n(),kg.prototype[e+"Form"]=n(!0)});const Dm=kg;class kI{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new Fd(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new kI(function(i){e=i}),cancel:e}}}const Iee=kI;function See(t){return function(n){return t.apply(null,n)}}function xee(t){return ee.isObject(t)&&t.isAxiosError===!0}const OE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(OE).forEach(([t,e])=>{OE[e]=t});const Ree=OE;function xF(t){const e=new Dm(t),n=oF(Dm.prototype.request,e);return ee.extend(n,Dm.prototype,e,{allOwnKeys:!0}),ee.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return xF(mc(t,i))},n}const Dn=xF(OI);Dn.Axios=Dm;Dn.CanceledError=Fd;Dn.CancelToken=Iee;Dn.isCancel=EF;Dn.VERSION=SF;Dn.toFormData=iv;Dn.AxiosError=vt;Dn.Cancel=Dn.CanceledError;Dn.all=function(e){return Promise.all(e)};Dn.spread=See;Dn.isAxiosError=xee;Dn.mergeConfig=mc;Dn.AxiosHeaders=Gs;Dn.formToJSON=t=>wF(ee.isHTMLForm(t)?new FormData(t):t);Dn.getAdapter=IF.getAdapter;Dn.HttpStatusCode=Ree;Dn.default=Dn;const RF=Dn,bee="https://pokeapi.co/api/v2/type/",Aee="zh-Hant",gP=t=>RF(t).then(e=>e.data),Cee=()=>{const t="pokemon_details",e=`query ${t} {
            pokemon_v2_pokemon(order_by: {id: asc}) {
                name
                id
                pokemon_v2_pokemonsprites {
                    id
                    sprites
                }
                pokemon_v2_pokemontypes {
                    pokemon_v2_type {
                        name
                    }
                }
            }
            pokemon_v2_pokemonspecies(order_by: {id: asc}) {
                name
                id
                pokemon_v2_pokemonspeciesnames {
                name
                language_id
                pokemon_v2_language {
                    name
                }
                }
            }
        }`;return Ok({queryKey:["pokemonInfo"],queryFn:()=>RF({method:"POST",url:"https://beta.pokeapi.co/graphql/v1beta",data:JSON.stringify({query:e,operationName:t})}),staleTime:1/0})},Pee=()=>{var e;const t=Ok({queryKey:["AllTypes"],queryFn:()=>gP(bee)});return Uq({queries:(((e=t==null?void 0:t.data)==null?void 0:e.results)??[]).map(n=>{const{url:r}=n;return{queryKey:["TypeDetail",r],queryFn:()=>gP(r),enabled:!!r}})})},Oee=()=>{const{handleStoreAllPokemon:t,handleStoreAllTypes:e}=Oi(),n=Cee(),r=Pee(),i=n.data&&!n.isError&!n.isLoading&&r.every(s=>!s.isLoading&&!s.isError&&s.data);x.useEffect(()=>{var h,f;if(!i)return;e(r);const{pokemon_v2_pokemon:s,pokemon_v2_pokemonspecies:o}=(f=(h=n.data)==null?void 0:h.data)==null?void 0:f.data,c=s.map(p=>{const m=o.find(y=>p.id===y.id);return{...p,...m}}).map((p,m)=>{const{id:y,name:v,pokemon_v2_pokemonspeciesnames:w,pokemon_v2_pokemonsprites:R,pokemon_v2_pokemontypes:T}=p;try{const S=w.map(O=>{const{name:D,pokemon_v2_language:N}=O;return{type:N.name,name:D}}),I=w.filter(O=>{var D;return((D=O==null?void 0:O.pokemon_v2_language)==null?void 0:D.name)===Aee}),E=R.map(O=>{const{sprites:D}=O;return D.other["official-artwork"].front_default}),P=T.map(O=>{var Y;const{pokemon_v2_type:D}=O,N=pd.filter(se=>se.enType===D.name)[0],q=r.filter(se=>se.data.name===N.enType)[0];return{...N,damage_relations:(Y=q==null?void 0:q.data)==null?void 0:Y.damage_relations}});return{pokeId:y,enName:v,zhName:I[0].name,allLanguage:S,sprite:E[0],Types:P,damage_relations:0}}catch{}});t(c)},[i])},bF=x.createContext(),Dee=({children:t})=>{const[e,n]=x.useState(""),r=le=>{n(()=>le)},[i,s]=x.useState([]),o=le=>{s(()=>le)},[l,c]=x.useState([]),[h,f]=x.useState(!1),[p,m]=x.useState(100),[y,v]=x.useState(!1),w=le=>{c(ze=>[...ze,...le])},R=le=>{f(()=>le)},T=le=>{m(ze=>le||ze+100)},S=()=>{v(le=>!le)},[I,E]=x.useState(new Map),P=le=>{const{zhName:ze}=le;E(Q=>{let $=new Map(Q),ne=1;return $.has(ze)&&(ne=$.get(ze)+1),$.set(ze,ne),console.log($),$})},[O,D]=x.useState([]),N=le=>{D(ze=>{const Q=[...ze];return Q.some(ne=>ne.enName===le.enName)?Q.filter(ne=>ne.enName!==le.enName):(P(le),[...Q,le])})},q=le=>{D(ze=>ze.filter(Q=>Q.enName!==le.enName))},[Y,se]=x.useState([]),fe=le=>{se(()=>le)},[ve,Ve]=x.useState([]),Ae=le=>{Ve(()=>le.map(ze=>ze.data))},Ce=R8.filter(le=>le.default===!0)[0],[Fe,H]=x.useState({type:Ce.type,title:Ce.title}),[he,oe]=x.useState({type:Ce.type,title:Ce.title}),[_e,be]=x.useState({type:Ce.type,title:Ce.title}),Ne=b8.filter(le=>le.default===!0)[0],[$e,ke]=x.useState({type:Ne.type,title:Ne.title}),[at,Zt]=x.useState({type:Ne.type,title:Ne.title}),[wt,Qe]=x.useState({type:Ne.type,title:Ne.title}),$t=(le,ze)=>{H({type:le,title:ze})},ct=(le,ze)=>{oe({type:le,title:ze})},Rt=(le,ze)=>{be({type:le,title:ze})},Et=(le,ze)=>{ke({type:le,title:ze})},Nt=(le,ze)=>{Zt({type:le,title:ze})},et=(le,ze)=>{Qe({type:le,title:ze})},[sr,qt]=x.useState(Jk),Kr=({enType:le,zhType:ze,bgColor:Q})=>{qt(()=>({enType:le,zhType:ze,bgColor:Q}))},[Di,Lt]=x.useState([]),[Wt,kn]=x.useState([]),pn=le=>{Lt(()=>le)},Nn=le=>{kn(()=>le)};return A.jsx(bF.Provider,{value:{clickImg:I,searchPokemon:e,handleSearchPokemon:r,storeAllPokemon:i,handleStoreAllPokemon:o,storePokemon:l,handleStorePokemon:w,isLoadingPokemon:h,handleIsLoadingPokemon:R,page:p,handleNextPage:T,searchMorePokemon:y,handleSearchMorePokemon:S,selectImg:O,AddRemoveImg:N,RemoveImg:q,bestDamage:Y,handleBestDamage:fe,storeAllTypes:ve,handleStoreAllTypes:Ae,showInfo_select:Fe,showType_select:$e,showInfo_beenSelect:he,showType_beenSelect:at,showInfo_bestDamage:_e,showType_bestDamage:wt,filterType:sr,handleShowInfo_select:$t,handleShowType_select:Et,handleShowInfo_beenSelect:ct,handleShowType_beenSelect:Nt,handleShowInfo_bestDamage:Rt,handleShowType_bestDamage:et,handleFilterType:Kr,popularPokemon:Di,filterBestPokemon:Wt,handlePopularPokemon:pn,handleFilterBestPokemon:Nn},children:t})},Oi=()=>x.useContext(bF);var AF={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var l=n.apply(null,s);l&&r.push(l)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var c in s)e.call(s,c)&&s[c]&&r.push(c)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(AF);var kee=AF.exports;const Be=od(kee);function DE(){return DE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DE.apply(this,arguments)}function CF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yP(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function Nee(t){var e=Lee(t,"string");return typeof e=="symbol"?e:String(e)}function Lee(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mee(t,e,n){var r=x.useRef(t!==void 0),i=x.useState(e),s=i[0],o=i[1],l=t!==void 0,c=r.current;return r.current=l,!l&&c&&s!==e&&o(e),[l?t:s,x.useCallback(function(h){for(var f=arguments.length,p=new Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];n&&n.apply(void 0,[h].concat(p)),o(h)},[n])]}function NI(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[yP(r)],l=s[r],c=CF(s,[yP(r),r].map(Nee)),h=e[r],f=Mee(l,o,t[h]),p=f[0],m=f[1];return DE({},c,(i={},i[r]=p,i[h]=m,i))},t)}function kE(t,e){return kE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kE(t,e)}function Fee(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,kE(t,e)}const Vee=["xxl","xl","lg","md","sm","xs"],$ee="xs",ov=x.createContext({prefixes:{},breakpoints:Vee,minBreakpoint:$ee});function Xe(t,e){const{prefixes:n}=x.useContext(ov);return t||n[e]||e}function PF(){const{breakpoints:t}=x.useContext(ov);return t}function OF(){const{minBreakpoint:t}=x.useContext(ov);return t}function DF(){const{dir:t}=x.useContext(ov);return t==="rtl"}function Vd(t){return t&&t.ownerDocument||document}function Bee(t){var e=Vd(t);return e&&e.defaultView||window}function jee(t,e){return Bee(t).getComputedStyle(t,e)}var Uee=/([A-Z])/g;function zee(t){return t.replace(Uee,"-$1").toLowerCase()}var qee=/^ms-/;function sm(t){return zee(t).replace(qee,"-ms-")}var Wee=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Kee(t){return!!(t&&Wee.test(t))}function Qs(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(sm(e))||jee(t).getPropertyValue(sm(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(sm(i)):Kee(i)?r+=i+"("+s+") ":n+=sm(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var kF={exports:{}},Hee="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Gee=Hee,Qee=Gee;function NF(){}function LF(){}LF.resetWarningCache=NF;var Yee=function(){function t(r,i,s,o,l,c){if(c!==Qee){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:LF,resetWarningCache:NF};return n.PropTypes=n,n};kF.exports=Yee();var Xee=kF.exports;const Ys=od(Xee),vP={disabled:!1},MF=Yt.createContext(null);var Jee=function(e){return e.scrollTop},jh="unmounted",ko="exited",zi="entering",Vs="entered",nd="exiting",po=function(t){Fee(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,l=o&&!o.isMounting?r.enter:r.appear,c;return s.appearStatus=null,r.in?l?(c=ko,s.appearStatus=zi):c=Vs:r.unmountOnExit||r.mountOnEnter?c=jh:c=ko,s.state={status:c},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===jh?{status:ko}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==zi&&o!==Vs&&(s=zi):(o===zi||o===Vs)&&(s=nd)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,l;return s=o=l=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,l=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:l}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===zi){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ou.findDOMNode(this);o&&Jee(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ko&&this.setState({status:jh})},n.performEnter=function(i){var s=this,o=this.props.enter,l=this.context?this.context.isMounting:i,c=this.props.nodeRef?[l]:[Ou.findDOMNode(this),l],h=c[0],f=c[1],p=this.getTimeouts(),m=l?p.appear:p.enter;if(!i&&!o||vP.disabled){this.safeSetState({status:Vs},function(){s.props.onEntered(h)});return}this.props.onEnter(h,f),this.safeSetState({status:zi},function(){s.props.onEntering(h,f),s.onTransitionEnd(m,function(){s.safeSetState({status:Vs},function(){s.props.onEntered(h,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:Ou.findDOMNode(this);if(!s||vP.disabled){this.safeSetState({status:ko},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:nd},function(){i.props.onExiting(l),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ko},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,s.nextCallback=null,i(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Ou.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],h=c[0],f=c[1];this.props.addEndListener(h,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===jh)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=CF(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Yt.createElement(MF.Provider,{value:null},typeof o=="function"?o(i,l):Yt.cloneElement(Yt.Children.only(o),l))},e}(Yt.Component);po.contextType=MF;po.propTypes={};function cu(){}po.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:cu,onEntering:cu,onEntered:cu,onExit:cu,onExiting:cu,onExited:cu};po.UNMOUNTED=jh;po.EXITED=ko;po.ENTERING=zi;po.ENTERED=Vs;po.EXITING=nd;const Zee=po,$c=!!(typeof window<"u"&&window.document&&window.document.createElement);var NE=!1,LE=!1;try{var S0={get passive(){return NE=!0},get once(){return LE=NE=!0}};$c&&(window.addEventListener("test",S0,S0),window.removeEventListener("test",S0,!0))}catch{}function LI(t,e,n,r){if(r&&typeof r!="boolean"&&!LE){var i=r.once,s=r.capture,o=n;!LE&&i&&(o=n.__once||function l(c){this.removeEventListener(e,l,s),n.call(this,c)},n.__once=o),t.addEventListener(e,o,NE?r:s)}t.addEventListener(e,n,r)}function ME(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function jo(t,e,n,r){return LI(t,e,n,r),function(){ME(t,e,n,r)}}function ete(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function tte(t){var e=Qs(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function nte(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||ete(t,"transitionend",!0)},e+n),s=jo(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function FF(t,e,n,r){n==null&&(n=tte(t)||0);var i=nte(t,n,r),s=jo(t,"transitionend",e);return function(){i(),s()}}function _P(t,e){const n=Qs(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function MI(t,e){const n=_P(t,"transitionDuration"),r=_P(t,"transitionDelay"),i=FF(t,s=>{s.target===t&&(i(),e(s))},n+r)}function bh(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function VF(t){t.offsetHeight}const wP=t=>!t||typeof t=="function"?t:e=>{t.current=e};function rte(t,e){const n=wP(t),r=wP(e);return i=>{n&&n(i),r&&r(i)}}function $l(t,e){return x.useMemo(()=>rte(t,e),[t,e])}function ite(t){return t&&"setState"in t?Ou.findDOMNode(t):t??null}const ste=Yt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:l,childRef:c,...h},f)=>{const p=x.useRef(null),m=$l(p,c),y=O=>{m(ite(O))},v=O=>D=>{O&&p.current&&O(p.current,D)},w=x.useCallback(v(t),[t]),R=x.useCallback(v(e),[e]),T=x.useCallback(v(n),[n]),S=x.useCallback(v(r),[r]),I=x.useCallback(v(i),[i]),E=x.useCallback(v(s),[s]),P=x.useCallback(v(o),[o]);return A.jsx(Zee,{ref:f,...h,onEnter:w,onEntered:T,onEntering:R,onExit:S,onExited:E,onExiting:I,addEndListener:P,nodeRef:p,children:typeof l=="function"?(O,D)=>l(O,{...D,ref:y}):Yt.cloneElement(l,{ref:y})})}),FI=ste,ote={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function ate(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=ote[t];return r+parseInt(Qs(e,i[0]),10)+parseInt(Qs(e,i[1]),10)}const lte={[ko]:"collapse",[nd]:"collapsing",[zi]:"collapsing",[Vs]:"collapse show"},ute=Yt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:l="height",in:c=!1,timeout:h=300,mountOnEnter:f=!1,unmountOnExit:p=!1,appear:m=!1,getDimensionValue:y=ate,...v},w)=>{const R=typeof l=="function"?l():l,T=x.useMemo(()=>bh(O=>{O.style[R]="0"},t),[R,t]),S=x.useMemo(()=>bh(O=>{const D=`scroll${R[0].toUpperCase()}${R.slice(1)}`;O.style[R]=`${O[D]}px`},e),[R,e]),I=x.useMemo(()=>bh(O=>{O.style[R]=null},n),[R,n]),E=x.useMemo(()=>bh(O=>{O.style[R]=`${y(R,O)}px`,VF(O)},r),[r,y,R]),P=x.useMemo(()=>bh(O=>{O.style[R]=null},i),[R,i]);return A.jsx(FI,{ref:w,addEndListener:MI,...v,"aria-expanded":v.role?c:null,onEnter:T,onEntering:S,onEntered:I,onExit:E,onExiting:P,childRef:o.ref,in:c,timeout:h,mountOnEnter:f,unmountOnExit:p,appear:m,children:(O,D)=>Yt.cloneElement(o,{...D,className:Be(s,o.props.className,lte[O],R==="width"&&"collapse-horizontal")})})}),$F=ute;function cte(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t},[t]),e}function wn(t){const e=cte(t);return x.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const BF=t=>x.forwardRef((e,n)=>A.jsx("div",{...e,ref:n,className:Be(e.className,t)}));function jF(){return x.useState(null)}function hte(t,e,n,r=!1){const i=wn(n);x.useEffect(()=>{const s=typeof t=="function"?t():t;return s.addEventListener(e,i,r),()=>s.removeEventListener(e,i,r)},[t])}function UF(){const t=x.useRef(!0),e=x.useRef(()=>t.current);return x.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function zF(t){const e=x.useRef(null);return x.useEffect(()=>{e.current=t}),e.current}const fte=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",dte=typeof document<"u",Ng=dte||fte?x.useLayoutEffect:x.useEffect,pte=["as","disabled"];function mte(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gte(t){return!t||t.trim()==="#"}function VI({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:l=0,type:c}){t||(n!=null||r!=null||i!=null?t="a":t="button");const h={tagName:t};if(t==="button")return[{type:c||"button",disabled:e},h];const f=m=>{if((e||t==="a"&&gte(n))&&m.preventDefault(),e){m.stopPropagation();return}o==null||o(m)},p=m=>{m.key===" "&&(m.preventDefault(),f(m))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:l,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:f,onKeyDown:p},h]}const $I=x.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=mte(t,pte);const[s,{tagName:o}]=VI(Object.assign({tagName:n,disabled:r},i));return A.jsx(o,Object.assign({},i,s,{ref:e}))});$I.displayName="Button";const yte=["onKeyDown"];function vte(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _te(t){return!t||t.trim()==="#"}const qF=x.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=vte(t,yte);const[i]=VI(Object.assign({tagName:"a"},r)),s=wn(o=>{i.onKeyDown(o),n==null||n(o)});return _te(r.href)||r.role==="button"?A.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:s})):A.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});qF.displayName="Anchor";const WF=qF,wte={[zi]:"show",[Vs]:"show"},KF=x.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},l=x.useCallback((c,h)=>{VF(c),r==null||r(c,h)},[r]);return A.jsx(FI,{ref:s,addEndListener:MI,...o,onEnter:l,childRef:e.ref,children:(c,h)=>x.cloneElement(e,{...h,className:Be("fade",t,e.props.className,wte[c],n[c])})})});KF.displayName="Fade";const BI=KF,Ete={"aria-label":Ys.string,onClick:Ys.func,variant:Ys.oneOf(["white"])},jI=x.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>A.jsx("button",{ref:i,type:"button",className:Be("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));jI.displayName="CloseButton";jI.propTypes=Ete;const Tte=jI,HF=x.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...l},c)=>{const h=Xe(e,"btn"),[f,{tagName:p}]=VI({tagName:t,disabled:s,...l}),m=p;return A.jsx(m,{...f,...l,ref:c,disabled:s,className:Be(o,h,i&&"active",n&&`${h}-${n}`,r&&`${h}-${r}`,l.href&&s&&"disabled")})});HF.displayName="Button";const Lg=HF,GF=x.forwardRef(({bsPrefix:t,size:e,vertical:n=!1,className:r,role:i="group",as:s="div",...o},l)=>{const c=Xe(t,"btn-group");let h=c;return n&&(h=`${c}-vertical`),A.jsx(s,{...o,ref:l,role:i,className:Be(r,h,e&&`${c}-${e}`)})});GF.displayName="ButtonGroup";const Ite=GF,QF=x.createContext(null);QF.displayName="CardHeaderContext";const Ste=QF;function xte(t){const e=x.useRef(t);return e.current=t,e}function YF(t){const e=xte(t);x.useEffect(()=>()=>e.current(),[])}function Rte(t,e){return x.Children.toArray(t).some(n=>x.isValidElement(n)&&n.type===e)}function bte({as:t,bsPrefix:e,className:n,...r}){e=Xe(e,"col");const i=PF(),s=OF(),o=[],l=[];return i.forEach(c=>{const h=r[c];delete r[c];let f,p,m;typeof h=="object"&&h!=null?{span:f,offset:p,order:m}=h:f=h;const y=c!==s?`-${c}`:"";f&&o.push(f===!0?`${e}${y}`:`${e}${y}-${f}`),m!=null&&l.push(`order${y}-${m}`),p!=null&&l.push(`offset${y}-${p}`)}),[{...r,className:Be(n,...o,...l)},{as:t,bsPrefix:e,spans:o}]}const XF=x.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=bte(t);return A.jsx(i,{...r,ref:e,className:Be(n,!o.length&&s)})});XF.displayName="Col";const Uh=XF,JF=x.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},s)=>{const o=Xe(t,"container"),l=typeof e=="string"?`-${e}`:"-fluid";return A.jsx(n,{ref:s,...i,className:Be(r,e?`${o}${l}`:o)})});JF.displayName="Container";const UI=JF;var Ate=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ms(t,e){return Ate(t.querySelectorAll(e))}function Cte(t,e,n){const r=x.useRef(t!==void 0),[i,s]=x.useState(e),o=t!==void 0,l=r.current;return r.current=o,!o&&l&&i!==e&&s(e),[o?t:i,x.useCallback((...c)=>{const[h,...f]=c;let p=n==null?void 0:n(h,...f);return s(h),p},[n])]}function ZF(){const[,t]=x.useReducer(e=>!e,!1);return t}const Pte=x.createContext(null),av=Pte;var EP=Object.prototype.hasOwnProperty;function TP(t,e,n){for(n of t.keys())if(uf(n,e))return n}function uf(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&uf(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=TP(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=TP(e,i),!i)||!uf(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(EP.call(t,n)&&++r&&!EP.call(e,n)||!(n in e)||!uf(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function Ote(t){const e=UF();return[t[0],x.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var qr="top",Ci="bottom",Pi="right",Wr="left",zI="auto",$d=[qr,Ci,Pi,Wr],gc="start",rd="end",Dte="clippingParents",eV="viewport",Ah="popper",kte="reference",IP=$d.reduce(function(t,e){return t.concat([e+"-"+gc,e+"-"+rd])},[]),tV=[].concat($d,[zI]).reduce(function(t,e){return t.concat([e,e+"-"+gc,e+"-"+rd])},[]),Nte="beforeRead",Lte="read",Mte="afterRead",Fte="beforeMain",Vte="main",$te="afterMain",Bte="beforeWrite",jte="write",Ute="afterWrite",zte=[Nte,Lte,Mte,Fte,Vte,$te,Bte,jte,Ute];function vs(t){return t.split("-")[0]}function oi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Al(t){var e=oi(t).Element;return t instanceof e||t instanceof Element}function _s(t){var e=oi(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function qI(t){if(typeof ShadowRoot>"u")return!1;var e=oi(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var ll=Math.max,Mg=Math.min,yc=Math.round;function FE(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function nV(){return!/^((?!chrome|android).)*safari/i.test(FE())}function vc(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&_s(t)&&(i=t.offsetWidth>0&&yc(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&yc(r.height)/t.offsetHeight||1);var o=Al(t)?oi(t):window,l=o.visualViewport,c=!nV()&&n,h=(r.left+(c&&l?l.offsetLeft:0))/i,f=(r.top+(c&&l?l.offsetTop:0))/s,p=r.width/i,m=r.height/s;return{width:p,height:m,top:f,right:h+p,bottom:f+m,left:h,x:h,y:f}}function WI(t){var e=vc(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function rV(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&qI(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function fa(t){return t?(t.nodeName||"").toLowerCase():null}function io(t){return oi(t).getComputedStyle(t)}function qte(t){return["table","td","th"].indexOf(fa(t))>=0}function Sa(t){return((Al(t)?t.ownerDocument:t.document)||window.document).documentElement}function lv(t){return fa(t)==="html"?t:t.assignedSlot||t.parentNode||(qI(t)?t.host:null)||Sa(t)}function SP(t){return!_s(t)||io(t).position==="fixed"?null:t.offsetParent}function Wte(t){var e=/firefox/i.test(FE()),n=/Trident/i.test(FE());if(n&&_s(t)){var r=io(t);if(r.position==="fixed")return null}var i=lv(t);for(qI(i)&&(i=i.host);_s(i)&&["html","body"].indexOf(fa(i))<0;){var s=io(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Bd(t){for(var e=oi(t),n=SP(t);n&&qte(n)&&io(n).position==="static";)n=SP(n);return n&&(fa(n)==="html"||fa(n)==="body"&&io(n).position==="static")?e:n||Wte(t)||e}function KI(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function cf(t,e,n){return ll(t,Mg(e,n))}function Kte(t,e,n){var r=cf(t,e,n);return r>n?n:r}function iV(){return{top:0,right:0,bottom:0,left:0}}function sV(t){return Object.assign({},iV(),t)}function oV(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Hte=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,sV(typeof e!="number"?e:oV(e,$d))};function Gte(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,l=vs(n.placement),c=KI(l),h=[Wr,Pi].indexOf(l)>=0,f=h?"height":"width";if(!(!s||!o)){var p=Hte(i.padding,n),m=WI(s),y=c==="y"?qr:Wr,v=c==="y"?Ci:Pi,w=n.rects.reference[f]+n.rects.reference[c]-o[c]-n.rects.popper[f],R=o[c]-n.rects.reference[c],T=Bd(s),S=T?c==="y"?T.clientHeight||0:T.clientWidth||0:0,I=w/2-R/2,E=p[y],P=S-m[f]-p[v],O=S/2-m[f]/2+I,D=cf(E,O,P),N=c;n.modifiersData[r]=(e={},e[N]=D,e.centerOffset=D-O,e)}}function Qte(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||rV(e.elements.popper,i)&&(e.elements.arrow=i))}const Yte={name:"arrow",enabled:!0,phase:"main",fn:Gte,effect:Qte,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _c(t){return t.split("-")[1]}var Xte={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Jte(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:yc(n*i)/i||0,y:yc(r*i)/i||0}}function xP(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,l=t.position,c=t.gpuAcceleration,h=t.adaptive,f=t.roundOffsets,p=t.isFixed,m=o.x,y=m===void 0?0:m,v=o.y,w=v===void 0?0:v,R=typeof f=="function"?f({x:y,y:w}):{x:y,y:w};y=R.x,w=R.y;var T=o.hasOwnProperty("x"),S=o.hasOwnProperty("y"),I=Wr,E=qr,P=window;if(h){var O=Bd(n),D="clientHeight",N="clientWidth";if(O===oi(n)&&(O=Sa(n),io(O).position!=="static"&&l==="absolute"&&(D="scrollHeight",N="scrollWidth")),O=O,i===qr||(i===Wr||i===Pi)&&s===rd){E=Ci;var q=p&&O===P&&P.visualViewport?P.visualViewport.height:O[D];w-=q-r.height,w*=c?1:-1}if(i===Wr||(i===qr||i===Ci)&&s===rd){I=Pi;var Y=p&&O===P&&P.visualViewport?P.visualViewport.width:O[N];y-=Y-r.width,y*=c?1:-1}}var se=Object.assign({position:l},h&&Xte),fe=f===!0?Jte({x:y,y:w},oi(n)):{x:y,y:w};if(y=fe.x,w=fe.y,c){var ve;return Object.assign({},se,(ve={},ve[E]=S?"0":"",ve[I]=T?"0":"",ve.transform=(P.devicePixelRatio||1)<=1?"translate("+y+"px, "+w+"px)":"translate3d("+y+"px, "+w+"px, 0)",ve))}return Object.assign({},se,(e={},e[E]=S?w+"px":"",e[I]=T?y+"px":"",e.transform="",e))}function Zte(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,l=n.roundOffsets,c=l===void 0?!0:l,h={placement:vs(e.placement),variation:_c(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,xP(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,xP(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const ene={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Zte,data:{}};var om={passive:!0};function tne(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,l=o===void 0?!0:o,c=oi(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&h.forEach(function(f){f.addEventListener("scroll",n.update,om)}),l&&c.addEventListener("resize",n.update,om),function(){s&&h.forEach(function(f){f.removeEventListener("scroll",n.update,om)}),l&&c.removeEventListener("resize",n.update,om)}}const nne={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:tne,data:{}};var rne={left:"right",right:"left",bottom:"top",top:"bottom"};function km(t){return t.replace(/left|right|bottom|top/g,function(e){return rne[e]})}var ine={start:"end",end:"start"};function RP(t){return t.replace(/start|end/g,function(e){return ine[e]})}function HI(t){var e=oi(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function GI(t){return vc(Sa(t)).left+HI(t).scrollLeft}function sne(t,e){var n=oi(t),r=Sa(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;var h=nV();(h||!h&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l+GI(t),y:c}}function one(t){var e,n=Sa(t),r=HI(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=ll(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=ll(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+GI(t),c=-r.scrollTop;return io(i||n).direction==="rtl"&&(l+=ll(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:l,y:c}}function QI(t){var e=io(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function aV(t){return["html","body","#document"].indexOf(fa(t))>=0?t.ownerDocument.body:_s(t)&&QI(t)?t:aV(lv(t))}function hf(t,e){var n;e===void 0&&(e=[]);var r=aV(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=oi(r),o=i?[s].concat(s.visualViewport||[],QI(r)?r:[]):r,l=e.concat(o);return i?l:l.concat(hf(lv(o)))}function VE(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ane(t,e){var n=vc(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function bP(t,e,n){return e===eV?VE(sne(t,n)):Al(e)?ane(e,n):VE(one(Sa(t)))}function lne(t){var e=hf(lv(t)),n=["absolute","fixed"].indexOf(io(t).position)>=0,r=n&&_s(t)?Bd(t):t;return Al(r)?e.filter(function(i){return Al(i)&&rV(i,r)&&fa(i)!=="body"}):[]}function une(t,e,n,r){var i=e==="clippingParents"?lne(t):[].concat(e),s=[].concat(i,[n]),o=s[0],l=s.reduce(function(c,h){var f=bP(t,h,r);return c.top=ll(f.top,c.top),c.right=Mg(f.right,c.right),c.bottom=Mg(f.bottom,c.bottom),c.left=ll(f.left,c.left),c},bP(t,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function lV(t){var e=t.reference,n=t.element,r=t.placement,i=r?vs(r):null,s=r?_c(r):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(i){case qr:c={x:o,y:e.y-n.height};break;case Ci:c={x:o,y:e.y+e.height};break;case Pi:c={x:e.x+e.width,y:l};break;case Wr:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var h=i?KI(i):null;if(h!=null){var f=h==="y"?"height":"width";switch(s){case gc:c[h]=c[h]-(e[f]/2-n[f]/2);break;case rd:c[h]=c[h]+(e[f]/2-n[f]/2);break}}return c}function id(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,l=n.boundary,c=l===void 0?Dte:l,h=n.rootBoundary,f=h===void 0?eV:h,p=n.elementContext,m=p===void 0?Ah:p,y=n.altBoundary,v=y===void 0?!1:y,w=n.padding,R=w===void 0?0:w,T=sV(typeof R!="number"?R:oV(R,$d)),S=m===Ah?kte:Ah,I=t.rects.popper,E=t.elements[v?S:m],P=une(Al(E)?E:E.contextElement||Sa(t.elements.popper),c,f,o),O=vc(t.elements.reference),D=lV({reference:O,element:I,strategy:"absolute",placement:i}),N=VE(Object.assign({},I,D)),q=m===Ah?N:O,Y={top:P.top-q.top+T.top,bottom:q.bottom-P.bottom+T.bottom,left:P.left-q.left+T.left,right:q.right-P.right+T.right},se=t.modifiersData.offset;if(m===Ah&&se){var fe=se[i];Object.keys(Y).forEach(function(ve){var Ve=[Pi,Ci].indexOf(ve)>=0?1:-1,Ae=[qr,Ci].indexOf(ve)>=0?"y":"x";Y[ve]+=fe[Ae]*Ve})}return Y}function cne(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,h=c===void 0?tV:c,f=_c(r),p=f?l?IP:IP.filter(function(v){return _c(v)===f}):$d,m=p.filter(function(v){return h.indexOf(v)>=0});m.length===0&&(m=p);var y=m.reduce(function(v,w){return v[w]=id(t,{placement:w,boundary:i,rootBoundary:s,padding:o})[vs(w)],v},{});return Object.keys(y).sort(function(v,w){return y[v]-y[w]})}function hne(t){if(vs(t)===zI)return[];var e=km(t);return[RP(t),e,RP(e)]}function fne(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!0:o,c=n.fallbackPlacements,h=n.padding,f=n.boundary,p=n.rootBoundary,m=n.altBoundary,y=n.flipVariations,v=y===void 0?!0:y,w=n.allowedAutoPlacements,R=e.options.placement,T=vs(R),S=T===R,I=c||(S||!v?[km(R)]:hne(R)),E=[R].concat(I).reduce(function($e,ke){return $e.concat(vs(ke)===zI?cne(e,{placement:ke,boundary:f,rootBoundary:p,padding:h,flipVariations:v,allowedAutoPlacements:w}):ke)},[]),P=e.rects.reference,O=e.rects.popper,D=new Map,N=!0,q=E[0],Y=0;Y<E.length;Y++){var se=E[Y],fe=vs(se),ve=_c(se)===gc,Ve=[qr,Ci].indexOf(fe)>=0,Ae=Ve?"width":"height",Ce=id(e,{placement:se,boundary:f,rootBoundary:p,altBoundary:m,padding:h}),Fe=Ve?ve?Pi:Wr:ve?Ci:qr;P[Ae]>O[Ae]&&(Fe=km(Fe));var H=km(Fe),he=[];if(s&&he.push(Ce[fe]<=0),l&&he.push(Ce[Fe]<=0,Ce[H]<=0),he.every(function($e){return $e})){q=se,N=!1;break}D.set(se,he)}if(N)for(var oe=v?3:1,_e=function(ke){var at=E.find(function(Zt){var wt=D.get(Zt);if(wt)return wt.slice(0,ke).every(function(Qe){return Qe})});if(at)return q=at,"break"},be=oe;be>0;be--){var Ne=_e(be);if(Ne==="break")break}e.placement!==q&&(e.modifiersData[r]._skip=!0,e.placement=q,e.reset=!0)}}const dne={name:"flip",enabled:!0,phase:"main",fn:fne,requiresIfExists:["offset"],data:{_skip:!1}};function AP(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function CP(t){return[qr,Pi,Ci,Wr].some(function(e){return t[e]>=0})}function pne(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=id(e,{elementContext:"reference"}),l=id(e,{altBoundary:!0}),c=AP(o,r),h=AP(l,i,s),f=CP(c),p=CP(h);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}const mne={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:pne};function gne(t,e,n){var r=vs(t),i=[Wr,qr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],l=s[1];return o=o||0,l=(l||0)*i,[Wr,Pi].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function yne(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=tV.reduce(function(f,p){return f[p]=gne(p,e.rects,s),f},{}),l=o[e.placement],c=l.x,h=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=o}const vne={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:yne};function _ne(t){var e=t.state,n=t.name;e.modifiersData[n]=lV({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const wne={name:"popperOffsets",enabled:!0,phase:"read",fn:_ne,data:{}};function Ene(t){return t==="x"?"y":"x"}function Tne(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!1:o,c=n.boundary,h=n.rootBoundary,f=n.altBoundary,p=n.padding,m=n.tether,y=m===void 0?!0:m,v=n.tetherOffset,w=v===void 0?0:v,R=id(e,{boundary:c,rootBoundary:h,padding:p,altBoundary:f}),T=vs(e.placement),S=_c(e.placement),I=!S,E=KI(T),P=Ene(E),O=e.modifiersData.popperOffsets,D=e.rects.reference,N=e.rects.popper,q=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,Y=typeof q=="number"?{mainAxis:q,altAxis:q}:Object.assign({mainAxis:0,altAxis:0},q),se=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,fe={x:0,y:0};if(O){if(s){var ve,Ve=E==="y"?qr:Wr,Ae=E==="y"?Ci:Pi,Ce=E==="y"?"height":"width",Fe=O[E],H=Fe+R[Ve],he=Fe-R[Ae],oe=y?-N[Ce]/2:0,_e=S===gc?D[Ce]:N[Ce],be=S===gc?-N[Ce]:-D[Ce],Ne=e.elements.arrow,$e=y&&Ne?WI(Ne):{width:0,height:0},ke=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:iV(),at=ke[Ve],Zt=ke[Ae],wt=cf(0,D[Ce],$e[Ce]),Qe=I?D[Ce]/2-oe-wt-at-Y.mainAxis:_e-wt-at-Y.mainAxis,$t=I?-D[Ce]/2+oe+wt+Zt+Y.mainAxis:be+wt+Zt+Y.mainAxis,ct=e.elements.arrow&&Bd(e.elements.arrow),Rt=ct?E==="y"?ct.clientTop||0:ct.clientLeft||0:0,Et=(ve=se==null?void 0:se[E])!=null?ve:0,Nt=Fe+Qe-Et-Rt,et=Fe+$t-Et,sr=cf(y?Mg(H,Nt):H,Fe,y?ll(he,et):he);O[E]=sr,fe[E]=sr-Fe}if(l){var qt,Kr=E==="x"?qr:Wr,Di=E==="x"?Ci:Pi,Lt=O[P],Wt=P==="y"?"height":"width",kn=Lt+R[Kr],pn=Lt-R[Di],Nn=[qr,Wr].indexOf(T)!==-1,le=(qt=se==null?void 0:se[P])!=null?qt:0,ze=Nn?kn:Lt-D[Wt]-N[Wt]-le+Y.altAxis,Q=Nn?Lt+D[Wt]+N[Wt]-le-Y.altAxis:pn,$=y&&Nn?Kte(ze,Lt,Q):cf(y?ze:kn,Lt,y?Q:pn);O[P]=$,fe[P]=$-Lt}e.modifiersData[r]=fe}}const Ine={name:"preventOverflow",enabled:!0,phase:"main",fn:Tne,requiresIfExists:["offset"]};function Sne(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function xne(t){return t===oi(t)||!_s(t)?HI(t):Sne(t)}function Rne(t){var e=t.getBoundingClientRect(),n=yc(e.width)/t.offsetWidth||1,r=yc(e.height)/t.offsetHeight||1;return n!==1||r!==1}function bne(t,e,n){n===void 0&&(n=!1);var r=_s(e),i=_s(e)&&Rne(e),s=Sa(e),o=vc(t,i,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((fa(e)!=="body"||QI(s))&&(l=xne(e)),_s(e)?(c=vc(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=GI(s))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function Ane(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&i(c)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Cne(t){var e=Ane(t);return zte.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Pne(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function One(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var PP={placement:"bottom",modifiers:[],strategy:"absolute"};function OP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Dne(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?PP:i;return function(l,c,h){h===void 0&&(h=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},PP,s),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},p=[],m=!1,y={state:f,setOptions:function(T){var S=typeof T=="function"?T(f.options):T;w(),f.options=Object.assign({},s,f.options,S),f.scrollParents={reference:Al(l)?hf(l):l.contextElement?hf(l.contextElement):[],popper:hf(c)};var I=Cne(One([].concat(r,f.options.modifiers)));return f.orderedModifiers=I.filter(function(E){return E.enabled}),v(),y.update()},forceUpdate:function(){if(!m){var T=f.elements,S=T.reference,I=T.popper;if(OP(S,I)){f.rects={reference:bne(S,Bd(I),f.options.strategy==="fixed"),popper:WI(I)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(Y){return f.modifiersData[Y.name]=Object.assign({},Y.data)});for(var E=0;E<f.orderedModifiers.length;E++){if(f.reset===!0){f.reset=!1,E=-1;continue}var P=f.orderedModifiers[E],O=P.fn,D=P.options,N=D===void 0?{}:D,q=P.name;typeof O=="function"&&(f=O({state:f,options:N,name:q,instance:y})||f)}}}},update:Pne(function(){return new Promise(function(R){y.forceUpdate(),R(f)})}),destroy:function(){w(),m=!0}};if(!OP(l,c))return y;y.setOptions(h).then(function(R){!m&&h.onFirstUpdate&&h.onFirstUpdate(R)});function v(){f.orderedModifiers.forEach(function(R){var T=R.name,S=R.options,I=S===void 0?{}:S,E=R.effect;if(typeof E=="function"){var P=E({state:f,name:T,instance:y,options:I}),O=function(){};p.push(P||O)}})}function w(){p.forEach(function(R){return R()}),p=[]}return y}}const kne=Dne({defaultModifiers:[mne,wne,ene,nne,vne,dne,Ine,Yte]}),Nne=["enabled","placement","strategy","modifiers"];function Lne(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Mne={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},Fne={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const s=r.getAttribute("aria-describedby");if(s&&s.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",s?`${s},${n.id}`:n.id)}}},Vne=[];function $ne(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:s="absolute",modifiers:o=Vne}=n,l=Lne(n,Nne);const c=x.useRef(o),h=x.useRef(),f=x.useCallback(()=>{var R;(R=h.current)==null||R.update()},[]),p=x.useCallback(()=>{var R;(R=h.current)==null||R.forceUpdate()},[]),[m,y]=Ote(x.useState({placement:i,update:f,forceUpdate:p,attributes:{},styles:{popper:{},arrow:{}}})),v=x.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:R})=>{const T={},S={};Object.keys(R.elements).forEach(I=>{T[I]=R.styles[I],S[I]=R.attributes[I]}),y({state:R,styles:T,attributes:S,update:f,forceUpdate:p,placement:R.placement})}}),[f,p,y]),w=x.useMemo(()=>(uf(c.current,o)||(c.current=o),c.current),[o]);return x.useEffect(()=>{!h.current||!r||h.current.setOptions({placement:i,strategy:s,modifiers:[...w,v,Mne]})},[s,i,v,r,w]),x.useEffect(()=>{if(!(!r||t==null||e==null))return h.current=kne(t,e,Object.assign({},l,{placement:i,strategy:s,modifiers:[...w,Fne,v]})),()=>{h.current!=null&&(h.current.destroy(),h.current=void 0,y(R=>Object.assign({},R,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),m}function Fg(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var Bne=function(){},jne=Bne;const Une=od(jne),DP=()=>{};function zne(t){return t.button===0}function qne(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const x0=t=>t&&("current"in t?t.current:t),kP={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Wne(t,e=DP,{disabled:n,clickTrigger:r="click"}={}){const i=x.useRef(!1),s=x.useRef(!1),o=x.useCallback(h=>{const f=x0(t);Une(!!f,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!f||qne(h)||!zne(h)||!!Fg(f,h.target)||s.current,s.current=!1},[t]),l=wn(h=>{const f=x0(t);f&&Fg(f,h.target)&&(s.current=!0)}),c=wn(h=>{i.current||e(h)});x.useEffect(()=>{var h,f;if(n||t==null)return;const p=Vd(x0(t)),m=p.defaultView||window;let y=(h=m.event)!=null?h:(f=m.parent)==null?void 0:f.event,v=null;kP[r]&&(v=jo(p,kP[r],l,!0));const w=jo(p,r,o,!0),R=jo(p,r,S=>{if(S===y){y=void 0;return}c(S)});let T=[];return"ontouchstart"in p.documentElement&&(T=[].slice.call(p.body.children).map(S=>jo(S,"mousemove",DP))),()=>{v==null||v(),w(),R(),T.forEach(S=>S())}},[t,n,r,o,l,c])}function Kne(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function Hne(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function Gne({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:s,containerPadding:o,arrowElement:l,popperConfig:c={}}){var h,f,p,m,y;const v=Kne(c.modifiers);return Object.assign({},c,{placement:n,enabled:t,strategy:s?"fixed":c.strategy,modifiers:Hne(Object.assign({},v,{eventListeners:{enabled:e,options:(h=v.eventListeners)==null?void 0:h.options},preventOverflow:Object.assign({},v.preventOverflow,{options:o?Object.assign({padding:o},(f=v.preventOverflow)==null?void 0:f.options):(p=v.preventOverflow)==null?void 0:p.options}),offset:{options:Object.assign({offset:i},(m=v.offset)==null?void 0:m.options)},arrow:Object.assign({},v.arrow,{enabled:!!l,options:Object.assign({},(y=v.arrow)==null?void 0:y.options,{element:l})}),flip:Object.assign({enabled:!!r},v.flip)}))})}const Qne=["children"];function Yne(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Xne=()=>{};function uV(t={}){const e=x.useContext(av),[n,r]=jF(),i=x.useRef(!1),{flip:s,offset:o,rootCloseEvent:l,fixed:c=!1,placement:h,popperConfig:f={},enableEventListeners:p=!0,usePopper:m=!!e}=t,y=(e==null?void 0:e.show)==null?!!t.show:e.show;y&&!i.current&&(i.current=!0);const v=O=>{e==null||e.toggle(!1,O)},{placement:w,setMenu:R,menuElement:T,toggleElement:S}=e||{},I=$ne(S,T,Gne({placement:h||w||"bottom-start",enabled:m,enableEvents:p??y,offset:o,flip:s,fixed:c,arrowElement:n,popperConfig:f})),E=Object.assign({ref:R||Xne,"aria-labelledby":S==null?void 0:S.id},I.attributes.popper,{style:I.styles.popper}),P={show:y,placement:w,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:m?I:null,arrowProps:m?Object.assign({ref:r},I.attributes.arrow,{style:I.styles.arrow}):{}};return Wne(T,v,{clickTrigger:l,disabled:!y}),[E,P]}const Jne={usePopper:!0};function YI(t){let{children:e}=t,n=Yne(t,Qne);const[r,i]=uV(n);return A.jsx(A.Fragment,{children:e(r,i)})}YI.displayName="DropdownMenu";YI.defaultProps=Jne;const Vg={prefix:String(Math.round(Math.random()*1e10)),current:0},cV=Yt.createContext(Vg),Zne=Yt.createContext(!1);let ere=!!(typeof window<"u"&&window.document&&window.document.createElement),R0=new WeakMap;function tre(t=!1){let e=x.useContext(cV),n=x.useRef(null);if(n.current===null&&!t){var r,i;let s=(r=Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||r===void 0||(i=r.ReactCurrentOwner)===null||i===void 0?void 0:i.current;if(s){let o=R0.get(s);o==null?R0.set(s,{id:e.current,state:s.memoizedState}):s.memoizedState!==o.state&&(e.current=o.id,R0.delete(s))}n.current=++e.current}return n.current}function nre(t){let e=x.useContext(cV);e===Vg&&!ere&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=tre(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function rre(t){let e=Yt.useId(),[n]=x.useState(lre()),r=n?"react-aria":`react-aria${Vg.prefix}`;return t||`${r}-${e}`}const ire=typeof Yt.useId=="function"?rre:nre;function sre(){return!1}function ore(){return!0}function are(t){return()=>{}}function lre(){return typeof Yt.useSyncExternalStore=="function"?Yt.useSyncExternalStore(are,sre,ore):x.useContext(Zne)}const hV=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},NP=()=>{};function fV(){const t=ire(),{show:e=!1,toggle:n=NP,setToggle:r,menuElement:i}=x.useContext(av)||{},s=x.useCallback(l=>{n(!e,l)},[e,n]),o={id:t,ref:r||NP,onClick:s,"aria-expanded":!!e};return i&&hV(i)&&(o["aria-haspopup"]=!0),[o,{show:e,toggle:n}]}function dV({children:t}){const[e,n]=fV();return A.jsx(A.Fragment,{children:t(e,n)})}dV.displayName="DropdownToggle";const ure=x.createContext(null),sd=(t,e=null)=>t!=null?String(t):e||null,Cl=ure,pV=x.createContext(null);pV.displayName="NavContext";const XI=pV,cre="data-rr-ui-",hre="rrUi";function Bc(t){return`${cre}${t}`}function fre(t){return`${hre}${t}`}const dre=["eventKey","disabled","onClick","active","as"];function pre(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function mV({key:t,href:e,active:n,disabled:r,onClick:i}){const s=x.useContext(Cl),o=x.useContext(XI),{activeKey:l}=o||{},c=sd(t,e),h=n==null&&t!=null?sd(l)===c:n;return[{onClick:wn(p=>{r||(i==null||i(p),s&&!p.isPropagationStopped()&&s(c,p))}),"aria-disabled":r||void 0,"aria-selected":h,[Bc("dropdown-item")]:""},{isActive:h}]}const gV=x.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:o=$I}=t,l=pre(t,dre);const[c]=mV({key:n,href:l.href,disabled:r,onClick:i,active:s});return A.jsx(o,Object.assign({},l,{ref:e},c))});gV.displayName="DropdownItem";const yV=x.createContext($c?window:void 0);yV.Provider;function uv(){return x.useContext(yV)}function LP(){const t=ZF(),e=x.useRef(null),n=x.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function jd({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${Bc("dropdown-item")}]`,focusFirstItemOnShow:s,placement:o="bottom-start",children:l}){const c=uv(),[h,f]=Cte(e,t,r),[p,m]=LP(),y=p.current,[v,w]=LP(),R=v.current,T=zF(h),S=x.useRef(null),I=x.useRef(!1),E=x.useContext(Cl),P=x.useCallback((se,fe,ve=fe==null?void 0:fe.type)=>{f(se,{originalEvent:fe,source:ve})},[f]),O=wn((se,fe)=>{n==null||n(se,fe),P(!1,fe,"select"),fe.isPropagationStopped()||E==null||E(se,fe)}),D=x.useMemo(()=>({toggle:P,placement:o,show:h,menuElement:y,toggleElement:R,setMenu:m,setToggle:w}),[P,o,h,y,R,m,w]);y&&T&&!h&&(I.current=y.contains(y.ownerDocument.activeElement));const N=wn(()=>{R&&R.focus&&R.focus()}),q=wn(()=>{const se=S.current;let fe=s;if(fe==null&&(fe=p.current&&hV(p.current)?"keyboard":!1),fe===!1||fe==="keyboard"&&!/^key.+$/.test(se))return;const ve=Ms(p.current,i)[0];ve&&ve.focus&&ve.focus()});x.useEffect(()=>{h?q():I.current&&(I.current=!1,N())},[h,I,N,q]),x.useEffect(()=>{S.current=null});const Y=(se,fe)=>{if(!p.current)return null;const ve=Ms(p.current,i);let Ve=ve.indexOf(se)+fe;return Ve=Math.max(0,Math.min(Ve,ve.length)),ve[Ve]};return hte(x.useCallback(()=>c.document,[c]),"keydown",se=>{var fe,ve;const{key:Ve}=se,Ae=se.target,Ce=(fe=p.current)==null?void 0:fe.contains(Ae),Fe=(ve=v.current)==null?void 0:ve.contains(Ae);if(/input|textarea/i.test(Ae.tagName)&&(Ve===" "||Ve!=="Escape"&&Ce||Ve==="Escape"&&Ae.type==="search")||!Ce&&!Fe||Ve==="Tab"&&(!p.current||!h))return;S.current=se.type;const he={originalEvent:se,source:se.type};switch(Ve){case"ArrowUp":{const oe=Y(Ae,-1);oe&&oe.focus&&oe.focus(),se.preventDefault();return}case"ArrowDown":if(se.preventDefault(),!h)f(!0,he);else{const oe=Y(Ae,1);oe&&oe.focus&&oe.focus()}return;case"Tab":LI(Ae.ownerDocument,"keyup",oe=>{var _e;(oe.key==="Tab"&&!oe.target||!((_e=p.current)!=null&&_e.contains(oe.target)))&&f(!1,he)},{once:!0});break;case"Escape":Ve==="Escape"&&(se.preventDefault(),se.stopPropagation()),f(!1,he);break}}),A.jsx(Cl.Provider,{value:O,children:A.jsx(av.Provider,{value:D,children:l})})}jd.displayName="Dropdown";jd.Menu=YI;jd.Toggle=dV;jd.Item=gV;const vV=x.createContext({});vV.displayName="DropdownContext";const _V=vV,wV=x.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:r="separator",...i},s)=>(e=Xe(e,"dropdown-divider"),A.jsx(n,{ref:s,className:Be(t,e),role:r,...i})));wV.displayName="DropdownDivider";const mre=wV,EV=x.forwardRef(({className:t,bsPrefix:e,as:n="div",role:r="heading",...i},s)=>(e=Xe(e,"dropdown-header"),A.jsx(n,{ref:s,className:Be(t,e),role:r,...i})));EV.displayName="DropdownHeader";const gre=EV,TV=x.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:s,as:o=WF,...l},c)=>{const h=Xe(t,"dropdown-item"),[f,p]=mV({key:n,href:l.href,disabled:r,onClick:i,active:s});return A.jsx(o,{...l,...f,ref:c,className:Be(e,h,p.isActive&&"active",r&&"disabled")})});TV.displayName="DropdownItem";const yre=TV,IV=x.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Xe(e,"dropdown-item-text"),A.jsx(n,{ref:i,className:Be(t,e),...r})));IV.displayName="DropdownItemText";const vre=IV,SV=x.createContext(null);SV.displayName="InputGroupContext";const JI=SV,xV=x.createContext(null);xV.displayName="NavbarContext";const Bl=xV;function RV(t,e){return t}function bV(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",s=n?"bottom-end":"bottom-start",o=n?"bottom-start":"bottom-end",l=n?"right-start":"left-start",c=n?"right-end":"left-end",h=n?"left-start":"right-start",f=n?"left-end":"right-end";let p=t?o:s;return e==="up"?p=t?i:r:e==="end"?p=t?f:h:e==="start"?p=t?c:l:e==="down-centered"?p="bottom":e==="up-centered"&&(p="top"),p}const AV=x.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i=!0,show:s,renderOnMount:o,as:l="div",popperConfig:c,variant:h,...f},p)=>{let m=!1;const y=x.useContext(Bl),v=Xe(t,"dropdown-menu"),{align:w,drop:R,isRTL:T}=x.useContext(_V);n=n||w;const S=x.useContext(JI),I=[];if(n)if(typeof n=="object"){const se=Object.keys(n);if(se.length){const fe=se[0],ve=n[fe];m=ve==="start",I.push(`${v}-${fe}-${ve}`)}}else n==="end"&&(m=!0);const E=bV(m,R,T),[P,{hasShown:O,popper:D,show:N,toggle:q}]=uV({flip:i,rootCloseEvent:r,show:s,usePopper:!y&&I.length===0,offset:[0,2],popperConfig:c,placement:E});if(P.ref=$l(RV(p),P.ref),Ng(()=>{N&&(D==null||D.update())},[N]),!O&&!o&&!S)return null;typeof l!="string"&&(P.show=N,P.close=()=>q==null?void 0:q(!1),P.align=n);let Y=f.style;return D!=null&&D.placement&&(Y={...f.style,...P.style},f["x-placement"]=D.placement),A.jsx(l,{...f,...P,style:Y,...(I.length||y)&&{"data-bs-popper":"static"},className:Be(e,v,N&&"show",m&&`${v}-end`,h&&`${v}-${h}`,...I)})});AV.displayName="DropdownMenu";const _re=AV,CV=x.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=Lg,...s},o)=>{const l=Xe(t,"dropdown-toggle"),c=x.useContext(av);r!==void 0&&(s.bsPrefix=r);const[h]=fV();return h.ref=$l(h.ref,RV(o)),A.jsx(i,{className:Be(n,l,e&&`${l}-split`,(c==null?void 0:c.show)&&"show"),...h,...s})});CV.displayName="DropdownToggle";const wre=CV,PV=x.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:i,className:s,align:o="start",onSelect:l,onToggle:c,focusFirstItemOnShow:h,as:f="div",navbar:p,autoClose:m=!0,...y}=NI(t,{show:"onToggle"}),v=x.useContext(JI),w=Xe(n,"dropdown"),R=DF(),T=D=>m===!1?D==="click":m==="inside"?D!=="rootClose":m==="outside"?D!=="select":!0,S=wn((D,N)=>{N.originalEvent.currentTarget===document&&(N.source!=="keydown"||N.originalEvent.key==="Escape")&&(N.source="rootClose"),T(N.source)&&(c==null||c(D,N))}),E=bV(o==="end",r,R),P=x.useMemo(()=>({align:o,drop:r,isRTL:R}),[o,r,R]),O={down:w,"down-centered":`${w}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return A.jsx(_V.Provider,{value:P,children:A.jsx(jd,{placement:E,show:i,onSelect:l,onToggle:S,focusFirstItemOnShow:h,itemSelector:`.${w}-item:not(.disabled):not(:disabled)`,children:v?y.children:A.jsx(f,{...y,ref:e,className:Be(s,i&&"show",O[r])})})})});PV.displayName="Dropdown";const Ch=Object.assign(PV,{Toggle:wre,Menu:_re,Item:yre,ItemText:vre,Divider:mre,Header:gre}),Ere={type:Ys.string,tooltip:Ys.bool,as:Ys.elementType},ZI=x.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>A.jsx(t,{...i,ref:s,className:Be(e,`${n}-${r?"tooltip":"feedback"}`)}));ZI.displayName="Feedback";ZI.propTypes=Ere;const OV=ZI,Tre=x.createContext({}),so=Tre,DV=x.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...l},c)=>{const{controlId:h}=x.useContext(so);return e=Xe(e,"form-check-input"),A.jsx(o,{...l,ref:c,type:r,id:t||h,className:Be(n,e,i&&"is-valid",s&&"is-invalid")})});DV.displayName="FormCheckInput";const cv=DV,kV=x.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=x.useContext(so);return t=Xe(t,"form-check-label"),A.jsx("label",{...r,ref:i,htmlFor:n||s,className:Be(e,t)})});kV.displayName="FormCheckLabel";const $E=kV,NV=x.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:l=!1,feedbackTooltip:c=!1,feedback:h,feedbackType:f,className:p,style:m,title:y="",type:v="checkbox",label:w,children:R,as:T="input",...S},I)=>{e=Xe(e,"form-check"),n=Xe(n,"form-switch");const{controlId:E}=x.useContext(so),P=x.useMemo(()=>({controlId:t||E}),[E,t]),O=!R&&w!=null&&w!==!1||Rte(R,$E),D=A.jsx(cv,{...S,type:v==="switch"?"checkbox":v,ref:I,isValid:o,isInvalid:l,disabled:s,as:T});return A.jsx(so.Provider,{value:P,children:A.jsx("div",{style:m,className:Be(p,O&&e,r&&`${e}-inline`,i&&`${e}-reverse`,v==="switch"&&n),children:R||A.jsxs(A.Fragment,{children:[D,O&&A.jsx($E,{title:y,children:w}),h&&A.jsx(OV,{type:f,tooltip:c,children:h})]})})})});NV.displayName="FormCheck";const $g=Object.assign(NV,{Input:cv,Label:$E}),LV=x.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:l=!1,plaintext:c,readOnly:h,as:f="input",...p},m)=>{const{controlId:y}=x.useContext(so);return t=Xe(t,"form-control"),A.jsx(f,{...p,type:e,size:r,ref:m,readOnly:h,id:i||y,className:Be(s,c?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,o&&"is-valid",l&&"is-invalid")})});LV.displayName="FormControl";const Ire=Object.assign(LV,{Feedback:OV}),MV=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Xe(e,"form-floating"),A.jsx(n,{ref:i,className:Be(t,e),...r})));MV.displayName="FormFloating";const Sre=MV,FV=x.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=x.useMemo(()=>({controlId:t}),[t]);return A.jsx(so.Provider,{value:i,children:A.jsx(e,{...n,ref:r})})});FV.displayName="FormGroup";const VV=FV,$V=x.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:s,...o},l)=>{const{controlId:c}=x.useContext(so);e=Xe(e,"form-label");let h="col-form-label";typeof n=="string"&&(h=`${h} ${h}-${n}`);const f=Be(i,e,r&&"visually-hidden",n&&h);return s=s||c,n?A.jsx(Uh,{ref:l,as:"label",className:f,htmlFor:s,...o}):A.jsx(t,{ref:l,className:f,htmlFor:s,...o})});$V.displayName="FormLabel";const xre=$V,BV=x.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=x.useContext(so);return t=Xe(t,"form-range"),A.jsx("input",{...r,type:"range",ref:i,className:Be(e,t),id:n||s})});BV.displayName="FormRange";const Rre=BV,jV=x.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...l},c)=>{const{controlId:h}=x.useContext(so);return t=Xe(t,"form-select"),A.jsx("select",{...l,size:n,ref:c,className:Be(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||h})});jV.displayName="FormSelect";const bre=jV,UV=x.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=Xe(t,"form-text"),A.jsx(n,{...i,ref:s,className:Be(e,t,r&&"text-muted")})));UV.displayName="FormText";const Are=UV,zV=x.forwardRef((t,e)=>A.jsx($g,{...t,ref:e,type:"switch"}));zV.displayName="Switch";const Cre=Object.assign(zV,{Input:$g.Input,Label:$g.Label}),qV=x.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=Xe(t,"form-floating"),A.jsxs(VV,{ref:o,className:Be(e,t),controlId:r,...s,children:[n,A.jsx("label",{htmlFor:r,children:i})]})));qV.displayName="FloatingLabel";const Pre=qV,Ore={_ref:Ys.any,validated:Ys.bool,as:Ys.elementType},eS=x.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>A.jsx(n,{...r,ref:i,className:Be(t,e&&"was-validated")}));eS.displayName="Form";eS.propTypes=Ore;const Dre=Object.assign(eS,{Group:VV,Control:Ire,Floating:Sre,Check:$g,Switch:Cre,Label:xre,Text:Are,Range:Rre,Select:bre,FloatingLabel:Pre}),WV=x.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Xe(e,"input-group-text"),A.jsx(n,{ref:i,className:Be(t,e),...r})));WV.displayName="InputGroupText";const tS=WV,kre=t=>A.jsx(tS,{children:A.jsx(cv,{type:"checkbox",...t})}),Nre=t=>A.jsx(tS,{children:A.jsx(cv,{type:"radio",...t})}),KV=x.forwardRef(({bsPrefix:t,size:e,hasValidation:n,className:r,as:i="div",...s},o)=>{t=Xe(t,"input-group");const l=x.useMemo(()=>({}),[]);return A.jsx(JI.Provider,{value:l,children:A.jsx(i,{ref:o,...s,className:Be(r,t,e&&`${t}-${e}`,n&&"has-validation")})})});KV.displayName="InputGroup";const Lre=Object.assign(KV,{Text:tS,Radio:Nre,Checkbox:kre}),Mre=x.createContext(null),HV=Mre,Fre=["as","active","eventKey"];function Vre(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function GV({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=x.useContext(Cl),l=x.useContext(XI),c=x.useContext(HV);let h=n;const f={role:i};if(l){!i&&l.role==="tablist"&&(f.role="tab");const p=l.getControllerId(t??null),m=l.getControlledId(t??null);f[Bc("event-key")]=t,f.id=p||r,h=n==null&&t!=null?l.activeKey===t:n,(h||!(c!=null&&c.unmountOnExit)&&!(c!=null&&c.mountOnEnter))&&(f["aria-controls"]=m)}return f.role==="tab"&&(f["aria-selected"]=h,h||(f.tabIndex=-1),s&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=wn(p=>{s||(e==null||e(p),t!=null&&o&&!p.isPropagationStopped()&&o(t,p))}),[f,{isActive:h}]}const QV=x.forwardRef((t,e)=>{let{as:n=$I,active:r,eventKey:i}=t,s=Vre(t,Fre);const[o,l]=GV(Object.assign({key:sd(i,s.href),active:r},s));return o[Bc("active")]=l.isActive,A.jsx(n,Object.assign({},s,o,{ref:e}))});QV.displayName="NavItem";const $re=QV,Bre=["as","onSelect","activeKey","role","onKeyDown"];function jre(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const MP=()=>{},FP=Bc("event-key"),YV=x.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,l=jre(t,Bre);const c=ZF(),h=x.useRef(!1),f=x.useContext(Cl),p=x.useContext(HV);let m,y;p&&(s=s||"tablist",i=p.activeKey,m=p.getControlledId,y=p.getControllerId);const v=x.useRef(null),w=I=>{const E=v.current;if(!E)return null;const P=Ms(E,`[${FP}]:not([aria-disabled=true])`),O=E.querySelector("[aria-selected=true]");if(!O||O!==document.activeElement)return null;const D=P.indexOf(O);if(D===-1)return null;let N=D+I;return N>=P.length&&(N=0),N<0&&(N=P.length-1),P[N]},R=(I,E)=>{I!=null&&(r==null||r(I,E),f==null||f(I,E))},T=I=>{if(o==null||o(I),!p)return;let E;switch(I.key){case"ArrowLeft":case"ArrowUp":E=w(-1);break;case"ArrowRight":case"ArrowDown":E=w(1);break;default:return}E&&(I.preventDefault(),R(E.dataset[fre("EventKey")]||null,I),h.current=!0,c())};x.useEffect(()=>{if(v.current&&h.current){const I=v.current.querySelector(`[${FP}][aria-selected=true]`);I==null||I.focus()}h.current=!1});const S=$l(e,v);return A.jsx(Cl.Provider,{value:R,children:A.jsx(XI.Provider,{value:{role:s,activeKey:sd(i),getControlledId:m||MP,getControllerId:y||MP},children:A.jsx(n,Object.assign({},l,{onKeyDown:T,ref:S,role:s}))})})});YV.displayName="Nav";const Ure=Object.assign(YV,{Item:$re});var am;function VP(t){if((!am&&am!==0||t)&&$c){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),am=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return am}function b0(t){t===void 0&&(t=Vd());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function zre(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const $P=Bc("modal-open");class qre{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return zre(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Qs(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute($P,""),Qs(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute($P),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const nS=qre,A0=(t,e)=>$c?t==null?(e||Vd()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function Wre(t,e){const n=uv(),[r,i]=x.useState(()=>A0(t,n==null?void 0:n.document));if(!r){const s=A0(t);s&&i(s)}return x.useEffect(()=>{e&&r&&e(r)},[e,r]),x.useEffect(()=>{const s=A0(t);s!==r&&i(s)},[t,r]),r}function Kre({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=x.useRef(null),o=x.useRef(e),l=wn(n);x.useEffect(()=>{e?o.current=!0:l(s.current)},[e,l]);const c=$l(s,t.ref),h=x.cloneElement(t,{ref:c});return e?h:i||!o.current&&r?null:h}function Hre({in:t,onTransition:e}){const n=x.useRef(null),r=x.useRef(!0),i=wn(e);return Ng(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),Ng(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function Gre({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=x.useState(!e);e&&s&&o(!1);const l=Hre({in:!!e,onTransition:h=>{const f=()=>{h.isStale()||(h.in?r==null||r(h.element,h.initial):(o(!0),n==null||n(h.element)))};Promise.resolve(i(h)).then(f,p=>{throw h.in||o(!0),p})}}),c=$l(l,t.ref);return s&&!e?null:x.cloneElement(t,{ref:c})}function BP(t,e,n){return t?A.jsx(t,Object.assign({},n)):e?A.jsx(Gre,Object.assign({},n,{transition:e})):A.jsx(Kre,Object.assign({},n))}function Qre(t){return t.code==="Escape"||t.keyCode===27}const Yre=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Xre(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let C0;function Jre(t){return C0||(C0=new nS({ownerDocument:t==null?void 0:t.document})),C0}function Zre(t){const e=uv(),n=t||Jre(e),r=x.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:x.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:x.useCallback(i=>{r.current.backdrop=i},[])})}const XV=x.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:l=!0,keyboard:c=!0,onBackdropClick:h,onEscapeKeyDown:f,transition:p,runTransition:m,backdropTransition:y,runBackdropTransition:v,autoFocus:w=!0,enforceFocus:R=!0,restoreFocus:T=!0,restoreFocusOptions:S,renderDialog:I,renderBackdrop:E=et=>A.jsx("div",Object.assign({},et)),manager:P,container:O,onShow:D,onHide:N=()=>{},onExit:q,onExited:Y,onExiting:se,onEnter:fe,onEntering:ve,onEntered:Ve}=t,Ae=Xre(t,Yre);const Ce=uv(),Fe=Wre(O),H=Zre(P),he=UF(),oe=zF(n),[_e,be]=x.useState(!n),Ne=x.useRef(null);x.useImperativeHandle(e,()=>H,[H]),$c&&!oe&&n&&(Ne.current=b0(Ce==null?void 0:Ce.document)),n&&_e&&be(!1);const $e=wn(()=>{if(H.add(),$t.current=jo(document,"keydown",wt),Qe.current=jo(document,"focus",()=>setTimeout(at),!0),D&&D(),w){var et,sr;const qt=b0((et=(sr=H.dialog)==null?void 0:sr.ownerDocument)!=null?et:Ce==null?void 0:Ce.document);H.dialog&&qt&&!Fg(H.dialog,qt)&&(Ne.current=qt,H.dialog.focus())}}),ke=wn(()=>{if(H.remove(),$t.current==null||$t.current(),Qe.current==null||Qe.current(),T){var et;(et=Ne.current)==null||et.focus==null||et.focus(S),Ne.current=null}});x.useEffect(()=>{!n||!Fe||$e()},[n,Fe,$e]),x.useEffect(()=>{_e&&ke()},[_e,ke]),YF(()=>{ke()});const at=wn(()=>{if(!R||!he()||!H.isTopModal())return;const et=b0(Ce==null?void 0:Ce.document);H.dialog&&et&&!Fg(H.dialog,et)&&H.dialog.focus()}),Zt=wn(et=>{et.target===et.currentTarget&&(h==null||h(et),l===!0&&N())}),wt=wn(et=>{c&&Qre(et)&&H.isTopModal()&&(f==null||f(et),et.defaultPrevented||N())}),Qe=x.useRef(),$t=x.useRef(),ct=(...et)=>{be(!0),Y==null||Y(...et)};if(!Fe)return null;const Rt=Object.assign({role:r,ref:H.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Ae,{style:s,className:i,tabIndex:-1});let Et=I?I(Rt):A.jsx("div",Object.assign({},Rt,{children:x.cloneElement(o,{role:"document"})}));Et=BP(p,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:q,onExiting:se,onExited:ct,onEnter:fe,onEntering:ve,onEntered:Ve,children:Et});let Nt=null;return l&&(Nt=E({ref:H.setBackdropRef,onClick:Zt}),Nt=BP(y,v,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Nt})),A.jsx(A.Fragment,{children:Ou.createPortal(A.jsxs(A.Fragment,{children:[Nt,Et]}),Fe)})});XV.displayName="Modal";const JV=Object.assign(XV,{Manager:nS});function eie(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function tie(t,e){t.classList?t.classList.add(e):eie(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function jP(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function nie(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=jP(t.className,e):t.setAttribute("class",jP(t.className&&t.className.baseVal||"",e))}const hu={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class ZV extends nS{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Qs(n,{[e]:`${parseFloat(Qs(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Qs(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(tie(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Ms(n,hu.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),Ms(n,hu.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),Ms(n,hu.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();nie(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Ms(n,hu.FIXED_CONTENT).forEach(s=>this.restore(r,s)),Ms(n,hu.STICKY_CONTENT).forEach(s=>this.restore(i,s)),Ms(n,hu.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let P0;function e$(t){return P0||(P0=new ZV(t)),P0}const t$=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Xe(e,"modal-body"),A.jsx(n,{ref:i,className:Be(t,e),...r})));t$.displayName="ModalBody";const rie=t$,iie=x.createContext({onHide(){}}),rS=iie,n$=x.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:l,...c},h)=>{t=Xe(t,"modal");const f=`${t}-dialog`,p=typeof s=="string"?`${t}-fullscreen-${s}`:`${t}-fullscreen`;return A.jsx("div",{...c,ref:h,className:Be(f,e,i&&`${t}-${i}`,r&&`${f}-centered`,l&&`${f}-scrollable`,s&&p),children:A.jsx("div",{className:Be(`${t}-content`,n),children:o})})});n$.displayName="ModalDialog";const r$=n$,i$=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Xe(e,"modal-footer"),A.jsx(n,{ref:i,className:Be(t,e),...r})));i$.displayName="ModalFooter";const sie=i$,oie=x.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const l=x.useContext(rS),c=wn(()=>{l==null||l.onHide(),r==null||r()});return A.jsxs("div",{ref:o,...s,children:[i,n&&A.jsx(Tte,{"aria-label":t,variant:e,onClick:c})]})}),s$=oie,o$=x.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=Xe(t,"modal-header"),A.jsx(s$,{ref:s,...i,className:Be(e,t),closeLabel:n,closeButton:r})));o$.displayName="ModalHeader";const aie=o$,lie=BF("h4"),a$=x.forwardRef(({className:t,bsPrefix:e,as:n=lie,...r},i)=>(e=Xe(e,"modal-title"),A.jsx(n,{ref:i,className:Be(t,e),...r})));a$.displayName="ModalTitle";const uie=a$;function cie(t){return A.jsx(BI,{...t,timeout:null})}function hie(t){return A.jsx(BI,{...t,timeout:null})}const l$=x.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o=r$,"aria-labelledby":l,"aria-describedby":c,"aria-label":h,show:f=!1,animation:p=!0,backdrop:m=!0,keyboard:y=!0,onEscapeKeyDown:v,onShow:w,onHide:R,container:T,autoFocus:S=!0,enforceFocus:I=!0,restoreFocus:E=!0,restoreFocusOptions:P,onEntered:O,onExit:D,onExiting:N,onEnter:q,onEntering:Y,onExited:se,backdropClassName:fe,manager:ve,...Ve},Ae)=>{const[Ce,Fe]=x.useState({}),[H,he]=x.useState(!1),oe=x.useRef(!1),_e=x.useRef(!1),be=x.useRef(null),[Ne,$e]=jF(),ke=$l(Ae,$e),at=wn(R),Zt=DF();t=Xe(t,"modal");const wt=x.useMemo(()=>({onHide:at}),[at]);function Qe(){return ve||e$({isRTL:Zt})}function $t(le){if(!$c)return;const ze=Qe().getScrollbarWidth()>0,Q=le.scrollHeight>Vd(le).documentElement.clientHeight;Fe({paddingRight:ze&&!Q?VP():void 0,paddingLeft:!ze&&Q?VP():void 0})}const ct=wn(()=>{Ne&&$t(Ne.dialog)});YF(()=>{ME(window,"resize",ct),be.current==null||be.current()});const Rt=()=>{oe.current=!0},Et=le=>{oe.current&&Ne&&le.target===Ne.dialog&&(_e.current=!0),oe.current=!1},Nt=()=>{he(!0),be.current=FF(Ne.dialog,()=>{he(!1)})},et=le=>{le.target===le.currentTarget&&Nt()},sr=le=>{if(m==="static"){et(le);return}if(_e.current||le.target!==le.currentTarget){_e.current=!1;return}R==null||R()},qt=le=>{y?v==null||v(le):(le.preventDefault(),m==="static"&&Nt())},Kr=(le,ze)=>{le&&$t(le),q==null||q(le,ze)},Di=le=>{be.current==null||be.current(),D==null||D(le)},Lt=(le,ze)=>{Y==null||Y(le,ze),LI(window,"resize",ct)},Wt=le=>{le&&(le.style.display=""),se==null||se(le),ME(window,"resize",ct)},kn=x.useCallback(le=>A.jsx("div",{...le,className:Be(`${t}-backdrop`,fe,!p&&"show")}),[p,fe,t]),pn={...n,...Ce};pn.display="block";const Nn=le=>A.jsx("div",{role:"dialog",...le,style:pn,className:Be(e,t,H&&`${t}-static`,!p&&"show"),onClick:m?sr:void 0,onMouseUp:Et,"aria-label":h,"aria-labelledby":l,"aria-describedby":c,children:A.jsx(o,{...Ve,onMouseDown:Rt,className:r,contentClassName:i,children:s})});return A.jsx(rS.Provider,{value:wt,children:A.jsx(JV,{show:f,ref:ke,backdrop:m,container:T,keyboard:!0,autoFocus:S,enforceFocus:I,restoreFocus:E,restoreFocusOptions:P,onEscapeKeyDown:qt,onShow:w,onHide:R,onEnter:Kr,onEntering:Lt,onEntered:O,onExit:Di,onExiting:N,onExited:Wt,manager:Qe(),transition:p?cie:void 0,backdropTransition:p?hie:void 0,renderBackdrop:kn,renderDialog:Nn})})});l$.displayName="Modal";const $s=Object.assign(l$,{Body:rie,Header:aie,Title:uie,Footer:sie,Dialog:r$,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var UP={exports:{}},BE={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(o,l,c,h,f,p){var m=h||"<<anonymous>>",y=p||c;if(l[c]==null)return o?new Error("Required "+f+" `"+y+"` was not specified "+("in `"+m+"`.")):null;for(var v=arguments.length,w=Array(v>6?v-6:0),R=6;R<v;R++)w[R-6]=arguments[R];return r.apply(void 0,[l,c,m,f,y].concat(w))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}t.exports=e.default})(BE,BE.exports);var fie=BE.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=fie,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];function h(){for(var f=arguments.length,p=Array(f),m=0;m<f;m++)p[m]=arguments[m];var y=null;return l.forEach(function(v){if(y==null){var w=v.apply(void 0,p);w!=null&&(y=w)}}),y}return(0,r.default)(h)}t.exports=e.default})(UP,UP.exports);const u$=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Xe(e,"nav-item"),A.jsx(n,{ref:i,className:Be(t,e),...r})));u$.displayName="NavItem";const die=u$,c$=x.forwardRef(({bsPrefix:t,className:e,as:n=WF,active:r,eventKey:i,disabled:s=!1,...o},l)=>{t=Xe(t,"nav-link");const[c,h]=GV({key:sd(i,o.href),active:r,disabled:s,...o});return A.jsx(n,{...o,...c,ref:l,disabled:s,className:Be(e,t,s&&"disabled",h.isActive&&"active")})});c$.displayName="NavLink";const pie=c$,h$=x.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s=!1,justify:o=!1,navbar:l,navbarScroll:c,className:h,activeKey:f,...p}=NI(t,{activeKey:"onSelect"}),m=Xe(r,"nav");let y,v,w=!1;const R=x.useContext(Bl),T=x.useContext(Ste);return R?(y=R.bsPrefix,w=l??!0):T&&({cardHeaderBsPrefix:v}=T),A.jsx(Ure,{as:n,ref:e,activeKey:f,className:Be(h,{[m]:!w,[`${y}-nav`]:w,[`${y}-nav-scroll`]:w&&c,[`${v}-${i}`]:!!v,[`${m}-${i}`]:!!i,[`${m}-fill`]:s,[`${m}-justified`]:o}),...p})});h$.displayName="Nav";const Ph=Object.assign(h$,{Item:die,Link:pie}),f$=x.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=Xe(t,"navbar-brand");const s=n||(r.href?"a":"span");return A.jsx(s,{...r,ref:i,className:Be(e,t)})});f$.displayName="NavbarBrand";const mie=f$,d$=x.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=Xe(e,"navbar-collapse");const i=x.useContext(Bl);return A.jsx($F,{in:!!(i&&i.expanded),...n,children:A.jsx("div",{ref:r,className:e,children:t})})});d$.displayName="NavbarCollapse";const gie=d$,p$=x.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...o},l)=>{t=Xe(t,"navbar-toggler");const{onToggle:c,expanded:h}=x.useContext(Bl)||{},f=wn(p=>{s&&s(p),c&&c()});return i==="button"&&(o.type="button"),A.jsx(i,{...o,ref:l,onClick:f,"aria-label":r,className:Be(e,t,!h&&"collapsed"),children:n||A.jsx("span",{className:`${t}-icon`})})});p$.displayName="NavbarToggle";const yie=p$,jE=new WeakMap,zP=(t,e)=>{if(!t||!e)return;const n=jE.get(e)||new Map;jE.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function vie(t,e=typeof window>"u"?void 0:window){const n=zP(t,e),[r,i]=x.useState(()=>n?n.matches:!1);return Ng(()=>{let s=zP(t,e);if(!s)return i(!1);let o=jE.get(e);const l=()=>{i(s.matches)};return s.refCount++,s.addListener(l),l(),()=>{s.removeListener(l),s.refCount--,s.refCount<=0&&(o==null||o.delete(s.media)),s=void 0}},[t]),r}function _ie(t){const e=Object.keys(t);function n(l,c){return l===c?c:l?`${l} and ${c}`:c}function r(l){return e[Math.min(e.indexOf(l)+1,e.length-1)]}function i(l){const c=r(l);let h=t[c];return typeof h=="number"?h=`${h-.2}px`:h=`calc(${h} - 0.2px)`,`(max-width: ${h})`}function s(l){let c=t[l];return typeof c=="number"&&(c=`${c}px`),`(min-width: ${c})`}function o(l,c,h){let f;typeof l=="object"?(f=l,h=c,c=!0):(c=c||!0,f={[l]:c});let p=x.useMemo(()=>Object.entries(f).reduce((m,[y,v])=>((v==="up"||v===!0)&&(m=n(m,s(y))),(v==="down"||v===!0)&&(m=n(m,i(y))),m),""),[JSON.stringify(f)]);return vie(p,h)}return o}const wie=_ie({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),m$=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Xe(e,"offcanvas-body"),A.jsx(n,{ref:i,className:Be(t,e),...r})));m$.displayName="OffcanvasBody";const Eie=m$,Tie={[zi]:"show",[Vs]:"show"},g$=x.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:o=!1,...l},c)=>(t=Xe(t,"offcanvas"),A.jsx(FI,{ref:c,addEndListener:MI,in:r,mountOnEnter:i,unmountOnExit:s,appear:o,...l,childRef:n.ref,children:(h,f)=>x.cloneElement(n,{...f,className:Be(e,n.props.className,(h===zi||h===nd)&&`${t}-toggling`,Tie[h])})})));g$.displayName="OffcanvasToggling";const Iie=g$,y$=x.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=Xe(t,"offcanvas-header"),A.jsx(s$,{ref:s,...i,className:Be(e,t),closeLabel:n,closeButton:r})));y$.displayName="OffcanvasHeader";const Sie=y$,xie=BF("h5"),v$=x.forwardRef(({className:t,bsPrefix:e,as:n=xie,...r},i)=>(e=Xe(e,"offcanvas-title"),A.jsx(n,{ref:i,className:Be(t,e),...r})));v$.displayName="OffcanvasTitle";const Rie=v$;function bie(t){return A.jsx(Iie,{...t})}function Aie(t){return A.jsx(BI,{...t})}const _$=x.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:o=!1,backdrop:l=!0,keyboard:c=!0,scroll:h=!1,onEscapeKeyDown:f,onShow:p,onHide:m,container:y,autoFocus:v=!0,enforceFocus:w=!0,restoreFocus:R=!0,restoreFocusOptions:T,onEntered:S,onExit:I,onExiting:E,onEnter:P,onEntering:O,onExited:D,backdropClassName:N,manager:q,renderStaticNode:Y=!1,...se},fe)=>{const ve=x.useRef();t=Xe(t,"offcanvas");const{onToggle:Ve}=x.useContext(Bl)||{},[Ae,Ce]=x.useState(!1),Fe=wie(s||"xs","up");x.useEffect(()=>{Ce(s?o&&!Fe:o)},[o,s,Fe]);const H=wn(()=>{Ve==null||Ve(),m==null||m()}),he=x.useMemo(()=>({onHide:H}),[H]);function oe(){return q||(h?(ve.current||(ve.current=new ZV({handleContainerOverflow:!1})),ve.current):e$())}const _e=(ke,...at)=>{ke&&(ke.style.visibility="visible"),P==null||P(ke,...at)},be=(ke,...at)=>{ke&&(ke.style.visibility=""),D==null||D(...at)},Ne=x.useCallback(ke=>A.jsx("div",{...ke,className:Be(`${t}-backdrop`,N)}),[N,t]),$e=ke=>A.jsx("div",{...ke,...se,className:Be(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return A.jsxs(A.Fragment,{children:[!Ae&&(s||Y)&&$e({}),A.jsx(rS.Provider,{value:he,children:A.jsx(JV,{show:Ae,ref:fe,backdrop:l,container:y,keyboard:c,autoFocus:v,enforceFocus:w&&!h,restoreFocus:R,restoreFocusOptions:T,onEscapeKeyDown:f,onShow:p,onHide:H,onEnter:_e,onEntering:O,onEntered:S,onExit:I,onExiting:E,onExited:be,manager:oe(),transition:bie,backdropTransition:Aie,renderBackdrop:Ne,renderDialog:$e})})]})});_$.displayName="Offcanvas";const Cie=Object.assign(_$,{Body:Eie,Header:Sie,Title:Rie}),w$=x.forwardRef((t,e)=>{const n=x.useContext(Bl);return A.jsx(Cie,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});w$.displayName="NavbarOffcanvas";const Pie=w$,E$=x.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Xe(e,"navbar-text"),A.jsx(n,{ref:i,className:Be(t,e),...r})));E$.displayName="NavbarText";const Oie=E$,T$=x.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:o,sticky:l,className:c,as:h="nav",expanded:f,onToggle:p,onSelect:m,collapseOnSelect:y=!1,...v}=NI(t,{expanded:"onToggle"}),w=Xe(n,"navbar"),R=x.useCallback((...I)=>{m==null||m(...I),y&&f&&(p==null||p(!1))},[m,y,f,p]);v.role===void 0&&h!=="nav"&&(v.role="navigation");let T=`${w}-expand`;typeof r=="string"&&(T=`${T}-${r}`);const S=x.useMemo(()=>({onToggle:()=>p==null?void 0:p(!f),bsPrefix:w,expanded:!!f,expand:r}),[w,f,r,p]);return A.jsx(Bl.Provider,{value:S,children:A.jsx(Cl.Provider,{value:R,children:A.jsx(h,{ref:e,...v,className:Be(c,w,r&&T,i&&`${w}-${i}`,s&&`bg-${s}`,l&&`sticky-${l}`,o&&`fixed-${o}`)})})})});T$.displayName="Navbar";const lm=Object.assign(T$,{Brand:mie,Collapse:gie,Offcanvas:Pie,Text:Oie,Toggle:yie}),I$=x.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=Xe(t,"row"),o=PF(),l=OF(),c=`${s}-cols`,h=[];return o.forEach(f=>{const p=r[f];delete r[f];let m;p!=null&&typeof p=="object"?{cols:m}=p:m=p;const y=f!==l?`-${f}`:"";m!=null&&h.push(`${c}${y}-${m}`)}),A.jsx(n,{ref:i,...r,className:Be(e,s,...h)})});I$.displayName="Row";const qP=I$,WP=({children:t})=>A.jsx(A.Fragment,{children:A.jsx(Ite,{size:"sm",role:"group","aria-label":"Setting text and image",style:{marginBottom:"0.5rem"},children:t})}),rl=({children:t,selectType:e,handleOnClick:n,types:r})=>{const{type:i,title:s}=r;return A.jsx(A.Fragment,{children:A.jsx(Lg,{variant:"outline-myInfo",className:"button-hover",active:e.type===i,onClick:()=>{n(i,s)},children:t})})},Die=({id:t})=>{const{showType_select:e,showType_beenSelect:n,showType_bestDamage:r,handleShowType_select:i,handleShowType_beenSelect:s,handleShowType_bestDamage:o}=Oi();let l=null,c=null;switch(t){case ps:l=e,c=i;break;case G1:l=n,c=s;break;case cy:l=r,c=o;break}return A.jsxs(A.Fragment,{children:[A.jsx(rl,{types:{type:K1,title:""},selectType:l,handleOnClick:c,children:A.jsx(KP,{color:"#22c02a",text:""})}),A.jsx(rl,{types:{type:H1,title:""},selectType:l,handleOnClick:c,children:A.jsx(KP,{color:"#22c02a",text:" "})}),A.jsx(rl,{types:{type:Dl,title:""},selectType:l,handleOnClick:c,children:A.jsx(Bg,{text:""})}),A.jsx(rl,{types:{type:Xk,title:""},selectType:l,handleOnClick:c,children:A.jsx(Bg,{text:""})})]})},KP=({color:t,text:e})=>A.jsx("div",{className:"button-type-color",children:A.jsx("span",{style:{backgroundColor:t},children:e})}),kie=({id:t})=>{const{showInfo_select:e,showInfo_beenSelect:n,showInfo_bestDamage:r,handleShowInfo_select:i,handleShowInfo_beenSelect:s,handleShowInfo_bestDamage:o}=Oi();let l=null,c=null;switch(t){case ps:l=e,c=i;break;case G1:l=n,c=s;break;case cy:l=r,c=o;break}return A.jsxs(A.Fragment,{children:[A.jsx(rl,{types:{type:q1,title:""},selectType:l,handleOnClick:c,children:A.jsx(S$,{})}),A.jsx(rl,{types:{type:W1,title:""},selectType:l,handleOnClick:c,children:A.jsx(Nie,{text:"Name"})}),A.jsx(rl,{types:{type:Dl,title:""},selectType:l,handleOnClick:c,children:A.jsx(Bg,{text:"Name"})})]})},S$=()=>A.jsx("img",{src:A8,alt:"",title:"",className:"buttonImage"}),Bg=({text:t})=>A.jsx("span",{children:t}),Nie=({text:t})=>A.jsxs("div",{className:"buttonImageText",children:[A.jsx(S$,{}),A.jsx(Bg,{text:t})]}),Lie=()=>{const{filterType:t,handleFilterType:e}=Oi();return A.jsx(A.Fragment,{children:A.jsxs(Ch,{children:[A.jsx(Ch.Toggle,{variant:"outline-myInfo",className:"button-hover",id:"t-dropdownBtnFilterType",children:A.jsxs("span",{children:[" : ",t.zhType||"error"]})}),A.jsxs(Ch.Menu,{style:{width:"auto",height:"150px",overflowY:"auto"},children:[A.jsx(Ch.Item,{as:"button",className:"dropdown-type",style:{backgroundColor:"#17CCF0"},onClick:()=>e(Jk),children:A.jsx("span",{children:""})}),pd.map(n=>{const{zhType:r,bgColor:i}=n;return A.jsx(Ch.Item,{as:"button",className:"dropdown-type",style:{backgroundColor:i},onClick:()=>e(n),children:A.jsx("span",{children:r})},ds())})]})]})})},Mie=({id:t})=>A.jsxs(A.Fragment,{children:[A.jsx(WP,{children:A.jsx(kie,{id:t})}),A.jsx(WP,{children:A.jsx(Die,{id:t})}),t===ps&&A.jsx(Lie,{})]}),x$=x.createContext(),R$="darkTheme",Fie=()=>{const t=window.matchMedia("(prefers-color-scheme:dark)").matches;return localStorage.getItem(R$)==="true"||t},Vie=({children:t})=>{const[e,n]=x.useState(Fie),r=()=>{const o=!e;n(o),localStorage.setItem(R$,o)},i=e?"dark":"light",s=e?"white-50":"mySecondary";return x.useEffect(()=>{document.body.classList.toggle("bg-darkBg",e),document.body.classList.toggle("text-white-50",e)},[e]),A.jsx(x$.Provider,{value:{isDarkMode:e,handleIsDarkMode:r,textColor:s,bgColor:i},children:t})},xa=()=>x.useContext(x$),$ie=()=>{const{searchPokemon:t,handleSearchPokemon:e}=Oi(),{bgColor:n}=xa();return A.jsx(A.Fragment,{children:A.jsx(Lre,{size:"sm",className:"search-btn",children:A.jsx(Dre.Control,{"data-bs-theme":n,className:"bg-body",type:"Search",placeholder:" Search","aria-label":"Search",value:t,onChange:r=>{e(r.target.value)}})})})},Bie=({title:t,id:e})=>{const{bgColor:n,textColor:r}=xa(),[i,s]=x.useState(!1);return A.jsxs("div",{className:"group-info",children:[A.jsxs("div",{children:[A.jsx("i",{"aria-controls":"collapse","aria-expanded":i,onClick:()=>s(!i),children:A.jsx(T8,{className:"btn setting-icon"})}),A.jsx($F,{in:i,"data-bs-theme":n,children:A.jsx("div",{id:"collapse",children:A.jsx("div",{className:"card card-body",children:A.jsx(Mie,{id:e})})})})]}),A.jsx("span",{className:"title",children:t}),e===ps&&A.jsx($ie,{})]})},jie=x.memo(Bie);function Uie(t){return dd({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"}}]})(t)}(()=>{var t={296:(i,s,o)=>{var l=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt,m=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g,y=typeof self=="object"&&self&&self.Object===Object&&self,v=m||y||Function("return this")(),w=Object.prototype.toString,R=Math.max,T=Math.min,S=function(){return v.Date.now()};function I(P){var O=typeof P;return!!P&&(O=="object"||O=="function")}function E(P){if(typeof P=="number")return P;if(function(N){return typeof N=="symbol"||function(q){return!!q&&typeof q=="object"}(N)&&w.call(N)=="[object Symbol]"}(P))return NaN;if(I(P)){var O=typeof P.valueOf=="function"?P.valueOf():P;P=I(O)?O+"":O}if(typeof P!="string")return P===0?P:+P;P=P.replace(l,"");var D=h.test(P);return D||f.test(P)?p(P.slice(2),D?2:8):c.test(P)?NaN:+P}i.exports=function(P,O,D){var N,q,Y,se,fe,ve,Ve=0,Ae=!1,Ce=!1,Fe=!0;if(typeof P!="function")throw new TypeError("Expected a function");function H(Ne){var $e=N,ke=q;return N=q=void 0,Ve=Ne,se=P.apply(ke,$e)}function he(Ne){var $e=Ne-ve;return ve===void 0||$e>=O||$e<0||Ce&&Ne-Ve>=Y}function oe(){var Ne=S();if(he(Ne))return _e(Ne);fe=setTimeout(oe,function($e){var ke=O-($e-ve);return Ce?T(ke,Y-($e-Ve)):ke}(Ne))}function _e(Ne){return fe=void 0,Fe&&N?H(Ne):(N=q=void 0,se)}function be(){var Ne=S(),$e=he(Ne);if(N=arguments,q=this,ve=Ne,$e){if(fe===void 0)return function(ke){return Ve=ke,fe=setTimeout(oe,O),Ae?H(ke):se}(ve);if(Ce)return fe=setTimeout(oe,O),H(ve)}return fe===void 0&&(fe=setTimeout(oe,O)),se}return O=E(O)||0,I(D)&&(Ae=!!D.leading,Y=(Ce="maxWait"in D)?R(E(D.maxWait)||0,O):Y,Fe="trailing"in D?!!D.trailing:Fe),be.cancel=function(){fe!==void 0&&clearTimeout(fe),Ve=0,N=ve=q=fe=void 0},be.flush=function(){return fe===void 0?se:_e(S())},be}},96:(i,s,o)=>{var l="Expected a function",c=NaN,h="[object Symbol]",f=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,y=/^0o[0-7]+$/i,v=parseInt,w=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g,R=typeof self=="object"&&self&&self.Object===Object&&self,T=w||R||Function("return this")(),S=Object.prototype.toString,I=Math.max,E=Math.min,P=function(){return T.Date.now()};function O(N){var q=typeof N;return!!N&&(q=="object"||q=="function")}function D(N){if(typeof N=="number")return N;if(function(se){return typeof se=="symbol"||function(fe){return!!fe&&typeof fe=="object"}(se)&&S.call(se)==h}(N))return c;if(O(N)){var q=typeof N.valueOf=="function"?N.valueOf():N;N=O(q)?q+"":q}if(typeof N!="string")return N===0?N:+N;N=N.replace(f,"");var Y=m.test(N);return Y||y.test(N)?v(N.slice(2),Y?2:8):p.test(N)?c:+N}i.exports=function(N,q,Y){var se=!0,fe=!0;if(typeof N!="function")throw new TypeError(l);return O(Y)&&(se="leading"in Y?!!Y.leading:se,fe="trailing"in Y?!!Y.trailing:fe),function(ve,Ve,Ae){var Ce,Fe,H,he,oe,_e,be=0,Ne=!1,$e=!1,ke=!0;if(typeof ve!="function")throw new TypeError(l);function at(ct){var Rt=Ce,Et=Fe;return Ce=Fe=void 0,be=ct,he=ve.apply(Et,Rt)}function Zt(ct){var Rt=ct-_e;return _e===void 0||Rt>=Ve||Rt<0||$e&&ct-be>=H}function wt(){var ct=P();if(Zt(ct))return Qe(ct);oe=setTimeout(wt,function(Rt){var Et=Ve-(Rt-_e);return $e?E(Et,H-(Rt-be)):Et}(ct))}function Qe(ct){return oe=void 0,ke&&Ce?at(ct):(Ce=Fe=void 0,he)}function $t(){var ct=P(),Rt=Zt(ct);if(Ce=arguments,Fe=this,_e=ct,Rt){if(oe===void 0)return function(Et){return be=Et,oe=setTimeout(wt,Ve),Ne?at(Et):he}(_e);if($e)return oe=setTimeout(wt,Ve),at(_e)}return oe===void 0&&(oe=setTimeout(wt,Ve)),he}return Ve=D(Ve)||0,O(Ae)&&(Ne=!!Ae.leading,H=($e="maxWait"in Ae)?I(D(Ae.maxWait)||0,Ve):H,ke="trailing"in Ae?!!Ae.trailing:ke),$t.cancel=function(){oe!==void 0&&clearTimeout(oe),be=0,Ce=_e=Fe=oe=void 0},$t.flush=function(){return oe===void 0?he:Qe(P())},$t}(N,q,{leading:se,maxWait:q,trailing:fe})}},703:(i,s,o)=>{var l=o(414);function c(){}function h(){}h.resetWarningCache=c,i.exports=function(){function f(y,v,w,R,T,S){if(S!==l){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}function p(){return f}f.isRequired=f;var m={array:f,bigint:f,bool:f,func:f,number:f,object:f,string:f,symbol:f,any:f,arrayOf:p,element:f,elementType:f,instanceOf:p,node:f,objectOf:p,oneOf:p,oneOfType:p,shape:p,exact:p,checkPropTypes:h,resetWarningCache:c};return m.PropTypes=m,m}},697:(i,s,o)=>{i.exports=o(703)()},414:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function n(i){var s=e[i];if(s!==void 0)return s.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.n=i=>{var s=i&&i.__esModule?()=>i.default:()=>i;return n.d(s,{a:s}),s},n.d=(i,s)=>{for(var o in s)n.o(s,o)&&!n.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:s[o]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>Nt,LazyLoadImage:()=>ze,trackWindowScroll:()=>_e});const i=x;var s=n.n(i),o=n(697);const l=F1;var c=n.n(l);function h(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function f(Q){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},f(Q)}function p(Q,$){var ne=Object.keys(Q);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(Q);$&&(ae=ae.filter(function(Ke){return Object.getOwnPropertyDescriptor(Q,Ke).enumerable})),ne.push.apply(ne,ae)}return ne}function m(Q,$,ne){return($=v($))in Q?Object.defineProperty(Q,$,{value:ne,enumerable:!0,configurable:!0,writable:!0}):Q[$]=ne,Q}function y(Q,$){for(var ne=0;ne<$.length;ne++){var ae=$[ne];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(Q,v(ae.key),ae)}}function v(Q){var $=function(ne,ae){if(f(ne)!=="object"||ne===null)return ne;var Ke=ne[Symbol.toPrimitive];if(Ke!==void 0){var He=Ke.call(ne,"string");if(f(He)!=="object")return He;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ne)}(Q);return f($)==="symbol"?$:String($)}function w(Q,$){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,ae){return ne.__proto__=ae,ne},w(Q,$)}function R(Q){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},R(Q)}var T=function(Q){Q.forEach(function($){$.isIntersecting&&$.target.onVisible()})},S={},I=function(Q){(function(W,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(X&&X.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),Object.defineProperty(W,"prototype",{writable:!1}),X&&w(W,X)})(ht,Q);var $,ne,ae,Ke,He=(ae=ht,Ke=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var W,X=R(ae);if(Ke){var Se=R(this).constructor;W=Reflect.construct(X,arguments,Se)}else W=X.apply(this,arguments);return function(we,Ee){if(Ee&&(f(Ee)==="object"||typeof Ee=="function"))return Ee;if(Ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}(we)}(this,W)});function ht(W){var X;if(function(we,Ee){if(!(we instanceof Ee))throw new TypeError("Cannot call a class as a function")}(this,ht),(X=He.call(this,W)).supportsObserver=!W.scrollPosition&&W.useIntersectionObserver&&h(),X.supportsObserver){var Se=W.threshold;X.observer=function(we){return S[we]=S[we]||new IntersectionObserver(T,{rootMargin:we+"px"}),S[we]}(Se)}return X}return $=ht,ne=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,X=this.placeholder.getBoundingClientRect(),Se=c().findDOMNode(this.placeholder).style,we=parseInt(Se.getPropertyValue("margin-left"),10)||0,Ee=parseInt(Se.getPropertyValue("margin-top"),10)||0;return{bottom:W.y+X.bottom+Ee,left:W.x+X.left+we,right:W.x+X.right+we,top:W.y+X.top+Ee}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var W=this.props,X=W.scrollPosition,Se=W.threshold,we=this.getPlaceholderBoundingBox(X),Ee=X.y+window.innerHeight,nt=X.x,M=X.x+window.innerWidth,B=X.y;return B-Se<=we.bottom&&Ee+Se>=we.top&&nt-Se<=we.right&&M+Se>=we.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var W=this,X=this.props,Se=X.className,we=X.height,Ee=X.placeholder,nt=X.style,M=X.width;if(Ee&&typeof Ee.type!="function")return s().cloneElement(Ee,{ref:function(K){return W.placeholder=K}});var B=function(K){for(var ce=1;ce<arguments.length;ce++){var pe=arguments[ce]!=null?arguments[ce]:{};ce%2?p(Object(pe),!0).forEach(function(Te){m(K,Te,pe[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(pe)):p(Object(pe)).forEach(function(Te){Object.defineProperty(K,Te,Object.getOwnPropertyDescriptor(pe,Te))})}return K}({display:"inline-block"},nt);return M!==void 0&&(B.width=M),we!==void 0&&(B.height=we),s().createElement("span",{className:Se,ref:function(K){return W.placeholder=K},style:B},Ee)}}],ne&&y($.prototype,ne),Object.defineProperty($,"prototype",{writable:!1}),ht}(s().Component);I.propTypes={onVisible:o.PropTypes.func.isRequired,className:o.PropTypes.string,height:o.PropTypes.oneOfType([o.PropTypes.number,o.PropTypes.string]),placeholder:o.PropTypes.element,threshold:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool,scrollPosition:o.PropTypes.shape({x:o.PropTypes.number.isRequired,y:o.PropTypes.number.isRequired}),width:o.PropTypes.oneOfType([o.PropTypes.number,o.PropTypes.string])},I.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const E=I;var P=n(296),O=n.n(P),D=n(96),N=n.n(D),q=function(Q){var $=getComputedStyle(Q,null);return $.getPropertyValue("overflow")+$.getPropertyValue("overflow-y")+$.getPropertyValue("overflow-x")};const Y=function(Q){if(!(Q instanceof HTMLElement))return window;for(var $=Q;$&&$ instanceof HTMLElement;){if(/(scroll|auto)/.test(q($)))return $;$=$.parentNode}return window};function se(Q){return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},se(Q)}var fe=["delayMethod","delayTime"];function ve(){return ve=Object.assign?Object.assign.bind():function(Q){for(var $=1;$<arguments.length;$++){var ne=arguments[$];for(var ae in ne)Object.prototype.hasOwnProperty.call(ne,ae)&&(Q[ae]=ne[ae])}return Q},ve.apply(this,arguments)}function Ve(Q,$){for(var ne=0;ne<$.length;ne++){var ae=$[ne];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(Q,(Ke=function(He,ht){if(se(He)!=="object"||He===null)return He;var W=He[Symbol.toPrimitive];if(W!==void 0){var X=W.call(He,"string");if(se(X)!=="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(He)}(ae.key),se(Ke)==="symbol"?Ke:String(Ke)),ae)}var Ke}function Ae(Q,$){return Ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,ae){return ne.__proto__=ae,ne},Ae(Q,$)}function Ce(Q,$){if($&&(se($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fe(Q)}function Fe(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function H(Q){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},H(Q)}var he=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},oe=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const _e=function(Q){var $=function(ne){(function(Se,we){if(typeof we!="function"&&we!==null)throw new TypeError("Super expression must either be null or a function");Se.prototype=Object.create(we&&we.prototype,{constructor:{value:Se,writable:!0,configurable:!0}}),Object.defineProperty(Se,"prototype",{writable:!1}),we&&Ae(Se,we)})(X,ne);var ae,Ke,He,ht,W=(He=X,ht=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Se,we=H(He);if(ht){var Ee=H(this).constructor;Se=Reflect.construct(we,arguments,Ee)}else Se=we.apply(this,arguments);return Ce(this,Se)});function X(Se){var we;if(function(nt,M){if(!(nt instanceof M))throw new TypeError("Cannot call a class as a function")}(this,X),(we=W.call(this,Se)).useIntersectionObserver=Se.useIntersectionObserver&&h(),we.useIntersectionObserver)return Ce(we);var Ee=we.onChangeScroll.bind(Fe(we));return Se.delayMethod==="debounce"?we.delayedScroll=O()(Ee,Se.delayTime):Se.delayMethod==="throttle"&&(we.delayedScroll=N()(Ee,Se.delayTime)),we.state={scrollPosition:{x:he(),y:oe()}},we.baseComponentRef=s().createRef(),we}return ae=X,(Ke=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||Y(c().findDOMNode(this.baseComponentRef.current))!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=Y(c().findDOMNode(this.baseComponentRef.current)),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:he(),y:oe()}})}},{key:"render",value:function(){var Se=this.props,we=(Se.delayMethod,Se.delayTime,function(nt,M){if(nt==null)return{};var B,K,ce=function(Te,je){if(Te==null)return{};var Pe,Oe,St={},Mt=Object.keys(Te);for(Oe=0;Oe<Mt.length;Oe++)Pe=Mt[Oe],je.indexOf(Pe)>=0||(St[Pe]=Te[Pe]);return St}(nt,M);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(nt);for(K=0;K<pe.length;K++)B=pe[K],M.indexOf(B)>=0||Object.prototype.propertyIsEnumerable.call(nt,B)&&(ce[B]=nt[B])}return ce}(Se,fe)),Ee=this.useIntersectionObserver?null:this.state.scrollPosition;return s().createElement(Q,ve({forwardRef:this.baseComponentRef,scrollPosition:Ee},we))}}])&&Ve(ae.prototype,Ke),Object.defineProperty(ae,"prototype",{writable:!1}),X}(s().Component);return $.propTypes={delayMethod:o.PropTypes.oneOf(["debounce","throttle"]),delayTime:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool},$.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},$};function be(Q){return be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},be(Q)}function Ne(Q,$){for(var ne=0;ne<$.length;ne++){var ae=$[ne];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(Q,(Ke=function(He,ht){if(be(He)!=="object"||He===null)return He;var W=He[Symbol.toPrimitive];if(W!==void 0){var X=W.call(He,"string");if(be(X)!=="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(He)}(ae.key),be(Ke)==="symbol"?Ke:String(Ke)),ae)}var Ke}function $e(Q,$){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,ae){return ne.__proto__=ae,ne},$e(Q,$)}function ke(Q){return ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},ke(Q)}var at=function(Q){(function(W,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(X&&X.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),Object.defineProperty(W,"prototype",{writable:!1}),X&&$e(W,X)})(ht,Q);var $,ne,ae,Ke,He=(ae=ht,Ke=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var W,X=ke(ae);if(Ke){var Se=ke(this).constructor;W=Reflect.construct(X,arguments,Se)}else W=X.apply(this,arguments);return function(we,Ee){if(Ee&&(be(Ee)==="object"||typeof Ee=="function"))return Ee;if(Ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}(we)}(this,W)});function ht(W){return function(X,Se){if(!(X instanceof Se))throw new TypeError("Cannot call a class as a function")}(this,ht),He.call(this,W)}return $=ht,(ne=[{key:"render",value:function(){return s().createElement(E,this.props)}}])&&Ne($.prototype,ne),Object.defineProperty($,"prototype",{writable:!1}),ht}(s().Component);const Zt=_e(at);function wt(Q){return wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},wt(Q)}function Qe(Q,$){for(var ne=0;ne<$.length;ne++){var ae=$[ne];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(Q,(Ke=function(He,ht){if(wt(He)!=="object"||He===null)return He;var W=He[Symbol.toPrimitive];if(W!==void 0){var X=W.call(He,"string");if(wt(X)!=="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(He)}(ae.key),wt(Ke)==="symbol"?Ke:String(Ke)),ae)}var Ke}function $t(Q,$){return $t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,ae){return ne.__proto__=ae,ne},$t(Q,$)}function ct(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function Rt(Q){return Rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},Rt(Q)}var Et=function(Q){(function(W,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(X&&X.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),Object.defineProperty(W,"prototype",{writable:!1}),X&&$t(W,X)})(ht,Q);var $,ne,ae,Ke,He=(ae=ht,Ke=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var W,X=Rt(ae);if(Ke){var Se=Rt(this).constructor;W=Reflect.construct(X,arguments,Se)}else W=X.apply(this,arguments);return function(we,Ee){if(Ee&&(wt(Ee)==="object"||typeof Ee=="function"))return Ee;if(Ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ct(we)}(this,W)});function ht(W){var X;(function(M,B){if(!(M instanceof B))throw new TypeError("Cannot call a class as a function")})(this,ht),X=He.call(this,W);var Se=W.afterLoad,we=W.beforeLoad,Ee=W.scrollPosition,nt=W.visibleByDefault;return X.state={visible:nt},nt&&(we(),Se()),X.onVisible=X.onVisible.bind(ct(X)),X.isScrollTracked=!!(Ee&&Number.isFinite(Ee.x)&&Ee.x>=0&&Number.isFinite(Ee.y)&&Ee.y>=0),X}return $=ht,(ne=[{key:"componentDidUpdate",value:function(W,X){X.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var W=this.props,X=W.className,Se=W.delayMethod,we=W.delayTime,Ee=W.height,nt=W.placeholder,M=W.scrollPosition,B=W.style,K=W.threshold,ce=W.useIntersectionObserver,pe=W.width;return this.isScrollTracked||ce&&h()?s().createElement(E,{className:X,height:Ee,onVisible:this.onVisible,placeholder:nt,scrollPosition:M,style:B,threshold:K,useIntersectionObserver:ce,width:pe}):s().createElement(Zt,{className:X,delayMethod:Se,delayTime:we,height:Ee,onVisible:this.onVisible,placeholder:nt,style:B,threshold:K,width:pe})}}])&&Qe($.prototype,ne),Object.defineProperty($,"prototype",{writable:!1}),ht}(s().Component);Et.propTypes={afterLoad:o.PropTypes.func,beforeLoad:o.PropTypes.func,useIntersectionObserver:o.PropTypes.bool,visibleByDefault:o.PropTypes.bool},Et.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const Nt=Et;function et(Q){return et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},et(Q)}var sr=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function qt(Q,$){var ne=Object.keys(Q);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(Q);$&&(ae=ae.filter(function(Ke){return Object.getOwnPropertyDescriptor(Q,Ke).enumerable})),ne.push.apply(ne,ae)}return ne}function Kr(Q){for(var $=1;$<arguments.length;$++){var ne=arguments[$]!=null?arguments[$]:{};$%2?qt(Object(ne),!0).forEach(function(ae){Di(Q,ae,ne[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(ne)):qt(Object(ne)).forEach(function(ae){Object.defineProperty(Q,ae,Object.getOwnPropertyDescriptor(ne,ae))})}return Q}function Di(Q,$,ne){return($=kn($))in Q?Object.defineProperty(Q,$,{value:ne,enumerable:!0,configurable:!0,writable:!0}):Q[$]=ne,Q}function Lt(){return Lt=Object.assign?Object.assign.bind():function(Q){for(var $=1;$<arguments.length;$++){var ne=arguments[$];for(var ae in ne)Object.prototype.hasOwnProperty.call(ne,ae)&&(Q[ae]=ne[ae])}return Q},Lt.apply(this,arguments)}function Wt(Q,$){for(var ne=0;ne<$.length;ne++){var ae=$[ne];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(Q,kn(ae.key),ae)}}function kn(Q){var $=function(ne,ae){if(et(ne)!=="object"||ne===null)return ne;var Ke=ne[Symbol.toPrimitive];if(Ke!==void 0){var He=Ke.call(ne,"string");if(et(He)!=="object")return He;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ne)}(Q);return et($)==="symbol"?$:String($)}function pn(Q,$){return pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,ae){return ne.__proto__=ae,ne},pn(Q,$)}function Nn(Q){return Nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},Nn(Q)}var le=function(Q){(function(W,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(X&&X.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),Object.defineProperty(W,"prototype",{writable:!1}),X&&pn(W,X)})(ht,Q);var $,ne,ae,Ke,He=(ae=ht,Ke=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var W,X=Nn(ae);if(Ke){var Se=Nn(this).constructor;W=Reflect.construct(X,arguments,Se)}else W=X.apply(this,arguments);return function(we,Ee){if(Ee&&(et(Ee)==="object"||typeof Ee=="function"))return Ee;if(Ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}(we)}(this,W)});function ht(W){var X;return function(Se,we){if(!(Se instanceof we))throw new TypeError("Cannot call a class as a function")}(this,ht),(X=He.call(this,W)).state={loaded:!1},X}return $=ht,(ne=[{key:"onImageLoad",value:function(){var W=this;return this.state.loaded?null:function(X){W.props.onLoad(X),W.props.afterLoad(),W.setState({loaded:!0})}}},{key:"getImg",value:function(){var W=this.props,X=(W.afterLoad,W.beforeLoad,W.delayMethod,W.delayTime,W.effect,W.placeholder,W.placeholderSrc,W.scrollPosition,W.threshold,W.useIntersectionObserver,W.visibleByDefault,W.wrapperClassName,W.wrapperProps,function(Se,we){if(Se==null)return{};var Ee,nt,M=function(K,ce){if(K==null)return{};var pe,Te,je={},Pe=Object.keys(K);for(Te=0;Te<Pe.length;Te++)pe=Pe[Te],ce.indexOf(pe)>=0||(je[pe]=K[pe]);return je}(Se,we);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(Se);for(nt=0;nt<B.length;nt++)Ee=B[nt],we.indexOf(Ee)>=0||Object.prototype.propertyIsEnumerable.call(Se,Ee)&&(M[Ee]=Se[Ee])}return M}(W,sr));return s().createElement("img",Lt({},X,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var W=this.props,X=W.beforeLoad,Se=W.className,we=W.delayMethod,Ee=W.delayTime,nt=W.height,M=W.placeholder,B=W.scrollPosition,K=W.style,ce=W.threshold,pe=W.useIntersectionObserver,Te=W.visibleByDefault,je=W.width;return s().createElement(Nt,{beforeLoad:X,className:Se,delayMethod:we,delayTime:Ee,height:nt,placeholder:M,scrollPosition:B,style:K,threshold:ce,useIntersectionObserver:pe,visibleByDefault:Te,width:je},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(W){var X=this.props,Se=X.effect,we=X.height,Ee=X.placeholderSrc,nt=X.width,M=X.wrapperClassName,B=X.wrapperProps,K=this.state.loaded,ce=K?" lazy-load-image-loaded":"",pe=K||!Ee?{}:{backgroundImage:"url(".concat(Ee,")"),backgroundSize:"100% 100%"};return s().createElement("span",Lt({className:M+" lazy-load-image-background "+Se+ce,style:Kr(Kr({},pe),{},{color:"transparent",display:"inline-block",height:we,width:nt})},B),W)}},{key:"render",value:function(){var W=this.props,X=W.effect,Se=W.placeholderSrc,we=W.visibleByDefault,Ee=W.wrapperClassName,nt=W.wrapperProps,M=this.getLazyLoadImage();return(X||Se)&&!we||Ee||nt?this.getWrappedLazyLoadImage(M):M}}])&&Wt($.prototype,ne),Object.defineProperty($,"prototype",{writable:!1}),ht}(s().Component);le.propTypes={onLoad:o.PropTypes.func,afterLoad:o.PropTypes.func,beforeLoad:o.PropTypes.func,delayMethod:o.PropTypes.string,delayTime:o.PropTypes.number,effect:o.PropTypes.string,placeholderSrc:o.PropTypes.string,threshold:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool,visibleByDefault:o.PropTypes.bool,wrapperClassName:o.PropTypes.string,wrapperProps:o.PropTypes.object},le.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const ze=le})()})();const b$="error",zie="white",A$="black",Hu="not found",qie=x.memo(({bgColor:t,zhType:e})=>A.jsx("a",{href:"#",children:A.jsx("span",{style:{color:t??zie},children:e??b$})})),Wie=x.memo(({bgColor:t})=>A.jsx("a",{href:"#",children:A.jsx("span",{className:"type",style:{backgroundColor:t??A$},children:""})})),C$=x.memo(({bgColor:t,zhType:e,enType:n})=>A.jsx(du,{to:`type/${n}`,children:A.jsx("span",{className:"type",style:{backgroundColor:t??A$},children:e??b$})})),Kie=x.memo(({item:t,isActive:e,handleClick:n,children:r})=>A.jsxs("div",{className:`characterText ${e}`,onClick:()=>n(t),children:[A.jsx("span",{className:"characterName",children:(t==null?void 0:t.zhName)??Hu}),r]})),Hie=x.memo(({item:t,isActive:e,handleClick:n,children:r})=>A.jsxs("div",{style:{display:"flex"},children:[r,A.jsx("div",{style:{position:"relative"},children:A.jsx("img",{src:(t==null?void 0:t.sprite)??"",alt:(t==null?void 0:t.zhName)??Hu,title:(t==null?void 0:t.zhName)??Hu,className:`characterImg ${e}`,onClick:()=>n(t),loading:"lazy"})})]})),Gie=({item:t,isActive:e,handleClick:n,children:r})=>A.jsxs("div",{className:`characterImgText ${e}`,onClick:()=>n(t),children:[A.jsxs("div",{children:[A.jsx("span",{className:"characterName",children:(t==null?void 0:t.zhName)??Hu}),r]}),A.jsx("img",{src:(t==null?void 0:t.sprite)??"",alt:(t==null?void 0:t.zhName)??Hu,title:(t==null?void 0:t.zhName)??Hu})]});var jg={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */jg.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",h=500,f="__lodash_placeholder__",p=1,m=2,y=4,v=1,w=2,R=1,T=2,S=4,I=8,E=16,P=32,O=64,D=128,N=256,q=512,Y=30,se="...",fe=800,ve=16,Ve=1,Ae=2,Ce=3,Fe=1/0,H=9007199254740991,he=17976931348623157e292,oe=0/0,_e=4294967295,be=_e-1,Ne=_e>>>1,$e=[["ary",D],["bind",R],["bindKey",T],["curry",I],["curryRight",E],["flip",q],["partial",P],["partialRight",O],["rearg",N]],ke="[object Arguments]",at="[object Array]",Zt="[object AsyncFunction]",wt="[object Boolean]",Qe="[object Date]",$t="[object DOMException]",ct="[object Error]",Rt="[object Function]",Et="[object GeneratorFunction]",Nt="[object Map]",et="[object Number]",sr="[object Null]",qt="[object Object]",Kr="[object Promise]",Di="[object Proxy]",Lt="[object RegExp]",Wt="[object Set]",kn="[object String]",pn="[object Symbol]",Nn="[object Undefined]",le="[object WeakMap]",ze="[object WeakSet]",Q="[object ArrayBuffer]",$="[object DataView]",ne="[object Float32Array]",ae="[object Float64Array]",Ke="[object Int8Array]",He="[object Int16Array]",ht="[object Int32Array]",W="[object Uint8Array]",X="[object Uint8ClampedArray]",Se="[object Uint16Array]",we="[object Uint32Array]",Ee=/\b__p \+= '';/g,nt=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,B=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,ce=RegExp(B.source),pe=RegExp(K.source),Te=/<%-([\s\S]+?)%>/g,je=/<%([\s\S]+?)%>/g,Pe=/<%=([\s\S]+?)%>/g,Oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,St=/^\w*$/,Mt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ot=/[\\^$.*+?()[\]{}|]/g,Ct=RegExp(ot.source),sn=/^\s+/,Is=/\s/,Ss=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ra=/\{\n\/\* \[wrapped with (.+)\] \*/,jc=/,? & /,ki=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Yi=/[()=,{}\[\]\/\s]/,jl=/\\(\\)?/g,Uc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ul=/\w*$/,zc=/^[-+]0x[0-9a-f]+$/i,bt=/^0b[01]+$/i,Hr=/^\[object .+?Constructor\]$/,Xi=/^0o[0-7]+$/i,on=/^(?:0|[1-9]\d*)$/,ba=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Aa=/($^)/,hv=/['\n\r\u2028\u2029\\]/g,Ud="\\ud800-\\udfff",P$="\\u0300-\\u036f",O$="\\ufe20-\\ufe2f",D$="\\u20d0-\\u20ff",iS=P$+O$+D$,sS="\\u2700-\\u27bf",oS="a-z\\xdf-\\xf6\\xf8-\\xff",k$="\\xac\\xb1\\xd7\\xf7",N$="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",L$="\\u2000-\\u206f",M$=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",aS="A-Z\\xc0-\\xd6\\xd8-\\xde",lS="\\ufe0e\\ufe0f",uS=k$+N$+L$+M$,fv="[']",F$="["+Ud+"]",cS="["+uS+"]",zd="["+iS+"]",hS="\\d+",V$="["+sS+"]",fS="["+oS+"]",dS="[^"+Ud+uS+hS+sS+oS+aS+"]",dv="\\ud83c[\\udffb-\\udfff]",$$="(?:"+zd+"|"+dv+")",pS="[^"+Ud+"]",pv="(?:\\ud83c[\\udde6-\\uddff]){2}",mv="[\\ud800-\\udbff][\\udc00-\\udfff]",zl="["+aS+"]",mS="\\u200d",gS="(?:"+fS+"|"+dS+")",B$="(?:"+zl+"|"+dS+")",yS="(?:"+fv+"(?:d|ll|m|re|s|t|ve))?",vS="(?:"+fv+"(?:D|LL|M|RE|S|T|VE))?",_S=$$+"?",wS="["+lS+"]?",j$="(?:"+mS+"(?:"+[pS,pv,mv].join("|")+")"+wS+_S+")*",U$="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",z$="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ES=wS+_S+j$,q$="(?:"+[V$,pv,mv].join("|")+")"+ES,W$="(?:"+[pS+zd+"?",zd,pv,mv,F$].join("|")+")",K$=RegExp(fv,"g"),H$=RegExp(zd,"g"),gv=RegExp(dv+"(?="+dv+")|"+W$+ES,"g"),G$=RegExp([zl+"?"+fS+"+"+yS+"(?="+[cS,zl,"$"].join("|")+")",B$+"+"+vS+"(?="+[cS,zl+gS,"$"].join("|")+")",zl+"?"+gS+"+"+yS,zl+"+"+vS,z$,U$,hS,q$].join("|"),"g"),Q$=RegExp("["+mS+Ud+iS+lS+"]"),Y$=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,X$=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],J$=-1,Kt={};Kt[ne]=Kt[ae]=Kt[Ke]=Kt[He]=Kt[ht]=Kt[W]=Kt[X]=Kt[Se]=Kt[we]=!0,Kt[ke]=Kt[at]=Kt[Q]=Kt[wt]=Kt[$]=Kt[Qe]=Kt[ct]=Kt[Rt]=Kt[Nt]=Kt[et]=Kt[qt]=Kt[Lt]=Kt[Wt]=Kt[kn]=Kt[le]=!1;var Bt={};Bt[ke]=Bt[at]=Bt[Q]=Bt[$]=Bt[wt]=Bt[Qe]=Bt[ne]=Bt[ae]=Bt[Ke]=Bt[He]=Bt[ht]=Bt[Nt]=Bt[et]=Bt[qt]=Bt[Lt]=Bt[Wt]=Bt[kn]=Bt[pn]=Bt[W]=Bt[X]=Bt[Se]=Bt[we]=!0,Bt[ct]=Bt[Rt]=Bt[le]=!1;var Z$={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},eB={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tB={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nB={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rB=parseFloat,iB=parseInt,TS=typeof sh=="object"&&sh&&sh.Object===Object&&sh,sB=typeof self=="object"&&self&&self.Object===Object&&self,Yn=TS||sB||Function("return this")(),yv=e&&!e.nodeType&&e,Ca=yv&&!0&&t&&!t.nodeType&&t,IS=Ca&&Ca.exports===yv,vv=IS&&TS.process,ui=function(){try{var F=Ca&&Ca.require&&Ca.require("util").types;return F||vv&&vv.binding&&vv.binding("util")}catch{}}(),SS=ui&&ui.isArrayBuffer,xS=ui&&ui.isDate,RS=ui&&ui.isMap,bS=ui&&ui.isRegExp,AS=ui&&ui.isSet,CS=ui&&ui.isTypedArray;function Gr(F,G,U){switch(U.length){case 0:return F.call(G);case 1:return F.call(G,U[0]);case 2:return F.call(G,U[0],U[1]);case 3:return F.call(G,U[0],U[1],U[2])}return F.apply(G,U)}function oB(F,G,U,xe){for(var Ye=-1,xt=F==null?0:F.length;++Ye<xt;){var Ln=F[Ye];G(xe,Ln,U(Ln),F)}return xe}function ci(F,G){for(var U=-1,xe=F==null?0:F.length;++U<xe&&G(F[U],U,F)!==!1;);return F}function aB(F,G){for(var U=F==null?0:F.length;U--&&G(F[U],U,F)!==!1;);return F}function PS(F,G){for(var U=-1,xe=F==null?0:F.length;++U<xe;)if(!G(F[U],U,F))return!1;return!0}function mo(F,G){for(var U=-1,xe=F==null?0:F.length,Ye=0,xt=[];++U<xe;){var Ln=F[U];G(Ln,U,F)&&(xt[Ye++]=Ln)}return xt}function qd(F,G){var U=F==null?0:F.length;return!!U&&ql(F,G,0)>-1}function _v(F,G,U){for(var xe=-1,Ye=F==null?0:F.length;++xe<Ye;)if(U(G,F[xe]))return!0;return!1}function en(F,G){for(var U=-1,xe=F==null?0:F.length,Ye=Array(xe);++U<xe;)Ye[U]=G(F[U],U,F);return Ye}function go(F,G){for(var U=-1,xe=G.length,Ye=F.length;++U<xe;)F[Ye+U]=G[U];return F}function wv(F,G,U,xe){var Ye=-1,xt=F==null?0:F.length;for(xe&&xt&&(U=F[++Ye]);++Ye<xt;)U=G(U,F[Ye],Ye,F);return U}function lB(F,G,U,xe){var Ye=F==null?0:F.length;for(xe&&Ye&&(U=F[--Ye]);Ye--;)U=G(U,F[Ye],Ye,F);return U}function Ev(F,G){for(var U=-1,xe=F==null?0:F.length;++U<xe;)if(G(F[U],U,F))return!0;return!1}var uB=Tv("length");function cB(F){return F.split("")}function hB(F){return F.match(ki)||[]}function OS(F,G,U){var xe;return U(F,function(Ye,xt,Ln){if(G(Ye,xt,Ln))return xe=xt,!1}),xe}function Wd(F,G,U,xe){for(var Ye=F.length,xt=U+(xe?1:-1);xe?xt--:++xt<Ye;)if(G(F[xt],xt,F))return xt;return-1}function ql(F,G,U){return G===G?IB(F,G,U):Wd(F,DS,U)}function fB(F,G,U,xe){for(var Ye=U-1,xt=F.length;++Ye<xt;)if(xe(F[Ye],G))return Ye;return-1}function DS(F){return F!==F}function kS(F,G){var U=F==null?0:F.length;return U?Sv(F,G)/U:oe}function Tv(F){return function(G){return G==null?n:G[F]}}function Iv(F){return function(G){return F==null?n:F[G]}}function NS(F,G,U,xe,Ye){return Ye(F,function(xt,Ln,Vt){U=xe?(xe=!1,xt):G(U,xt,Ln,Vt)}),U}function dB(F,G){var U=F.length;for(F.sort(G);U--;)F[U]=F[U].value;return F}function Sv(F,G){for(var U,xe=-1,Ye=F.length;++xe<Ye;){var xt=G(F[xe]);xt!==n&&(U=U===n?xt:U+xt)}return U}function xv(F,G){for(var U=-1,xe=Array(F);++U<F;)xe[U]=G(U);return xe}function pB(F,G){return en(G,function(U){return[U,F[U]]})}function LS(F){return F&&F.slice(0,$S(F)+1).replace(sn,"")}function Qr(F){return function(G){return F(G)}}function Rv(F,G){return en(G,function(U){return F[U]})}function qc(F,G){return F.has(G)}function MS(F,G){for(var U=-1,xe=F.length;++U<xe&&ql(G,F[U],0)>-1;);return U}function FS(F,G){for(var U=F.length;U--&&ql(G,F[U],0)>-1;);return U}function mB(F,G){for(var U=F.length,xe=0;U--;)F[U]===G&&++xe;return xe}var gB=Iv(Z$),yB=Iv(eB);function vB(F){return"\\"+nB[F]}function _B(F,G){return F==null?n:F[G]}function Wl(F){return Q$.test(F)}function wB(F){return Y$.test(F)}function EB(F){for(var G,U=[];!(G=F.next()).done;)U.push(G.value);return U}function bv(F){var G=-1,U=Array(F.size);return F.forEach(function(xe,Ye){U[++G]=[Ye,xe]}),U}function VS(F,G){return function(U){return F(G(U))}}function yo(F,G){for(var U=-1,xe=F.length,Ye=0,xt=[];++U<xe;){var Ln=F[U];(Ln===G||Ln===f)&&(F[U]=f,xt[Ye++]=U)}return xt}function Kd(F){var G=-1,U=Array(F.size);return F.forEach(function(xe){U[++G]=xe}),U}function TB(F){var G=-1,U=Array(F.size);return F.forEach(function(xe){U[++G]=[xe,xe]}),U}function IB(F,G,U){for(var xe=U-1,Ye=F.length;++xe<Ye;)if(F[xe]===G)return xe;return-1}function SB(F,G,U){for(var xe=U+1;xe--;)if(F[xe]===G)return xe;return xe}function Kl(F){return Wl(F)?RB(F):uB(F)}function Ni(F){return Wl(F)?bB(F):cB(F)}function $S(F){for(var G=F.length;G--&&Is.test(F.charAt(G)););return G}var xB=Iv(tB);function RB(F){for(var G=gv.lastIndex=0;gv.test(F);)++G;return G}function bB(F){return F.match(gv)||[]}function AB(F){return F.match(G$)||[]}var CB=function F(G){G=G==null?Yn:Hl.defaults(Yn.Object(),G,Hl.pick(Yn,X$));var U=G.Array,xe=G.Date,Ye=G.Error,xt=G.Function,Ln=G.Math,Vt=G.Object,Av=G.RegExp,PB=G.String,hi=G.TypeError,Hd=U.prototype,OB=xt.prototype,Gl=Vt.prototype,Gd=G["__core-js_shared__"],Qd=OB.toString,Pt=Gl.hasOwnProperty,DB=0,BS=function(){var a=/[^.]+$/.exec(Gd&&Gd.keys&&Gd.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Yd=Gl.toString,kB=Qd.call(Vt),NB=Yn._,LB=Av("^"+Qd.call(Pt).replace(ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xd=IS?G.Buffer:n,vo=G.Symbol,Jd=G.Uint8Array,jS=Xd?Xd.allocUnsafe:n,Zd=VS(Vt.getPrototypeOf,Vt),US=Vt.create,zS=Gl.propertyIsEnumerable,ep=Hd.splice,qS=vo?vo.isConcatSpreadable:n,Wc=vo?vo.iterator:n,Pa=vo?vo.toStringTag:n,tp=function(){try{var a=La(Vt,"defineProperty");return a({},"",{}),a}catch{}}(),MB=G.clearTimeout!==Yn.clearTimeout&&G.clearTimeout,FB=xe&&xe.now!==Yn.Date.now&&xe.now,VB=G.setTimeout!==Yn.setTimeout&&G.setTimeout,np=Ln.ceil,rp=Ln.floor,Cv=Vt.getOwnPropertySymbols,$B=Xd?Xd.isBuffer:n,WS=G.isFinite,BB=Hd.join,jB=VS(Vt.keys,Vt),Mn=Ln.max,or=Ln.min,UB=xe.now,zB=G.parseInt,KS=Ln.random,qB=Hd.reverse,Pv=La(G,"DataView"),Kc=La(G,"Map"),Ov=La(G,"Promise"),Ql=La(G,"Set"),Hc=La(G,"WeakMap"),Gc=La(Vt,"create"),ip=Hc&&new Hc,Yl={},WB=Ma(Pv),KB=Ma(Kc),HB=Ma(Ov),GB=Ma(Ql),QB=Ma(Hc),sp=vo?vo.prototype:n,Qc=sp?sp.valueOf:n,HS=sp?sp.toString:n;function b(a){if(mn(a)&&!Je(a)&&!(a instanceof ft)){if(a instanceof fi)return a;if(Pt.call(a,"__wrapped__"))return Gx(a)}return new fi(a)}var Xl=function(){function a(){}return function(u){if(!an(u))return{};if(US)return US(u);a.prototype=u;var d=new a;return a.prototype=n,d}}();function op(){}function fi(a,u){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}b.templateSettings={escape:Te,evaluate:je,interpolate:Pe,variable:"",imports:{_:b}},b.prototype=op.prototype,b.prototype.constructor=b,fi.prototype=Xl(op.prototype),fi.prototype.constructor=fi;function ft(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_e,this.__views__=[]}function YB(){var a=new ft(this.__wrapped__);return a.__actions__=Or(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Or(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Or(this.__views__),a}function XB(){if(this.__filtered__){var a=new ft(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function JB(){var a=this.__wrapped__.value(),u=this.__dir__,d=Je(a),g=u<0,_=d?a.length:0,C=cU(0,_,this.__views__),k=C.start,L=C.end,V=L-k,J=g?L:k-1,Z=this.__iteratees__,re=Z.length,me=0,De=or(V,this.__takeCount__);if(!d||!g&&_==V&&De==V)return yx(a,this.__actions__);var qe=[];e:for(;V--&&me<De;){J+=u;for(var it=-1,We=a[J];++it<re;){var lt=Z[it],mt=lt.iteratee,Jr=lt.type,vr=mt(We);if(Jr==Ae)We=vr;else if(!vr){if(Jr==Ve)continue e;break e}}qe[me++]=We}return qe}ft.prototype=Xl(op.prototype),ft.prototype.constructor=ft;function Oa(a){var u=-1,d=a==null?0:a.length;for(this.clear();++u<d;){var g=a[u];this.set(g[0],g[1])}}function ZB(){this.__data__=Gc?Gc(null):{},this.size=0}function ej(a){var u=this.has(a)&&delete this.__data__[a];return this.size-=u?1:0,u}function tj(a){var u=this.__data__;if(Gc){var d=u[a];return d===c?n:d}return Pt.call(u,a)?u[a]:n}function nj(a){var u=this.__data__;return Gc?u[a]!==n:Pt.call(u,a)}function rj(a,u){var d=this.__data__;return this.size+=this.has(a)?0:1,d[a]=Gc&&u===n?c:u,this}Oa.prototype.clear=ZB,Oa.prototype.delete=ej,Oa.prototype.get=tj,Oa.prototype.has=nj,Oa.prototype.set=rj;function xs(a){var u=-1,d=a==null?0:a.length;for(this.clear();++u<d;){var g=a[u];this.set(g[0],g[1])}}function ij(){this.__data__=[],this.size=0}function sj(a){var u=this.__data__,d=ap(u,a);if(d<0)return!1;var g=u.length-1;return d==g?u.pop():ep.call(u,d,1),--this.size,!0}function oj(a){var u=this.__data__,d=ap(u,a);return d<0?n:u[d][1]}function aj(a){return ap(this.__data__,a)>-1}function lj(a,u){var d=this.__data__,g=ap(d,a);return g<0?(++this.size,d.push([a,u])):d[g][1]=u,this}xs.prototype.clear=ij,xs.prototype.delete=sj,xs.prototype.get=oj,xs.prototype.has=aj,xs.prototype.set=lj;function Rs(a){var u=-1,d=a==null?0:a.length;for(this.clear();++u<d;){var g=a[u];this.set(g[0],g[1])}}function uj(){this.size=0,this.__data__={hash:new Oa,map:new(Kc||xs),string:new Oa}}function cj(a){var u=_p(this,a).delete(a);return this.size-=u?1:0,u}function hj(a){return _p(this,a).get(a)}function fj(a){return _p(this,a).has(a)}function dj(a,u){var d=_p(this,a),g=d.size;return d.set(a,u),this.size+=d.size==g?0:1,this}Rs.prototype.clear=uj,Rs.prototype.delete=cj,Rs.prototype.get=hj,Rs.prototype.has=fj,Rs.prototype.set=dj;function Da(a){var u=-1,d=a==null?0:a.length;for(this.__data__=new Rs;++u<d;)this.add(a[u])}function pj(a){return this.__data__.set(a,c),this}function mj(a){return this.__data__.has(a)}Da.prototype.add=Da.prototype.push=pj,Da.prototype.has=mj;function Li(a){var u=this.__data__=new xs(a);this.size=u.size}function gj(){this.__data__=new xs,this.size=0}function yj(a){var u=this.__data__,d=u.delete(a);return this.size=u.size,d}function vj(a){return this.__data__.get(a)}function _j(a){return this.__data__.has(a)}function wj(a,u){var d=this.__data__;if(d instanceof xs){var g=d.__data__;if(!Kc||g.length<i-1)return g.push([a,u]),this.size=++d.size,this;d=this.__data__=new Rs(g)}return d.set(a,u),this.size=d.size,this}Li.prototype.clear=gj,Li.prototype.delete=yj,Li.prototype.get=vj,Li.prototype.has=_j,Li.prototype.set=wj;function GS(a,u){var d=Je(a),g=!d&&Fa(a),_=!d&&!g&&Io(a),C=!d&&!g&&!_&&tu(a),k=d||g||_||C,L=k?xv(a.length,PB):[],V=L.length;for(var J in a)(u||Pt.call(a,J))&&!(k&&(J=="length"||_&&(J=="offset"||J=="parent")||C&&(J=="buffer"||J=="byteLength"||J=="byteOffset")||Ps(J,V)))&&L.push(J);return L}function QS(a){var u=a.length;return u?a[Uv(0,u-1)]:n}function Ej(a,u){return wp(Or(a),ka(u,0,a.length))}function Tj(a){return wp(Or(a))}function Dv(a,u,d){(d!==n&&!Mi(a[u],d)||d===n&&!(u in a))&&bs(a,u,d)}function Yc(a,u,d){var g=a[u];(!(Pt.call(a,u)&&Mi(g,d))||d===n&&!(u in a))&&bs(a,u,d)}function ap(a,u){for(var d=a.length;d--;)if(Mi(a[d][0],u))return d;return-1}function Ij(a,u,d,g){return _o(a,function(_,C,k){u(g,_,d(_),k)}),g}function YS(a,u){return a&&Zi(u,Bn(u),a)}function Sj(a,u){return a&&Zi(u,kr(u),a)}function bs(a,u,d){u=="__proto__"&&tp?tp(a,u,{configurable:!0,enumerable:!0,value:d,writable:!0}):a[u]=d}function kv(a,u){for(var d=-1,g=u.length,_=U(g),C=a==null;++d<g;)_[d]=C?n:d_(a,u[d]);return _}function ka(a,u,d){return a===a&&(d!==n&&(a=a<=d?a:d),u!==n&&(a=a>=u?a:u)),a}function di(a,u,d,g,_,C){var k,L=u&p,V=u&m,J=u&y;if(d&&(k=_?d(a,g,_,C):d(a)),k!==n)return k;if(!an(a))return a;var Z=Je(a);if(Z){if(k=fU(a),!L)return Or(a,k)}else{var re=ar(a),me=re==Rt||re==Et;if(Io(a))return wx(a,L);if(re==qt||re==ke||me&&!_){if(k=V||me?{}:$x(a),!L)return V?tU(a,Sj(k,a)):eU(a,YS(k,a))}else{if(!Bt[re])return _?a:{};k=dU(a,re,L)}}C||(C=new Li);var De=C.get(a);if(De)return De;C.set(a,k),pR(a)?a.forEach(function(We){k.add(di(We,u,d,We,a,C))}):fR(a)&&a.forEach(function(We,lt){k.set(lt,di(We,u,d,lt,a,C))});var qe=J?V?Zv:Jv:V?kr:Bn,it=Z?n:qe(a);return ci(it||a,function(We,lt){it&&(lt=We,We=a[lt]),Yc(k,lt,di(We,u,d,lt,a,C))}),k}function xj(a){var u=Bn(a);return function(d){return XS(d,a,u)}}function XS(a,u,d){var g=d.length;if(a==null)return!g;for(a=Vt(a);g--;){var _=d[g],C=u[_],k=a[_];if(k===n&&!(_ in a)||!C(k))return!1}return!0}function JS(a,u,d){if(typeof a!="function")throw new hi(o);return rh(function(){a.apply(n,d)},u)}function Xc(a,u,d,g){var _=-1,C=qd,k=!0,L=a.length,V=[],J=u.length;if(!L)return V;d&&(u=en(u,Qr(d))),g?(C=_v,k=!1):u.length>=i&&(C=qc,k=!1,u=new Da(u));e:for(;++_<L;){var Z=a[_],re=d==null?Z:d(Z);if(Z=g||Z!==0?Z:0,k&&re===re){for(var me=J;me--;)if(u[me]===re)continue e;V.push(Z)}else C(u,re,g)||V.push(Z)}return V}var _o=xx(Ji),ZS=xx(Lv,!0);function Rj(a,u){var d=!0;return _o(a,function(g,_,C){return d=!!u(g,_,C),d}),d}function lp(a,u,d){for(var g=-1,_=a.length;++g<_;){var C=a[g],k=u(C);if(k!=null&&(L===n?k===k&&!Xr(k):d(k,L)))var L=k,V=C}return V}function bj(a,u,d,g){var _=a.length;for(d=rt(d),d<0&&(d=-d>_?0:_+d),g=g===n||g>_?_:rt(g),g<0&&(g+=_),g=d>g?0:gR(g);d<g;)a[d++]=u;return a}function ex(a,u){var d=[];return _o(a,function(g,_,C){u(g,_,C)&&d.push(g)}),d}function Xn(a,u,d,g,_){var C=-1,k=a.length;for(d||(d=mU),_||(_=[]);++C<k;){var L=a[C];u>0&&d(L)?u>1?Xn(L,u-1,d,g,_):go(_,L):g||(_[_.length]=L)}return _}var Nv=Rx(),tx=Rx(!0);function Ji(a,u){return a&&Nv(a,u,Bn)}function Lv(a,u){return a&&tx(a,u,Bn)}function up(a,u){return mo(u,function(d){return Os(a[d])})}function Na(a,u){u=Eo(u,a);for(var d=0,g=u.length;a!=null&&d<g;)a=a[es(u[d++])];return d&&d==g?a:n}function nx(a,u,d){var g=u(a);return Je(a)?g:go(g,d(a))}function gr(a){return a==null?a===n?Nn:sr:Pa&&Pa in Vt(a)?uU(a):TU(a)}function Mv(a,u){return a>u}function Aj(a,u){return a!=null&&Pt.call(a,u)}function Cj(a,u){return a!=null&&u in Vt(a)}function Pj(a,u,d){return a>=or(u,d)&&a<Mn(u,d)}function Fv(a,u,d){for(var g=d?_v:qd,_=a[0].length,C=a.length,k=C,L=U(C),V=1/0,J=[];k--;){var Z=a[k];k&&u&&(Z=en(Z,Qr(u))),V=or(Z.length,V),L[k]=!d&&(u||_>=120&&Z.length>=120)?new Da(k&&Z):n}Z=a[0];var re=-1,me=L[0];e:for(;++re<_&&J.length<V;){var De=Z[re],qe=u?u(De):De;if(De=d||De!==0?De:0,!(me?qc(me,qe):g(J,qe,d))){for(k=C;--k;){var it=L[k];if(!(it?qc(it,qe):g(a[k],qe,d)))continue e}me&&me.push(qe),J.push(De)}}return J}function Oj(a,u,d,g){return Ji(a,function(_,C,k){u(g,d(_),C,k)}),g}function Jc(a,u,d){u=Eo(u,a),a=zx(a,u);var g=a==null?a:a[es(mi(u))];return g==null?n:Gr(g,a,d)}function rx(a){return mn(a)&&gr(a)==ke}function Dj(a){return mn(a)&&gr(a)==Q}function kj(a){return mn(a)&&gr(a)==Qe}function Zc(a,u,d,g,_){return a===u?!0:a==null||u==null||!mn(a)&&!mn(u)?a!==a&&u!==u:Nj(a,u,d,g,Zc,_)}function Nj(a,u,d,g,_,C){var k=Je(a),L=Je(u),V=k?at:ar(a),J=L?at:ar(u);V=V==ke?qt:V,J=J==ke?qt:J;var Z=V==qt,re=J==qt,me=V==J;if(me&&Io(a)){if(!Io(u))return!1;k=!0,Z=!1}if(me&&!Z)return C||(C=new Li),k||tu(a)?Mx(a,u,d,g,_,C):aU(a,u,V,d,g,_,C);if(!(d&v)){var De=Z&&Pt.call(a,"__wrapped__"),qe=re&&Pt.call(u,"__wrapped__");if(De||qe){var it=De?a.value():a,We=qe?u.value():u;return C||(C=new Li),_(it,We,d,g,C)}}return me?(C||(C=new Li),lU(a,u,d,g,_,C)):!1}function Lj(a){return mn(a)&&ar(a)==Nt}function Vv(a,u,d,g){var _=d.length,C=_,k=!g;if(a==null)return!C;for(a=Vt(a);_--;){var L=d[_];if(k&&L[2]?L[1]!==a[L[0]]:!(L[0]in a))return!1}for(;++_<C;){L=d[_];var V=L[0],J=a[V],Z=L[1];if(k&&L[2]){if(J===n&&!(V in a))return!1}else{var re=new Li;if(g)var me=g(J,Z,V,a,u,re);if(!(me===n?Zc(Z,J,v|w,g,re):me))return!1}}return!0}function ix(a){if(!an(a)||yU(a))return!1;var u=Os(a)?LB:Hr;return u.test(Ma(a))}function Mj(a){return mn(a)&&gr(a)==Lt}function Fj(a){return mn(a)&&ar(a)==Wt}function Vj(a){return mn(a)&&Rp(a.length)&&!!Kt[gr(a)]}function sx(a){return typeof a=="function"?a:a==null?Nr:typeof a=="object"?Je(a)?lx(a[0],a[1]):ax(a):bR(a)}function $v(a){if(!nh(a))return jB(a);var u=[];for(var d in Vt(a))Pt.call(a,d)&&d!="constructor"&&u.push(d);return u}function $j(a){if(!an(a))return EU(a);var u=nh(a),d=[];for(var g in a)g=="constructor"&&(u||!Pt.call(a,g))||d.push(g);return d}function Bv(a,u){return a<u}function ox(a,u){var d=-1,g=Dr(a)?U(a.length):[];return _o(a,function(_,C,k){g[++d]=u(_,C,k)}),g}function ax(a){var u=t_(a);return u.length==1&&u[0][2]?jx(u[0][0],u[0][1]):function(d){return d===a||Vv(d,a,u)}}function lx(a,u){return r_(a)&&Bx(u)?jx(es(a),u):function(d){var g=d_(d,a);return g===n&&g===u?p_(d,a):Zc(u,g,v|w)}}function cp(a,u,d,g,_){a!==u&&Nv(u,function(C,k){if(_||(_=new Li),an(C))Bj(a,u,k,d,cp,g,_);else{var L=g?g(s_(a,k),C,k+"",a,u,_):n;L===n&&(L=C),Dv(a,k,L)}},kr)}function Bj(a,u,d,g,_,C,k){var L=s_(a,d),V=s_(u,d),J=k.get(V);if(J){Dv(a,d,J);return}var Z=C?C(L,V,d+"",a,u,k):n,re=Z===n;if(re){var me=Je(V),De=!me&&Io(V),qe=!me&&!De&&tu(V);Z=V,me||De||qe?Je(L)?Z=L:In(L)?Z=Or(L):De?(re=!1,Z=wx(V,!0)):qe?(re=!1,Z=Ex(V,!0)):Z=[]:ih(V)||Fa(V)?(Z=L,Fa(L)?Z=yR(L):(!an(L)||Os(L))&&(Z=$x(V))):re=!1}re&&(k.set(V,Z),_(Z,V,g,C,k),k.delete(V)),Dv(a,d,Z)}function ux(a,u){var d=a.length;if(d)return u+=u<0?d:0,Ps(u,d)?a[u]:n}function cx(a,u,d){u.length?u=en(u,function(C){return Je(C)?function(k){return Na(k,C.length===1?C[0]:C)}:C}):u=[Nr];var g=-1;u=en(u,Qr(Ue()));var _=ox(a,function(C,k,L){var V=en(u,function(J){return J(C)});return{criteria:V,index:++g,value:C}});return dB(_,function(C,k){return Zj(C,k,d)})}function jj(a,u){return hx(a,u,function(d,g){return p_(a,g)})}function hx(a,u,d){for(var g=-1,_=u.length,C={};++g<_;){var k=u[g],L=Na(a,k);d(L,k)&&eh(C,Eo(k,a),L)}return C}function Uj(a){return function(u){return Na(u,a)}}function jv(a,u,d,g){var _=g?fB:ql,C=-1,k=u.length,L=a;for(a===u&&(u=Or(u)),d&&(L=en(a,Qr(d)));++C<k;)for(var V=0,J=u[C],Z=d?d(J):J;(V=_(L,Z,V,g))>-1;)L!==a&&ep.call(L,V,1),ep.call(a,V,1);return a}function fx(a,u){for(var d=a?u.length:0,g=d-1;d--;){var _=u[d];if(d==g||_!==C){var C=_;Ps(_)?ep.call(a,_,1):Wv(a,_)}}return a}function Uv(a,u){return a+rp(KS()*(u-a+1))}function zj(a,u,d,g){for(var _=-1,C=Mn(np((u-a)/(d||1)),0),k=U(C);C--;)k[g?C:++_]=a,a+=d;return k}function zv(a,u){var d="";if(!a||u<1||u>H)return d;do u%2&&(d+=a),u=rp(u/2),u&&(a+=a);while(u);return d}function st(a,u){return o_(Ux(a,u,Nr),a+"")}function qj(a){return QS(nu(a))}function Wj(a,u){var d=nu(a);return wp(d,ka(u,0,d.length))}function eh(a,u,d,g){if(!an(a))return a;u=Eo(u,a);for(var _=-1,C=u.length,k=C-1,L=a;L!=null&&++_<C;){var V=es(u[_]),J=d;if(V==="__proto__"||V==="constructor"||V==="prototype")return a;if(_!=k){var Z=L[V];J=g?g(Z,V,L):n,J===n&&(J=an(Z)?Z:Ps(u[_+1])?[]:{})}Yc(L,V,J),L=L[V]}return a}var dx=ip?function(a,u){return ip.set(a,u),a}:Nr,Kj=tp?function(a,u){return tp(a,"toString",{configurable:!0,enumerable:!1,value:g_(u),writable:!0})}:Nr;function Hj(a){return wp(nu(a))}function pi(a,u,d){var g=-1,_=a.length;u<0&&(u=-u>_?0:_+u),d=d>_?_:d,d<0&&(d+=_),_=u>d?0:d-u>>>0,u>>>=0;for(var C=U(_);++g<_;)C[g]=a[g+u];return C}function Gj(a,u){var d;return _o(a,function(g,_,C){return d=u(g,_,C),!d}),!!d}function hp(a,u,d){var g=0,_=a==null?g:a.length;if(typeof u=="number"&&u===u&&_<=Ne){for(;g<_;){var C=g+_>>>1,k=a[C];k!==null&&!Xr(k)&&(d?k<=u:k<u)?g=C+1:_=C}return _}return qv(a,u,Nr,d)}function qv(a,u,d,g){var _=0,C=a==null?0:a.length;if(C===0)return 0;u=d(u);for(var k=u!==u,L=u===null,V=Xr(u),J=u===n;_<C;){var Z=rp((_+C)/2),re=d(a[Z]),me=re!==n,De=re===null,qe=re===re,it=Xr(re);if(k)var We=g||qe;else J?We=qe&&(g||me):L?We=qe&&me&&(g||!De):V?We=qe&&me&&!De&&(g||!it):De||it?We=!1:We=g?re<=u:re<u;We?_=Z+1:C=Z}return or(C,be)}function px(a,u){for(var d=-1,g=a.length,_=0,C=[];++d<g;){var k=a[d],L=u?u(k):k;if(!d||!Mi(L,V)){var V=L;C[_++]=k===0?0:k}}return C}function mx(a){return typeof a=="number"?a:Xr(a)?oe:+a}function Yr(a){if(typeof a=="string")return a;if(Je(a))return en(a,Yr)+"";if(Xr(a))return HS?HS.call(a):"";var u=a+"";return u=="0"&&1/a==-Fe?"-0":u}function wo(a,u,d){var g=-1,_=qd,C=a.length,k=!0,L=[],V=L;if(d)k=!1,_=_v;else if(C>=i){var J=u?null:sU(a);if(J)return Kd(J);k=!1,_=qc,V=new Da}else V=u?[]:L;e:for(;++g<C;){var Z=a[g],re=u?u(Z):Z;if(Z=d||Z!==0?Z:0,k&&re===re){for(var me=V.length;me--;)if(V[me]===re)continue e;u&&V.push(re),L.push(Z)}else _(V,re,d)||(V!==L&&V.push(re),L.push(Z))}return L}function Wv(a,u){return u=Eo(u,a),a=zx(a,u),a==null||delete a[es(mi(u))]}function gx(a,u,d,g){return eh(a,u,d(Na(a,u)),g)}function fp(a,u,d,g){for(var _=a.length,C=g?_:-1;(g?C--:++C<_)&&u(a[C],C,a););return d?pi(a,g?0:C,g?C+1:_):pi(a,g?C+1:0,g?_:C)}function yx(a,u){var d=a;return d instanceof ft&&(d=d.value()),wv(u,function(g,_){return _.func.apply(_.thisArg,go([g],_.args))},d)}function Kv(a,u,d){var g=a.length;if(g<2)return g?wo(a[0]):[];for(var _=-1,C=U(g);++_<g;)for(var k=a[_],L=-1;++L<g;)L!=_&&(C[_]=Xc(C[_]||k,a[L],u,d));return wo(Xn(C,1),u,d)}function vx(a,u,d){for(var g=-1,_=a.length,C=u.length,k={};++g<_;){var L=g<C?u[g]:n;d(k,a[g],L)}return k}function Hv(a){return In(a)?a:[]}function Gv(a){return typeof a=="function"?a:Nr}function Eo(a,u){return Je(a)?a:r_(a,u)?[a]:Hx(At(a))}var Qj=st;function To(a,u,d){var g=a.length;return d=d===n?g:d,!u&&d>=g?a:pi(a,u,d)}var _x=MB||function(a){return Yn.clearTimeout(a)};function wx(a,u){if(u)return a.slice();var d=a.length,g=jS?jS(d):new a.constructor(d);return a.copy(g),g}function Qv(a){var u=new a.constructor(a.byteLength);return new Jd(u).set(new Jd(a)),u}function Yj(a,u){var d=u?Qv(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.byteLength)}function Xj(a){var u=new a.constructor(a.source,Ul.exec(a));return u.lastIndex=a.lastIndex,u}function Jj(a){return Qc?Vt(Qc.call(a)):{}}function Ex(a,u){var d=u?Qv(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.length)}function Tx(a,u){if(a!==u){var d=a!==n,g=a===null,_=a===a,C=Xr(a),k=u!==n,L=u===null,V=u===u,J=Xr(u);if(!L&&!J&&!C&&a>u||C&&k&&V&&!L&&!J||g&&k&&V||!d&&V||!_)return 1;if(!g&&!C&&!J&&a<u||J&&d&&_&&!g&&!C||L&&d&&_||!k&&_||!V)return-1}return 0}function Zj(a,u,d){for(var g=-1,_=a.criteria,C=u.criteria,k=_.length,L=d.length;++g<k;){var V=Tx(_[g],C[g]);if(V){if(g>=L)return V;var J=d[g];return V*(J=="desc"?-1:1)}}return a.index-u.index}function Ix(a,u,d,g){for(var _=-1,C=a.length,k=d.length,L=-1,V=u.length,J=Mn(C-k,0),Z=U(V+J),re=!g;++L<V;)Z[L]=u[L];for(;++_<k;)(re||_<C)&&(Z[d[_]]=a[_]);for(;J--;)Z[L++]=a[_++];return Z}function Sx(a,u,d,g){for(var _=-1,C=a.length,k=-1,L=d.length,V=-1,J=u.length,Z=Mn(C-L,0),re=U(Z+J),me=!g;++_<Z;)re[_]=a[_];for(var De=_;++V<J;)re[De+V]=u[V];for(;++k<L;)(me||_<C)&&(re[De+d[k]]=a[_++]);return re}function Or(a,u){var d=-1,g=a.length;for(u||(u=U(g));++d<g;)u[d]=a[d];return u}function Zi(a,u,d,g){var _=!d;d||(d={});for(var C=-1,k=u.length;++C<k;){var L=u[C],V=g?g(d[L],a[L],L,d,a):n;V===n&&(V=a[L]),_?bs(d,L,V):Yc(d,L,V)}return d}function eU(a,u){return Zi(a,n_(a),u)}function tU(a,u){return Zi(a,Fx(a),u)}function dp(a,u){return function(d,g){var _=Je(d)?oB:Ij,C=u?u():{};return _(d,a,Ue(g,2),C)}}function Jl(a){return st(function(u,d){var g=-1,_=d.length,C=_>1?d[_-1]:n,k=_>2?d[2]:n;for(C=a.length>3&&typeof C=="function"?(_--,C):n,k&&yr(d[0],d[1],k)&&(C=_<3?n:C,_=1),u=Vt(u);++g<_;){var L=d[g];L&&a(u,L,g,C)}return u})}function xx(a,u){return function(d,g){if(d==null)return d;if(!Dr(d))return a(d,g);for(var _=d.length,C=u?_:-1,k=Vt(d);(u?C--:++C<_)&&g(k[C],C,k)!==!1;);return d}}function Rx(a){return function(u,d,g){for(var _=-1,C=Vt(u),k=g(u),L=k.length;L--;){var V=k[a?L:++_];if(d(C[V],V,C)===!1)break}return u}}function nU(a,u,d){var g=u&R,_=th(a);function C(){var k=this&&this!==Yn&&this instanceof C?_:a;return k.apply(g?d:this,arguments)}return C}function bx(a){return function(u){u=At(u);var d=Wl(u)?Ni(u):n,g=d?d[0]:u.charAt(0),_=d?To(d,1).join(""):u.slice(1);return g[a]()+_}}function Zl(a){return function(u){return wv(xR(SR(u).replace(K$,"")),a,"")}}function th(a){return function(){var u=arguments;switch(u.length){case 0:return new a;case 1:return new a(u[0]);case 2:return new a(u[0],u[1]);case 3:return new a(u[0],u[1],u[2]);case 4:return new a(u[0],u[1],u[2],u[3]);case 5:return new a(u[0],u[1],u[2],u[3],u[4]);case 6:return new a(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new a(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var d=Xl(a.prototype),g=a.apply(d,u);return an(g)?g:d}}function rU(a,u,d){var g=th(a);function _(){for(var C=arguments.length,k=U(C),L=C,V=eu(_);L--;)k[L]=arguments[L];var J=C<3&&k[0]!==V&&k[C-1]!==V?[]:yo(k,V);if(C-=J.length,C<d)return Dx(a,u,pp,_.placeholder,n,k,J,n,n,d-C);var Z=this&&this!==Yn&&this instanceof _?g:a;return Gr(Z,this,k)}return _}function Ax(a){return function(u,d,g){var _=Vt(u);if(!Dr(u)){var C=Ue(d,3);u=Bn(u),d=function(L){return C(_[L],L,_)}}var k=a(u,d,g);return k>-1?_[C?u[k]:k]:n}}function Cx(a){return Cs(function(u){var d=u.length,g=d,_=fi.prototype.thru;for(a&&u.reverse();g--;){var C=u[g];if(typeof C!="function")throw new hi(o);if(_&&!k&&vp(C)=="wrapper")var k=new fi([],!0)}for(g=k?g:d;++g<d;){C=u[g];var L=vp(C),V=L=="wrapper"?e_(C):n;V&&i_(V[0])&&V[1]==(D|I|P|N)&&!V[4].length&&V[9]==1?k=k[vp(V[0])].apply(k,V[3]):k=C.length==1&&i_(C)?k[L]():k.thru(C)}return function(){var J=arguments,Z=J[0];if(k&&J.length==1&&Je(Z))return k.plant(Z).value();for(var re=0,me=d?u[re].apply(this,J):Z;++re<d;)me=u[re].call(this,me);return me}})}function pp(a,u,d,g,_,C,k,L,V,J){var Z=u&D,re=u&R,me=u&T,De=u&(I|E),qe=u&q,it=me?n:th(a);function We(){for(var lt=arguments.length,mt=U(lt),Jr=lt;Jr--;)mt[Jr]=arguments[Jr];if(De)var vr=eu(We),Zr=mB(mt,vr);if(g&&(mt=Ix(mt,g,_,De)),C&&(mt=Sx(mt,C,k,De)),lt-=Zr,De&&lt<J){var Sn=yo(mt,vr);return Dx(a,u,pp,We.placeholder,d,mt,Sn,L,V,J-lt)}var Fi=re?d:this,ks=me?Fi[a]:a;return lt=mt.length,L?mt=IU(mt,L):qe&&lt>1&&mt.reverse(),Z&&V<lt&&(mt.length=V),this&&this!==Yn&&this instanceof We&&(ks=it||th(ks)),ks.apply(Fi,mt)}return We}function Px(a,u){return function(d,g){return Oj(d,a,u(g),{})}}function mp(a,u){return function(d,g){var _;if(d===n&&g===n)return u;if(d!==n&&(_=d),g!==n){if(_===n)return g;typeof d=="string"||typeof g=="string"?(d=Yr(d),g=Yr(g)):(d=mx(d),g=mx(g)),_=a(d,g)}return _}}function Yv(a){return Cs(function(u){return u=en(u,Qr(Ue())),st(function(d){var g=this;return a(u,function(_){return Gr(_,g,d)})})})}function gp(a,u){u=u===n?" ":Yr(u);var d=u.length;if(d<2)return d?zv(u,a):u;var g=zv(u,np(a/Kl(u)));return Wl(u)?To(Ni(g),0,a).join(""):g.slice(0,a)}function iU(a,u,d,g){var _=u&R,C=th(a);function k(){for(var L=-1,V=arguments.length,J=-1,Z=g.length,re=U(Z+V),me=this&&this!==Yn&&this instanceof k?C:a;++J<Z;)re[J]=g[J];for(;V--;)re[J++]=arguments[++L];return Gr(me,_?d:this,re)}return k}function Ox(a){return function(u,d,g){return g&&typeof g!="number"&&yr(u,d,g)&&(d=g=n),u=Ds(u),d===n?(d=u,u=0):d=Ds(d),g=g===n?u<d?1:-1:Ds(g),zj(u,d,g,a)}}function yp(a){return function(u,d){return typeof u=="string"&&typeof d=="string"||(u=gi(u),d=gi(d)),a(u,d)}}function Dx(a,u,d,g,_,C,k,L,V,J){var Z=u&I,re=Z?k:n,me=Z?n:k,De=Z?C:n,qe=Z?n:C;u|=Z?P:O,u&=~(Z?O:P),u&S||(u&=~(R|T));var it=[a,u,_,De,re,qe,me,L,V,J],We=d.apply(n,it);return i_(a)&&qx(We,it),We.placeholder=g,Wx(We,a,u)}function Xv(a){var u=Ln[a];return function(d,g){if(d=gi(d),g=g==null?0:or(rt(g),292),g&&WS(d)){var _=(At(d)+"e").split("e"),C=u(_[0]+"e"+(+_[1]+g));return _=(At(C)+"e").split("e"),+(_[0]+"e"+(+_[1]-g))}return u(d)}}var sU=Ql&&1/Kd(new Ql([,-0]))[1]==Fe?function(a){return new Ql(a)}:__;function kx(a){return function(u){var d=ar(u);return d==Nt?bv(u):d==Wt?TB(u):pB(u,a(u))}}function As(a,u,d,g,_,C,k,L){var V=u&T;if(!V&&typeof a!="function")throw new hi(o);var J=g?g.length:0;if(J||(u&=~(P|O),g=_=n),k=k===n?k:Mn(rt(k),0),L=L===n?L:rt(L),J-=_?_.length:0,u&O){var Z=g,re=_;g=_=n}var me=V?n:e_(a),De=[a,u,d,g,_,Z,re,C,k,L];if(me&&wU(De,me),a=De[0],u=De[1],d=De[2],g=De[3],_=De[4],L=De[9]=De[9]===n?V?0:a.length:Mn(De[9]-J,0),!L&&u&(I|E)&&(u&=~(I|E)),!u||u==R)var qe=nU(a,u,d);else u==I||u==E?qe=rU(a,u,L):(u==P||u==(R|P))&&!_.length?qe=iU(a,u,d,g):qe=pp.apply(n,De);var it=me?dx:qx;return Wx(it(qe,De),a,u)}function Nx(a,u,d,g){return a===n||Mi(a,Gl[d])&&!Pt.call(g,d)?u:a}function Lx(a,u,d,g,_,C){return an(a)&&an(u)&&(C.set(u,a),cp(a,u,n,Lx,C),C.delete(u)),a}function oU(a){return ih(a)?n:a}function Mx(a,u,d,g,_,C){var k=d&v,L=a.length,V=u.length;if(L!=V&&!(k&&V>L))return!1;var J=C.get(a),Z=C.get(u);if(J&&Z)return J==u&&Z==a;var re=-1,me=!0,De=d&w?new Da:n;for(C.set(a,u),C.set(u,a);++re<L;){var qe=a[re],it=u[re];if(g)var We=k?g(it,qe,re,u,a,C):g(qe,it,re,a,u,C);if(We!==n){if(We)continue;me=!1;break}if(De){if(!Ev(u,function(lt,mt){if(!qc(De,mt)&&(qe===lt||_(qe,lt,d,g,C)))return De.push(mt)})){me=!1;break}}else if(!(qe===it||_(qe,it,d,g,C))){me=!1;break}}return C.delete(a),C.delete(u),me}function aU(a,u,d,g,_,C,k){switch(d){case $:if(a.byteLength!=u.byteLength||a.byteOffset!=u.byteOffset)return!1;a=a.buffer,u=u.buffer;case Q:return!(a.byteLength!=u.byteLength||!C(new Jd(a),new Jd(u)));case wt:case Qe:case et:return Mi(+a,+u);case ct:return a.name==u.name&&a.message==u.message;case Lt:case kn:return a==u+"";case Nt:var L=bv;case Wt:var V=g&v;if(L||(L=Kd),a.size!=u.size&&!V)return!1;var J=k.get(a);if(J)return J==u;g|=w,k.set(a,u);var Z=Mx(L(a),L(u),g,_,C,k);return k.delete(a),Z;case pn:if(Qc)return Qc.call(a)==Qc.call(u)}return!1}function lU(a,u,d,g,_,C){var k=d&v,L=Jv(a),V=L.length,J=Jv(u),Z=J.length;if(V!=Z&&!k)return!1;for(var re=V;re--;){var me=L[re];if(!(k?me in u:Pt.call(u,me)))return!1}var De=C.get(a),qe=C.get(u);if(De&&qe)return De==u&&qe==a;var it=!0;C.set(a,u),C.set(u,a);for(var We=k;++re<V;){me=L[re];var lt=a[me],mt=u[me];if(g)var Jr=k?g(mt,lt,me,u,a,C):g(lt,mt,me,a,u,C);if(!(Jr===n?lt===mt||_(lt,mt,d,g,C):Jr)){it=!1;break}We||(We=me=="constructor")}if(it&&!We){var vr=a.constructor,Zr=u.constructor;vr!=Zr&&"constructor"in a&&"constructor"in u&&!(typeof vr=="function"&&vr instanceof vr&&typeof Zr=="function"&&Zr instanceof Zr)&&(it=!1)}return C.delete(a),C.delete(u),it}function Cs(a){return o_(Ux(a,n,Xx),a+"")}function Jv(a){return nx(a,Bn,n_)}function Zv(a){return nx(a,kr,Fx)}var e_=ip?function(a){return ip.get(a)}:__;function vp(a){for(var u=a.name+"",d=Yl[u],g=Pt.call(Yl,u)?d.length:0;g--;){var _=d[g],C=_.func;if(C==null||C==a)return _.name}return u}function eu(a){var u=Pt.call(b,"placeholder")?b:a;return u.placeholder}function Ue(){var a=b.iteratee||y_;return a=a===y_?sx:a,arguments.length?a(arguments[0],arguments[1]):a}function _p(a,u){var d=a.__data__;return gU(u)?d[typeof u=="string"?"string":"hash"]:d.map}function t_(a){for(var u=Bn(a),d=u.length;d--;){var g=u[d],_=a[g];u[d]=[g,_,Bx(_)]}return u}function La(a,u){var d=_B(a,u);return ix(d)?d:n}function uU(a){var u=Pt.call(a,Pa),d=a[Pa];try{a[Pa]=n;var g=!0}catch{}var _=Yd.call(a);return g&&(u?a[Pa]=d:delete a[Pa]),_}var n_=Cv?function(a){return a==null?[]:(a=Vt(a),mo(Cv(a),function(u){return zS.call(a,u)}))}:w_,Fx=Cv?function(a){for(var u=[];a;)go(u,n_(a)),a=Zd(a);return u}:w_,ar=gr;(Pv&&ar(new Pv(new ArrayBuffer(1)))!=$||Kc&&ar(new Kc)!=Nt||Ov&&ar(Ov.resolve())!=Kr||Ql&&ar(new Ql)!=Wt||Hc&&ar(new Hc)!=le)&&(ar=function(a){var u=gr(a),d=u==qt?a.constructor:n,g=d?Ma(d):"";if(g)switch(g){case WB:return $;case KB:return Nt;case HB:return Kr;case GB:return Wt;case QB:return le}return u});function cU(a,u,d){for(var g=-1,_=d.length;++g<_;){var C=d[g],k=C.size;switch(C.type){case"drop":a+=k;break;case"dropRight":u-=k;break;case"take":u=or(u,a+k);break;case"takeRight":a=Mn(a,u-k);break}}return{start:a,end:u}}function hU(a){var u=a.match(Ra);return u?u[1].split(jc):[]}function Vx(a,u,d){u=Eo(u,a);for(var g=-1,_=u.length,C=!1;++g<_;){var k=es(u[g]);if(!(C=a!=null&&d(a,k)))break;a=a[k]}return C||++g!=_?C:(_=a==null?0:a.length,!!_&&Rp(_)&&Ps(k,_)&&(Je(a)||Fa(a)))}function fU(a){var u=a.length,d=new a.constructor(u);return u&&typeof a[0]=="string"&&Pt.call(a,"index")&&(d.index=a.index,d.input=a.input),d}function $x(a){return typeof a.constructor=="function"&&!nh(a)?Xl(Zd(a)):{}}function dU(a,u,d){var g=a.constructor;switch(u){case Q:return Qv(a);case wt:case Qe:return new g(+a);case $:return Yj(a,d);case ne:case ae:case Ke:case He:case ht:case W:case X:case Se:case we:return Ex(a,d);case Nt:return new g;case et:case kn:return new g(a);case Lt:return Xj(a);case Wt:return new g;case pn:return Jj(a)}}function pU(a,u){var d=u.length;if(!d)return a;var g=d-1;return u[g]=(d>1?"& ":"")+u[g],u=u.join(d>2?", ":" "),a.replace(Ss,`{
/* [wrapped with `+u+`] */
`)}function mU(a){return Je(a)||Fa(a)||!!(qS&&a&&a[qS])}function Ps(a,u){var d=typeof a;return u=u??H,!!u&&(d=="number"||d!="symbol"&&on.test(a))&&a>-1&&a%1==0&&a<u}function yr(a,u,d){if(!an(d))return!1;var g=typeof u;return(g=="number"?Dr(d)&&Ps(u,d.length):g=="string"&&u in d)?Mi(d[u],a):!1}function r_(a,u){if(Je(a))return!1;var d=typeof a;return d=="number"||d=="symbol"||d=="boolean"||a==null||Xr(a)?!0:St.test(a)||!Oe.test(a)||u!=null&&a in Vt(u)}function gU(a){var u=typeof a;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?a!=="__proto__":a===null}function i_(a){var u=vp(a),d=b[u];if(typeof d!="function"||!(u in ft.prototype))return!1;if(a===d)return!0;var g=e_(d);return!!g&&a===g[0]}function yU(a){return!!BS&&BS in a}var vU=Gd?Os:E_;function nh(a){var u=a&&a.constructor,d=typeof u=="function"&&u.prototype||Gl;return a===d}function Bx(a){return a===a&&!an(a)}function jx(a,u){return function(d){return d==null?!1:d[a]===u&&(u!==n||a in Vt(d))}}function _U(a){var u=Sp(a,function(g){return d.size===h&&d.clear(),g}),d=u.cache;return u}function wU(a,u){var d=a[1],g=u[1],_=d|g,C=_<(R|T|D),k=g==D&&d==I||g==D&&d==N&&a[7].length<=u[8]||g==(D|N)&&u[7].length<=u[8]&&d==I;if(!(C||k))return a;g&R&&(a[2]=u[2],_|=d&R?0:S);var L=u[3];if(L){var V=a[3];a[3]=V?Ix(V,L,u[4]):L,a[4]=V?yo(a[3],f):u[4]}return L=u[5],L&&(V=a[5],a[5]=V?Sx(V,L,u[6]):L,a[6]=V?yo(a[5],f):u[6]),L=u[7],L&&(a[7]=L),g&D&&(a[8]=a[8]==null?u[8]:or(a[8],u[8])),a[9]==null&&(a[9]=u[9]),a[0]=u[0],a[1]=_,a}function EU(a){var u=[];if(a!=null)for(var d in Vt(a))u.push(d);return u}function TU(a){return Yd.call(a)}function Ux(a,u,d){return u=Mn(u===n?a.length-1:u,0),function(){for(var g=arguments,_=-1,C=Mn(g.length-u,0),k=U(C);++_<C;)k[_]=g[u+_];_=-1;for(var L=U(u+1);++_<u;)L[_]=g[_];return L[u]=d(k),Gr(a,this,L)}}function zx(a,u){return u.length<2?a:Na(a,pi(u,0,-1))}function IU(a,u){for(var d=a.length,g=or(u.length,d),_=Or(a);g--;){var C=u[g];a[g]=Ps(C,d)?_[C]:n}return a}function s_(a,u){if(!(u==="constructor"&&typeof a[u]=="function")&&u!="__proto__")return a[u]}var qx=Kx(dx),rh=VB||function(a,u){return Yn.setTimeout(a,u)},o_=Kx(Kj);function Wx(a,u,d){var g=u+"";return o_(a,pU(g,SU(hU(g),d)))}function Kx(a){var u=0,d=0;return function(){var g=UB(),_=ve-(g-d);if(d=g,_>0){if(++u>=fe)return arguments[0]}else u=0;return a.apply(n,arguments)}}function wp(a,u){var d=-1,g=a.length,_=g-1;for(u=u===n?g:u;++d<u;){var C=Uv(d,_),k=a[C];a[C]=a[d],a[d]=k}return a.length=u,a}var Hx=_U(function(a){var u=[];return a.charCodeAt(0)===46&&u.push(""),a.replace(Mt,function(d,g,_,C){u.push(_?C.replace(jl,"$1"):g||d)}),u});function es(a){if(typeof a=="string"||Xr(a))return a;var u=a+"";return u=="0"&&1/a==-Fe?"-0":u}function Ma(a){if(a!=null){try{return Qd.call(a)}catch{}try{return a+""}catch{}}return""}function SU(a,u){return ci($e,function(d){var g="_."+d[0];u&d[1]&&!qd(a,g)&&a.push(g)}),a.sort()}function Gx(a){if(a instanceof ft)return a.clone();var u=new fi(a.__wrapped__,a.__chain__);return u.__actions__=Or(a.__actions__),u.__index__=a.__index__,u.__values__=a.__values__,u}function xU(a,u,d){(d?yr(a,u,d):u===n)?u=1:u=Mn(rt(u),0);var g=a==null?0:a.length;if(!g||u<1)return[];for(var _=0,C=0,k=U(np(g/u));_<g;)k[C++]=pi(a,_,_+=u);return k}function RU(a){for(var u=-1,d=a==null?0:a.length,g=0,_=[];++u<d;){var C=a[u];C&&(_[g++]=C)}return _}function bU(){var a=arguments.length;if(!a)return[];for(var u=U(a-1),d=arguments[0],g=a;g--;)u[g-1]=arguments[g];return go(Je(d)?Or(d):[d],Xn(u,1))}var AU=st(function(a,u){return In(a)?Xc(a,Xn(u,1,In,!0)):[]}),CU=st(function(a,u){var d=mi(u);return In(d)&&(d=n),In(a)?Xc(a,Xn(u,1,In,!0),Ue(d,2)):[]}),PU=st(function(a,u){var d=mi(u);return In(d)&&(d=n),In(a)?Xc(a,Xn(u,1,In,!0),n,d):[]});function OU(a,u,d){var g=a==null?0:a.length;return g?(u=d||u===n?1:rt(u),pi(a,u<0?0:u,g)):[]}function DU(a,u,d){var g=a==null?0:a.length;return g?(u=d||u===n?1:rt(u),u=g-u,pi(a,0,u<0?0:u)):[]}function kU(a,u){return a&&a.length?fp(a,Ue(u,3),!0,!0):[]}function NU(a,u){return a&&a.length?fp(a,Ue(u,3),!0):[]}function LU(a,u,d,g){var _=a==null?0:a.length;return _?(d&&typeof d!="number"&&yr(a,u,d)&&(d=0,g=_),bj(a,u,d,g)):[]}function Qx(a,u,d){var g=a==null?0:a.length;if(!g)return-1;var _=d==null?0:rt(d);return _<0&&(_=Mn(g+_,0)),Wd(a,Ue(u,3),_)}function Yx(a,u,d){var g=a==null?0:a.length;if(!g)return-1;var _=g-1;return d!==n&&(_=rt(d),_=d<0?Mn(g+_,0):or(_,g-1)),Wd(a,Ue(u,3),_,!0)}function Xx(a){var u=a==null?0:a.length;return u?Xn(a,1):[]}function MU(a){var u=a==null?0:a.length;return u?Xn(a,Fe):[]}function FU(a,u){var d=a==null?0:a.length;return d?(u=u===n?1:rt(u),Xn(a,u)):[]}function VU(a){for(var u=-1,d=a==null?0:a.length,g={};++u<d;){var _=a[u];g[_[0]]=_[1]}return g}function Jx(a){return a&&a.length?a[0]:n}function $U(a,u,d){var g=a==null?0:a.length;if(!g)return-1;var _=d==null?0:rt(d);return _<0&&(_=Mn(g+_,0)),ql(a,u,_)}function BU(a){var u=a==null?0:a.length;return u?pi(a,0,-1):[]}var jU=st(function(a){var u=en(a,Hv);return u.length&&u[0]===a[0]?Fv(u):[]}),UU=st(function(a){var u=mi(a),d=en(a,Hv);return u===mi(d)?u=n:d.pop(),d.length&&d[0]===a[0]?Fv(d,Ue(u,2)):[]}),zU=st(function(a){var u=mi(a),d=en(a,Hv);return u=typeof u=="function"?u:n,u&&d.pop(),d.length&&d[0]===a[0]?Fv(d,n,u):[]});function qU(a,u){return a==null?"":BB.call(a,u)}function mi(a){var u=a==null?0:a.length;return u?a[u-1]:n}function WU(a,u,d){var g=a==null?0:a.length;if(!g)return-1;var _=g;return d!==n&&(_=rt(d),_=_<0?Mn(g+_,0):or(_,g-1)),u===u?SB(a,u,_):Wd(a,DS,_,!0)}function KU(a,u){return a&&a.length?ux(a,rt(u)):n}var HU=st(Zx);function Zx(a,u){return a&&a.length&&u&&u.length?jv(a,u):a}function GU(a,u,d){return a&&a.length&&u&&u.length?jv(a,u,Ue(d,2)):a}function QU(a,u,d){return a&&a.length&&u&&u.length?jv(a,u,n,d):a}var YU=Cs(function(a,u){var d=a==null?0:a.length,g=kv(a,u);return fx(a,en(u,function(_){return Ps(_,d)?+_:_}).sort(Tx)),g});function XU(a,u){var d=[];if(!(a&&a.length))return d;var g=-1,_=[],C=a.length;for(u=Ue(u,3);++g<C;){var k=a[g];u(k,g,a)&&(d.push(k),_.push(g))}return fx(a,_),d}function a_(a){return a==null?a:qB.call(a)}function JU(a,u,d){var g=a==null?0:a.length;return g?(d&&typeof d!="number"&&yr(a,u,d)?(u=0,d=g):(u=u==null?0:rt(u),d=d===n?g:rt(d)),pi(a,u,d)):[]}function ZU(a,u){return hp(a,u)}function e4(a,u,d){return qv(a,u,Ue(d,2))}function t4(a,u){var d=a==null?0:a.length;if(d){var g=hp(a,u);if(g<d&&Mi(a[g],u))return g}return-1}function n4(a,u){return hp(a,u,!0)}function r4(a,u,d){return qv(a,u,Ue(d,2),!0)}function i4(a,u){var d=a==null?0:a.length;if(d){var g=hp(a,u,!0)-1;if(Mi(a[g],u))return g}return-1}function s4(a){return a&&a.length?px(a):[]}function o4(a,u){return a&&a.length?px(a,Ue(u,2)):[]}function a4(a){var u=a==null?0:a.length;return u?pi(a,1,u):[]}function l4(a,u,d){return a&&a.length?(u=d||u===n?1:rt(u),pi(a,0,u<0?0:u)):[]}function u4(a,u,d){var g=a==null?0:a.length;return g?(u=d||u===n?1:rt(u),u=g-u,pi(a,u<0?0:u,g)):[]}function c4(a,u){return a&&a.length?fp(a,Ue(u,3),!1,!0):[]}function h4(a,u){return a&&a.length?fp(a,Ue(u,3)):[]}var f4=st(function(a){return wo(Xn(a,1,In,!0))}),d4=st(function(a){var u=mi(a);return In(u)&&(u=n),wo(Xn(a,1,In,!0),Ue(u,2))}),p4=st(function(a){var u=mi(a);return u=typeof u=="function"?u:n,wo(Xn(a,1,In,!0),n,u)});function m4(a){return a&&a.length?wo(a):[]}function g4(a,u){return a&&a.length?wo(a,Ue(u,2)):[]}function y4(a,u){return u=typeof u=="function"?u:n,a&&a.length?wo(a,n,u):[]}function l_(a){if(!(a&&a.length))return[];var u=0;return a=mo(a,function(d){if(In(d))return u=Mn(d.length,u),!0}),xv(u,function(d){return en(a,Tv(d))})}function eR(a,u){if(!(a&&a.length))return[];var d=l_(a);return u==null?d:en(d,function(g){return Gr(u,n,g)})}var v4=st(function(a,u){return In(a)?Xc(a,u):[]}),_4=st(function(a){return Kv(mo(a,In))}),w4=st(function(a){var u=mi(a);return In(u)&&(u=n),Kv(mo(a,In),Ue(u,2))}),E4=st(function(a){var u=mi(a);return u=typeof u=="function"?u:n,Kv(mo(a,In),n,u)}),T4=st(l_);function I4(a,u){return vx(a||[],u||[],Yc)}function S4(a,u){return vx(a||[],u||[],eh)}var x4=st(function(a){var u=a.length,d=u>1?a[u-1]:n;return d=typeof d=="function"?(a.pop(),d):n,eR(a,d)});function tR(a){var u=b(a);return u.__chain__=!0,u}function R4(a,u){return u(a),a}function Ep(a,u){return u(a)}var b4=Cs(function(a){var u=a.length,d=u?a[0]:0,g=this.__wrapped__,_=function(C){return kv(C,a)};return u>1||this.__actions__.length||!(g instanceof ft)||!Ps(d)?this.thru(_):(g=g.slice(d,+d+(u?1:0)),g.__actions__.push({func:Ep,args:[_],thisArg:n}),new fi(g,this.__chain__).thru(function(C){return u&&!C.length&&C.push(n),C}))});function A4(){return tR(this)}function C4(){return new fi(this.value(),this.__chain__)}function P4(){this.__values__===n&&(this.__values__=mR(this.value()));var a=this.__index__>=this.__values__.length,u=a?n:this.__values__[this.__index__++];return{done:a,value:u}}function O4(){return this}function D4(a){for(var u,d=this;d instanceof op;){var g=Gx(d);g.__index__=0,g.__values__=n,u?_.__wrapped__=g:u=g;var _=g;d=d.__wrapped__}return _.__wrapped__=a,u}function k4(){var a=this.__wrapped__;if(a instanceof ft){var u=a;return this.__actions__.length&&(u=new ft(this)),u=u.reverse(),u.__actions__.push({func:Ep,args:[a_],thisArg:n}),new fi(u,this.__chain__)}return this.thru(a_)}function N4(){return yx(this.__wrapped__,this.__actions__)}var L4=dp(function(a,u,d){Pt.call(a,d)?++a[d]:bs(a,d,1)});function M4(a,u,d){var g=Je(a)?PS:Rj;return d&&yr(a,u,d)&&(u=n),g(a,Ue(u,3))}function F4(a,u){var d=Je(a)?mo:ex;return d(a,Ue(u,3))}var V4=Ax(Qx),$4=Ax(Yx);function B4(a,u){return Xn(Tp(a,u),1)}function j4(a,u){return Xn(Tp(a,u),Fe)}function U4(a,u,d){return d=d===n?1:rt(d),Xn(Tp(a,u),d)}function nR(a,u){var d=Je(a)?ci:_o;return d(a,Ue(u,3))}function rR(a,u){var d=Je(a)?aB:ZS;return d(a,Ue(u,3))}var z4=dp(function(a,u,d){Pt.call(a,d)?a[d].push(u):bs(a,d,[u])});function q4(a,u,d,g){a=Dr(a)?a:nu(a),d=d&&!g?rt(d):0;var _=a.length;return d<0&&(d=Mn(_+d,0)),bp(a)?d<=_&&a.indexOf(u,d)>-1:!!_&&ql(a,u,d)>-1}var W4=st(function(a,u,d){var g=-1,_=typeof u=="function",C=Dr(a)?U(a.length):[];return _o(a,function(k){C[++g]=_?Gr(u,k,d):Jc(k,u,d)}),C}),K4=dp(function(a,u,d){bs(a,d,u)});function Tp(a,u){var d=Je(a)?en:ox;return d(a,Ue(u,3))}function H4(a,u,d,g){return a==null?[]:(Je(u)||(u=u==null?[]:[u]),d=g?n:d,Je(d)||(d=d==null?[]:[d]),cx(a,u,d))}var G4=dp(function(a,u,d){a[d?0:1].push(u)},function(){return[[],[]]});function Q4(a,u,d){var g=Je(a)?wv:NS,_=arguments.length<3;return g(a,Ue(u,4),d,_,_o)}function Y4(a,u,d){var g=Je(a)?lB:NS,_=arguments.length<3;return g(a,Ue(u,4),d,_,ZS)}function X4(a,u){var d=Je(a)?mo:ex;return d(a,xp(Ue(u,3)))}function J4(a){var u=Je(a)?QS:qj;return u(a)}function Z4(a,u,d){(d?yr(a,u,d):u===n)?u=1:u=rt(u);var g=Je(a)?Ej:Wj;return g(a,u)}function e5(a){var u=Je(a)?Tj:Hj;return u(a)}function t5(a){if(a==null)return 0;if(Dr(a))return bp(a)?Kl(a):a.length;var u=ar(a);return u==Nt||u==Wt?a.size:$v(a).length}function n5(a,u,d){var g=Je(a)?Ev:Gj;return d&&yr(a,u,d)&&(u=n),g(a,Ue(u,3))}var r5=st(function(a,u){if(a==null)return[];var d=u.length;return d>1&&yr(a,u[0],u[1])?u=[]:d>2&&yr(u[0],u[1],u[2])&&(u=[u[0]]),cx(a,Xn(u,1),[])}),Ip=FB||function(){return Yn.Date.now()};function i5(a,u){if(typeof u!="function")throw new hi(o);return a=rt(a),function(){if(--a<1)return u.apply(this,arguments)}}function iR(a,u,d){return u=d?n:u,u=a&&u==null?a.length:u,As(a,D,n,n,n,n,u)}function sR(a,u){var d;if(typeof u!="function")throw new hi(o);return a=rt(a),function(){return--a>0&&(d=u.apply(this,arguments)),a<=1&&(u=n),d}}var u_=st(function(a,u,d){var g=R;if(d.length){var _=yo(d,eu(u_));g|=P}return As(a,g,u,d,_)}),oR=st(function(a,u,d){var g=R|T;if(d.length){var _=yo(d,eu(oR));g|=P}return As(u,g,a,d,_)});function aR(a,u,d){u=d?n:u;var g=As(a,I,n,n,n,n,n,u);return g.placeholder=aR.placeholder,g}function lR(a,u,d){u=d?n:u;var g=As(a,E,n,n,n,n,n,u);return g.placeholder=lR.placeholder,g}function uR(a,u,d){var g,_,C,k,L,V,J=0,Z=!1,re=!1,me=!0;if(typeof a!="function")throw new hi(o);u=gi(u)||0,an(d)&&(Z=!!d.leading,re="maxWait"in d,C=re?Mn(gi(d.maxWait)||0,u):C,me="trailing"in d?!!d.trailing:me);function De(Sn){var Fi=g,ks=_;return g=_=n,J=Sn,k=a.apply(ks,Fi),k}function qe(Sn){return J=Sn,L=rh(lt,u),Z?De(Sn):k}function it(Sn){var Fi=Sn-V,ks=Sn-J,AR=u-Fi;return re?or(AR,C-ks):AR}function We(Sn){var Fi=Sn-V,ks=Sn-J;return V===n||Fi>=u||Fi<0||re&&ks>=C}function lt(){var Sn=Ip();if(We(Sn))return mt(Sn);L=rh(lt,it(Sn))}function mt(Sn){return L=n,me&&g?De(Sn):(g=_=n,k)}function Jr(){L!==n&&_x(L),J=0,g=V=_=L=n}function vr(){return L===n?k:mt(Ip())}function Zr(){var Sn=Ip(),Fi=We(Sn);if(g=arguments,_=this,V=Sn,Fi){if(L===n)return qe(V);if(re)return _x(L),L=rh(lt,u),De(V)}return L===n&&(L=rh(lt,u)),k}return Zr.cancel=Jr,Zr.flush=vr,Zr}var s5=st(function(a,u){return JS(a,1,u)}),o5=st(function(a,u,d){return JS(a,gi(u)||0,d)});function a5(a){return As(a,q)}function Sp(a,u){if(typeof a!="function"||u!=null&&typeof u!="function")throw new hi(o);var d=function(){var g=arguments,_=u?u.apply(this,g):g[0],C=d.cache;if(C.has(_))return C.get(_);var k=a.apply(this,g);return d.cache=C.set(_,k)||C,k};return d.cache=new(Sp.Cache||Rs),d}Sp.Cache=Rs;function xp(a){if(typeof a!="function")throw new hi(o);return function(){var u=arguments;switch(u.length){case 0:return!a.call(this);case 1:return!a.call(this,u[0]);case 2:return!a.call(this,u[0],u[1]);case 3:return!a.call(this,u[0],u[1],u[2])}return!a.apply(this,u)}}function l5(a){return sR(2,a)}var u5=Qj(function(a,u){u=u.length==1&&Je(u[0])?en(u[0],Qr(Ue())):en(Xn(u,1),Qr(Ue()));var d=u.length;return st(function(g){for(var _=-1,C=or(g.length,d);++_<C;)g[_]=u[_].call(this,g[_]);return Gr(a,this,g)})}),c_=st(function(a,u){var d=yo(u,eu(c_));return As(a,P,n,u,d)}),cR=st(function(a,u){var d=yo(u,eu(cR));return As(a,O,n,u,d)}),c5=Cs(function(a,u){return As(a,N,n,n,n,u)});function h5(a,u){if(typeof a!="function")throw new hi(o);return u=u===n?u:rt(u),st(a,u)}function f5(a,u){if(typeof a!="function")throw new hi(o);return u=u==null?0:Mn(rt(u),0),st(function(d){var g=d[u],_=To(d,0,u);return g&&go(_,g),Gr(a,this,_)})}function d5(a,u,d){var g=!0,_=!0;if(typeof a!="function")throw new hi(o);return an(d)&&(g="leading"in d?!!d.leading:g,_="trailing"in d?!!d.trailing:_),uR(a,u,{leading:g,maxWait:u,trailing:_})}function p5(a){return iR(a,1)}function m5(a,u){return c_(Gv(u),a)}function g5(){if(!arguments.length)return[];var a=arguments[0];return Je(a)?a:[a]}function y5(a){return di(a,y)}function v5(a,u){return u=typeof u=="function"?u:n,di(a,y,u)}function _5(a){return di(a,p|y)}function w5(a,u){return u=typeof u=="function"?u:n,di(a,p|y,u)}function E5(a,u){return u==null||XS(a,u,Bn(u))}function Mi(a,u){return a===u||a!==a&&u!==u}var T5=yp(Mv),I5=yp(function(a,u){return a>=u}),Fa=rx(function(){return arguments}())?rx:function(a){return mn(a)&&Pt.call(a,"callee")&&!zS.call(a,"callee")},Je=U.isArray,S5=SS?Qr(SS):Dj;function Dr(a){return a!=null&&Rp(a.length)&&!Os(a)}function In(a){return mn(a)&&Dr(a)}function x5(a){return a===!0||a===!1||mn(a)&&gr(a)==wt}var Io=$B||E_,R5=xS?Qr(xS):kj;function b5(a){return mn(a)&&a.nodeType===1&&!ih(a)}function A5(a){if(a==null)return!0;if(Dr(a)&&(Je(a)||typeof a=="string"||typeof a.splice=="function"||Io(a)||tu(a)||Fa(a)))return!a.length;var u=ar(a);if(u==Nt||u==Wt)return!a.size;if(nh(a))return!$v(a).length;for(var d in a)if(Pt.call(a,d))return!1;return!0}function C5(a,u){return Zc(a,u)}function P5(a,u,d){d=typeof d=="function"?d:n;var g=d?d(a,u):n;return g===n?Zc(a,u,n,d):!!g}function h_(a){if(!mn(a))return!1;var u=gr(a);return u==ct||u==$t||typeof a.message=="string"&&typeof a.name=="string"&&!ih(a)}function O5(a){return typeof a=="number"&&WS(a)}function Os(a){if(!an(a))return!1;var u=gr(a);return u==Rt||u==Et||u==Zt||u==Di}function hR(a){return typeof a=="number"&&a==rt(a)}function Rp(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=H}function an(a){var u=typeof a;return a!=null&&(u=="object"||u=="function")}function mn(a){return a!=null&&typeof a=="object"}var fR=RS?Qr(RS):Lj;function D5(a,u){return a===u||Vv(a,u,t_(u))}function k5(a,u,d){return d=typeof d=="function"?d:n,Vv(a,u,t_(u),d)}function N5(a){return dR(a)&&a!=+a}function L5(a){if(vU(a))throw new Ye(s);return ix(a)}function M5(a){return a===null}function F5(a){return a==null}function dR(a){return typeof a=="number"||mn(a)&&gr(a)==et}function ih(a){if(!mn(a)||gr(a)!=qt)return!1;var u=Zd(a);if(u===null)return!0;var d=Pt.call(u,"constructor")&&u.constructor;return typeof d=="function"&&d instanceof d&&Qd.call(d)==kB}var f_=bS?Qr(bS):Mj;function V5(a){return hR(a)&&a>=-H&&a<=H}var pR=AS?Qr(AS):Fj;function bp(a){return typeof a=="string"||!Je(a)&&mn(a)&&gr(a)==kn}function Xr(a){return typeof a=="symbol"||mn(a)&&gr(a)==pn}var tu=CS?Qr(CS):Vj;function $5(a){return a===n}function B5(a){return mn(a)&&ar(a)==le}function j5(a){return mn(a)&&gr(a)==ze}var U5=yp(Bv),z5=yp(function(a,u){return a<=u});function mR(a){if(!a)return[];if(Dr(a))return bp(a)?Ni(a):Or(a);if(Wc&&a[Wc])return EB(a[Wc]());var u=ar(a),d=u==Nt?bv:u==Wt?Kd:nu;return d(a)}function Ds(a){if(!a)return a===0?a:0;if(a=gi(a),a===Fe||a===-Fe){var u=a<0?-1:1;return u*he}return a===a?a:0}function rt(a){var u=Ds(a),d=u%1;return u===u?d?u-d:u:0}function gR(a){return a?ka(rt(a),0,_e):0}function gi(a){if(typeof a=="number")return a;if(Xr(a))return oe;if(an(a)){var u=typeof a.valueOf=="function"?a.valueOf():a;a=an(u)?u+"":u}if(typeof a!="string")return a===0?a:+a;a=LS(a);var d=bt.test(a);return d||Xi.test(a)?iB(a.slice(2),d?2:8):zc.test(a)?oe:+a}function yR(a){return Zi(a,kr(a))}function q5(a){return a?ka(rt(a),-H,H):a===0?a:0}function At(a){return a==null?"":Yr(a)}var W5=Jl(function(a,u){if(nh(u)||Dr(u)){Zi(u,Bn(u),a);return}for(var d in u)Pt.call(u,d)&&Yc(a,d,u[d])}),vR=Jl(function(a,u){Zi(u,kr(u),a)}),Ap=Jl(function(a,u,d,g){Zi(u,kr(u),a,g)}),K5=Jl(function(a,u,d,g){Zi(u,Bn(u),a,g)}),H5=Cs(kv);function G5(a,u){var d=Xl(a);return u==null?d:YS(d,u)}var Q5=st(function(a,u){a=Vt(a);var d=-1,g=u.length,_=g>2?u[2]:n;for(_&&yr(u[0],u[1],_)&&(g=1);++d<g;)for(var C=u[d],k=kr(C),L=-1,V=k.length;++L<V;){var J=k[L],Z=a[J];(Z===n||Mi(Z,Gl[J])&&!Pt.call(a,J))&&(a[J]=C[J])}return a}),Y5=st(function(a){return a.push(n,Lx),Gr(_R,n,a)});function X5(a,u){return OS(a,Ue(u,3),Ji)}function J5(a,u){return OS(a,Ue(u,3),Lv)}function Z5(a,u){return a==null?a:Nv(a,Ue(u,3),kr)}function e3(a,u){return a==null?a:tx(a,Ue(u,3),kr)}function t3(a,u){return a&&Ji(a,Ue(u,3))}function n3(a,u){return a&&Lv(a,Ue(u,3))}function r3(a){return a==null?[]:up(a,Bn(a))}function i3(a){return a==null?[]:up(a,kr(a))}function d_(a,u,d){var g=a==null?n:Na(a,u);return g===n?d:g}function s3(a,u){return a!=null&&Vx(a,u,Aj)}function p_(a,u){return a!=null&&Vx(a,u,Cj)}var o3=Px(function(a,u,d){u!=null&&typeof u.toString!="function"&&(u=Yd.call(u)),a[u]=d},g_(Nr)),a3=Px(function(a,u,d){u!=null&&typeof u.toString!="function"&&(u=Yd.call(u)),Pt.call(a,u)?a[u].push(d):a[u]=[d]},Ue),l3=st(Jc);function Bn(a){return Dr(a)?GS(a):$v(a)}function kr(a){return Dr(a)?GS(a,!0):$j(a)}function u3(a,u){var d={};return u=Ue(u,3),Ji(a,function(g,_,C){bs(d,u(g,_,C),g)}),d}function c3(a,u){var d={};return u=Ue(u,3),Ji(a,function(g,_,C){bs(d,_,u(g,_,C))}),d}var h3=Jl(function(a,u,d){cp(a,u,d)}),_R=Jl(function(a,u,d,g){cp(a,u,d,g)}),f3=Cs(function(a,u){var d={};if(a==null)return d;var g=!1;u=en(u,function(C){return C=Eo(C,a),g||(g=C.length>1),C}),Zi(a,Zv(a),d),g&&(d=di(d,p|m|y,oU));for(var _=u.length;_--;)Wv(d,u[_]);return d});function d3(a,u){return wR(a,xp(Ue(u)))}var p3=Cs(function(a,u){return a==null?{}:jj(a,u)});function wR(a,u){if(a==null)return{};var d=en(Zv(a),function(g){return[g]});return u=Ue(u),hx(a,d,function(g,_){return u(g,_[0])})}function m3(a,u,d){u=Eo(u,a);var g=-1,_=u.length;for(_||(_=1,a=n);++g<_;){var C=a==null?n:a[es(u[g])];C===n&&(g=_,C=d),a=Os(C)?C.call(a):C}return a}function g3(a,u,d){return a==null?a:eh(a,u,d)}function y3(a,u,d,g){return g=typeof g=="function"?g:n,a==null?a:eh(a,u,d,g)}var ER=kx(Bn),TR=kx(kr);function v3(a,u,d){var g=Je(a),_=g||Io(a)||tu(a);if(u=Ue(u,4),d==null){var C=a&&a.constructor;_?d=g?new C:[]:an(a)?d=Os(C)?Xl(Zd(a)):{}:d={}}return(_?ci:Ji)(a,function(k,L,V){return u(d,k,L,V)}),d}function _3(a,u){return a==null?!0:Wv(a,u)}function w3(a,u,d){return a==null?a:gx(a,u,Gv(d))}function E3(a,u,d,g){return g=typeof g=="function"?g:n,a==null?a:gx(a,u,Gv(d),g)}function nu(a){return a==null?[]:Rv(a,Bn(a))}function T3(a){return a==null?[]:Rv(a,kr(a))}function I3(a,u,d){return d===n&&(d=u,u=n),d!==n&&(d=gi(d),d=d===d?d:0),u!==n&&(u=gi(u),u=u===u?u:0),ka(gi(a),u,d)}function S3(a,u,d){return u=Ds(u),d===n?(d=u,u=0):d=Ds(d),a=gi(a),Pj(a,u,d)}function x3(a,u,d){if(d&&typeof d!="boolean"&&yr(a,u,d)&&(u=d=n),d===n&&(typeof u=="boolean"?(d=u,u=n):typeof a=="boolean"&&(d=a,a=n)),a===n&&u===n?(a=0,u=1):(a=Ds(a),u===n?(u=a,a=0):u=Ds(u)),a>u){var g=a;a=u,u=g}if(d||a%1||u%1){var _=KS();return or(a+_*(u-a+rB("1e-"+((_+"").length-1))),u)}return Uv(a,u)}var R3=Zl(function(a,u,d){return u=u.toLowerCase(),a+(d?IR(u):u)});function IR(a){return m_(At(a).toLowerCase())}function SR(a){return a=At(a),a&&a.replace(ba,gB).replace(H$,"")}function b3(a,u,d){a=At(a),u=Yr(u);var g=a.length;d=d===n?g:ka(rt(d),0,g);var _=d;return d-=u.length,d>=0&&a.slice(d,_)==u}function A3(a){return a=At(a),a&&pe.test(a)?a.replace(K,yB):a}function C3(a){return a=At(a),a&&Ct.test(a)?a.replace(ot,"\\$&"):a}var P3=Zl(function(a,u,d){return a+(d?"-":"")+u.toLowerCase()}),O3=Zl(function(a,u,d){return a+(d?" ":"")+u.toLowerCase()}),D3=bx("toLowerCase");function k3(a,u,d){a=At(a),u=rt(u);var g=u?Kl(a):0;if(!u||g>=u)return a;var _=(u-g)/2;return gp(rp(_),d)+a+gp(np(_),d)}function N3(a,u,d){a=At(a),u=rt(u);var g=u?Kl(a):0;return u&&g<u?a+gp(u-g,d):a}function L3(a,u,d){a=At(a),u=rt(u);var g=u?Kl(a):0;return u&&g<u?gp(u-g,d)+a:a}function M3(a,u,d){return d||u==null?u=0:u&&(u=+u),zB(At(a).replace(sn,""),u||0)}function F3(a,u,d){return(d?yr(a,u,d):u===n)?u=1:u=rt(u),zv(At(a),u)}function V3(){var a=arguments,u=At(a[0]);return a.length<3?u:u.replace(a[1],a[2])}var $3=Zl(function(a,u,d){return a+(d?"_":"")+u.toLowerCase()});function B3(a,u,d){return d&&typeof d!="number"&&yr(a,u,d)&&(u=d=n),d=d===n?_e:d>>>0,d?(a=At(a),a&&(typeof u=="string"||u!=null&&!f_(u))&&(u=Yr(u),!u&&Wl(a))?To(Ni(a),0,d):a.split(u,d)):[]}var j3=Zl(function(a,u,d){return a+(d?" ":"")+m_(u)});function U3(a,u,d){return a=At(a),d=d==null?0:ka(rt(d),0,a.length),u=Yr(u),a.slice(d,d+u.length)==u}function z3(a,u,d){var g=b.templateSettings;d&&yr(a,u,d)&&(u=n),a=At(a),u=Ap({},u,g,Nx);var _=Ap({},u.imports,g.imports,Nx),C=Bn(_),k=Rv(_,C),L,V,J=0,Z=u.interpolate||Aa,re="__p += '",me=Av((u.escape||Aa).source+"|"+Z.source+"|"+(Z===Pe?Uc:Aa).source+"|"+(u.evaluate||Aa).source+"|$","g"),De="//# sourceURL="+(Pt.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++J$+"]")+`
`;a.replace(me,function(We,lt,mt,Jr,vr,Zr){return mt||(mt=Jr),re+=a.slice(J,Zr).replace(hv,vB),lt&&(L=!0,re+=`' +
__e(`+lt+`) +
'`),vr&&(V=!0,re+=`';
`+vr+`;
__p += '`),mt&&(re+=`' +
((__t = (`+mt+`)) == null ? '' : __t) +
'`),J=Zr+We.length,We}),re+=`';
`;var qe=Pt.call(u,"variable")&&u.variable;if(!qe)re=`with (obj) {
`+re+`
}
`;else if(Yi.test(qe))throw new Ye(l);re=(V?re.replace(Ee,""):re).replace(nt,"$1").replace(M,"$1;"),re="function("+(qe||"obj")+`) {
`+(qe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(L?", __e = _.escape":"")+(V?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+re+`return __p
}`;var it=RR(function(){return xt(C,De+"return "+re).apply(n,k)});if(it.source=re,h_(it))throw it;return it}function q3(a){return At(a).toLowerCase()}function W3(a){return At(a).toUpperCase()}function K3(a,u,d){if(a=At(a),a&&(d||u===n))return LS(a);if(!a||!(u=Yr(u)))return a;var g=Ni(a),_=Ni(u),C=MS(g,_),k=FS(g,_)+1;return To(g,C,k).join("")}function H3(a,u,d){if(a=At(a),a&&(d||u===n))return a.slice(0,$S(a)+1);if(!a||!(u=Yr(u)))return a;var g=Ni(a),_=FS(g,Ni(u))+1;return To(g,0,_).join("")}function G3(a,u,d){if(a=At(a),a&&(d||u===n))return a.replace(sn,"");if(!a||!(u=Yr(u)))return a;var g=Ni(a),_=MS(g,Ni(u));return To(g,_).join("")}function Q3(a,u){var d=Y,g=se;if(an(u)){var _="separator"in u?u.separator:_;d="length"in u?rt(u.length):d,g="omission"in u?Yr(u.omission):g}a=At(a);var C=a.length;if(Wl(a)){var k=Ni(a);C=k.length}if(d>=C)return a;var L=d-Kl(g);if(L<1)return g;var V=k?To(k,0,L).join(""):a.slice(0,L);if(_===n)return V+g;if(k&&(L+=V.length-L),f_(_)){if(a.slice(L).search(_)){var J,Z=V;for(_.global||(_=Av(_.source,At(Ul.exec(_))+"g")),_.lastIndex=0;J=_.exec(Z);)var re=J.index;V=V.slice(0,re===n?L:re)}}else if(a.indexOf(Yr(_),L)!=L){var me=V.lastIndexOf(_);me>-1&&(V=V.slice(0,me))}return V+g}function Y3(a){return a=At(a),a&&ce.test(a)?a.replace(B,xB):a}var X3=Zl(function(a,u,d){return a+(d?" ":"")+u.toUpperCase()}),m_=bx("toUpperCase");function xR(a,u,d){return a=At(a),u=d?n:u,u===n?wB(a)?AB(a):hB(a):a.match(u)||[]}var RR=st(function(a,u){try{return Gr(a,n,u)}catch(d){return h_(d)?d:new Ye(d)}}),J3=Cs(function(a,u){return ci(u,function(d){d=es(d),bs(a,d,u_(a[d],a))}),a});function Z3(a){var u=a==null?0:a.length,d=Ue();return a=u?en(a,function(g){if(typeof g[1]!="function")throw new hi(o);return[d(g[0]),g[1]]}):[],st(function(g){for(var _=-1;++_<u;){var C=a[_];if(Gr(C[0],this,g))return Gr(C[1],this,g)}})}function e6(a){return xj(di(a,p))}function g_(a){return function(){return a}}function t6(a,u){return a==null||a!==a?u:a}var n6=Cx(),r6=Cx(!0);function Nr(a){return a}function y_(a){return sx(typeof a=="function"?a:di(a,p))}function i6(a){return ax(di(a,p))}function s6(a,u){return lx(a,di(u,p))}var o6=st(function(a,u){return function(d){return Jc(d,a,u)}}),a6=st(function(a,u){return function(d){return Jc(a,d,u)}});function v_(a,u,d){var g=Bn(u),_=up(u,g);d==null&&!(an(u)&&(_.length||!g.length))&&(d=u,u=a,a=this,_=up(u,Bn(u)));var C=!(an(d)&&"chain"in d)||!!d.chain,k=Os(a);return ci(_,function(L){var V=u[L];a[L]=V,k&&(a.prototype[L]=function(){var J=this.__chain__;if(C||J){var Z=a(this.__wrapped__),re=Z.__actions__=Or(this.__actions__);return re.push({func:V,args:arguments,thisArg:a}),Z.__chain__=J,Z}return V.apply(a,go([this.value()],arguments))})}),a}function l6(){return Yn._===this&&(Yn._=NB),this}function __(){}function u6(a){return a=rt(a),st(function(u){return ux(u,a)})}var c6=Yv(en),h6=Yv(PS),f6=Yv(Ev);function bR(a){return r_(a)?Tv(es(a)):Uj(a)}function d6(a){return function(u){return a==null?n:Na(a,u)}}var p6=Ox(),m6=Ox(!0);function w_(){return[]}function E_(){return!1}function g6(){return{}}function y6(){return""}function v6(){return!0}function _6(a,u){if(a=rt(a),a<1||a>H)return[];var d=_e,g=or(a,_e);u=Ue(u),a-=_e;for(var _=xv(g,u);++d<a;)u(d);return _}function w6(a){return Je(a)?en(a,es):Xr(a)?[a]:Or(Hx(At(a)))}function E6(a){var u=++DB;return At(a)+u}var T6=mp(function(a,u){return a+u},0),I6=Xv("ceil"),S6=mp(function(a,u){return a/u},1),x6=Xv("floor");function R6(a){return a&&a.length?lp(a,Nr,Mv):n}function b6(a,u){return a&&a.length?lp(a,Ue(u,2),Mv):n}function A6(a){return kS(a,Nr)}function C6(a,u){return kS(a,Ue(u,2))}function P6(a){return a&&a.length?lp(a,Nr,Bv):n}function O6(a,u){return a&&a.length?lp(a,Ue(u,2),Bv):n}var D6=mp(function(a,u){return a*u},1),k6=Xv("round"),N6=mp(function(a,u){return a-u},0);function L6(a){return a&&a.length?Sv(a,Nr):0}function M6(a,u){return a&&a.length?Sv(a,Ue(u,2)):0}return b.after=i5,b.ary=iR,b.assign=W5,b.assignIn=vR,b.assignInWith=Ap,b.assignWith=K5,b.at=H5,b.before=sR,b.bind=u_,b.bindAll=J3,b.bindKey=oR,b.castArray=g5,b.chain=tR,b.chunk=xU,b.compact=RU,b.concat=bU,b.cond=Z3,b.conforms=e6,b.constant=g_,b.countBy=L4,b.create=G5,b.curry=aR,b.curryRight=lR,b.debounce=uR,b.defaults=Q5,b.defaultsDeep=Y5,b.defer=s5,b.delay=o5,b.difference=AU,b.differenceBy=CU,b.differenceWith=PU,b.drop=OU,b.dropRight=DU,b.dropRightWhile=kU,b.dropWhile=NU,b.fill=LU,b.filter=F4,b.flatMap=B4,b.flatMapDeep=j4,b.flatMapDepth=U4,b.flatten=Xx,b.flattenDeep=MU,b.flattenDepth=FU,b.flip=a5,b.flow=n6,b.flowRight=r6,b.fromPairs=VU,b.functions=r3,b.functionsIn=i3,b.groupBy=z4,b.initial=BU,b.intersection=jU,b.intersectionBy=UU,b.intersectionWith=zU,b.invert=o3,b.invertBy=a3,b.invokeMap=W4,b.iteratee=y_,b.keyBy=K4,b.keys=Bn,b.keysIn=kr,b.map=Tp,b.mapKeys=u3,b.mapValues=c3,b.matches=i6,b.matchesProperty=s6,b.memoize=Sp,b.merge=h3,b.mergeWith=_R,b.method=o6,b.methodOf=a6,b.mixin=v_,b.negate=xp,b.nthArg=u6,b.omit=f3,b.omitBy=d3,b.once=l5,b.orderBy=H4,b.over=c6,b.overArgs=u5,b.overEvery=h6,b.overSome=f6,b.partial=c_,b.partialRight=cR,b.partition=G4,b.pick=p3,b.pickBy=wR,b.property=bR,b.propertyOf=d6,b.pull=HU,b.pullAll=Zx,b.pullAllBy=GU,b.pullAllWith=QU,b.pullAt=YU,b.range=p6,b.rangeRight=m6,b.rearg=c5,b.reject=X4,b.remove=XU,b.rest=h5,b.reverse=a_,b.sampleSize=Z4,b.set=g3,b.setWith=y3,b.shuffle=e5,b.slice=JU,b.sortBy=r5,b.sortedUniq=s4,b.sortedUniqBy=o4,b.split=B3,b.spread=f5,b.tail=a4,b.take=l4,b.takeRight=u4,b.takeRightWhile=c4,b.takeWhile=h4,b.tap=R4,b.throttle=d5,b.thru=Ep,b.toArray=mR,b.toPairs=ER,b.toPairsIn=TR,b.toPath=w6,b.toPlainObject=yR,b.transform=v3,b.unary=p5,b.union=f4,b.unionBy=d4,b.unionWith=p4,b.uniq=m4,b.uniqBy=g4,b.uniqWith=y4,b.unset=_3,b.unzip=l_,b.unzipWith=eR,b.update=w3,b.updateWith=E3,b.values=nu,b.valuesIn=T3,b.without=v4,b.words=xR,b.wrap=m5,b.xor=_4,b.xorBy=w4,b.xorWith=E4,b.zip=T4,b.zipObject=I4,b.zipObjectDeep=S4,b.zipWith=x4,b.entries=ER,b.entriesIn=TR,b.extend=vR,b.extendWith=Ap,v_(b,b),b.add=T6,b.attempt=RR,b.camelCase=R3,b.capitalize=IR,b.ceil=I6,b.clamp=I3,b.clone=y5,b.cloneDeep=_5,b.cloneDeepWith=w5,b.cloneWith=v5,b.conformsTo=E5,b.deburr=SR,b.defaultTo=t6,b.divide=S6,b.endsWith=b3,b.eq=Mi,b.escape=A3,b.escapeRegExp=C3,b.every=M4,b.find=V4,b.findIndex=Qx,b.findKey=X5,b.findLast=$4,b.findLastIndex=Yx,b.findLastKey=J5,b.floor=x6,b.forEach=nR,b.forEachRight=rR,b.forIn=Z5,b.forInRight=e3,b.forOwn=t3,b.forOwnRight=n3,b.get=d_,b.gt=T5,b.gte=I5,b.has=s3,b.hasIn=p_,b.head=Jx,b.identity=Nr,b.includes=q4,b.indexOf=$U,b.inRange=S3,b.invoke=l3,b.isArguments=Fa,b.isArray=Je,b.isArrayBuffer=S5,b.isArrayLike=Dr,b.isArrayLikeObject=In,b.isBoolean=x5,b.isBuffer=Io,b.isDate=R5,b.isElement=b5,b.isEmpty=A5,b.isEqual=C5,b.isEqualWith=P5,b.isError=h_,b.isFinite=O5,b.isFunction=Os,b.isInteger=hR,b.isLength=Rp,b.isMap=fR,b.isMatch=D5,b.isMatchWith=k5,b.isNaN=N5,b.isNative=L5,b.isNil=F5,b.isNull=M5,b.isNumber=dR,b.isObject=an,b.isObjectLike=mn,b.isPlainObject=ih,b.isRegExp=f_,b.isSafeInteger=V5,b.isSet=pR,b.isString=bp,b.isSymbol=Xr,b.isTypedArray=tu,b.isUndefined=$5,b.isWeakMap=B5,b.isWeakSet=j5,b.join=qU,b.kebabCase=P3,b.last=mi,b.lastIndexOf=WU,b.lowerCase=O3,b.lowerFirst=D3,b.lt=U5,b.lte=z5,b.max=R6,b.maxBy=b6,b.mean=A6,b.meanBy=C6,b.min=P6,b.minBy=O6,b.stubArray=w_,b.stubFalse=E_,b.stubObject=g6,b.stubString=y6,b.stubTrue=v6,b.multiply=D6,b.nth=KU,b.noConflict=l6,b.noop=__,b.now=Ip,b.pad=k3,b.padEnd=N3,b.padStart=L3,b.parseInt=M3,b.random=x3,b.reduce=Q4,b.reduceRight=Y4,b.repeat=F3,b.replace=V3,b.result=m3,b.round=k6,b.runInContext=F,b.sample=J4,b.size=t5,b.snakeCase=$3,b.some=n5,b.sortedIndex=ZU,b.sortedIndexBy=e4,b.sortedIndexOf=t4,b.sortedLastIndex=n4,b.sortedLastIndexBy=r4,b.sortedLastIndexOf=i4,b.startCase=j3,b.startsWith=U3,b.subtract=N6,b.sum=L6,b.sumBy=M6,b.template=z3,b.times=_6,b.toFinite=Ds,b.toInteger=rt,b.toLength=gR,b.toLower=q3,b.toNumber=gi,b.toSafeInteger=q5,b.toString=At,b.toUpper=W3,b.trim=K3,b.trimEnd=H3,b.trimStart=G3,b.truncate=Q3,b.unescape=Y3,b.uniqueId=E6,b.upperCase=X3,b.upperFirst=m_,b.each=nR,b.eachRight=rR,b.first=Jx,v_(b,function(){var a={};return Ji(b,function(u,d){Pt.call(b.prototype,d)||(a[d]=u)}),a}(),{chain:!1}),b.VERSION=r,ci(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){b[a].placeholder=b}),ci(["drop","take"],function(a,u){ft.prototype[a]=function(d){d=d===n?1:Mn(rt(d),0);var g=this.__filtered__&&!u?new ft(this):this.clone();return g.__filtered__?g.__takeCount__=or(d,g.__takeCount__):g.__views__.push({size:or(d,_e),type:a+(g.__dir__<0?"Right":"")}),g},ft.prototype[a+"Right"]=function(d){return this.reverse()[a](d).reverse()}}),ci(["filter","map","takeWhile"],function(a,u){var d=u+1,g=d==Ve||d==Ce;ft.prototype[a]=function(_){var C=this.clone();return C.__iteratees__.push({iteratee:Ue(_,3),type:d}),C.__filtered__=C.__filtered__||g,C}}),ci(["head","last"],function(a,u){var d="take"+(u?"Right":"");ft.prototype[a]=function(){return this[d](1).value()[0]}}),ci(["initial","tail"],function(a,u){var d="drop"+(u?"":"Right");ft.prototype[a]=function(){return this.__filtered__?new ft(this):this[d](1)}}),ft.prototype.compact=function(){return this.filter(Nr)},ft.prototype.find=function(a){return this.filter(a).head()},ft.prototype.findLast=function(a){return this.reverse().find(a)},ft.prototype.invokeMap=st(function(a,u){return typeof a=="function"?new ft(this):this.map(function(d){return Jc(d,a,u)})}),ft.prototype.reject=function(a){return this.filter(xp(Ue(a)))},ft.prototype.slice=function(a,u){a=rt(a);var d=this;return d.__filtered__&&(a>0||u<0)?new ft(d):(a<0?d=d.takeRight(-a):a&&(d=d.drop(a)),u!==n&&(u=rt(u),d=u<0?d.dropRight(-u):d.take(u-a)),d)},ft.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},ft.prototype.toArray=function(){return this.take(_e)},Ji(ft.prototype,function(a,u){var d=/^(?:filter|find|map|reject)|While$/.test(u),g=/^(?:head|last)$/.test(u),_=b[g?"take"+(u=="last"?"Right":""):u],C=g||/^find/.test(u);_&&(b.prototype[u]=function(){var k=this.__wrapped__,L=g?[1]:arguments,V=k instanceof ft,J=L[0],Z=V||Je(k),re=function(lt){var mt=_.apply(b,go([lt],L));return g&&me?mt[0]:mt};Z&&d&&typeof J=="function"&&J.length!=1&&(V=Z=!1);var me=this.__chain__,De=!!this.__actions__.length,qe=C&&!me,it=V&&!De;if(!C&&Z){k=it?k:new ft(this);var We=a.apply(k,L);return We.__actions__.push({func:Ep,args:[re],thisArg:n}),new fi(We,me)}return qe&&it?a.apply(this,L):(We=this.thru(re),qe?g?We.value()[0]:We.value():We)})}),ci(["pop","push","shift","sort","splice","unshift"],function(a){var u=Hd[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",g=/^(?:pop|shift)$/.test(a);b.prototype[a]=function(){var _=arguments;if(g&&!this.__chain__){var C=this.value();return u.apply(Je(C)?C:[],_)}return this[d](function(k){return u.apply(Je(k)?k:[],_)})}}),Ji(ft.prototype,function(a,u){var d=b[u];if(d){var g=d.name+"";Pt.call(Yl,g)||(Yl[g]=[]),Yl[g].push({name:u,func:d})}}),Yl[pp(n,T).name]=[{name:"wrapper",func:n}],ft.prototype.clone=YB,ft.prototype.reverse=XB,ft.prototype.value=JB,b.prototype.at=b4,b.prototype.chain=A4,b.prototype.commit=C4,b.prototype.next=P4,b.prototype.plant=D4,b.prototype.reverse=k4,b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=N4,b.prototype.first=b.prototype.head,Wc&&(b.prototype[Wc]=O4),b},Hl=CB();Ca?((Ca.exports=Hl)._=Hl,yv._=Hl):Yn._=Hl}).call(sh)})(jg,jg.exports);var Qie=jg.exports;const O0=({title:t,typeClass:e,children:n,id:r})=>{const{isDarkMode:i}=xa(),s=i?"darkBg":"white-50",o=x.useRef(null),{isLoadingPokemon:l,handleNextPage:c,handleIsLoadingPokemon:h,searchPokemon:f,bestDamage:p,filterType:m,searchMorePokemon:y,handleSearchMorePokemon:v,storeAllPokemon:w,page:R,handleShowInfo_select:T}=Oi(),S=()=>{const E=o.current;f!==""||m.enType!=="all"||!l&&E.scrollTop+E.clientHeight>=E.scrollHeight&&(h(!0),c())};x.useEffect(()=>{if(r!=ps)return;const E=document.getElementById(ps),P=Qie.throttle(S,500);return E.addEventListener("scroll",P),()=>{E.removeEventListener("scroll",P)}},[]);const I=E=>{v(),c(w.length),h(!0),E&&T(Dl,"")};return A.jsxs("div",{className:"group-col",children:[A.jsx(jie,{title:t,id:r}),A.jsxs("div",{id:r,ref:o,className:"groups",children:[A.jsx("div",{className:`group-img group-${e}`,children:n}),r===ps&&(f!==""||m.enType!=="all")&&A.jsxs("div",{className:"search-more-container",children:[A.jsx("p",{children:"?"}),A.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>{v()},children:""}),A.jsxs($s,{show:y,onHide:v,animation:!0,children:[A.jsx($s.Header,{className:`bg-${s}`,closeButton:!0,children:A.jsx($s.Title,{children:""})}),A.jsx($s.Body,{className:`bg-${s}`,children:""}),A.jsxs($s.Footer,{className:`bg-${s}`,children:[A.jsx(Lg,{variant:"secondary",onClick:()=>{I(!1)},children:""}),A.jsx(Lg,{variant:"primary",onClick:()=>{I(!0)},children:""})]})]})]}),r===cy&&p.length>0&&A.jsxs("div",{className:`best-damage-container bg-${s}`,children:[A.jsx(Uie,{className:"thumb-icon"}),A.jsx("span",{style:{paddingLeft:"0.5rem"},children:""}),A.jsx("ul",{children:p.map(E=>A.jsx("li",{style:{margin:"0 0.1rem"},children:A.jsx(C$,{...E})},ds()))})]})]})]})},D0=x.memo(({item:t,showType_select:e,styleObj:n})=>(t==null?void 0:t.Types)===void 0?A.jsx("span",{children:"error"}):A.jsx("ul",{style:n,children:((t==null?void 0:t.Types)??[]).map(r=>{switch(e){case H1:return A.jsx("li",{children:A.jsx(Wie,{...r})},ds());case Dl:return A.jsx("li",{children:A.jsx(qie,{...r})},ds());case K1:return A.jsx("li",{children:A.jsx(C$,{...r})},ds())}})})),UE=x.memo(({showInfo_select:t,showType_select:e,displayCharacter:n,handleClick:r,id:i})=>{const{selectImg:s,searchPokemon:o,filterType:l,handleIsLoadingPokemon:c}=Oi();let h=n;return i===ps&&(o!==""&&(h=h.filter(f=>f==null?void 0:f.zhName.includes(o))),l.enType!=="all"&&(h=h.filter(f=>f.Types.filter(m=>m.enType===l.enType).length>0))),h.map(f=>{if(f===void 0)return;const m=s.some(y=>y.enName===f.enName)?"hero-active":"";switch(t){case Dl:return A.jsx(Kie,{isActive:m,handleClick:r,item:f,children:A.jsx(D0,{styleObj:{display:"flex",flexDirection:"row",justifyContent:"space-evenly"},item:f,showType_select:e,showInfo_select:t})},ds());case W1:return A.jsx(Gie,{isActive:m,item:f,handleClick:r,children:A.jsx(D0,{styleObj:{display:"flex",flexDirection:"row",justifyContent:"start",gap:"0.3rem"},item:f,showType_select:e,showInfo_select:t})},ds());case q1:return A.jsx(Hie,{isActive:m,handleClick:r,item:f,children:A.jsx(D0,{styleObj:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},item:f,showType_select:e,showInfo_select:t})},ds())}})}),Yie=Object.freeze(Object.defineProperty({__proto__:null,default:UE},Symbol.toStringTag,{value:"Module"})),HP=(t,e)=>{if(t.length===0)return[];const n=t.map(i=>{const s=i==null?void 0:i.Types.map(o=>{var c,h;return(e?((c=o==null?void 0:o.damage_relations)==null?void 0:c.double_damage_from)??[]:((h=o==null?void 0:o.damage_relations)==null?void 0:h.half_damage_from)??[]).map(f=>f==null?void 0:f.name)});return[].concat(...s)}),r=new Set(n[0]);return n.forEach(i=>{const s=new Set(i);r.forEach(o=>{s.has(o)||r.delete(o)})}),Array.from(r)},Xie=()=>{const{selectImg:t,handleBestDamage:e}=Oi();x.useEffect(()=>{const n=HP(t,!0),r=HP(t,!1),i=new Set(n);r.forEach(o=>{i.has(o)&&i.delete(o)});const s=pd.filter(o=>{if(i.has(o.enType))return o});e(s)},[t])},Jie=()=>A.jsx("div",{style:{width:"100%",textAlign:"center"},children:A.jsx("div",{className:"loading"})}),Zie=x.lazy(()=>_8(()=>Promise.resolve().then(()=>Yie),void 0)),ese=()=>{const{page:t,clickImg:e,selectImg:n,AddRemoveImg:r,RemoveImg:i,showInfo_select:s,showType_select:o,showInfo_beenSelect:l,showType_beenSelect:c,showInfo_bestDamage:h,showType_bestDamage:f,storeAllPokemon:p,bestDamage:m,filterBestPokemon:y}=Oi();return Oee(),Xie(),console.log("production"),cZ(),hZ(),x.useEffect(()=>{const v=w=>(w.preventDefault(),e.size>0&&lZ(e),w.returnValue="Are you sure you want to exit?");return window.addEventListener("onbeforeunload",v),()=>{window.removeEventListener("onbeforeunload",v)}},[e]),A.jsx("main",{children:A.jsxs("section",{className:"hero",children:[A.jsx(O0,{title:J_[0].title,typeClass:s.type,id:ps,children:A.jsx(x.Suspense,{fallback:A.jsx(Jie,{}),children:A.jsx(Zie,{showInfo_select:s.type,showType_select:o.type,displayCharacter:p.slice(0,t),handleClick:r,id:ps})})}),A.jsx(O0,{title:J_[1].title,typeClass:l.type,id:G1,children:A.jsx(UE,{showInfo_select:l.type,showType_select:c.type,displayCharacter:n,handleClick:i})}),A.jsx(O0,{title:J_[2].title,typeClass:h.type,id:cy,children:m.length>0&&(y.length>0?A.jsx(UE,{showInfo_select:h.type,showType_select:f.type,displayCharacter:y,handleClick:()=>{}}):A.jsx("p",{className:"",children:"Oops! pokemon!"}))})]})})},k0=()=>A.jsx(A.Fragment,{children:A.jsxs(Dee,{children:[A.jsx(ese,{}),A.jsx(Gk,{})]})}),tse=()=>{const t=new Date().getFullYear(),{textColor:e,bgColor:n}=xa();return A.jsx("footer",{className:`bg-${n} p-3`,children:A.jsx("div",{className:"container",children:A.jsxs("p",{className:"text-center",children:["Copyright  ",t," Pokemon Gym. All Rights Reserved."]})})})},nse="/pokemon-Gym/assets/logo-0fa1e8ab.png";function rse(t){return dd({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z",clipRule:"evenodd"}}]})(t)}function ise(t){return dd({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.768 3.96v.001l-.002-.005a9.08 9.08 0 0 0-.218-.779c-.13-.394.21-.8.602-.67.29.096.575.205.855.328l.01.005A10.002 10.002 0 0 1 12 22a10.002 10.002 0 0 1-9.162-5.985l-.004-.01a9.722 9.722 0 0 1-.329-.855c-.13-.392.277-.732.67-.602.257.084.517.157.78.218l.004.002A9 9 0 0 0 14.999 6a9.09 9.09 0 0 0-.231-2.04ZM16.5 6c0 5.799-4.701 10.5-10.5 10.5-.426 0-.847-.026-1.26-.075A8.5 8.5 0 1 0 16.425 4.74c.05.413.075.833.075 1.259Z"}}]})(t)}function sse(t){return dd({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 19a7 7 0 1 1 0-14 7 7 0 0 1 0 14Zm0-1.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 1 0 0 11Zm-5.657.157a.75.75 0 0 1 0 1.06l-1.768 1.768a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.767-1.768a.75.75 0 0 1 1.061 0ZM3.515 3.515a.75.75 0 0 1 1.06 0l1.768 1.768a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L3.515 4.575a.75.75 0 0 1 0-1.06ZM12 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 12 0ZM4 12a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 12Zm8 8a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 12 20Zm12-8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 24 12Zm-6.343 5.657a.75.75 0 0 1 1.06 0l1.768 1.768a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-1.768-1.767a.75.75 0 0 1 0-1.061Zm2.828-14.142a.75.75 0 0 1 0 1.06l-1.768 1.768a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l1.767-1.768a.75.75 0 0 1 1.061 0Z"}}]})(t)}const ose=()=>{const{isDarkMode:t,handleIsDarkMode:e}=xa();return A.jsx(A.Fragment,{children:A.jsx(lm,{expand:"md","data-bs-theme":"dark",className:"bg-primary",children:A.jsxs(UI,{expand:"md",children:[A.jsxs(lm.Brand,{as:du,to:"Gym",children:[A.jsx("img",{src:nse,width:"30",height:"30",className:"d-inline-block align-top",alt:"Welcome to pokemon gym"}),A.jsx("span",{className:"text-capitalize",children:"pokemon gym"})]}),A.jsx(lm.Toggle,{"aria-controls":"responsive-navbar-nav",children:A.jsx(rse,{})}),A.jsx(lm.Collapse,{id:"responsive-navbar-nav",className:"justify-content-end",children:A.jsxs(Ph,{children:[A.jsx("div",{className:"theme-toggle",onClick:()=>{e()},children:t?A.jsx(ise,{}):A.jsx(sse,{})}),A.jsx(Ph.Link,{as:du,to:"About",children:""}),A.jsx(Ph.Link,{as:du,to:"Pokedex",children:""}),A.jsx(Ph.Link,{as:du,to:"Gym",children:""}),A.jsx(Ph.Link,{as:du,to:"Login",children:"/"})]})})]})})})},ase=()=>A.jsx(A.Fragment,{children:A.jsxs(Vie,{children:[A.jsx(ose,{}),A.jsx(Gk,{}),A.jsx(tse,{})]})}),N0=()=>A.jsxs("div",{id:"error-page",className:"text-center pt-5",children:[A.jsx("h1",{className:"text-danger",children:"Oops!"}),A.jsx("p",{className:"text-secondary",children:"Sorry, an unexpected error has occurred."}),A.jsx("p",{})]}),lse="/pokemon-Gym/assets/personal-avatar-234ffb1f.jpg",use=()=>(xa(),A.jsx("section",{className:"text-center",children:A.jsxs(UI,{children:[A.jsx("h1",{children:""}),A.jsx("hr",{}),A.jsxs(qP,{className:"justify-content-md-center",children:[A.jsx(Uh,{md:"5",children:A.jsx("p",{children:"Pokemon Gym"})}),A.jsx(Uh,{md:"5",children:A.jsx("p",{children:""})})]}),A.jsxs(qP,{className:"justify-content-md-center align-items-end",children:[A.jsx(Uh,{md:"auto",children:A.jsx("img",{id:"avatar",src:lse,alt:"personal avatar"})}),A.jsx(Uh,{md:"6",children:A.jsx("div",{style:{fontSize:"0.8rem"},children:"PaddyTianJavaScript, React"})})]})]})})),fu=t=>t.map(({name:e})=>pd.filter(({enType:n})=>e===n)[0]),cse=({title:t,detail_item:e,textColor:n})=>A.jsxs(A.Fragment,{children:[A.jsx("h6",{className:`text-${n}`,children:t}),A.jsx("div",{className:"mb-2",children:e.length===0?A.jsx("span",{className:`text-${n}`,children:"-"}):e.map(({zhType:r,bgColor:i})=>A.jsx("span",{className:"ps-2 pe-2 ms-1 me-1 rounded-3 text-light",style:{backgroundColor:i,cursor:"pointer"},children:r},ds()))})]}),GP=()=>{const{isDarkMode:t,bgColor:e,textColor:n}=xa(),{storeAllTypes:r}=Oi();let i=qk(),{type:s}=B7(),o=pd.filter(q=>q.enType===s)[0],l=o==null?void 0:o.zhType,c=o==null?void 0:o.bgColor,h=r.filter(q=>q.name===s)[0],{damage_relations:f}=h||{},{double_damage_from:p,double_damage_to:m,half_damage_from:y,half_damage_to:v,no_damage_from:w,no_damage_to:R}=f||{},T=fu(p),S=fu(m),I=fu(y),E=fu(v),P=fu(w),O=fu(R);function D(){i(-1)}const N=[{title:"",detail_item:S},{title:"",detail_item:E},{title:"",detail_item:O},{title:"",detail_item:T},{title:"",detail_item:I},{title:"",detail_item:P}];return A.jsxs($s,{show:!0,onHide:D,id:"typeView",fullscreen:"xs-down",children:[A.jsx($s.Header,{closeButton:!0,className:t?"bg-darkBg":"text-white-50",children:A.jsxs($s.Title,{children:[A.jsx("span",{style:{color:c},children:l}),A.jsx("span",{className:`text-${n}`,children:""})]})}),A.jsx($s.Body,{className:t?"bg-darkBg":"text-white-50",children:N.map(({title:q,detail_item:Y})=>A.jsx(cse,{title:q,detail_item:Y,textColor:n},ds()))})]})},QP=()=>(xa(),A.jsx("section",{className:"text-center fst-italic",children:A.jsx(UI,{children:A.jsx("h3",{children:"Coming Soon..."})})})),hse=i8([{path:"/Pokemon-Gym",element:A.jsx(ase,{}),errorElement:A.jsx(N0,{}),children:[{errorElement:A.jsx(N0,{}),children:[{index:!0,element:A.jsx(k0,{})},{path:"/Pokemon-Gym/",element:A.jsx(k0,{}),children:[{path:"type/:type",element:A.jsx(GP,{})}]},{path:"/Pokemon-Gym/Gym",element:A.jsx(k0,{}),children:[{path:"type/:type",element:A.jsx(GP,{})}]},{path:"/Pokemon-Gym/About",element:A.jsx(use,{})},{path:"/Pokemon-Gym/Pokedex",element:A.jsx(QP,{})},{path:"/Pokemon-Gym/Login",element:A.jsx(QP,{})},{path:"*",element:A.jsx(N0,{})}]}]}]),fse=new Sq;L0.createRoot(document.getElementById("root")).render(A.jsx(Yt.StrictMode,{children:A.jsxs(Vq,{client:fse,children:[A.jsx(f8,{router:hse}),A.jsx(qq,{initialIsOpen:!1})]})}));
