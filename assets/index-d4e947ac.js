function B6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function od(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var XP={exports:{}},Kg={},JP={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ad=Symbol.for("react.element"),U6=Symbol.for("react.portal"),z6=Symbol.for("react.fragment"),q6=Symbol.for("react.strict_mode"),W6=Symbol.for("react.profiler"),K6=Symbol.for("react.provider"),H6=Symbol.for("react.context"),G6=Symbol.for("react.forward_ref"),Q6=Symbol.for("react.suspense"),Y6=Symbol.for("react.memo"),X6=Symbol.for("react.lazy"),OR=Symbol.iterator;function J6(t){return t===null||typeof t!="object"?null:(t=OR&&t[OR]||t["@@iterator"],typeof t=="function"?t:null)}var ZP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eO=Object.assign,tO={};function wc(t,e,n){this.props=t,this.context=e,this.refs=tO,this.updater=n||ZP}wc.prototype.isReactComponent={};wc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nO(){}nO.prototype=wc.prototype;function HE(t,e,n){this.props=t,this.context=e,this.refs=tO,this.updater=n||ZP}var GE=HE.prototype=new nO;GE.constructor=HE;eO(GE,wc.prototype);GE.isPureReactComponent=!0;var DR=Array.isArray,rO=Object.prototype.hasOwnProperty,QE={current:null},iO={key:!0,ref:!0,__self:!0,__source:!0};function sO(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)rO.call(e,r)&&!iO.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ad,type:t,key:s,ref:o,props:i,_owner:QE.current}}function Z6(t,e){return{$$typeof:ad,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function YE(t){return typeof t=="object"&&t!==null&&t.$$typeof===ad}function e9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var kR=/\/+/g;function R_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e9(""+t.key):e.toString(36)}function hm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ad:case U6:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+R_(o,0):r,DR(i)?(n="",t!=null&&(n=t.replace(kR,"$&/")+"/"),hm(i,e,n,"",function(h){return h})):i!=null&&(YE(i)&&(i=Z6(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(kR,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",DR(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+R_(s,l);o+=hm(s,e,n,c,i)}else if(c=J6(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+R_(s,l++),o+=hm(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Pp(t,e,n){if(t==null)return t;var r=[],i=0;return hm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function t9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cr={current:null},fm={transition:null},n9={ReactCurrentDispatcher:Cr,ReactCurrentBatchConfig:fm,ReactCurrentOwner:QE};dt.Children={map:Pp,forEach:function(t,e,n){Pp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pp(t,function(){e++}),e},toArray:function(t){return Pp(t,function(e){return e})||[]},only:function(t){if(!YE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};dt.Component=wc;dt.Fragment=z6;dt.Profiler=W6;dt.PureComponent=HE;dt.StrictMode=q6;dt.Suspense=Q6;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n9;dt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=eO({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=QE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)rO.call(e,c)&&!iO.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:ad,type:t.type,key:i,ref:s,props:r,_owner:o}};dt.createContext=function(t){return t={$$typeof:H6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:K6,_context:t},t.Consumer=t};dt.createElement=sO;dt.createFactory=function(t){var e=sO.bind(null,t);return e.type=t,e};dt.createRef=function(){return{current:null}};dt.forwardRef=function(t){return{$$typeof:G6,render:t}};dt.isValidElement=YE;dt.lazy=function(t){return{$$typeof:X6,_payload:{_status:-1,_result:t},_init:t9}};dt.memo=function(t,e){return{$$typeof:Y6,type:t,compare:e===void 0?null:e}};dt.startTransition=function(t){var e=fm.transition;fm.transition={};try{t()}finally{fm.transition=e}};dt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};dt.useCallback=function(t,e){return Cr.current.useCallback(t,e)};dt.useContext=function(t){return Cr.current.useContext(t)};dt.useDebugValue=function(){};dt.useDeferredValue=function(t){return Cr.current.useDeferredValue(t)};dt.useEffect=function(t,e){return Cr.current.useEffect(t,e)};dt.useId=function(){return Cr.current.useId()};dt.useImperativeHandle=function(t,e,n){return Cr.current.useImperativeHandle(t,e,n)};dt.useInsertionEffect=function(t,e){return Cr.current.useInsertionEffect(t,e)};dt.useLayoutEffect=function(t,e){return Cr.current.useLayoutEffect(t,e)};dt.useMemo=function(t,e){return Cr.current.useMemo(t,e)};dt.useReducer=function(t,e,n){return Cr.current.useReducer(t,e,n)};dt.useRef=function(t){return Cr.current.useRef(t)};dt.useState=function(t){return Cr.current.useState(t)};dt.useSyncExternalStore=function(t,e,n){return Cr.current.useSyncExternalStore(t,e,n)};dt.useTransition=function(){return Cr.current.useTransition()};dt.version="18.2.0";JP.exports=dt;var x=JP.exports;const Qt=od(x),r9=B6({__proto__:null,default:Qt},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i9=x,s9=Symbol.for("react.element"),o9=Symbol.for("react.fragment"),a9=Object.prototype.hasOwnProperty,l9=i9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u9={key:!0,ref:!0,__self:!0,__source:!0};function oO(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)a9.call(e,r)&&!u9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:s9,type:t,key:s,ref:o,props:i,_owner:l9.current}}Kg.Fragment=o9;Kg.jsx=oO;Kg.jsxs=oO;XP.exports=Kg;var b=XP.exports,$0={},aO={exports:{}},li={},lO={exports:{}},uO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,ce){var ae=G.length;G.push(ce);e:for(;0<ae;){var we=ae-1>>>1,Te=G[we];if(0<i(Te,ce))G[we]=ce,G[ae]=Te,ae=we;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ce=G[0],ae=G.pop();if(ae!==ce){G[0]=ae;e:for(var we=0,Te=G.length,$e=Te>>>1;we<$e;){var je=2*(we+1)-1,ke=G[je],at=je+1,Jt=G[at];if(0>i(ke,ae))at<Te&&0>i(Jt,ke)?(G[we]=Jt,G[at]=ae,we=at):(G[we]=ke,G[je]=ae,we=je);else if(at<Te&&0>i(Jt,ae))G[we]=Jt,G[at]=ae,we=at;else break e}}return ce}function i(G,ce){var ae=G.sortIndex-ce.sortIndex;return ae!==0?ae:G.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],h=[],f=1,p=null,m=3,y=!1,v=!1,w=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(G){for(var ce=n(h);ce!==null;){if(ce.callback===null)r(h);else if(ce.startTime<=G)r(h),ce.sortIndex=ce.expirationTime,e(c,ce);else break;ce=n(h)}}function E(G){if(w=!1,I(G),!v)if(n(c)!==null)v=!0,Ve(P);else{var ce=n(h);ce!==null&&Me(E,ce.startTime-G)}}function P(G,ce){v=!1,w&&(w=!1,T(N),N=-1),y=!0;var ae=m;try{for(I(ce),p=n(c);p!==null&&(!(p.expirationTime>ce)||G&&!ie());){var we=p.callback;if(typeof we=="function"){p.callback=null,m=p.priorityLevel;var Te=we(p.expirationTime<=ce);ce=t.unstable_now(),typeof Te=="function"?p.callback=Te:p===n(c)&&r(c),I(ce)}else r(c);p=n(c)}if(p!==null)var $e=!0;else{var je=n(h);je!==null&&Me(E,je.startTime-ce),$e=!1}return $e}finally{p=null,m=ae,y=!1}}var O=!1,D=null,N=-1,W=5,Y=-1;function ie(){return!(t.unstable_now()-Y<W)}function he(){if(D!==null){var G=t.unstable_now();Y=G;var ce=!0;try{ce=D(!0,G)}finally{ce?ve():(O=!1,D=null)}}else O=!1}var ve;if(typeof S=="function")ve=function(){S(he)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,Ie=Fe.port2;Fe.port1.onmessage=he,ve=function(){Ie.postMessage(null)}}else ve=function(){R(he,0)};function Ve(G){D=G,O||(O=!0,ve())}function Me(G,ce){N=R(function(){G(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,Ve(P))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(G){switch(m){case 1:case 2:case 3:var ce=3;break;default:ce=m}var ae=m;m=ce;try{return G()}finally{m=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,ce){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=m;m=G;try{return ce()}finally{m=ae}},t.unstable_scheduleCallback=function(G,ce,ae){var we=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?we+ae:we):ae=we,G){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ae+Te,G={id:f++,callback:ce,priorityLevel:G,startTime:ae,expirationTime:Te,sortIndex:-1},ae>we?(G.sortIndex=ae,e(h,G),n(c)===null&&G===n(h)&&(w?(T(N),N=-1):w=!0,Me(E,ae-we))):(G.sortIndex=Te,e(c,G),v||y||(v=!0,Ve(P))),G},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(G){var ce=m;return function(){var ae=m;m=ce;try{return G.apply(this,arguments)}finally{m=ae}}}})(uO);lO.exports=uO;var c9=lO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cO=x,ii=c9;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hO=new Set,ff={};function Ol(t,e){Gu(t,e),Gu(t+"Capture",e)}function Gu(t,e){for(ff[t]=e,t=0;t<e.length;t++)hO.add(e[t])}var Js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),j0=Object.prototype.hasOwnProperty,h9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,NR={},LR={};function f9(t){return j0.call(LR,t)?!0:j0.call(NR,t)?!1:h9.test(t)?LR[t]=!0:(NR[t]=!0,!1)}function d9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function p9(t,e,n,r){if(e===null||typeof e>"u"||d9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ir[t]=new Pr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ir[e]=new Pr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ir[t]=new Pr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ir[t]=new Pr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ir[t]=new Pr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ir[t]=new Pr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ir[t]=new Pr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ir[t]=new Pr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ir[t]=new Pr(t,5,!1,t.toLowerCase(),null,!1,!1)});var XE=/[\-:]([a-z])/g;function JE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(XE,JE);ir[e]=new Pr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(XE,JE);ir[e]=new Pr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(XE,JE);ir[e]=new Pr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ir[t]=new Pr(t,1,!1,t.toLowerCase(),null,!1,!1)});ir.xlinkHref=new Pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ir[t]=new Pr(t,1,!1,t.toLowerCase(),null,!0,!0)});function ZE(t,e,n,r){var i=ir.hasOwnProperty(e)?ir[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(p9(e,n,i,r)&&(n=null),r||i===null?f9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ao=cO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Op=Symbol.for("react.element"),_u=Symbol.for("react.portal"),wu=Symbol.for("react.fragment"),e1=Symbol.for("react.strict_mode"),B0=Symbol.for("react.profiler"),fO=Symbol.for("react.provider"),dO=Symbol.for("react.context"),t1=Symbol.for("react.forward_ref"),U0=Symbol.for("react.suspense"),z0=Symbol.for("react.suspense_list"),n1=Symbol.for("react.memo"),Oo=Symbol.for("react.lazy"),pO=Symbol.for("react.offscreen"),MR=Symbol.iterator;function ah(t){return t===null||typeof t!="object"?null:(t=MR&&t[MR]||t["@@iterator"],typeof t=="function"?t:null)}var fn=Object.assign,b_;function Oh(t){if(b_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);b_=e&&e[1]||""}return`
`+b_+t}var A_=!1;function C_(t,e){if(!t||A_)return"";A_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{A_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oh(t):""}function m9(t){switch(t.tag){case 5:return Oh(t.type);case 16:return Oh("Lazy");case 13:return Oh("Suspense");case 19:return Oh("SuspenseList");case 0:case 2:case 15:return t=C_(t.type,!1),t;case 11:return t=C_(t.type.render,!1),t;case 1:return t=C_(t.type,!0),t;default:return""}}function q0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wu:return"Fragment";case _u:return"Portal";case B0:return"Profiler";case e1:return"StrictMode";case U0:return"Suspense";case z0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dO:return(t.displayName||"Context")+".Consumer";case fO:return(t._context.displayName||"Context")+".Provider";case t1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case n1:return e=t.displayName||null,e!==null?e:q0(t.type)||"Memo";case Oo:e=t._payload,t=t._init;try{return q0(t(e))}catch{}}return null}function g9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q0(e);case 8:return e===e1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ta(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function y9(t){var e=mO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dp(t){t._valueTracker||(t._valueTracker=y9(t))}function gO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Mm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function W0(t,e){var n=e.checked;return fn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function FR(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ta(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yO(t,e){e=e.checked,e!=null&&ZE(t,"checked",e,!1)}function K0(t,e){yO(t,e);var n=ta(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?H0(t,e.type,n):e.hasOwnProperty("defaultValue")&&H0(t,e.type,ta(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function VR(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function H0(t,e,n){(e!=="number"||Mm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Dh=Array.isArray;function Nu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ta(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function G0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return fn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $R(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(le(92));if(Dh(n)){if(1<n.length)throw Error(le(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ta(n)}}function vO(t,e){var n=ta(e.value),r=ta(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jR(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _O(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Q0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_O(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kp,wO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kp=kp||document.createElement("div"),kp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function df(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v9=["Webkit","ms","Moz","O"];Object.keys(zh).forEach(function(t){v9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zh[e]=zh[t]})});function EO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zh.hasOwnProperty(t)&&zh[t]?(""+e).trim():e+"px"}function TO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=EO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _9=fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Y0(t,e){if(e){if(_9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function X0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var J0=null;function r1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Z0=null,Lu=null,Mu=null;function BR(t){if(t=cd(t)){if(typeof Z0!="function")throw Error(le(280));var e=t.stateNode;e&&(e=Xg(e),Z0(t.stateNode,t.type,e))}}function IO(t){Lu?Mu?Mu.push(t):Mu=[t]:Lu=t}function SO(){if(Lu){var t=Lu,e=Mu;if(Mu=Lu=null,BR(t),e)for(t=0;t<e.length;t++)BR(e[t])}}function xO(t,e){return t(e)}function RO(){}var P_=!1;function bO(t,e,n){if(P_)return t(e,n);P_=!0;try{return xO(t,e,n)}finally{P_=!1,(Lu!==null||Mu!==null)&&(RO(),SO())}}function pf(t,e){var n=t.stateNode;if(n===null)return null;var r=Xg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(le(231,e,typeof n));return n}var ew=!1;if(Js)try{var lh={};Object.defineProperty(lh,"passive",{get:function(){ew=!0}}),window.addEventListener("test",lh,lh),window.removeEventListener("test",lh,lh)}catch{ew=!1}function w9(t,e,n,r,i,s,o,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var qh=!1,Fm=null,Vm=!1,tw=null,E9={onError:function(t){qh=!0,Fm=t}};function T9(t,e,n,r,i,s,o,l,c){qh=!1,Fm=null,w9.apply(E9,arguments)}function I9(t,e,n,r,i,s,o,l,c){if(T9.apply(this,arguments),qh){if(qh){var h=Fm;qh=!1,Fm=null}else throw Error(le(198));Vm||(Vm=!0,tw=h)}}function Dl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function AO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function UR(t){if(Dl(t)!==t)throw Error(le(188))}function S9(t){var e=t.alternate;if(!e){if(e=Dl(t),e===null)throw Error(le(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return UR(i),t;if(s===r)return UR(i),e;s=s.sibling}throw Error(le(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?t:e}function CO(t){return t=S9(t),t!==null?PO(t):null}function PO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=PO(t);if(e!==null)return e;t=t.sibling}return null}var OO=ii.unstable_scheduleCallback,zR=ii.unstable_cancelCallback,x9=ii.unstable_shouldYield,R9=ii.unstable_requestPaint,An=ii.unstable_now,b9=ii.unstable_getCurrentPriorityLevel,i1=ii.unstable_ImmediatePriority,DO=ii.unstable_UserBlockingPriority,$m=ii.unstable_NormalPriority,A9=ii.unstable_LowPriority,kO=ii.unstable_IdlePriority,Hg=null,ps=null;function C9(t){if(ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(Hg,t,void 0,(t.current.flags&128)===128)}catch{}}var Wi=Math.clz32?Math.clz32:D9,P9=Math.log,O9=Math.LN2;function D9(t){return t>>>=0,t===0?32:31-(P9(t)/O9|0)|0}var Np=64,Lp=4194304;function kh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=kh(l):(s&=o,s!==0&&(r=kh(s)))}else o=n&~i,o!==0?r=kh(o):s!==0&&(r=kh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wi(e),i=1<<n,r|=t[n],e&=~i;return r}function k9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N9(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Wi(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=k9(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function nw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NO(){var t=Np;return Np<<=1,!(Np&4194240)&&(Np=64),t}function O_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ld(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wi(e),t[e]=n}function L9(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function s1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ot=0;function LO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var MO,o1,FO,VO,$O,rw=!1,Mp=[],qo=null,Wo=null,Ko=null,mf=new Map,gf=new Map,Lo=[],M9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qR(t,e){switch(t){case"focusin":case"focusout":qo=null;break;case"dragenter":case"dragleave":Wo=null;break;case"mouseover":case"mouseout":Ko=null;break;case"pointerover":case"pointerout":mf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(e.pointerId)}}function uh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=cd(e),e!==null&&o1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function F9(t,e,n,r,i){switch(e){case"focusin":return qo=uh(qo,t,e,n,r,i),!0;case"dragenter":return Wo=uh(Wo,t,e,n,r,i),!0;case"mouseover":return Ko=uh(Ko,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return mf.set(s,uh(mf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gf.set(s,uh(gf.get(s)||null,t,e,n,r,i)),!0}return!1}function jO(t){var e=Qa(t.target);if(e!==null){var n=Dl(e);if(n!==null){if(e=n.tag,e===13){if(e=AO(n),e!==null){t.blockedOn=e,$O(t.priority,function(){FO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=iw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);J0=r,n.target.dispatchEvent(r),J0=null}else return e=cd(n),e!==null&&o1(e),t.blockedOn=n,!1;e.shift()}return!0}function WR(t,e,n){dm(t)&&n.delete(e)}function V9(){rw=!1,qo!==null&&dm(qo)&&(qo=null),Wo!==null&&dm(Wo)&&(Wo=null),Ko!==null&&dm(Ko)&&(Ko=null),mf.forEach(WR),gf.forEach(WR)}function ch(t,e){t.blockedOn===e&&(t.blockedOn=null,rw||(rw=!0,ii.unstable_scheduleCallback(ii.unstable_NormalPriority,V9)))}function yf(t){function e(i){return ch(i,t)}if(0<Mp.length){ch(Mp[0],t);for(var n=1;n<Mp.length;n++){var r=Mp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(qo!==null&&ch(qo,t),Wo!==null&&ch(Wo,t),Ko!==null&&ch(Ko,t),mf.forEach(e),gf.forEach(e),n=0;n<Lo.length;n++)r=Lo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Lo.length&&(n=Lo[0],n.blockedOn===null);)jO(n),n.blockedOn===null&&Lo.shift()}var Fu=ao.ReactCurrentBatchConfig,Bm=!0;function $9(t,e,n,r){var i=Ot,s=Fu.transition;Fu.transition=null;try{Ot=1,a1(t,e,n,r)}finally{Ot=i,Fu.transition=s}}function j9(t,e,n,r){var i=Ot,s=Fu.transition;Fu.transition=null;try{Ot=4,a1(t,e,n,r)}finally{Ot=i,Fu.transition=s}}function a1(t,e,n,r){if(Bm){var i=iw(t,e,n,r);if(i===null)B_(t,e,r,Um,n),qR(t,r);else if(F9(i,t,e,n,r))r.stopPropagation();else if(qR(t,r),e&4&&-1<M9.indexOf(t)){for(;i!==null;){var s=cd(i);if(s!==null&&MO(s),s=iw(t,e,n,r),s===null&&B_(t,e,r,Um,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else B_(t,e,r,null,n)}}var Um=null;function iw(t,e,n,r){if(Um=null,t=r1(r),t=Qa(t),t!==null)if(e=Dl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=AO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Um=t,null}function BO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b9()){case i1:return 1;case DO:return 4;case $m:case A9:return 16;case kO:return 536870912;default:return 16}default:return 16}}var jo=null,l1=null,pm=null;function UO(){if(pm)return pm;var t,e=l1,n=e.length,r,i="value"in jo?jo.value:jo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return pm=i.slice(t,1<r?1-r:void 0)}function mm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fp(){return!0}function KR(){return!1}function ui(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fp:KR,this.isPropagationStopped=KR,this}return fn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fp)},persist:function(){},isPersistent:Fp}),e}var Ec={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},u1=ui(Ec),ud=fn({},Ec,{view:0,detail:0}),B9=ui(ud),D_,k_,hh,Gg=fn({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hh&&(hh&&t.type==="mousemove"?(D_=t.screenX-hh.screenX,k_=t.screenY-hh.screenY):k_=D_=0,hh=t),D_)},movementY:function(t){return"movementY"in t?t.movementY:k_}}),HR=ui(Gg),U9=fn({},Gg,{dataTransfer:0}),z9=ui(U9),q9=fn({},ud,{relatedTarget:0}),N_=ui(q9),W9=fn({},Ec,{animationName:0,elapsedTime:0,pseudoElement:0}),K9=ui(W9),H9=fn({},Ec,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),G9=ui(H9),Q9=fn({},Ec,{data:0}),GR=ui(Q9),Y9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=J9[t])?!!e[t]:!1}function c1(){return Z9}var ez=fn({},ud,{key:function(t){if(t.key){var e=Y9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?X9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c1,charCode:function(t){return t.type==="keypress"?mm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tz=ui(ez),nz=fn({},Gg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QR=ui(nz),rz=fn({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c1}),iz=ui(rz),sz=fn({},Ec,{propertyName:0,elapsedTime:0,pseudoElement:0}),oz=ui(sz),az=fn({},Gg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lz=ui(az),uz=[9,13,27,32],h1=Js&&"CompositionEvent"in window,Wh=null;Js&&"documentMode"in document&&(Wh=document.documentMode);var cz=Js&&"TextEvent"in window&&!Wh,zO=Js&&(!h1||Wh&&8<Wh&&11>=Wh),YR=String.fromCharCode(32),XR=!1;function qO(t,e){switch(t){case"keyup":return uz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Eu=!1;function hz(t,e){switch(t){case"compositionend":return WO(e);case"keypress":return e.which!==32?null:(XR=!0,YR);case"textInput":return t=e.data,t===YR&&XR?null:t;default:return null}}function fz(t,e){if(Eu)return t==="compositionend"||!h1&&qO(t,e)?(t=UO(),pm=l1=jo=null,Eu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zO&&e.locale!=="ko"?null:e.data;default:return null}}var dz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dz[t.type]:e==="textarea"}function KO(t,e,n,r){IO(r),e=zm(e,"onChange"),0<e.length&&(n=new u1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kh=null,vf=null;function pz(t){rD(t,0)}function Qg(t){var e=Su(t);if(gO(e))return t}function mz(t,e){if(t==="change")return e}var HO=!1;if(Js){var L_;if(Js){var M_="oninput"in document;if(!M_){var ZR=document.createElement("div");ZR.setAttribute("oninput","return;"),M_=typeof ZR.oninput=="function"}L_=M_}else L_=!1;HO=L_&&(!document.documentMode||9<document.documentMode)}function eb(){Kh&&(Kh.detachEvent("onpropertychange",GO),vf=Kh=null)}function GO(t){if(t.propertyName==="value"&&Qg(vf)){var e=[];KO(e,vf,t,r1(t)),bO(pz,e)}}function gz(t,e,n){t==="focusin"?(eb(),Kh=e,vf=n,Kh.attachEvent("onpropertychange",GO)):t==="focusout"&&eb()}function yz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qg(vf)}function vz(t,e){if(t==="click")return Qg(e)}function _z(t,e){if(t==="input"||t==="change")return Qg(e)}function wz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qi=typeof Object.is=="function"?Object.is:wz;function _f(t,e){if(Qi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!j0.call(e,i)||!Qi(t[i],e[i]))return!1}return!0}function tb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nb(t,e){var n=tb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tb(n)}}function QO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YO(){for(var t=window,e=Mm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mm(t.document)}return e}function f1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ez(t){var e=YO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&QO(n.ownerDocument.documentElement,n)){if(r!==null&&f1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=nb(n,s);var o=nb(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Tz=Js&&"documentMode"in document&&11>=document.documentMode,Tu=null,sw=null,Hh=null,ow=!1;function rb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ow||Tu==null||Tu!==Mm(r)||(r=Tu,"selectionStart"in r&&f1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hh&&_f(Hh,r)||(Hh=r,r=zm(sw,"onSelect"),0<r.length&&(e=new u1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Tu)))}function Vp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Iu={animationend:Vp("Animation","AnimationEnd"),animationiteration:Vp("Animation","AnimationIteration"),animationstart:Vp("Animation","AnimationStart"),transitionend:Vp("Transition","TransitionEnd")},F_={},XO={};Js&&(XO=document.createElement("div").style,"AnimationEvent"in window||(delete Iu.animationend.animation,delete Iu.animationiteration.animation,delete Iu.animationstart.animation),"TransitionEvent"in window||delete Iu.transitionend.transition);function Yg(t){if(F_[t])return F_[t];if(!Iu[t])return t;var e=Iu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in XO)return F_[t]=e[n];return t}var JO=Yg("animationend"),ZO=Yg("animationiteration"),eD=Yg("animationstart"),tD=Yg("transitionend"),nD=new Map,ib="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ma(t,e){nD.set(t,e),Ol(e,[t])}for(var V_=0;V_<ib.length;V_++){var $_=ib[V_],Iz=$_.toLowerCase(),Sz=$_[0].toUpperCase()+$_.slice(1);ma(Iz,"on"+Sz)}ma(JO,"onAnimationEnd");ma(ZO,"onAnimationIteration");ma(eD,"onAnimationStart");ma("dblclick","onDoubleClick");ma("focusin","onFocus");ma("focusout","onBlur");ma(tD,"onTransitionEnd");Gu("onMouseEnter",["mouseout","mouseover"]);Gu("onMouseLeave",["mouseout","mouseover"]);Gu("onPointerEnter",["pointerout","pointerover"]);Gu("onPointerLeave",["pointerout","pointerover"]);Ol("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ol("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ol("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ol("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ol("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ol("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nh));function sb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,I9(r,e,void 0,t),t.currentTarget=null}function rD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;sb(i,l,h),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;sb(i,l,h),s=c}}}if(Vm)throw t=tw,Vm=!1,tw=null,t}function Kt(t,e){var n=e[hw];n===void 0&&(n=e[hw]=new Set);var r=t+"__bubble";n.has(r)||(iD(e,t,2,!1),n.add(r))}function j_(t,e,n){var r=0;e&&(r|=4),iD(n,t,r,e)}var $p="_reactListening"+Math.random().toString(36).slice(2);function wf(t){if(!t[$p]){t[$p]=!0,hO.forEach(function(n){n!=="selectionchange"&&(xz.has(n)||j_(n,!1,t),j_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$p]||(e[$p]=!0,j_("selectionchange",!1,e))}}function iD(t,e,n,r){switch(BO(e)){case 1:var i=$9;break;case 4:i=j9;break;default:i=a1}n=i.bind(null,e,n,t),i=void 0,!ew||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function B_(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Qa(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}bO(function(){var h=s,f=r1(n),p=[];e:{var m=nD.get(t);if(m!==void 0){var y=u1,v=t;switch(t){case"keypress":if(mm(n)===0)break e;case"keydown":case"keyup":y=tz;break;case"focusin":v="focus",y=N_;break;case"focusout":v="blur",y=N_;break;case"beforeblur":case"afterblur":y=N_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=HR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=z9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=iz;break;case JO:case ZO:case eD:y=K9;break;case tD:y=oz;break;case"scroll":y=B9;break;case"wheel":y=lz;break;case"copy":case"cut":case"paste":y=G9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=QR}var w=(e&4)!==0,R=!w&&t==="scroll",T=w?m!==null?m+"Capture":null:m;w=[];for(var S=h,I;S!==null;){I=S;var E=I.stateNode;if(I.tag===5&&E!==null&&(I=E,T!==null&&(E=pf(S,T),E!=null&&w.push(Ef(S,E,I)))),R)break;S=S.return}0<w.length&&(m=new y(m,v,null,n,f),p.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==J0&&(v=n.relatedTarget||n.fromElement)&&(Qa(v)||v[Zs]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=h,v=v?Qa(v):null,v!==null&&(R=Dl(v),v!==R||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=h),y!==v)){if(w=HR,E="onMouseLeave",T="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(w=QR,E="onPointerLeave",T="onPointerEnter",S="pointer"),R=y==null?m:Su(y),I=v==null?m:Su(v),m=new w(E,S+"leave",y,n,f),m.target=R,m.relatedTarget=I,E=null,Qa(f)===h&&(w=new w(T,S+"enter",v,n,f),w.target=I,w.relatedTarget=R,E=w),R=E,y&&v)t:{for(w=y,T=v,S=0,I=w;I;I=iu(I))S++;for(I=0,E=T;E;E=iu(E))I++;for(;0<S-I;)w=iu(w),S--;for(;0<I-S;)T=iu(T),I--;for(;S--;){if(w===T||T!==null&&w===T.alternate)break t;w=iu(w),T=iu(T)}w=null}else w=null;y!==null&&ob(p,m,y,w,!1),v!==null&&R!==null&&ob(p,R,v,w,!0)}}e:{if(m=h?Su(h):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var P=mz;else if(JR(m))if(HO)P=_z;else{P=yz;var O=gz}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=vz);if(P&&(P=P(t,h))){KO(p,P,n,f);break e}O&&O(t,m,h),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&H0(m,"number",m.value)}switch(O=h?Su(h):window,t){case"focusin":(JR(O)||O.contentEditable==="true")&&(Tu=O,sw=h,Hh=null);break;case"focusout":Hh=sw=Tu=null;break;case"mousedown":ow=!0;break;case"contextmenu":case"mouseup":case"dragend":ow=!1,rb(p,n,f);break;case"selectionchange":if(Tz)break;case"keydown":case"keyup":rb(p,n,f)}var D;if(h1)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Eu?qO(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(zO&&n.locale!=="ko"&&(Eu||N!=="onCompositionStart"?N==="onCompositionEnd"&&Eu&&(D=UO()):(jo=f,l1="value"in jo?jo.value:jo.textContent,Eu=!0)),O=zm(h,N),0<O.length&&(N=new GR(N,t,null,n,f),p.push({event:N,listeners:O}),D?N.data=D:(D=WO(n),D!==null&&(N.data=D)))),(D=cz?hz(t,n):fz(t,n))&&(h=zm(h,"onBeforeInput"),0<h.length&&(f=new GR("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:h}),f.data=D))}rD(p,e)})}function Ef(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=pf(t,n),s!=null&&r.unshift(Ef(t,s,i)),s=pf(t,e),s!=null&&r.push(Ef(t,s,i))),t=t.return}return r}function iu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ob(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=pf(n,s),c!=null&&o.unshift(Ef(n,c,l))):i||(c=pf(n,s),c!=null&&o.push(Ef(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Rz=/\r\n?/g,bz=/\u0000|\uFFFD/g;function ab(t){return(typeof t=="string"?t:""+t).replace(Rz,`
`).replace(bz,"")}function jp(t,e,n){if(e=ab(e),ab(t)!==e&&n)throw Error(le(425))}function qm(){}var aw=null,lw=null;function uw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cw=typeof setTimeout=="function"?setTimeout:void 0,Az=typeof clearTimeout=="function"?clearTimeout:void 0,lb=typeof Promise=="function"?Promise:void 0,Cz=typeof queueMicrotask=="function"?queueMicrotask:typeof lb<"u"?function(t){return lb.resolve(null).then(t).catch(Pz)}:cw;function Pz(t){setTimeout(function(){throw t})}function U_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yf(e)}function Ho(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ub(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Tc=Math.random().toString(36).slice(2),ss="__reactFiber$"+Tc,Tf="__reactProps$"+Tc,Zs="__reactContainer$"+Tc,hw="__reactEvents$"+Tc,Oz="__reactListeners$"+Tc,Dz="__reactHandles$"+Tc;function Qa(t){var e=t[ss];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zs]||n[ss]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ub(t);t!==null;){if(n=t[ss])return n;t=ub(t)}return e}t=n,n=t.parentNode}return null}function cd(t){return t=t[ss]||t[Zs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Su(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function Xg(t){return t[Tf]||null}var fw=[],xu=-1;function ga(t){return{current:t}}function Yt(t){0>xu||(t.current=fw[xu],fw[xu]=null,xu--)}function jt(t,e){xu++,fw[xu]=t.current,t.current=e}var na={},mr=ga(na),Ur=ga(!1),cl=na;function Qu(t,e){var n=t.type.contextTypes;if(!n)return na;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zr(t){return t=t.childContextTypes,t!=null}function Wm(){Yt(Ur),Yt(mr)}function cb(t,e,n){if(mr.current!==na)throw Error(le(168));jt(mr,e),jt(Ur,n)}function sD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(le(108,g9(t)||"Unknown",i));return fn({},n,r)}function Km(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||na,cl=mr.current,jt(mr,t),jt(Ur,Ur.current),!0}function hb(t,e,n){var r=t.stateNode;if(!r)throw Error(le(169));n?(t=sD(t,e,cl),r.__reactInternalMemoizedMergedChildContext=t,Yt(Ur),Yt(mr),jt(mr,t)):Yt(Ur),jt(Ur,n)}var Ms=null,Jg=!1,z_=!1;function oD(t){Ms===null?Ms=[t]:Ms.push(t)}function kz(t){Jg=!0,oD(t)}function ya(){if(!z_&&Ms!==null){z_=!0;var t=0,e=Ot;try{var n=Ms;for(Ot=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ms=null,Jg=!1}catch(i){throw Ms!==null&&(Ms=Ms.slice(t+1)),OO(i1,ya),i}finally{Ot=e,z_=!1}}return null}var Ru=[],bu=0,Hm=null,Gm=0,wi=[],Ei=0,hl=null,Bs=1,Us="";function ja(t,e){Ru[bu++]=Gm,Ru[bu++]=Hm,Hm=t,Gm=e}function aD(t,e,n){wi[Ei++]=Bs,wi[Ei++]=Us,wi[Ei++]=hl,hl=t;var r=Bs;t=Us;var i=32-Wi(r)-1;r&=~(1<<i),n+=1;var s=32-Wi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Bs=1<<32-Wi(e)+i|n<<i|r,Us=s+t}else Bs=1<<s|n<<i|r,Us=t}function d1(t){t.return!==null&&(ja(t,1),aD(t,1,0))}function p1(t){for(;t===Hm;)Hm=Ru[--bu],Ru[bu]=null,Gm=Ru[--bu],Ru[bu]=null;for(;t===hl;)hl=wi[--Ei],wi[Ei]=null,Us=wi[--Ei],wi[Ei]=null,Bs=wi[--Ei],wi[Ei]=null}var ri=null,ni=null,tn=!1,Ui=null;function lD(t,e){var n=Ii(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ri=t,ni=Ho(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ri=t,ni=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hl!==null?{id:Bs,overflow:Us}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ii(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ri=t,ni=null,!0):!1;default:return!1}}function dw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pw(t){if(tn){var e=ni;if(e){var n=e;if(!fb(t,e)){if(dw(t))throw Error(le(418));e=Ho(n.nextSibling);var r=ri;e&&fb(t,e)?lD(r,n):(t.flags=t.flags&-4097|2,tn=!1,ri=t)}}else{if(dw(t))throw Error(le(418));t.flags=t.flags&-4097|2,tn=!1,ri=t}}}function db(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ri=t}function Bp(t){if(t!==ri)return!1;if(!tn)return db(t),tn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uw(t.type,t.memoizedProps)),e&&(e=ni)){if(dw(t))throw uD(),Error(le(418));for(;e;)lD(t,e),e=Ho(e.nextSibling)}if(db(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ni=Ho(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ni=null}}else ni=ri?Ho(t.stateNode.nextSibling):null;return!0}function uD(){for(var t=ni;t;)t=Ho(t.nextSibling)}function Yu(){ni=ri=null,tn=!1}function m1(t){Ui===null?Ui=[t]:Ui.push(t)}var Nz=ao.ReactCurrentBatchConfig;function $i(t,e){if(t&&t.defaultProps){e=fn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Qm=ga(null),Ym=null,Au=null,g1=null;function y1(){g1=Au=Ym=null}function v1(t){var e=Qm.current;Yt(Qm),t._currentValue=e}function mw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vu(t,e){Ym=t,g1=Au=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vr=!0),t.firstContext=null)}function Ai(t){var e=t._currentValue;if(g1!==t)if(t={context:t,memoizedValue:e,next:null},Au===null){if(Ym===null)throw Error(le(308));Au=t,Ym.dependencies={lanes:0,firstContext:t}}else Au=Au.next=t;return e}var Ya=null;function _1(t){Ya===null?Ya=[t]:Ya.push(t)}function cD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_1(e)):(n.next=i.next,i.next=n),e.interleaved=n,eo(t,r)}function eo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Do=!1;function w1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ws(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Go(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Et&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,eo(t,n)}return i=r.interleaved,i===null?(e.next=e,_1(r)):(e.next=i.next,i.next=e),r.interleaved=e,eo(t,n)}function gm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,s1(t,n)}}function pb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xm(t,e,n,r){var i=t.updateQueue;Do=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,o===null?s=h:o.next=h,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;o=0,f=h=c=null,l=s;do{var m=l.lane,y=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,w=l;switch(m=e,y=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){p=v.call(y,p,m);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,m=typeof v=="function"?v.call(y,p,m):v,m==null)break e;p=fn({},p,m);break e;case 2:Do=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=y,c=p):f=f.next=y,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(f===null&&(c=p),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);dl|=o,t.lanes=o,t.memoizedState=p}}function mb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(le(191,i));i.call(r)}}}var fD=new cO.Component().refs;function gw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:fn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zg={isMounted:function(t){return(t=t._reactInternals)?Dl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xr(),i=Yo(t),s=Ws(r,i);s.payload=e,n!=null&&(s.callback=n),e=Go(t,s,i),e!==null&&(Ki(e,t,i,r),gm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xr(),i=Yo(t),s=Ws(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Go(t,s,i),e!==null&&(Ki(e,t,i,r),gm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xr(),r=Yo(t),i=Ws(n,r);i.tag=2,e!=null&&(i.callback=e),e=Go(t,i,r),e!==null&&(Ki(e,t,r,n),gm(e,t,r))}};function gb(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!_f(n,r)||!_f(i,s):!0}function dD(t,e,n){var r=!1,i=na,s=e.contextType;return typeof s=="object"&&s!==null?s=Ai(s):(i=zr(e)?cl:mr.current,r=e.contextTypes,s=(r=r!=null)?Qu(t,i):na),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function yb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zg.enqueueReplaceState(e,e.state,null)}function yw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=fD,w1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ai(s):(s=zr(e)?cl:mr.current,i.context=Qu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(gw(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zg.enqueueReplaceState(i,i.state,null),Xm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===fD&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,t))}return t}function Up(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vb(t){var e=t._init;return e(t._payload)}function pD(t){function e(T,S){if(t){var I=T.deletions;I===null?(T.deletions=[S],T.flags|=16):I.push(S)}}function n(T,S){if(!t)return null;for(;S!==null;)e(T,S),S=S.sibling;return null}function r(T,S){for(T=new Map;S!==null;)S.key!==null?T.set(S.key,S):T.set(S.index,S),S=S.sibling;return T}function i(T,S){return T=Xo(T,S),T.index=0,T.sibling=null,T}function s(T,S,I){return T.index=I,t?(I=T.alternate,I!==null?(I=I.index,I<S?(T.flags|=2,S):I):(T.flags|=2,S)):(T.flags|=1048576,S)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function l(T,S,I,E){return S===null||S.tag!==6?(S=Y_(I,T.mode,E),S.return=T,S):(S=i(S,I),S.return=T,S)}function c(T,S,I,E){var P=I.type;return P===wu?f(T,S,I.props.children,E,I.key):S!==null&&(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Oo&&vb(P)===S.type)?(E=i(S,I.props),E.ref=fh(T,S,I),E.return=T,E):(E=Tm(I.type,I.key,I.props,null,T.mode,E),E.ref=fh(T,S,I),E.return=T,E)}function h(T,S,I,E){return S===null||S.tag!==4||S.stateNode.containerInfo!==I.containerInfo||S.stateNode.implementation!==I.implementation?(S=X_(I,T.mode,E),S.return=T,S):(S=i(S,I.children||[]),S.return=T,S)}function f(T,S,I,E,P){return S===null||S.tag!==7?(S=ol(I,T.mode,E,P),S.return=T,S):(S=i(S,I),S.return=T,S)}function p(T,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Y_(""+S,T.mode,I),S.return=T,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Op:return I=Tm(S.type,S.key,S.props,null,T.mode,I),I.ref=fh(T,null,S),I.return=T,I;case _u:return S=X_(S,T.mode,I),S.return=T,S;case Oo:var E=S._init;return p(T,E(S._payload),I)}if(Dh(S)||ah(S))return S=ol(S,T.mode,I,null),S.return=T,S;Up(T,S)}return null}function m(T,S,I,E){var P=S!==null?S.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return P!==null?null:l(T,S,""+I,E);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Op:return I.key===P?c(T,S,I,E):null;case _u:return I.key===P?h(T,S,I,E):null;case Oo:return P=I._init,m(T,S,P(I._payload),E)}if(Dh(I)||ah(I))return P!==null?null:f(T,S,I,E,null);Up(T,I)}return null}function y(T,S,I,E,P){if(typeof E=="string"&&E!==""||typeof E=="number")return T=T.get(I)||null,l(S,T,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Op:return T=T.get(E.key===null?I:E.key)||null,c(S,T,E,P);case _u:return T=T.get(E.key===null?I:E.key)||null,h(S,T,E,P);case Oo:var O=E._init;return y(T,S,I,O(E._payload),P)}if(Dh(E)||ah(E))return T=T.get(I)||null,f(S,T,E,P,null);Up(S,E)}return null}function v(T,S,I,E){for(var P=null,O=null,D=S,N=S=0,W=null;D!==null&&N<I.length;N++){D.index>N?(W=D,D=null):W=D.sibling;var Y=m(T,D,I[N],E);if(Y===null){D===null&&(D=W);break}t&&D&&Y.alternate===null&&e(T,D),S=s(Y,S,N),O===null?P=Y:O.sibling=Y,O=Y,D=W}if(N===I.length)return n(T,D),tn&&ja(T,N),P;if(D===null){for(;N<I.length;N++)D=p(T,I[N],E),D!==null&&(S=s(D,S,N),O===null?P=D:O.sibling=D,O=D);return tn&&ja(T,N),P}for(D=r(T,D);N<I.length;N++)W=y(D,T,N,I[N],E),W!==null&&(t&&W.alternate!==null&&D.delete(W.key===null?N:W.key),S=s(W,S,N),O===null?P=W:O.sibling=W,O=W);return t&&D.forEach(function(ie){return e(T,ie)}),tn&&ja(T,N),P}function w(T,S,I,E){var P=ah(I);if(typeof P!="function")throw Error(le(150));if(I=P.call(I),I==null)throw Error(le(151));for(var O=P=null,D=S,N=S=0,W=null,Y=I.next();D!==null&&!Y.done;N++,Y=I.next()){D.index>N?(W=D,D=null):W=D.sibling;var ie=m(T,D,Y.value,E);if(ie===null){D===null&&(D=W);break}t&&D&&ie.alternate===null&&e(T,D),S=s(ie,S,N),O===null?P=ie:O.sibling=ie,O=ie,D=W}if(Y.done)return n(T,D),tn&&ja(T,N),P;if(D===null){for(;!Y.done;N++,Y=I.next())Y=p(T,Y.value,E),Y!==null&&(S=s(Y,S,N),O===null?P=Y:O.sibling=Y,O=Y);return tn&&ja(T,N),P}for(D=r(T,D);!Y.done;N++,Y=I.next())Y=y(D,T,N,Y.value,E),Y!==null&&(t&&Y.alternate!==null&&D.delete(Y.key===null?N:Y.key),S=s(Y,S,N),O===null?P=Y:O.sibling=Y,O=Y);return t&&D.forEach(function(he){return e(T,he)}),tn&&ja(T,N),P}function R(T,S,I,E){if(typeof I=="object"&&I!==null&&I.type===wu&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Op:e:{for(var P=I.key,O=S;O!==null;){if(O.key===P){if(P=I.type,P===wu){if(O.tag===7){n(T,O.sibling),S=i(O,I.props.children),S.return=T,T=S;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Oo&&vb(P)===O.type){n(T,O.sibling),S=i(O,I.props),S.ref=fh(T,O,I),S.return=T,T=S;break e}n(T,O);break}else e(T,O);O=O.sibling}I.type===wu?(S=ol(I.props.children,T.mode,E,I.key),S.return=T,T=S):(E=Tm(I.type,I.key,I.props,null,T.mode,E),E.ref=fh(T,S,I),E.return=T,T=E)}return o(T);case _u:e:{for(O=I.key;S!==null;){if(S.key===O)if(S.tag===4&&S.stateNode.containerInfo===I.containerInfo&&S.stateNode.implementation===I.implementation){n(T,S.sibling),S=i(S,I.children||[]),S.return=T,T=S;break e}else{n(T,S);break}else e(T,S);S=S.sibling}S=X_(I,T.mode,E),S.return=T,T=S}return o(T);case Oo:return O=I._init,R(T,S,O(I._payload),E)}if(Dh(I))return v(T,S,I,E);if(ah(I))return w(T,S,I,E);Up(T,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,S!==null&&S.tag===6?(n(T,S.sibling),S=i(S,I),S.return=T,T=S):(n(T,S),S=Y_(I,T.mode,E),S.return=T,T=S),o(T)):n(T,S)}return R}var Xu=pD(!0),mD=pD(!1),hd={},ms=ga(hd),If=ga(hd),Sf=ga(hd);function Xa(t){if(t===hd)throw Error(le(174));return t}function E1(t,e){switch(jt(Sf,e),jt(If,t),jt(ms,hd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Q0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Q0(e,t)}Yt(ms),jt(ms,e)}function Ju(){Yt(ms),Yt(If),Yt(Sf)}function gD(t){Xa(Sf.current);var e=Xa(ms.current),n=Q0(e,t.type);e!==n&&(jt(If,t),jt(ms,n))}function T1(t){If.current===t&&(Yt(ms),Yt(If))}var ln=ga(0);function Jm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var q_=[];function I1(){for(var t=0;t<q_.length;t++)q_[t]._workInProgressVersionPrimary=null;q_.length=0}var ym=ao.ReactCurrentDispatcher,W_=ao.ReactCurrentBatchConfig,fl=0,cn=null,Fn=null,Un=null,Zm=!1,Gh=!1,xf=0,Lz=0;function lr(){throw Error(le(321))}function S1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qi(t[n],e[n]))return!1;return!0}function x1(t,e,n,r,i,s){if(fl=s,cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ym.current=t===null||t.memoizedState===null?$z:jz,t=n(r,i),Gh){s=0;do{if(Gh=!1,xf=0,25<=s)throw Error(le(301));s+=1,Un=Fn=null,e.updateQueue=null,ym.current=Bz,t=n(r,i)}while(Gh)}if(ym.current=eg,e=Fn!==null&&Fn.next!==null,fl=0,Un=Fn=cn=null,Zm=!1,e)throw Error(le(300));return t}function R1(){var t=xf!==0;return xf=0,t}function is(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?cn.memoizedState=Un=t:Un=Un.next=t,Un}function Ci(){if(Fn===null){var t=cn.alternate;t=t!==null?t.memoizedState:null}else t=Fn.next;var e=Un===null?cn.memoizedState:Un.next;if(e!==null)Un=e,Fn=t;else{if(t===null)throw Error(le(310));Fn=t,t={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},Un===null?cn.memoizedState=Un=t:Un=Un.next=t}return Un}function Rf(t,e){return typeof e=="function"?e(t):e}function K_(t){var e=Ci(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=Fn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,h=s;do{var f=h.lane;if((fl&f)===f)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=p,o=r):c=c.next=p,cn.lanes|=f,dl|=f}h=h.next}while(h!==null&&h!==s);c===null?o=r:c.next=l,Qi(r,e.memoizedState)||(Vr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,cn.lanes|=s,dl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function H_(t){var e=Ci(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Qi(s,e.memoizedState)||(Vr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function yD(){}function vD(t,e){var n=cn,r=Ci(),i=e(),s=!Qi(r.memoizedState,i);if(s&&(r.memoizedState=i,Vr=!0),r=r.queue,b1(ED.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Un!==null&&Un.memoizedState.tag&1){if(n.flags|=2048,bf(9,wD.bind(null,n,r,i,e),void 0,null),qn===null)throw Error(le(349));fl&30||_D(n,e,i)}return i}function _D(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wD(t,e,n,r){e.value=n,e.getSnapshot=r,TD(e)&&ID(t)}function ED(t,e,n){return n(function(){TD(e)&&ID(t)})}function TD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qi(t,n)}catch{return!0}}function ID(t){var e=eo(t,1);e!==null&&Ki(e,t,1,-1)}function _b(t){var e=is();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rf,lastRenderedState:t},e.queue=t,t=t.dispatch=Vz.bind(null,cn,t),[e.memoizedState,t]}function bf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function SD(){return Ci().memoizedState}function vm(t,e,n,r){var i=is();cn.flags|=t,i.memoizedState=bf(1|e,n,void 0,r===void 0?null:r)}function ey(t,e,n,r){var i=Ci();r=r===void 0?null:r;var s=void 0;if(Fn!==null){var o=Fn.memoizedState;if(s=o.destroy,r!==null&&S1(r,o.deps)){i.memoizedState=bf(e,n,s,r);return}}cn.flags|=t,i.memoizedState=bf(1|e,n,s,r)}function wb(t,e){return vm(8390656,8,t,e)}function b1(t,e){return ey(2048,8,t,e)}function xD(t,e){return ey(4,2,t,e)}function RD(t,e){return ey(4,4,t,e)}function bD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function AD(t,e,n){return n=n!=null?n.concat([t]):null,ey(4,4,bD.bind(null,e,t),n)}function A1(){}function CD(t,e){var n=Ci();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&S1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function PD(t,e){var n=Ci();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&S1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function OD(t,e,n){return fl&21?(Qi(n,e)||(n=NO(),cn.lanes|=n,dl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vr=!0),t.memoizedState=n)}function Mz(t,e){var n=Ot;Ot=n!==0&&4>n?n:4,t(!0);var r=W_.transition;W_.transition={};try{t(!1),e()}finally{Ot=n,W_.transition=r}}function DD(){return Ci().memoizedState}function Fz(t,e,n){var r=Yo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kD(t))ND(e,n);else if(n=cD(t,e,n,r),n!==null){var i=xr();Ki(n,t,r,i),LD(n,e,r)}}function Vz(t,e,n){var r=Yo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kD(t))ND(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Qi(l,o)){var c=e.interleaved;c===null?(i.next=i,_1(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=cD(t,e,i,r),n!==null&&(i=xr(),Ki(n,t,r,i),LD(n,e,r))}}function kD(t){var e=t.alternate;return t===cn||e!==null&&e===cn}function ND(t,e){Gh=Zm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function LD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,s1(t,n)}}var eg={readContext:Ai,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useInsertionEffect:lr,useLayoutEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useMutableSource:lr,useSyncExternalStore:lr,useId:lr,unstable_isNewReconciler:!1},$z={readContext:Ai,useCallback:function(t,e){return is().memoizedState=[t,e===void 0?null:e],t},useContext:Ai,useEffect:wb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vm(4194308,4,bD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vm(4194308,4,t,e)},useInsertionEffect:function(t,e){return vm(4,2,t,e)},useMemo:function(t,e){var n=is();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=is();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Fz.bind(null,cn,t),[r.memoizedState,t]},useRef:function(t){var e=is();return t={current:t},e.memoizedState=t},useState:_b,useDebugValue:A1,useDeferredValue:function(t){return is().memoizedState=t},useTransition:function(){var t=_b(!1),e=t[0];return t=Mz.bind(null,t[1]),is().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=cn,i=is();if(tn){if(n===void 0)throw Error(le(407));n=n()}else{if(n=e(),qn===null)throw Error(le(349));fl&30||_D(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,wb(ED.bind(null,r,s,t),[t]),r.flags|=2048,bf(9,wD.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=is(),e=qn.identifierPrefix;if(tn){var n=Us,r=Bs;n=(r&~(1<<32-Wi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Lz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jz={readContext:Ai,useCallback:CD,useContext:Ai,useEffect:b1,useImperativeHandle:AD,useInsertionEffect:xD,useLayoutEffect:RD,useMemo:PD,useReducer:K_,useRef:SD,useState:function(){return K_(Rf)},useDebugValue:A1,useDeferredValue:function(t){var e=Ci();return OD(e,Fn.memoizedState,t)},useTransition:function(){var t=K_(Rf)[0],e=Ci().memoizedState;return[t,e]},useMutableSource:yD,useSyncExternalStore:vD,useId:DD,unstable_isNewReconciler:!1},Bz={readContext:Ai,useCallback:CD,useContext:Ai,useEffect:b1,useImperativeHandle:AD,useInsertionEffect:xD,useLayoutEffect:RD,useMemo:PD,useReducer:H_,useRef:SD,useState:function(){return H_(Rf)},useDebugValue:A1,useDeferredValue:function(t){var e=Ci();return Fn===null?e.memoizedState=t:OD(e,Fn.memoizedState,t)},useTransition:function(){var t=H_(Rf)[0],e=Ci().memoizedState;return[t,e]},useMutableSource:yD,useSyncExternalStore:vD,useId:DD,unstable_isNewReconciler:!1};function Zu(t,e){try{var n="",r=e;do n+=m9(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function G_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Uz=typeof WeakMap=="function"?WeakMap:Map;function MD(t,e,n){n=Ws(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ng||(ng=!0,Aw=r),vw(t,e)},n}function FD(t,e,n){n=Ws(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){vw(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){vw(t,e),typeof r!="function"&&(Qo===null?Qo=new Set([this]):Qo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Eb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Uz;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=nq.bind(null,t,e,n),e.then(t,t))}function Tb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ib(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ws(-1,1),e.tag=2,Go(n,e,1))),n.lanes|=1),t)}var zz=ao.ReactCurrentOwner,Vr=!1;function wr(t,e,n,r){e.child=t===null?mD(e,null,n,r):Xu(e,t.child,n,r)}function Sb(t,e,n,r,i){n=n.render;var s=e.ref;return Vu(e,i),r=x1(t,e,n,r,s,i),n=R1(),t!==null&&!Vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,to(t,e,i)):(tn&&n&&d1(e),e.flags|=1,wr(t,e,r,i),e.child)}function xb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!M1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,VD(t,e,s,r,i)):(t=Tm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:_f,n(o,r)&&t.ref===e.ref)return to(t,e,i)}return e.flags|=1,t=Xo(s,r),t.ref=e.ref,t.return=e,e.child=t}function VD(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(_f(s,r)&&t.ref===e.ref)if(Vr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Vr=!0);else return e.lanes=t.lanes,to(t,e,i)}return _w(t,e,n,r,i)}function $D(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(Pu,ti),ti|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,jt(Pu,ti),ti|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,jt(Pu,ti),ti|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,jt(Pu,ti),ti|=r;return wr(t,e,i,n),e.child}function jD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _w(t,e,n,r,i){var s=zr(n)?cl:mr.current;return s=Qu(e,s),Vu(e,i),n=x1(t,e,n,r,s,i),r=R1(),t!==null&&!Vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,to(t,e,i)):(tn&&r&&d1(e),e.flags|=1,wr(t,e,n,i),e.child)}function Rb(t,e,n,r,i){if(zr(n)){var s=!0;Km(e)}else s=!1;if(Vu(e,i),e.stateNode===null)_m(t,e),dD(e,n,r),yw(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Ai(h):(h=zr(n)?cl:mr.current,h=Qu(e,h));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==h)&&yb(e,o,r,h),Do=!1;var m=e.memoizedState;o.state=m,Xm(e,r,o,i),c=e.memoizedState,l!==r||m!==c||Ur.current||Do?(typeof f=="function"&&(gw(e,n,f,r),c=e.memoizedState),(l=Do||gb(e,n,l,r,m,c,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,hD(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:$i(e.type,l),o.props=h,p=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ai(c):(c=zr(n)?cl:mr.current,c=Qu(e,c));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==c)&&yb(e,o,r,c),Do=!1,m=e.memoizedState,o.state=m,Xm(e,r,o,i);var v=e.memoizedState;l!==p||m!==v||Ur.current||Do?(typeof y=="function"&&(gw(e,n,y,r),v=e.memoizedState),(h=Do||gb(e,n,h,r,m,v,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=c,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return ww(t,e,n,r,s,i)}function ww(t,e,n,r,i,s){jD(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&hb(e,n,!1),to(t,e,s);r=e.stateNode,zz.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xu(e,t.child,null,s),e.child=Xu(e,null,l,s)):wr(t,e,l,s),e.memoizedState=r.state,i&&hb(e,n,!0),e.child}function BD(t){var e=t.stateNode;e.pendingContext?cb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cb(t,e.context,!1),E1(t,e.containerInfo)}function bb(t,e,n,r,i){return Yu(),m1(i),e.flags|=256,wr(t,e,n,r),e.child}var Ew={dehydrated:null,treeContext:null,retryLane:0};function Tw(t){return{baseLanes:t,cachePool:null,transitions:null}}function UD(t,e,n){var r=e.pendingProps,i=ln.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),jt(ln,i&1),t===null)return pw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ry(o,r,0,null),t=ol(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Tw(n),e.memoizedState=Ew,t):C1(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return qz(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Xo(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Xo(l,s):(s=ol(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Tw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ew,r}return s=t.child,t=s.sibling,r=Xo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function C1(t,e){return e=ry({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zp(t,e,n,r){return r!==null&&m1(r),Xu(e,t.child,null,n),t=C1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qz(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=G_(Error(le(422))),zp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ry({mode:"visible",children:r.children},i,0,null),s=ol(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xu(e,t.child,null,o),e.child.memoizedState=Tw(o),e.memoizedState=Ew,s);if(!(e.mode&1))return zp(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(le(419)),r=G_(s,r,void 0),zp(t,e,o,r)}if(l=(o&t.childLanes)!==0,Vr||l){if(r=qn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,eo(t,i),Ki(r,t,i,-1))}return L1(),r=G_(Error(le(421))),zp(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rq.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ni=Ho(i.nextSibling),ri=e,tn=!0,Ui=null,t!==null&&(wi[Ei++]=Bs,wi[Ei++]=Us,wi[Ei++]=hl,Bs=t.id,Us=t.overflow,hl=e),e=C1(e,r.children),e.flags|=4096,e)}function Ab(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),mw(t.return,e,n)}function Q_(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zD(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(wr(t,e,r.children,n),r=ln.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ab(t,n,e);else if(t.tag===19)Ab(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(jt(ln,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Jm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Q_(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Jm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Q_(e,!0,n,null,s);break;case"together":Q_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _m(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function to(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),dl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,n=Xo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Wz(t,e,n){switch(e.tag){case 3:BD(e),Yu();break;case 5:gD(e);break;case 1:zr(e.type)&&Km(e);break;case 4:E1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;jt(Qm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(jt(ln,ln.current&1),e.flags|=128,null):n&e.child.childLanes?UD(t,e,n):(jt(ln,ln.current&1),t=to(t,e,n),t!==null?t.sibling:null);jt(ln,ln.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),jt(ln,ln.current),r)break;return null;case 22:case 23:return e.lanes=0,$D(t,e,n)}return to(t,e,n)}var qD,Iw,WD,KD;qD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Iw=function(){};WD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xa(ms.current);var s=null;switch(n){case"input":i=W0(t,i),r=W0(t,r),s=[];break;case"select":i=fn({},i,{value:void 0}),r=fn({},r,{value:void 0}),s=[];break;case"textarea":i=G0(t,i),r=G0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qm)}Y0(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ff.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ff.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Kt("scroll",t),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};KD=function(t,e,n,r){n!==r&&(e.flags|=4)};function dh(t,e){if(!tn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ur(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Kz(t,e,n){var r=e.pendingProps;switch(p1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(e),null;case 1:return zr(e.type)&&Wm(),ur(e),null;case 3:return r=e.stateNode,Ju(),Yt(Ur),Yt(mr),I1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ui!==null&&(Ow(Ui),Ui=null))),Iw(t,e),ur(e),null;case 5:T1(e);var i=Xa(Sf.current);if(n=e.type,t!==null&&e.stateNode!=null)WD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(le(166));return ur(e),null}if(t=Xa(ms.current),Bp(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ss]=e,r[Tf]=s,t=(e.mode&1)!==0,n){case"dialog":Kt("cancel",r),Kt("close",r);break;case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(i=0;i<Nh.length;i++)Kt(Nh[i],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"details":Kt("toggle",r);break;case"input":FR(r,s),Kt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",r);break;case"textarea":$R(r,s),Kt("invalid",r)}Y0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&jp(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&jp(r.textContent,l,t),i=["children",""+l]):ff.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Kt("scroll",r)}switch(n){case"input":Dp(r),VR(r,s,!0);break;case"textarea":Dp(r),jR(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=qm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_O(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ss]=e,t[Tf]=r,qD(t,e,!1,!1),e.stateNode=t;e:{switch(o=X0(n,r),n){case"dialog":Kt("cancel",t),Kt("close",t),i=r;break;case"iframe":case"object":case"embed":Kt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Nh.length;i++)Kt(Nh[i],t);i=r;break;case"source":Kt("error",t),i=r;break;case"img":case"image":case"link":Kt("error",t),Kt("load",t),i=r;break;case"details":Kt("toggle",t),i=r;break;case"input":FR(t,r),i=W0(t,r),Kt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=fn({},r,{value:void 0}),Kt("invalid",t);break;case"textarea":$R(t,r),i=G0(t,r),Kt("invalid",t);break;default:i=r}Y0(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?TO(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wO(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&df(t,c):typeof c=="number"&&df(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ff.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Kt("scroll",t):c!=null&&ZE(t,s,c,o))}switch(n){case"input":Dp(t),VR(t,r,!1);break;case"textarea":Dp(t),jR(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ta(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Nu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Nu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=qm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ur(e),null;case 6:if(t&&e.stateNode!=null)KD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(le(166));if(n=Xa(Sf.current),Xa(ms.current),Bp(e)){if(r=e.stateNode,n=e.memoizedProps,r[ss]=e,(s=r.nodeValue!==n)&&(t=ri,t!==null))switch(t.tag){case 3:jp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jp(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ss]=e,e.stateNode=r}return ur(e),null;case 13:if(Yt(ln),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tn&&ni!==null&&e.mode&1&&!(e.flags&128))uD(),Yu(),e.flags|=98560,s=!1;else if(s=Bp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(le(317));s[ss]=e}else Yu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ur(e),s=!1}else Ui!==null&&(Ow(Ui),Ui=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ln.current&1?Vn===0&&(Vn=3):L1())),e.updateQueue!==null&&(e.flags|=4),ur(e),null);case 4:return Ju(),Iw(t,e),t===null&&wf(e.stateNode.containerInfo),ur(e),null;case 10:return v1(e.type._context),ur(e),null;case 17:return zr(e.type)&&Wm(),ur(e),null;case 19:if(Yt(ln),s=e.memoizedState,s===null)return ur(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)dh(s,!1);else{if(Vn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jm(t),o!==null){for(e.flags|=128,dh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return jt(ln,ln.current&1|2),e.child}t=t.sibling}s.tail!==null&&An()>ec&&(e.flags|=128,r=!0,dh(s,!1),e.lanes=4194304)}else{if(!r)if(t=Jm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),dh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!tn)return ur(e),null}else 2*An()-s.renderingStartTime>ec&&n!==1073741824&&(e.flags|=128,r=!0,dh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=An(),e.sibling=null,n=ln.current,jt(ln,r?n&1|2:n&1),e):(ur(e),null);case 22:case 23:return N1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ti&1073741824&&(ur(e),e.subtreeFlags&6&&(e.flags|=8192)):ur(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function Hz(t,e){switch(p1(e),e.tag){case 1:return zr(e.type)&&Wm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ju(),Yt(Ur),Yt(mr),I1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return T1(e),null;case 13:if(Yt(ln),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));Yu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yt(ln),null;case 4:return Ju(),null;case 10:return v1(e.type._context),null;case 22:case 23:return N1(),null;case 24:return null;default:return null}}var qp=!1,hr=!1,Gz=typeof WeakSet=="function"?WeakSet:Set,be=null;function Cu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gn(t,e,r)}else n.current=null}function Sw(t,e,n){try{n()}catch(r){gn(t,e,r)}}var Cb=!1;function Qz(t,e){if(aw=Bm,t=YO(),f1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,h=0,f=0,p=t,m=null;t:for(;;){for(var y;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===t)break t;if(m===n&&++h===i&&(l=o),m===s&&++f===r&&(c=o),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(lw={focusedElem:t,selectionRange:n},Bm=!1,be=e;be!==null;)if(e=be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,be=t;else for(;be!==null;){e=be;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,R=v.memoizedState,T=e.stateNode,S=T.getSnapshotBeforeUpdate(e.elementType===e.type?w:$i(e.type,w),R);T.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(E){gn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,be=t;break}be=e.return}return v=Cb,Cb=!1,v}function Qh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Sw(e,n,s)}i=i.next}while(i!==r)}}function ty(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function HD(t){var e=t.alternate;e!==null&&(t.alternate=null,HD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ss],delete e[Tf],delete e[hw],delete e[Oz],delete e[Dz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function GD(t){return t.tag===5||t.tag===3||t.tag===4}function Pb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qm));else if(r!==4&&(t=t.child,t!==null))for(Rw(t,e,n),t=t.sibling;t!==null;)Rw(t,e,n),t=t.sibling}function bw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bw(t,e,n),t=t.sibling;t!==null;)bw(t,e,n),t=t.sibling}var Jn=null,ji=!1;function xo(t,e,n){for(n=n.child;n!==null;)QD(t,e,n),n=n.sibling}function QD(t,e,n){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(Hg,n)}catch{}switch(n.tag){case 5:hr||Cu(n,e);case 6:var r=Jn,i=ji;Jn=null,xo(t,e,n),Jn=r,ji=i,Jn!==null&&(ji?(t=Jn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Jn.removeChild(n.stateNode));break;case 18:Jn!==null&&(ji?(t=Jn,n=n.stateNode,t.nodeType===8?U_(t.parentNode,n):t.nodeType===1&&U_(t,n),yf(t)):U_(Jn,n.stateNode));break;case 4:r=Jn,i=ji,Jn=n.stateNode.containerInfo,ji=!0,xo(t,e,n),Jn=r,ji=i;break;case 0:case 11:case 14:case 15:if(!hr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Sw(n,e,o),i=i.next}while(i!==r)}xo(t,e,n);break;case 1:if(!hr&&(Cu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){gn(n,e,l)}xo(t,e,n);break;case 21:xo(t,e,n);break;case 22:n.mode&1?(hr=(r=hr)||n.memoizedState!==null,xo(t,e,n),hr=r):xo(t,e,n);break;default:xo(t,e,n)}}function Ob(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Gz),e.forEach(function(r){var i=iq.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Jn=l.stateNode,ji=!1;break e;case 3:Jn=l.stateNode.containerInfo,ji=!0;break e;case 4:Jn=l.stateNode.containerInfo,ji=!0;break e}l=l.return}if(Jn===null)throw Error(le(160));QD(s,o,i),Jn=null,ji=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){gn(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YD(e,t),e=e.sibling}function YD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vi(e,t),rs(t),r&4){try{Qh(3,t,t.return),ty(3,t)}catch(w){gn(t,t.return,w)}try{Qh(5,t,t.return)}catch(w){gn(t,t.return,w)}}break;case 1:Vi(e,t),rs(t),r&512&&n!==null&&Cu(n,n.return);break;case 5:if(Vi(e,t),rs(t),r&512&&n!==null&&Cu(n,n.return),t.flags&32){var i=t.stateNode;try{df(i,"")}catch(w){gn(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&yO(i,s),X0(l,o);var h=X0(l,s);for(o=0;o<c.length;o+=2){var f=c[o],p=c[o+1];f==="style"?TO(i,p):f==="dangerouslySetInnerHTML"?wO(i,p):f==="children"?df(i,p):ZE(i,f,p,h)}switch(l){case"input":K0(i,s);break;case"textarea":vO(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Nu(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?Nu(i,!!s.multiple,s.defaultValue,!0):Nu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Tf]=s}catch(w){gn(t,t.return,w)}}break;case 6:if(Vi(e,t),rs(t),r&4){if(t.stateNode===null)throw Error(le(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){gn(t,t.return,w)}}break;case 3:if(Vi(e,t),rs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yf(e.containerInfo)}catch(w){gn(t,t.return,w)}break;case 4:Vi(e,t),rs(t);break;case 13:Vi(e,t),rs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(D1=An())),r&4&&Ob(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(hr=(h=hr)||f,Vi(e,t),hr=h):Vi(e,t),rs(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(be=t,f=t.child;f!==null;){for(p=be=f;be!==null;){switch(m=be,y=m.child,m.tag){case 0:case 11:case 14:case 15:Qh(4,m,m.return);break;case 1:Cu(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){gn(r,n,w)}}break;case 5:Cu(m,m.return);break;case 22:if(m.memoizedState!==null){kb(p);continue}}y!==null?(y.return=m,be=y):kb(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=EO("display",o))}catch(w){gn(t,t.return,w)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(w){gn(t,t.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Vi(e,t),rs(t),r&4&&Ob(t);break;case 21:break;default:Vi(e,t),rs(t)}}function rs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(GD(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(df(i,""),r.flags&=-33);var s=Pb(t);bw(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Pb(t);Rw(t,l,o);break;default:throw Error(le(161))}}catch(c){gn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yz(t,e,n){be=t,XD(t)}function XD(t,e,n){for(var r=(t.mode&1)!==0;be!==null;){var i=be,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||qp;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||hr;l=qp;var h=hr;if(qp=o,(hr=c)&&!h)for(be=i;be!==null;)o=be,c=o.child,o.tag===22&&o.memoizedState!==null?Nb(i):c!==null?(c.return=o,be=c):Nb(i);for(;s!==null;)be=s,XD(s),s=s.sibling;be=i,qp=l,hr=h}Db(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,be=s):Db(t)}}function Db(t){for(;be!==null;){var e=be;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hr||ty(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$i(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&mb(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mb(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&yf(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}hr||e.flags&512&&xw(e)}catch(m){gn(e,e.return,m)}}if(e===t){be=null;break}if(n=e.sibling,n!==null){n.return=e.return,be=n;break}be=e.return}}function kb(t){for(;be!==null;){var e=be;if(e===t){be=null;break}var n=e.sibling;if(n!==null){n.return=e.return,be=n;break}be=e.return}}function Nb(t){for(;be!==null;){var e=be;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ty(4,e)}catch(c){gn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){gn(e,i,c)}}var s=e.return;try{xw(e)}catch(c){gn(e,s,c)}break;case 5:var o=e.return;try{xw(e)}catch(c){gn(e,o,c)}}}catch(c){gn(e,e.return,c)}if(e===t){be=null;break}var l=e.sibling;if(l!==null){l.return=e.return,be=l;break}be=e.return}}var Xz=Math.ceil,tg=ao.ReactCurrentDispatcher,P1=ao.ReactCurrentOwner,Ri=ao.ReactCurrentBatchConfig,Et=0,qn=null,Dn=null,nr=0,ti=0,Pu=ga(0),Vn=0,Af=null,dl=0,ny=0,O1=0,Yh=null,Fr=null,D1=0,ec=1/0,Ls=null,ng=!1,Aw=null,Qo=null,Wp=!1,Bo=null,rg=0,Xh=0,Cw=null,wm=-1,Em=0;function xr(){return Et&6?An():wm!==-1?wm:wm=An()}function Yo(t){return t.mode&1?Et&2&&nr!==0?nr&-nr:Nz.transition!==null?(Em===0&&(Em=NO()),Em):(t=Ot,t!==0||(t=window.event,t=t===void 0?16:BO(t.type)),t):1}function Ki(t,e,n,r){if(50<Xh)throw Xh=0,Cw=null,Error(le(185));ld(t,n,r),(!(Et&2)||t!==qn)&&(t===qn&&(!(Et&2)&&(ny|=n),Vn===4&&Mo(t,nr)),qr(t,r),n===1&&Et===0&&!(e.mode&1)&&(ec=An()+500,Jg&&ya()))}function qr(t,e){var n=t.callbackNode;N9(t,e);var r=jm(t,t===qn?nr:0);if(r===0)n!==null&&zR(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&zR(n),e===1)t.tag===0?kz(Lb.bind(null,t)):oD(Lb.bind(null,t)),Cz(function(){!(Et&6)&&ya()}),n=null;else{switch(LO(r)){case 1:n=i1;break;case 4:n=DO;break;case 16:n=$m;break;case 536870912:n=kO;break;default:n=$m}n=sk(n,JD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function JD(t,e){if(wm=-1,Em=0,Et&6)throw Error(le(327));var n=t.callbackNode;if($u()&&t.callbackNode!==n)return null;var r=jm(t,t===qn?nr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ig(t,r);else{e=r;var i=Et;Et|=2;var s=ek();(qn!==t||nr!==e)&&(Ls=null,ec=An()+500,sl(t,e));do try{eq();break}catch(l){ZD(t,l)}while(1);y1(),tg.current=s,Et=i,Dn!==null?e=0:(qn=null,nr=0,e=Vn)}if(e!==0){if(e===2&&(i=nw(t),i!==0&&(r=i,e=Pw(t,i))),e===1)throw n=Af,sl(t,0),Mo(t,r),qr(t,An()),n;if(e===6)Mo(t,r);else{if(i=t.current.alternate,!(r&30)&&!Jz(i)&&(e=ig(t,r),e===2&&(s=nw(t),s!==0&&(r=s,e=Pw(t,s))),e===1))throw n=Af,sl(t,0),Mo(t,r),qr(t,An()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(le(345));case 2:Ba(t,Fr,Ls);break;case 3:if(Mo(t,r),(r&130023424)===r&&(e=D1+500-An(),10<e)){if(jm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=cw(Ba.bind(null,t,Fr,Ls),e);break}Ba(t,Fr,Ls);break;case 4:if(Mo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Wi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=An()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xz(r/1960))-r,10<r){t.timeoutHandle=cw(Ba.bind(null,t,Fr,Ls),r);break}Ba(t,Fr,Ls);break;case 5:Ba(t,Fr,Ls);break;default:throw Error(le(329))}}}return qr(t,An()),t.callbackNode===n?JD.bind(null,t):null}function Pw(t,e){var n=Yh;return t.current.memoizedState.isDehydrated&&(sl(t,e).flags|=256),t=ig(t,e),t!==2&&(e=Fr,Fr=n,e!==null&&Ow(e)),t}function Ow(t){Fr===null?Fr=t:Fr.push.apply(Fr,t)}function Jz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Qi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mo(t,e){for(e&=~O1,e&=~ny,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wi(e),r=1<<n;t[n]=-1,e&=~r}}function Lb(t){if(Et&6)throw Error(le(327));$u();var e=jm(t,0);if(!(e&1))return qr(t,An()),null;var n=ig(t,e);if(t.tag!==0&&n===2){var r=nw(t);r!==0&&(e=r,n=Pw(t,r))}if(n===1)throw n=Af,sl(t,0),Mo(t,e),qr(t,An()),n;if(n===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ba(t,Fr,Ls),qr(t,An()),null}function k1(t,e){var n=Et;Et|=1;try{return t(e)}finally{Et=n,Et===0&&(ec=An()+500,Jg&&ya())}}function pl(t){Bo!==null&&Bo.tag===0&&!(Et&6)&&$u();var e=Et;Et|=1;var n=Ri.transition,r=Ot;try{if(Ri.transition=null,Ot=1,t)return t()}finally{Ot=r,Ri.transition=n,Et=e,!(Et&6)&&ya()}}function N1(){ti=Pu.current,Yt(Pu)}function sl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Az(n)),Dn!==null)for(n=Dn.return;n!==null;){var r=n;switch(p1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wm();break;case 3:Ju(),Yt(Ur),Yt(mr),I1();break;case 5:T1(r);break;case 4:Ju();break;case 13:Yt(ln);break;case 19:Yt(ln);break;case 10:v1(r.type._context);break;case 22:case 23:N1()}n=n.return}if(qn=t,Dn=t=Xo(t.current,null),nr=ti=e,Vn=0,Af=null,O1=ny=dl=0,Fr=Yh=null,Ya!==null){for(e=0;e<Ya.length;e++)if(n=Ya[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ya=null}return t}function ZD(t,e){do{var n=Dn;try{if(y1(),ym.current=eg,Zm){for(var r=cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zm=!1}if(fl=0,Un=Fn=cn=null,Gh=!1,xf=0,P1.current=null,n===null||n.return===null){Vn=1,Af=e,Dn=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=nr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=Tb(o);if(y!==null){y.flags&=-257,Ib(y,o,l,s,e),y.mode&1&&Eb(s,h,e),e=y,c=h;var v=e.updateQueue;if(v===null){var w=new Set;w.add(c),e.updateQueue=w}else v.add(c);break e}else{if(!(e&1)){Eb(s,h,e),L1();break e}c=Error(le(426))}}else if(tn&&l.mode&1){var R=Tb(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Ib(R,o,l,s,e),m1(Zu(c,l));break e}}s=c=Zu(c,l),Vn!==4&&(Vn=2),Yh===null?Yh=[s]:Yh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=MD(s,c,e);pb(s,T);break e;case 1:l=c;var S=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Qo===null||!Qo.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=FD(s,l,e);pb(s,E);break e}}s=s.return}while(s!==null)}nk(n)}catch(P){e=P,Dn===n&&n!==null&&(Dn=n=n.return);continue}break}while(1)}function ek(){var t=tg.current;return tg.current=eg,t===null?eg:t}function L1(){(Vn===0||Vn===3||Vn===2)&&(Vn=4),qn===null||!(dl&268435455)&&!(ny&268435455)||Mo(qn,nr)}function ig(t,e){var n=Et;Et|=2;var r=ek();(qn!==t||nr!==e)&&(Ls=null,sl(t,e));do try{Zz();break}catch(i){ZD(t,i)}while(1);if(y1(),Et=n,tg.current=r,Dn!==null)throw Error(le(261));return qn=null,nr=0,Vn}function Zz(){for(;Dn!==null;)tk(Dn)}function eq(){for(;Dn!==null&&!x9();)tk(Dn)}function tk(t){var e=ik(t.alternate,t,ti);t.memoizedProps=t.pendingProps,e===null?nk(t):Dn=e,P1.current=null}function nk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Hz(n,e),n!==null){n.flags&=32767,Dn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vn=6,Dn=null;return}}else if(n=Kz(n,e,ti),n!==null){Dn=n;return}if(e=e.sibling,e!==null){Dn=e;return}Dn=e=t}while(e!==null);Vn===0&&(Vn=5)}function Ba(t,e,n){var r=Ot,i=Ri.transition;try{Ri.transition=null,Ot=1,tq(t,e,n,r)}finally{Ri.transition=i,Ot=r}return null}function tq(t,e,n,r){do $u();while(Bo!==null);if(Et&6)throw Error(le(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(L9(t,s),t===qn&&(Dn=qn=null,nr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wp||(Wp=!0,sk($m,function(){return $u(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ri.transition,Ri.transition=null;var o=Ot;Ot=1;var l=Et;Et|=4,P1.current=null,Qz(t,n),YD(n,t),Ez(lw),Bm=!!aw,lw=aw=null,t.current=n,Yz(n),R9(),Et=l,Ot=o,Ri.transition=s}else t.current=n;if(Wp&&(Wp=!1,Bo=t,rg=i),s=t.pendingLanes,s===0&&(Qo=null),C9(n.stateNode),qr(t,An()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ng)throw ng=!1,t=Aw,Aw=null,t;return rg&1&&t.tag!==0&&$u(),s=t.pendingLanes,s&1?t===Cw?Xh++:(Xh=0,Cw=t):Xh=0,ya(),null}function $u(){if(Bo!==null){var t=LO(rg),e=Ri.transition,n=Ot;try{if(Ri.transition=null,Ot=16>t?16:t,Bo===null)var r=!1;else{if(t=Bo,Bo=null,rg=0,Et&6)throw Error(le(331));var i=Et;for(Et|=4,be=t.current;be!==null;){var s=be,o=s.child;if(be.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(be=h;be!==null;){var f=be;switch(f.tag){case 0:case 11:case 15:Qh(8,f,s)}var p=f.child;if(p!==null)p.return=f,be=p;else for(;be!==null;){f=be;var m=f.sibling,y=f.return;if(HD(f),f===h){be=null;break}if(m!==null){m.return=y,be=m;break}be=y}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var R=w.sibling;w.sibling=null,w=R}while(w!==null)}}be=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,be=o;else e:for(;be!==null;){if(s=be,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qh(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,be=T;break e}be=s.return}}var S=t.current;for(be=S;be!==null;){o=be;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,be=I;else e:for(o=S;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ty(9,l)}}catch(P){gn(l,l.return,P)}if(l===o){be=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,be=E;break e}be=l.return}}if(Et=i,ya(),ps&&typeof ps.onPostCommitFiberRoot=="function")try{ps.onPostCommitFiberRoot(Hg,t)}catch{}r=!0}return r}finally{Ot=n,Ri.transition=e}}return!1}function Mb(t,e,n){e=Zu(n,e),e=MD(t,e,1),t=Go(t,e,1),e=xr(),t!==null&&(ld(t,1,e),qr(t,e))}function gn(t,e,n){if(t.tag===3)Mb(t,t,n);else for(;e!==null;){if(e.tag===3){Mb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qo===null||!Qo.has(r))){t=Zu(n,t),t=FD(e,t,1),e=Go(e,t,1),t=xr(),e!==null&&(ld(e,1,t),qr(e,t));break}}e=e.return}}function nq(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xr(),t.pingedLanes|=t.suspendedLanes&n,qn===t&&(nr&n)===n&&(Vn===4||Vn===3&&(nr&130023424)===nr&&500>An()-D1?sl(t,0):O1|=n),qr(t,e)}function rk(t,e){e===0&&(t.mode&1?(e=Lp,Lp<<=1,!(Lp&130023424)&&(Lp=4194304)):e=1);var n=xr();t=eo(t,e),t!==null&&(ld(t,e,n),qr(t,n))}function rq(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rk(t,n)}function iq(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(e),rk(t,n)}var ik;ik=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ur.current)Vr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vr=!1,Wz(t,e,n);Vr=!!(t.flags&131072)}else Vr=!1,tn&&e.flags&1048576&&aD(e,Gm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_m(t,e),t=e.pendingProps;var i=Qu(e,mr.current);Vu(e,n),i=x1(null,e,r,t,i,n);var s=R1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zr(r)?(s=!0,Km(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,w1(e),i.updater=Zg,e.stateNode=i,i._reactInternals=e,yw(e,r,t,n),e=ww(null,e,r,!0,s,n)):(e.tag=0,tn&&s&&d1(e),wr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_m(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=oq(r),t=$i(r,t),i){case 0:e=_w(null,e,r,t,n);break e;case 1:e=Rb(null,e,r,t,n);break e;case 11:e=Sb(null,e,r,t,n);break e;case 14:e=xb(null,e,r,$i(r.type,t),n);break e}throw Error(le(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),_w(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),Rb(t,e,r,i,n);case 3:e:{if(BD(e),t===null)throw Error(le(387));r=e.pendingProps,s=e.memoizedState,i=s.element,hD(t,e),Xm(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zu(Error(le(423)),e),e=bb(t,e,r,n,i);break e}else if(r!==i){i=Zu(Error(le(424)),e),e=bb(t,e,r,n,i);break e}else for(ni=Ho(e.stateNode.containerInfo.firstChild),ri=e,tn=!0,Ui=null,n=mD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yu(),r===i){e=to(t,e,n);break e}wr(t,e,r,n)}e=e.child}return e;case 5:return gD(e),t===null&&pw(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,uw(r,i)?o=null:s!==null&&uw(r,s)&&(e.flags|=32),jD(t,e),wr(t,e,o,n),e.child;case 6:return t===null&&pw(e),null;case 13:return UD(t,e,n);case 4:return E1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xu(e,null,r,n):wr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),Sb(t,e,r,i,n);case 7:return wr(t,e,e.pendingProps,n),e.child;case 8:return wr(t,e,e.pendingProps.children,n),e.child;case 12:return wr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,jt(Qm,r._currentValue),r._currentValue=o,s!==null)if(Qi(s.value,o)){if(s.children===i.children&&!Ur.current){e=to(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Ws(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?c.next=c:(c.next=f.next,f.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),mw(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(le(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),mw(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}wr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Vu(e,n),i=Ai(i),r=r(i),e.flags|=1,wr(t,e,r,n),e.child;case 14:return r=e.type,i=$i(r,e.pendingProps),i=$i(r.type,i),xb(t,e,r,i,n);case 15:return VD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),_m(t,e),e.tag=1,zr(r)?(t=!0,Km(e)):t=!1,Vu(e,n),dD(e,r,i),yw(e,r,i,n),ww(null,e,r,!0,t,n);case 19:return zD(t,e,n);case 22:return $D(t,e,n)}throw Error(le(156,e.tag))};function sk(t,e){return OO(t,e)}function sq(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(t,e,n,r){return new sq(t,e,n,r)}function M1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oq(t){if(typeof t=="function")return M1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===t1)return 11;if(t===n1)return 14}return 2}function Xo(t,e){var n=t.alternate;return n===null?(n=Ii(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tm(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")M1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wu:return ol(n.children,i,s,e);case e1:o=8,i|=8;break;case B0:return t=Ii(12,n,e,i|2),t.elementType=B0,t.lanes=s,t;case U0:return t=Ii(13,n,e,i),t.elementType=U0,t.lanes=s,t;case z0:return t=Ii(19,n,e,i),t.elementType=z0,t.lanes=s,t;case pO:return ry(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fO:o=10;break e;case dO:o=9;break e;case t1:o=11;break e;case n1:o=14;break e;case Oo:o=16,r=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=Ii(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ol(t,e,n,r){return t=Ii(7,t,r,e),t.lanes=n,t}function ry(t,e,n,r){return t=Ii(22,t,r,e),t.elementType=pO,t.lanes=n,t.stateNode={isHidden:!1},t}function Y_(t,e,n){return t=Ii(6,t,null,e),t.lanes=n,t}function X_(t,e,n){return e=Ii(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aq(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=O_(0),this.expirationTimes=O_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function F1(t,e,n,r,i,s,o,l,c){return t=new aq(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ii(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},w1(s),t}function lq(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_u,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ok(t){if(!t)return na;t=t._reactInternals;e:{if(Dl(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var n=t.type;if(zr(n))return sD(t,n,e)}return e}function ak(t,e,n,r,i,s,o,l,c){return t=F1(n,r,!0,t,i,s,o,l,c),t.context=ok(null),n=t.current,r=xr(),i=Yo(n),s=Ws(r,i),s.callback=e??null,Go(n,s,i),t.current.lanes=i,ld(t,i,r),qr(t,r),t}function iy(t,e,n,r){var i=e.current,s=xr(),o=Yo(i);return n=ok(n),e.context===null?e.context=n:e.pendingContext=n,e=Ws(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Go(i,e,o),t!==null&&(Ki(t,i,o,s),gm(t,i,o)),o}function sg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function V1(t,e){Fb(t,e),(t=t.alternate)&&Fb(t,e)}function uq(){return null}var lk=typeof reportError=="function"?reportError:function(t){console.error(t)};function $1(t){this._internalRoot=t}sy.prototype.render=$1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));iy(t,e,null,null)};sy.prototype.unmount=$1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pl(function(){iy(null,t,null,null)}),e[Zs]=null}};function sy(t){this._internalRoot=t}sy.prototype.unstable_scheduleHydration=function(t){if(t){var e=VO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Lo.length&&e!==0&&e<Lo[n].priority;n++);Lo.splice(n,0,t),n===0&&jO(t)}};function j1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function oy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vb(){}function cq(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=sg(o);s.call(h)}}var o=ak(e,r,t,0,null,!1,!1,"",Vb);return t._reactRootContainer=o,t[Zs]=o.current,wf(t.nodeType===8?t.parentNode:t),pl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=sg(c);l.call(h)}}var c=F1(t,0,!1,null,null,!1,!1,"",Vb);return t._reactRootContainer=c,t[Zs]=c.current,wf(t.nodeType===8?t.parentNode:t),pl(function(){iy(e,c,n,r)}),c}function ay(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=sg(o);l.call(c)}}iy(e,o,t,i)}else o=cq(n,e,t,i,r);return sg(o)}MO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=kh(e.pendingLanes);n!==0&&(s1(e,n|1),qr(e,An()),!(Et&6)&&(ec=An()+500,ya()))}break;case 13:pl(function(){var r=eo(t,1);if(r!==null){var i=xr();Ki(r,t,1,i)}}),V1(t,1)}};o1=function(t){if(t.tag===13){var e=eo(t,134217728);if(e!==null){var n=xr();Ki(e,t,134217728,n)}V1(t,134217728)}};FO=function(t){if(t.tag===13){var e=Yo(t),n=eo(t,e);if(n!==null){var r=xr();Ki(n,t,e,r)}V1(t,e)}};VO=function(){return Ot};$O=function(t,e){var n=Ot;try{return Ot=t,e()}finally{Ot=n}};Z0=function(t,e,n){switch(e){case"input":if(K0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Xg(r);if(!i)throw Error(le(90));gO(r),K0(r,i)}}}break;case"textarea":vO(t,n);break;case"select":e=n.value,e!=null&&Nu(t,!!n.multiple,e,!1)}};xO=k1;RO=pl;var hq={usingClientEntryPoint:!1,Events:[cd,Su,Xg,IO,SO,k1]},ph={findFiberByHostInstance:Qa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},fq={bundleType:ph.bundleType,version:ph.version,rendererPackageName:ph.rendererPackageName,rendererConfig:ph.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ao.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=CO(t),t===null?null:t.stateNode},findFiberByHostInstance:ph.findFiberByHostInstance||uq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kp.isDisabled&&Kp.supportsFiber)try{Hg=Kp.inject(fq),ps=Kp}catch{}}li.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hq;li.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!j1(e))throw Error(le(200));return lq(t,e,null,n)};li.createRoot=function(t,e){if(!j1(t))throw Error(le(299));var n=!1,r="",i=lk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=F1(t,1,!1,null,null,n,!1,r,i),t[Zs]=e.current,wf(t.nodeType===8?t.parentNode:t),new $1(e)};li.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=CO(e),t=t===null?null:t.stateNode,t};li.flushSync=function(t){return pl(t)};li.hydrate=function(t,e,n){if(!oy(e))throw Error(le(200));return ay(null,t,e,!0,n)};li.hydrateRoot=function(t,e,n){if(!j1(t))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=lk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ak(e,null,t,1,n??null,i,!1,s,o),t[Zs]=e.current,wf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new sy(e)};li.render=function(t,e,n){if(!oy(e))throw Error(le(200));return ay(null,t,e,!1,n)};li.unmountComponentAtNode=function(t){if(!oy(t))throw Error(le(40));return t._reactRootContainer?(pl(function(){ay(null,null,t,!1,function(){t._reactRootContainer=null,t[Zs]=null})}),!0):!1};li.unstable_batchedUpdates=k1;li.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!oy(n))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return ay(t,e,n,!1,r)};li.version="18.2.0-next-9e3b772b8-20220608";function uk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uk)}catch(t){console.error(t)}}uk(),aO.exports=li;var B1=aO.exports;const Ou=od(B1);var $b=B1;$0.createRoot=$b.createRoot,$0.hydrateRoot=$b.hydrateRoot;class Ic{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Cf=typeof window>"u"||"Deno"in window;function vi(){}function dq(t,e){return typeof t=="function"?t(e):t}function Dw(t){return typeof t=="number"&&t>=0&&t!==1/0}function jb(t,e){return t.filter(n=>!e.includes(n))}function pq(t,e,n){const r=t.slice(0);return r[e]=n,r}function ck(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Lh(t,e,n){return ly(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function ko(t,e,n){return ly(t)?[{...e,queryKey:t},n]:[t||{},e]}function Bb(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(ly(o)){if(r){if(e.queryHash!==U1(o,e.options))return!1}else if(!og(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function Ub(t,e){const{exact:n,fetching:r,predicate:i,mutationKey:s}=t;if(ly(s)){if(!e.options.mutationKey)return!1;if(n){if(Ja(e.options.mutationKey)!==Ja(s))return!1}else if(!og(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function U1(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ja)(t)}function Ja(t){return JSON.stringify(t,(e,n)=>Nw(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function og(t,e){return hk(t,e)}function hk(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!hk(t[n],e[n])):!1}function fk(t,e){if(t===e)return t;const n=zb(t)&&zb(e);if(n||Nw(t)&&Nw(e)){const r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{};let l=0;for(let c=0;c<s;c++){const h=n?c:i[c];o[h]=fk(t[h],e[h]),o[h]===t[h]&&l++}return r===s&&l===r?t:o}return e}function kw(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function zb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Nw(t){if(!qb(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!qb(n)||!n.hasOwnProperty("isPrototypeOf"))}function qb(t){return Object.prototype.toString.call(t)==="[object Object]"}function ly(t){return Array.isArray(t)}function dk(t){return new Promise(e=>{setTimeout(e,t)})}function Wb(t){dk(0).then(t)}function mq(){if(typeof AbortController=="function")return new AbortController}function Lw(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?fk(t,e):e}class gq extends Ic{constructor(){super(),this.setup=e=>{if(!Cf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const ag=new gq,Kb=["online","offline"];class yq extends Ic{constructor(){super(),this.setup=e=>{if(!Cf&&window.addEventListener){const n=()=>e();return Kb.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{Kb.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const lg=new yq;function vq(t){return Math.min(1e3*2**t,3e4)}function uy(t){return(t??"online")==="online"?lg.isOnline():!0}class pk{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function Im(t){return t instanceof pk}function mk(t){let e=!1,n=0,r=!1,i,s,o;const l=new Promise((R,T)=>{s=R,o=T}),c=R=>{r||(y(new pk(R)),t.abort==null||t.abort())},h=()=>{e=!0},f=()=>{e=!1},p=()=>!ag.isFocused()||t.networkMode!=="always"&&!lg.isOnline(),m=R=>{r||(r=!0,t.onSuccess==null||t.onSuccess(R),i==null||i(),s(R))},y=R=>{r||(r=!0,t.onError==null||t.onError(R),i==null||i(),o(R))},v=()=>new Promise(R=>{i=T=>{const S=r||!p();return S&&R(T),S},t.onPause==null||t.onPause()}).then(()=>{i=void 0,r||t.onContinue==null||t.onContinue()}),w=()=>{if(r)return;let R;try{R=t.fn()}catch(T){R=Promise.reject(T)}Promise.resolve(R).then(m).catch(T=>{var S,I;if(r)return;const E=(S=t.retry)!=null?S:3,P=(I=t.retryDelay)!=null?I:vq,O=typeof P=="function"?P(n,T):P,D=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,T);if(e||!D){y(T);return}n++,t.onFail==null||t.onFail(n,T),dk(O).then(()=>{if(p())return v()}).then(()=>{e?y(T):w()})})};return uy(t.networkMode)?w():v().then(w),{promise:l,cancel:c,continue:()=>(i==null?void 0:i())?l:Promise.resolve(),cancelRetry:h,continueRetry:f}}const z1=console;function _q(){let t=[],e=0,n=f=>{f()},r=f=>{f()};const i=f=>{let p;e++;try{p=f()}finally{e--,e||l()}return p},s=f=>{e?t.push(f):Wb(()=>{n(f)})},o=f=>(...p)=>{s(()=>{f(...p)})},l=()=>{const f=t;t=[],f.length&&Wb(()=>{r(()=>{f.forEach(p=>{n(p)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{r=f}}}const un=_q();class gk{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Dw(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(Cf?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}let wq=class extends gk{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||z1,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||Eq(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const r=Lw(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(e),r?r.then(vi).catch(vi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!ck(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const y=this.observers.find(v=>v.options.queryFn);y&&this.setOptions(y.options)}const o=mq(),l={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};c(l);const h=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(l)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),f={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:h};if(c(f),(r=this.options.behavior)==null||r.onFetch(f),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=f.fetchOptions)==null?void 0:i.meta)){var p;this.dispatch({type:"fetch",meta:(p=f.fetchOptions)==null?void 0:p.meta})}const m=y=>{if(Im(y)&&y.silent||this.dispatch({type:"error",error:y}),!Im(y)){var v,w,R,T;(v=(w=this.cache.config).onError)==null||v.call(w,y,this),(R=(T=this.cache.config).onSettled)==null||R.call(T,this.state.data,y,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=mk({fn:f.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:y=>{var v,w,R,T;if(typeof y>"u"){m(new Error(this.queryHash+" data is undefined"));return}this.setData(y),(v=(w=this.cache.config).onSuccess)==null||v.call(w,y,this),(R=(T=this.cache.config).onSettled)==null||R.call(T,y,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:m,onFail:(y,v)=>{this.dispatch({type:"failed",failureCount:y,error:v})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=r=>{var i,s;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:uy(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return Im(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),un.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}};function Eq(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class Tq extends Ic{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,r){var i;const s=n.queryKey,o=(i=n.queryHash)!=null?i:U1(s,n);let l=this.get(o);return l||(l=new wq({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(l)),l}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){un.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[r]=ko(e,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>Bb(r,i))}findAll(e,n){const[r]=ko(e,n);return Object.keys(r).length>0?this.queries.filter(i=>Bb(r,i)):this.queries}notify(e){un.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){un.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){un.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}let Iq=class extends gk{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||z1,this.observers=[],this.state=e.state||Sq(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var D;return this.retryer=mk({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(N,W)=>{this.dispatch({type:"failed",failureCount:N,error:W})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(D=this.options.retry)!=null?D:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,s,o,l,c,h,f;if(!n){var p,m,y,v;this.dispatch({type:"loading",variables:this.options.variables}),await((p=(m=this.mutationCache.config).onMutate)==null?void 0:p.call(m,this.state.variables,this));const N=await((y=(v=this.options).onMutate)==null?void 0:y.call(v,this.state.variables));N!==this.state.context&&this.dispatch({type:"loading",context:N,variables:this.state.variables})}const D=await e();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,D,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,D,this.state.variables,this.state.context)),await((l=(c=this.mutationCache.config).onSettled)==null?void 0:l.call(c,D,null,this.state.variables,this.state.context,this)),await((h=(f=this.options).onSettled)==null?void 0:h.call(f,D,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:D}),D}catch(D){try{var w,R,T,S,I,E,P,O;throw await((w=(R=this.mutationCache.config).onError)==null?void 0:w.call(R,D,this.state.variables,this.state.context,this)),await((T=(S=this.options).onError)==null?void 0:T.call(S,D,this.state.variables,this.state.context)),await((I=(E=this.mutationCache.config).onSettled)==null?void 0:I.call(E,void 0,D,this.state.variables,this.state.context,this)),await((P=(O=this.options).onSettled)==null?void 0:P.call(O,void 0,D,this.state.variables,this.state.context)),D}finally{this.dispatch({type:"error",error:D})}}}dispatch(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!uy(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=n(this.state),un.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}};function Sq(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class xq extends Ic{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,r){const i=new Iq({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){un.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>Ub(e,n))}findAll(e){return this.mutations.filter(n=>Ub(e,n))}notify(e){un.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return un.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(vi)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Rq(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,r,i,s,o;const l=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,c=(r=t.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,h=c==null?void 0:c.pageParam,f=(c==null?void 0:c.direction)==="forward",p=(c==null?void 0:c.direction)==="backward",m=((s=t.state.data)==null?void 0:s.pages)||[],y=((o=t.state.data)==null?void 0:o.pageParams)||[];let v=y,w=!1;const R=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>{var D;if((D=t.signal)!=null&&D.aborted)w=!0;else{var N;(N=t.signal)==null||N.addEventListener("abort",()=>{w=!0})}return t.signal}})},T=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),S=(O,D,N,W)=>(v=W?[D,...v]:[...v,D],W?[N,...O]:[...O,N]),I=(O,D,N,W)=>{if(w)return Promise.reject("Cancelled");if(typeof N>"u"&&!D&&O.length)return Promise.resolve(O);const Y={queryKey:t.queryKey,pageParam:N,meta:t.options.meta};R(Y);const ie=T(Y);return Promise.resolve(ie).then(ve=>S(O,N,ve,W))};let E;if(!m.length)E=I([]);else if(f){const O=typeof h<"u",D=O?h:Hb(t.options,m);E=I(m,O,D)}else if(p){const O=typeof h<"u",D=O?h:bq(t.options,m);E=I(m,O,D,!0)}else{v=[];const O=typeof t.options.getNextPageParam>"u";E=(l&&m[0]?l(m[0],0,m):!0)?I([],O,y[0]):Promise.resolve(S([],y[0],m[0]));for(let N=1;N<m.length;N++)E=E.then(W=>{if(l&&m[N]?l(m[N],N,m):!0){const ie=O?y[N]:Hb(t.options,W);return I(W,O,ie)}return Promise.resolve(S(W,y[N],m[N]))})}return E.then(O=>({pages:O,pageParams:v}))}}}}function Hb(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function bq(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class Aq{constructor(e={}){this.queryCache=e.queryCache||new Tq,this.mutationCache=e.mutationCache||new xq,this.logger=e.logger||z1,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=ag.subscribe(()=>{ag.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=lg.subscribe(()=>{lg.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[r]=ko(e,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state.data}ensureQueryData(e,n,r){const i=Lh(e,n,r),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.queryCache.find(e),s=i==null?void 0:i.state.data,o=dq(n,s);if(typeof o>"u")return;const l=Lh(e),c=this.defaultQueryOptions(l);return this.queryCache.build(this,c).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return un.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state}removeQueries(e,n){const[r]=ko(e,n),i=this.queryCache;un.batch(()=>{i.findAll(r).forEach(s=>{i.remove(s)})})}resetQueries(e,n,r){const[i,s]=ko(e,n,r),o=this.queryCache,l={type:"active",...i};return un.batch(()=>(o.findAll(i).forEach(c=>{c.reset()}),this.refetchQueries(l,s)))}cancelQueries(e,n,r){const[i,s={}]=ko(e,n,r);typeof s.revert>"u"&&(s.revert=!0);const o=un.batch(()=>this.queryCache.findAll(i).map(l=>l.cancel(s)));return Promise.all(o).then(vi).catch(vi)}invalidateQueries(e,n,r){const[i,s]=ko(e,n,r);return un.batch(()=>{var o,l;if(this.queryCache.findAll(i).forEach(h=>{h.invalidate()}),i.refetchType==="none")return Promise.resolve();const c={...i,type:(o=(l=i.refetchType)!=null?l:i.type)!=null?o:"active"};return this.refetchQueries(c,s)})}refetchQueries(e,n,r){const[i,s]=ko(e,n,r),o=un.batch(()=>this.queryCache.findAll(i).filter(c=>!c.isDisabled()).map(c=>{var h;return c.fetch(void 0,{...s,cancelRefetch:(h=s==null?void 0:s.cancelRefetch)!=null?h:!0,meta:{refetchPage:i.refetchPage}})}));let l=Promise.all(o).then(vi);return s!=null&&s.throwOnError||(l=l.catch(vi)),l}fetchQuery(e,n,r){const i=Lh(e,n,r),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,n,r){return this.fetchQuery(e,n,r).then(vi).catch(vi)}fetchInfiniteQuery(e,n,r){const i=Lh(e,n,r);return i.behavior=Rq(),this.fetchQuery(i)}prefetchInfiniteQuery(e,n,r){return this.fetchInfiniteQuery(e,n,r).then(vi).catch(vi)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const r=this.queryDefaults.find(i=>Ja(e)===Ja(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(r=>og(e,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(e,n){const r=this.mutationDefaults.find(i=>Ja(e)===Ja(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(r=>og(e,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=U1(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class yk extends Ic{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Gb(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mw(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mw(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),kw(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const s=this.hasListeners();s&&Qb(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e),r=this.createResult(n,e);return Pq(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(vi)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),Cf||this.currentResult.isStale||!Dw(this.options.staleTime))return;const n=ck(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Cf||this.options.enabled===!1||!Dw(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||ag.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const r=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,l=this.currentResultOptions,c=e!==r,h=c?e.state:this.currentQueryInitialState,f=c?this.currentResult:this.previousQueryResult,{state:p}=e;let{dataUpdatedAt:m,error:y,errorUpdatedAt:v,fetchStatus:w,status:R}=p,T=!1,S=!1,I;if(n._optimisticResults){const N=this.hasListeners(),W=!N&&Gb(e,n),Y=N&&Qb(e,r,n,i);(W||Y)&&(w=uy(e.options.networkMode)?"fetching":"paused",m||(R="loading")),n._optimisticResults==="isRestoring"&&(w="idle")}if(n.keepPreviousData&&!p.dataUpdatedAt&&f!=null&&f.isSuccess&&R!=="error")I=f.data,m=f.dataUpdatedAt,R=f.status,T=!0;else if(n.select&&typeof p.data<"u")if(s&&p.data===(o==null?void 0:o.data)&&n.select===this.selectFn)I=this.selectResult;else try{this.selectFn=n.select,I=n.select(p.data),I=Lw(s==null?void 0:s.data,I,n),this.selectResult=I,this.selectError=null}catch(N){this.selectError=N}else I=p.data;if(typeof n.placeholderData<"u"&&typeof I>"u"&&R==="loading"){let N;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))N=s.data;else if(N=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof N<"u")try{N=n.select(N),this.selectError=null}catch(W){this.selectError=W}typeof N<"u"&&(R="success",I=Lw(s==null?void 0:s.data,N,n),S=!0)}this.selectError&&(y=this.selectError,I=this.selectResult,v=Date.now(),R="error");const E=w==="fetching",P=R==="loading",O=R==="error";return{status:R,fetchStatus:w,isLoading:P,isSuccess:R==="success",isError:O,isInitialLoading:P&&E,data:I,dataUpdatedAt:m,error:y,errorUpdatedAt:v,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:E,isRefetching:E&&!P,isLoadingError:O&&p.dataUpdatedAt===0,isPaused:w==="paused",isPlaceholderData:S,isPreviousData:T,isRefetchError:O&&p.dataUpdatedAt!==0,isStale:q1(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,kw(r,n))return;this.currentResult=r;const i={cache:!0},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!this.trackedProps.size)return!0;const c=new Set(l??this.trackedProps);return this.options.useErrorBoundary&&c.add("error"),Object.keys(this.currentResult).some(h=>{const f=h;return this.currentResult[f]!==n[f]&&c.has(f)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!Im(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){un.batch(()=>{if(e.onSuccess){var n,r,i,s;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(s=this.options).onSettled)==null||i.call(s,this.currentResult.data,null)}else if(e.onError){var o,l,c,h;(o=(l=this.options).onError)==null||o.call(l,this.currentResult.error),(c=(h=this.options).onSettled)==null||c.call(h,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:f})=>{f(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Cq(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Gb(t,e){return Cq(t,e)||t.state.dataUpdatedAt>0&&Mw(t,e,e.refetchOnMount)}function Mw(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&q1(t,e)}return!1}function Qb(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&q1(t,n)}function q1(t,e){return t.isStaleByTime(e.staleTime)}function Pq(t,e,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?e.isPlaceholderData:!kw(t.getCurrentResult(),e)}class Oq extends Ic{constructor(e,n){super(),this.client=e,this.queries=[],this.result=[],this.observers=[],this.observersMap={},n&&this.setQueries(n)}onSubscribe(){this.listeners.size===1&&this.observers.forEach(e=>{e.subscribe(n=>{this.onUpdate(e,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach(e=>{e.destroy()})}setQueries(e,n){this.queries=e,un.batch(()=>{const r=this.observers,i=this.findMatchingObservers(this.queries);i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions,n));const s=i.map(h=>h.observer),o=Object.fromEntries(s.map(h=>[h.options.queryHash,h])),l=s.map(h=>h.getCurrentResult()),c=s.some((h,f)=>h!==r[f]);r.length===s.length&&!c||(this.observers=s,this.observersMap=o,this.result=l,this.hasListeners()&&(jb(r,s).forEach(h=>{h.destroy()}),jb(s,r).forEach(h=>{h.subscribe(f=>{this.onUpdate(h,f)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(e=>e.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(e){return this.findMatchingObservers(e).map(n=>n.observer.getOptimisticResult(n.defaultedQueryOptions))}findMatchingObservers(e){const n=this.observers,r=new Map(n.map(y=>[y.options.queryHash,y])),i=e.map(y=>this.client.defaultQueryOptions(y)),s=i.flatMap(y=>{const v=r.get(y.queryHash);return v!=null?[{defaultedQueryOptions:y,observer:v}]:[]}),o=new Set(s.map(y=>y.defaultedQueryOptions.queryHash)),l=i.filter(y=>!o.has(y.queryHash)),c=new Set(s.map(y=>y.observer)),h=n.filter(y=>!c.has(y)),f=y=>{const v=this.client.defaultQueryOptions(y),w=this.observersMap[v.queryHash];return w??new yk(this.client,v)},p=l.map((y,v)=>{if(y.keepPreviousData){const w=h[v];if(w!==void 0)return{defaultedQueryOptions:y,observer:w}}return{defaultedQueryOptions:y,observer:f(y)}}),m=(y,v)=>i.indexOf(y.defaultedQueryOptions)-i.indexOf(v.defaultedQueryOptions);return s.concat(p).sort(m)}onUpdate(e,n){const r=this.observers.indexOf(e);r!==-1&&(this.result=pq(this.result,r,n),this.notify())}notify(){un.batch(()=>{this.listeners.forEach(({listener:e})=>{e(this.result)})})}}var vk={exports:{}},_k={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tc=x;function Dq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kq=typeof Object.is=="function"?Object.is:Dq,Nq=tc.useState,Lq=tc.useEffect,Mq=tc.useLayoutEffect,Fq=tc.useDebugValue;function Vq(t,e){var n=e(),r=Nq({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Mq(function(){i.value=n,i.getSnapshot=e,J_(i)&&s({inst:i})},[t,n,e]),Lq(function(){return J_(i)&&s({inst:i}),t(function(){J_(i)&&s({inst:i})})},[t]),Fq(n),n}function J_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kq(t,n)}catch{return!0}}function $q(t,e){return e()}var jq=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$q:Vq;_k.useSyncExternalStore=tc.useSyncExternalStore!==void 0?tc.useSyncExternalStore:jq;vk.exports=_k;var Bq=vk.exports;const wk=Bq.useSyncExternalStore,Yb=x.createContext(void 0),Ek=x.createContext(!1);function Tk(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Yb),window.ReactQueryClientContext):Yb)}const Ik=({context:t}={})=>{const e=x.useContext(Tk(t,x.useContext(Ek)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Uq=({client:t,children:e,context:n,contextSharing:r=!1})=>{x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const i=Tk(n,r);return x.createElement(Ek.Provider,{value:!n&&r},x.createElement(i.Provider,{value:t},e))},Sk=x.createContext(!1),xk=()=>x.useContext(Sk);Sk.Provider;function zq(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const qq=x.createContext(zq()),Rk=()=>x.useContext(qq);function Wq(t,e){return typeof t=="function"?t(...e):!!t}const bk=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},Ak=t=>{x.useEffect(()=>{t.clearReset()},[t])},Ck=({result:t,errorResetBoundary:e,useErrorBoundary:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&Wq(n,[t.error,r]),Pk=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},Ok=(t,e)=>t.isLoading&&t.isFetching&&!e,Fw=(t,e,n)=>(t==null?void 0:t.suspense)&&Ok(e,n),Vw=(t,e,n)=>e.fetchOptimistic(t).then(({data:r})=>{t.onSuccess==null||t.onSuccess(r),t.onSettled==null||t.onSettled(r,null)}).catch(r=>{n.clearReset(),t.onError==null||t.onError(r),t.onSettled==null||t.onSettled(void 0,r)});function Kq({queries:t,context:e}){const n=Ik({context:e}),r=xk(),i=Rk(),s=x.useMemo(()=>t.map(m=>{const y=n.defaultQueryOptions(m);return y._optimisticResults=r?"isRestoring":"optimistic",y}),[t,n,r]);s.forEach(m=>{Pk(m),bk(m,i)}),Ak(i);const[o]=x.useState(()=>new Oq(n,s)),l=o.getOptimisticResult(s);wk(x.useCallback(m=>r?()=>{}:o.subscribe(un.batchCalls(m)),[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),x.useEffect(()=>{o.setQueries(s,{listeners:!1})},[s,o]);const h=l.some((m,y)=>Fw(s[y],m,r))?l.flatMap((m,y)=>{const v=s[y],w=o.getObservers()[y];if(v&&w){if(Fw(v,m,r))return Vw(v,w,i);Ok(m,r)&&Vw(v,w,i)}return[]}):[];if(h.length>0)throw Promise.all(h);const f=o.getQueries(),p=l.find((m,y)=>{var v,w;return Ck({result:m,errorResetBoundary:i,useErrorBoundary:(v=(w=s[y])==null?void 0:w.useErrorBoundary)!=null?v:!1,query:f[y]})});if(p!=null&&p.error)throw p.error;return l}function Hq(t,e){const n=Ik({context:t.context}),r=xk(),i=Rk(),s=n.defaultQueryOptions(t);s._optimisticResults=r?"isRestoring":"optimistic",s.onError&&(s.onError=un.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=un.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=un.batchCalls(s.onSettled)),Pk(s),bk(s,i),Ak(i);const[o]=x.useState(()=>new e(n,s)),l=o.getOptimisticResult(s);if(wk(x.useCallback(c=>{const h=r?()=>{}:o.subscribe(un.batchCalls(c));return o.updateResult(),h},[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),x.useEffect(()=>{o.setOptions(s,{listeners:!1})},[s,o]),Fw(s,l,r))throw Vw(s,o,i);if(Ck({result:l,errorResetBoundary:i,useErrorBoundary:s.useErrorBoundary,query:o.getCurrentQuery()}))throw l.error;return s.notifyOnChangeProps?l:o.trackResult(l)}function Dk(t,e,n){const r=Lh(t,e,n);return Hq(r,yk)}const Gq=function(){return null};/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yn(){return yn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yn.apply(this,arguments)}var Rn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Rn||(Rn={}));const Xb="popstate";function Qq(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Pf("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:gl(i)}return Xq(e,n,null,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ml(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Yq(){return Math.random().toString(36).substr(2,8)}function Jb(t,e){return{usr:t.state,key:t.key,idx:e}}function Pf(t,e,n,r){return n===void 0&&(n=null),yn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?lo(e):e,{state:n,key:e&&e.key||r||Yq()})}function gl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function lo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Xq(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Rn.Pop,c=null,h=f();h==null&&(h=0,o.replaceState(yn({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=Rn.Pop;let R=f(),T=R==null?null:R-h;h=R,c&&c({action:l,location:w.location,delta:T})}function m(R,T){l=Rn.Push;let S=Pf(w.location,R,T);n&&n(S,R),h=f()+1;let I=Jb(S,h),E=w.createHref(S);try{o.pushState(I,"",E)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(E)}s&&c&&c({action:l,location:w.location,delta:1})}function y(R,T){l=Rn.Replace;let S=Pf(w.location,R,T);n&&n(S,R),h=f();let I=Jb(S,h),E=w.createHref(S);o.replaceState(I,"",E),s&&c&&c({action:l,location:w.location,delta:0})}function v(R){let T=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof R=="string"?R:gl(R);return ut(T,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,T)}let w={get action(){return l},get location(){return t(i,o)},listen(R){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Xb,p),c=R,()=>{i.removeEventListener(Xb,p),c=null}},createHref(R){return e(i,R)},createURL:v,encodeLocation(R){let T=v(R);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:y,go(R){return o.go(R)}};return w}var bn;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bn||(bn={}));const Jq=new Set(["lazy","caseSensitive","path","id","index","children"]);function Zq(t){return t.index===!0}function $w(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],l=typeof i.id=="string"?i.id:o.join("-");if(ut(i.index!==!0||!i.children,"Cannot specify children on an index route"),ut(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),Zq(i)){let c=yn({},i,e(i),{id:l});return r[l]=c,c}else{let c=yn({},i,e(i),{id:l,children:void 0});return r[l]=c,i.children&&(c.children=$w(i.children,e,o,r)),c}})}function Du(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?lo(e):e,i=Sc(r.pathname||"/",n);if(i==null)return null;let s=kk(t);t7(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=c7(s[l],d7(i));return o}function e7(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function kk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(ut(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=Ks([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(ut(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),kk(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:l7(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of Nk(s.path))i(s,o,c)}),e}function Nk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Nk(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function t7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:u7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const n7=/^:\w+$/,r7=3,i7=2,s7=1,o7=10,a7=-2,Zb=t=>t==="*";function l7(t,e){let n=t.split("/"),r=n.length;return n.some(Zb)&&(r+=a7),e&&(r+=i7),n.filter(i=>!Zb(i)).reduce((i,s)=>i+(n7.test(s)?r7:s===""?s7:o7),r)}function u7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function c7(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=h7({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h);if(!f)return null;Object.assign(r,f.params);let p=l.route;s.push({params:r,pathname:Ks([i,f.pathname]),pathnameBase:y7(Ks([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Ks([i,f.pathnameBase]))}return s}function h7(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=f7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,f,p)=>{let{paramName:m,isOptional:y}=f;if(m==="*"){let w=l[p]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[p];return y&&!v?h[m]=void 0:h[m]=p7(v||"",m),h},{}),pathname:s,pathnameBase:o,pattern:t}}function f7(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ml(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function d7(t){try{return decodeURI(t)}catch(e){return ml(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function p7(t,e){try{return decodeURIComponent(t)}catch(n){return ml(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Sc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function m7(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?lo(t):t;return{pathname:n?n.startsWith("/")?n:g7(n,e):e,search:v7(r),hash:_7(i)}}function g7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Z_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cy(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function W1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=lo(t):(i=yn({},t),ut(!i.pathname||!i.pathname.includes("?"),Z_("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),Z_("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),Z_("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(r||o==null)l=n;else{let p=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let c=m7(i,l),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}const Ks=t=>t.join("/").replace(/\/\/+/g,"/"),y7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),v7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class K1{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Lk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Mk=["post","put","patch","delete"],w7=new Set(Mk),E7=["get",...Mk],T7=new Set(E7),I7=new Set([301,302,303,307,308]),S7=new Set([307,308]),e0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},x7={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Fk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R7=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Vk="remix-router-transitions";function b7(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ut(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let F=t.detectErrorBoundary;i=j=>({hasErrorBoundary:F(j)})}else i=R7;let s={},o=$w(t.routes,i,void 0,s),l,c=t.basename||"/",h=yn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),f=null,p=new Set,m=null,y=null,v=null,w=t.hydrationData!=null,R=Du(o,t.history.location,c),T=null;if(R==null){let F=_i(404,{pathname:t.history.location.pathname}),{matches:j,route:H}=aA(o);R=j,T={[H.id]:F}}let S=!R.some(F=>F.route.lazy)&&(!R.some(F=>F.route.loader)||t.hydrationData!=null),I,E={historyAction:t.history.action,location:t.history.location,matches:R,initialized:S,navigation:e0,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||T,fetchers:new Map,blockers:new Map},P=Rn.Pop,O=!1,D,N=!1,W=new Map,Y=null,ie=!1,he=!1,ve=[],Fe=[],Ie=new Map,Ve=0,Me=-1,G=new Map,ce=new Set,ae=new Map,we=new Map,Te=new Set,$e=new Map,je=new Map,ke=!1;function at(){if(f=t.history.listen(F=>{let{action:j,location:H,delta:ue}=F;if(ke){ke=!1;return}ml(je.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=rt({currentLocation:E.location,nextLocation:H,historyAction:j});if(de&&ue!=null){ke=!0,t.history.go(ue*-1),Ce(de,{state:"blocked",location:H,proceed(){Ce(de,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),t.history.go(ue)},reset(){let Se=new Map(E.blockers);Se.set(de,mh),Ge({blockers:Se})}});return}return wt(j,H)}),n){V7(e,W);let F=()=>$7(e,W);e.addEventListener("pagehide",F),Y=()=>e.removeEventListener("pagehide",F)}return E.initialized||wt(Rn.Pop,E.location),I}function Jt(){f&&f(),Y&&Y(),p.clear(),D&&D.abort(),E.fetchers.forEach((F,j)=>In(j)),E.blockers.forEach((F,j)=>Ae(j))}function _t(F){return p.add(F),()=>p.delete(F)}function Ge(F,j){E=yn({},E,F);let H=[],ue=[];h.v7_fetcherPersist&&E.fetchers.forEach((de,Se)=>{de.state==="idle"&&(Te.has(Se)?ue.push(Se):H.push(Se))}),p.forEach(de=>de(E,{deletedFetchers:ue,unstable_viewTransitionOpts:j})),h.v7_fetcherPersist&&(H.forEach(de=>E.fetchers.delete(de)),ue.forEach(de=>In(de)))}function Vt(F,j){var H,ue;let de=E.actionData!=null&&E.navigation.formMethod!=null&&Bi(E.navigation.formMethod)&&E.navigation.state==="loading"&&((H=F.state)==null?void 0:H._isRedirect)!==!0,Se;j.actionData?Object.keys(j.actionData).length>0?Se=j.actionData:Se=null:de?Se=E.actionData:Se=null;let Ue=j.loaderData?oA(E.loaderData,j.loaderData,j.matches||[],j.errors):E.loaderData,Pe=E.blockers;Pe.size>0&&(Pe=new Map(Pe),Pe.forEach((Lt,ot)=>Pe.set(ot,mh)));let Oe=O===!0||E.navigation.formMethod!=null&&Bi(E.navigation.formMethod)&&((ue=F.state)==null?void 0:ue._isRedirect)!==!0;l&&(o=l,l=void 0),ie||P===Rn.Pop||(P===Rn.Push?t.history.push(F,F.state):P===Rn.Replace&&t.history.replace(F,F.state));let It;if(P===Rn.Pop){let Lt=W.get(E.location.pathname);Lt&&Lt.has(F.pathname)?It={currentLocation:E.location,nextLocation:F}:W.has(F.pathname)&&(It={currentLocation:F,nextLocation:E.location})}else if(N){let Lt=W.get(E.location.pathname);Lt?Lt.add(F.pathname):(Lt=new Set([F.pathname]),W.set(E.location.pathname,Lt)),It={currentLocation:E.location,nextLocation:F}}Ge(yn({},j,{actionData:Se,loaderData:Ue,historyAction:P,location:F,initialized:!0,navigation:e0,revalidation:"idle",restoreScrollPosition:ye(F,j.matches||E.matches),preventScrollReset:Oe,blockers:Pe}),It),P=Rn.Pop,O=!1,N=!1,ie=!1,he=!1,ve=[],Fe=[]}async function ct(F,j){if(typeof F=="number"){t.history.go(F);return}let H=jw(E.location,E.matches,c,h.v7_prependBasename,F,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:ue,submission:de,error:Se}=eA(h.v7_normalizeFormMethod,!1,H,j),Ue=E.location,Pe=Pf(E.location,ue,j&&j.state);Pe=yn({},Pe,t.history.encodeLocation(Pe));let Oe=j&&j.replace!=null?j.replace:void 0,It=Rn.Push;Oe===!0?It=Rn.Replace:Oe===!1||de!=null&&Bi(de.formMethod)&&de.formAction===E.location.pathname+E.location.search&&(It=Rn.Replace);let Lt=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,ot=rt({currentLocation:Ue,nextLocation:Pe,historyAction:It});if(ot){Ce(ot,{state:"blocked",location:Pe,proceed(){Ce(ot,{state:"proceeding",proceed:void 0,reset:void 0,location:Pe}),ct(F,j)},reset(){let At=new Map(E.blockers);At.set(ot,mh),Ge({blockers:At})}});return}return await wt(It,Pe,{submission:de,pendingError:Se,preventScrollReset:Lt,replace:j&&j.replace,enableViewTransition:j&&j.unstable_viewTransition})}function xt(){if(Nn(),Ge({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){wt(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}wt(P||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation})}}async function wt(F,j,H){D&&D.abort(),D=null,P=F,ie=(H&&H.startUninterruptedRevalidation)===!0,_e(E.location,E.matches),O=(H&&H.preventScrollReset)===!0,N=(H&&H.enableViewTransition)===!0;let ue=l||o,de=H&&H.overrideNavigation,Se=Du(ue,j,c);if(!Se){let At=_i(404,{pathname:j.pathname}),{matches:sn,route:Ss}=aA(ue);U(),Vt(j,{matches:sn,loaderData:{},errors:{[Ss.id]:At}});return}if(E.initialized&&!he&&D7(E.location,j)&&!(H&&H.submission&&Bi(H.submission.formMethod))){Vt(j,{matches:Se});return}D=new AbortController;let Ue=yh(t.history,j,D.signal,H&&H.submission),Pe,Oe;if(H&&H.pendingError)Oe={[Jh(Se).route.id]:H.pendingError};else if(H&&H.submission&&Bi(H.submission.formMethod)){let At=await kt(Ue,j,H.submission,Se,{replace:H.replace});if(At.shortCircuited)return;Pe=At.pendingActionData,Oe=At.pendingActionError,de=t0(j,H.submission),Ue=new Request(Ue.url,{signal:Ue.signal})}let{shortCircuited:It,loaderData:Lt,errors:ot}=await Ze(Ue,j,Se,de,H&&H.submission,H&&H.fetcherSubmission,H&&H.replace,Pe,Oe);It||(D=null,Vt(j,yn({matches:Se},Pe?{actionData:Pe}:{},{loaderData:Lt,errors:ot})))}async function kt(F,j,H,ue,de){de===void 0&&(de={}),Nn();let Se=M7(j,H);Ge({navigation:Se});let Ue,Pe=Uw(ue,j);if(!Pe.route.action&&!Pe.route.lazy)Ue={type:bn.error,error:_i(405,{method:F.method,pathname:j.pathname,routeId:Pe.route.id})};else if(Ue=await gh("action",F,Pe,ue,s,i,c),F.signal.aborted)return{shortCircuited:!0};if(ju(Ue)){let Oe;return de&&de.replace!=null?Oe=de.replace:Oe=Ue.location===E.location.pathname+E.location.search,await Nt(E,Ue,{submission:H,replace:Oe}),{shortCircuited:!0}}if(Zh(Ue)){let Oe=Jh(ue,Pe.route.id);return(de&&de.replace)!==!0&&(P=Rn.Push),{pendingActionData:{},pendingActionError:{[Oe.route.id]:Ue.error}}}if(Za(Ue))throw _i(400,{type:"defer-action"});return{pendingActionData:{[Pe.route.id]:Ue.data}}}async function Ze(F,j,H,ue,de,Se,Ue,Pe,Oe){let It=ue||t0(j,de),Lt=de||Se||cA(It),ot=l||o,[At,sn]=tA(t.history,E,H,Lt,j,he,ve,Fe,ae,ce,ot,c,Pe,Oe);if(U(Rt=>!(H&&H.some(Gr=>Gr.route.id===Rt))||At&&At.some(Gr=>Gr.route.id===Rt)),Me=++Ve,At.length===0&&sn.length===0){let Rt=L();return Vt(j,yn({matches:H,loaderData:{},errors:Oe||null},Pe?{actionData:Pe}:{},Rt?{fetchers:new Map(E.fetchers)}:{})),{shortCircuited:!0}}if(!ie){sn.forEach(Gr=>{let Zi=E.fetchers.get(Gr.key),on=vh(void 0,Zi?Zi.data:void 0);E.fetchers.set(Gr.key,on)});let Rt=Pe||E.actionData;Ge(yn({navigation:It},Rt?Object.keys(Rt).length===0?{actionData:null}:{actionData:Rt}:{},sn.length>0?{fetchers:new Map(E.fetchers)}:{}))}sn.forEach(Rt=>{Ie.has(Rt.key)&&Zt(Rt.key),Rt.controller&&Ie.set(Rt.key,Rt.controller)});let Ss=()=>sn.forEach(Rt=>Zt(Rt.key));D&&D.signal.addEventListener("abort",Ss);let{results:xs,loaderResults:ba,fetcherResults:Uc}=await qt(E.matches,H,At,sn,F);if(F.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Ss),sn.forEach(Rt=>Ie.delete(Rt.key));let ki=lA(xs);if(ki){if(ki.idx>=At.length){let Rt=sn[ki.idx-At.length].key;ce.add(Rt)}return await Nt(E,ki.result,{replace:Ue}),{shortCircuited:!0}}let{loaderData:Ji,errors:Ul}=sA(E,H,At,ba,Oe,sn,Uc,$e);$e.forEach((Rt,Gr)=>{Rt.subscribe(Zi=>{(Zi||Rt.done)&&$e.delete(Gr)})});let zc=L(),zl=K(Me),qc=zc||zl||sn.length>0;return yn({loaderData:Ji,errors:Ul},qc?{fetchers:new Map(E.fetchers)}:{})}function sr(F){return h.v7_fetcherPersist&&(we.set(F,(we.get(F)||0)+1),Te.has(F)&&Te.delete(F)),E.fetchers.get(F)||x7}function zt(F,j,H,ue){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ie.has(F)&&Zt(F);let de=l||o,Se=jw(E.location,E.matches,c,h.v7_prependBasename,H,j,ue==null?void 0:ue.relative),Ue=Du(de,Se,c);if(!Ue){pn(F,j,_i(404,{pathname:Se}));return}let{path:Pe,submission:Oe,error:It}=eA(h.v7_normalizeFormMethod,!0,Se,ue);if(It){pn(F,j,It);return}let Lt=Uw(Ue,Pe);if(O=(ue&&ue.preventScrollReset)===!0,Oe&&Bi(Oe.formMethod)){Hr(F,j,Pe,Lt,Ue,Oe);return}ae.set(F,{routeId:j,path:Pe}),Di(F,j,Pe,Lt,Ue,Oe)}async function Hr(F,j,H,ue,de,Se){if(Nn(),ae.delete(F),!ue.route.action&&!ue.route.lazy){let on=_i(405,{method:Se.formMethod,pathname:H,routeId:j});pn(F,j,on);return}let Ue=E.fetchers.get(F),Pe=F7(Se,Ue);E.fetchers.set(F,Pe),Ge({fetchers:new Map(E.fetchers)});let Oe=new AbortController,It=yh(t.history,H,Oe.signal,Se);Ie.set(F,Oe);let Lt=Ve,ot=await gh("action",It,ue,de,s,i,c);if(It.signal.aborted){Ie.get(F)===Oe&&Ie.delete(F);return}if(Te.has(F)){E.fetchers.set(F,Po(void 0)),Ge({fetchers:new Map(E.fetchers)});return}if(ju(ot))if(Ie.delete(F),Me>Lt){let on=Po(void 0);E.fetchers.set(F,on),Ge({fetchers:new Map(E.fetchers)});return}else{ce.add(F);let on=vh(Se);return E.fetchers.set(F,on),Ge({fetchers:new Map(E.fetchers)}),Nt(E,ot,{fetcherSubmission:Se})}if(Zh(ot)){pn(F,j,ot.error);return}if(Za(ot))throw _i(400,{type:"defer-action"});let At=E.navigation.location||E.location,sn=yh(t.history,At,Oe.signal),Ss=l||o,xs=E.navigation.state!=="idle"?Du(Ss,E.navigation.location,c):E.matches;ut(xs,"Didn't find any matches after fetcher action");let ba=++Ve;G.set(F,ba);let Uc=vh(Se,ot.data);E.fetchers.set(F,Uc);let[ki,Ji]=tA(t.history,E,xs,Se,At,he,ve,Fe,ae,ce,Ss,c,{[ue.route.id]:ot.data},void 0);Ji.filter(on=>on.key!==F).forEach(on=>{let Aa=on.key,Ca=E.fetchers.get(Aa),mv=vh(void 0,Ca?Ca.data:void 0);E.fetchers.set(Aa,mv),Ie.has(Aa)&&Zt(Aa),on.controller&&Ie.set(Aa,on.controller)}),Ge({fetchers:new Map(E.fetchers)});let Ul=()=>Ji.forEach(on=>Zt(on.key));Oe.signal.addEventListener("abort",Ul);let{results:zc,loaderResults:zl,fetcherResults:qc}=await qt(E.matches,xs,ki,Ji,sn);if(Oe.signal.aborted)return;Oe.signal.removeEventListener("abort",Ul),G.delete(F),Ie.delete(F),Ji.forEach(on=>Ie.delete(on.key));let Rt=lA(zc);if(Rt){if(Rt.idx>=ki.length){let on=Ji[Rt.idx-ki.length].key;ce.add(on)}return Nt(E,Rt.result)}let{loaderData:Gr,errors:Zi}=sA(E,E.matches,ki,zl,void 0,Ji,qc,$e);if(E.fetchers.has(F)){let on=Po(ot.data);E.fetchers.set(F,on)}K(ba),E.navigation.state==="loading"&&ba>Me?(ut(P,"Expected pending action"),D&&D.abort(),Vt(E.navigation.location,{matches:xs,loaderData:Gr,errors:Zi,fetchers:new Map(E.fetchers)})):(Ge({errors:Zi,loaderData:oA(E.loaderData,Gr,xs,Zi),fetchers:new Map(E.fetchers)}),he=!1)}async function Di(F,j,H,ue,de,Se){let Ue=E.fetchers.get(F),Pe=vh(Se,Ue?Ue.data:void 0);E.fetchers.set(F,Pe),Ge({fetchers:new Map(E.fetchers)});let Oe=new AbortController,It=yh(t.history,H,Oe.signal);Ie.set(F,Oe);let Lt=Ve,ot=await gh("loader",It,ue,de,s,i,c);if(Za(ot)&&(ot=await Bk(ot,It.signal,!0)||ot),Ie.get(F)===Oe&&Ie.delete(F),It.signal.aborted)return;if(Te.has(F)){E.fetchers.set(F,Po(void 0)),Ge({fetchers:new Map(E.fetchers)});return}if(ju(ot))if(Me>Lt){let sn=Po(void 0);E.fetchers.set(F,sn),Ge({fetchers:new Map(E.fetchers)});return}else{ce.add(F),await Nt(E,ot);return}if(Zh(ot)){pn(F,j,ot.error);return}ut(!Za(ot),"Unhandled fetcher deferred data");let At=Po(ot.data);E.fetchers.set(F,At),Ge({fetchers:new Map(E.fetchers)})}async function Nt(F,j,H){let{submission:ue,fetcherSubmission:de,replace:Se}=H===void 0?{}:H;j.revalidate&&(he=!0);let Ue=Pf(F.location,j.location,{_isRedirect:!0});if(ut(Ue,"Expected a location on the redirect navigation"),n){let At=!1;if(j.reloadDocument)At=!0;else if(Fk.test(j.location)){const sn=t.history.createURL(j.location);At=sn.origin!==e.location.origin||Sc(sn.pathname,c)==null}if(At){Se?e.location.replace(j.location):e.location.assign(j.location);return}}D=null;let Pe=Se===!0?Rn.Replace:Rn.Push,{formMethod:Oe,formAction:It,formEncType:Lt}=F.navigation;!ue&&!de&&Oe&&It&&Lt&&(ue=cA(F.navigation));let ot=ue||de;if(S7.has(j.status)&&ot&&Bi(ot.formMethod))await wt(Pe,Ue,{submission:yn({},ot,{formAction:j.location}),preventScrollReset:O});else{let At=t0(Ue,ue);await wt(Pe,Ue,{overrideNavigation:At,fetcherSubmission:de,preventScrollReset:O})}}async function qt(F,j,H,ue,de){let Se=await Promise.all([...H.map(Oe=>gh("loader",de,Oe,j,s,i,c)),...ue.map(Oe=>Oe.matches&&Oe.match&&Oe.controller?gh("loader",yh(t.history,Oe.path,Oe.controller.signal),Oe.match,Oe.matches,s,i,c):{type:bn.error,error:_i(404,{pathname:Oe.path})})]),Ue=Se.slice(0,H.length),Pe=Se.slice(H.length);return await Promise.all([uA(F,H,Ue,Ue.map(()=>de.signal),!1,E.loaderData),uA(F,ue.map(Oe=>Oe.match),Pe,ue.map(Oe=>Oe.controller?Oe.controller.signal:null),!0)]),{results:Se,loaderResults:Ue,fetcherResults:Pe}}function Nn(){he=!0,ve.push(...U()),ae.forEach((F,j)=>{Ie.has(j)&&(Fe.push(j),Zt(j))})}function pn(F,j,H){let ue=Jh(E.matches,j);In(F),Ge({errors:{[ue.route.id]:H},fetchers:new Map(E.fetchers)})}function In(F){let j=E.fetchers.get(F);Ie.has(F)&&!(j&&j.state==="loading"&&G.has(F))&&Zt(F),ae.delete(F),G.delete(F),ce.delete(F),Te.delete(F),E.fetchers.delete(F)}function Ke(F){if(h.v7_fetcherPersist){let j=(we.get(F)||0)-1;j<=0?(we.delete(F),Te.add(F)):we.set(F,j)}else In(F);Ge({fetchers:new Map(E.fetchers)})}function Zt(F){let j=Ie.get(F);ut(j,"Expected fetch controller: "+F),j.abort(),Ie.delete(F)}function ee(F){for(let j of F){let H=sr(j),ue=Po(H.data);E.fetchers.set(j,ue)}}function L(){let F=[],j=!1;for(let H of ce){let ue=E.fetchers.get(H);ut(ue,"Expected fetcher: "+H),ue.state==="loading"&&(ce.delete(H),F.push(H),j=!0)}return ee(F),j}function K(F){let j=[];for(let[H,ue]of G)if(ue<F){let de=E.fetchers.get(H);ut(de,"Expected fetcher: "+H),de.state==="loading"&&(Zt(H),G.delete(H),j.push(H))}return ee(j),j.length>0}function X(F,j){let H=E.blockers.get(F)||mh;return je.get(F)!==j&&je.set(F,j),H}function Ae(F){E.blockers.delete(F),je.delete(F)}function Ce(F,j){let H=E.blockers.get(F)||mh;ut(H.state==="unblocked"&&j.state==="blocked"||H.state==="blocked"&&j.state==="blocked"||H.state==="blocked"&&j.state==="proceeding"||H.state==="blocked"&&j.state==="unblocked"||H.state==="proceeding"&&j.state==="unblocked","Invalid blocker state transition: "+H.state+" -> "+j.state);let ue=new Map(E.blockers);ue.set(F,j),Ge({blockers:ue})}function rt(F){let{currentLocation:j,nextLocation:H,historyAction:ue}=F;if(je.size===0)return;je.size>1&&ml(!1,"A router only supports one blocker at a time");let de=Array.from(je.entries()),[Se,Ue]=de[de.length-1],Pe=E.blockers.get(Se);if(!(Pe&&Pe.state==="proceeding")&&Ue({currentLocation:j,nextLocation:H,historyAction:ue}))return Se}function U(F){let j=[];return $e.forEach((H,ue)=>{(!F||F(ue))&&(H.cancel(),j.push(ue),$e.delete(ue))}),j}function J(F,j,H){if(m=F,v=j,y=H||null,!w&&E.navigation===e0){w=!0;let ue=ye(E.location,E.matches);ue!=null&&Ge({restoreScrollPosition:ue})}return()=>{m=null,v=null,y=null}}function Ee(F,j){return y&&y(F,j.map(ue=>e7(ue,E.loaderData)))||F.key}function _e(F,j){if(m&&v){let H=Ee(F,j);m[H]=v()}}function ye(F,j){if(m){let H=Ee(F,j),ue=m[H];if(typeof ue=="number")return ue}return null}function tt(F){s={},l=$w(F,i,void 0,s)}return I={get basename(){return c},get state(){return E},get routes(){return o},get window(){return e},initialize:at,subscribe:_t,enableScrollRestoration:J,navigate:ct,fetch:zt,revalidate:xt,createHref:F=>t.history.createHref(F),encodeLocation:F=>t.history.encodeLocation(F),getFetcher:sr,deleteFetcher:Ke,dispose:Jt,getBlocker:X,deleteBlocker:Ae,_internalFetchControllers:Ie,_internalActiveDeferreds:$e,_internalSetRoutes:tt},I}function A7(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function jw(t,e,n,r,i,s,o){let l,c;if(s!=null&&o!=="path"){l=[];for(let f of e)if(l.push(f),f.route.id===s){c=f;break}}else l=e,c=e[e.length-1];let h=W1(i||".",cy(l).map(f=>f.pathnameBase),Sc(t.pathname,n)||t.pathname,o==="path");return i==null&&(h.search=t.search,h.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!H1(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(h.pathname=h.pathname==="/"?n:Ks([n,h.pathname])),gl(h)}function eA(t,e,n,r){if(!r||!A7(r))return{path:n};if(r.formMethod&&!L7(r.formMethod))return{path:n,error:_i(405,{method:r.formMethod})};let i=()=>({path:n,error:_i(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=jk(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Bi(o))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,v)=>{let[w,R]=v;return""+y+w+"="+R+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!Bi(o))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}ut(typeof FormData=="function","FormData is not available in this environment");let c,h;if(r.formData)c=Bw(r.formData),h=r.formData;else if(r.body instanceof FormData)c=Bw(r.body),h=r.body;else if(r.body instanceof URLSearchParams)c=r.body,h=iA(c);else if(r.body==null)c=new URLSearchParams,h=new FormData;else try{c=new URLSearchParams(r.body),h=iA(c)}catch{return i()}let f={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Bi(f.formMethod))return{path:n,submission:f};let p=lo(n);return e&&p.search&&H1(p.search)&&c.append("index",""),p.search="?"+c,{path:gl(p),submission:f}}function C7(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function tA(t,e,n,r,i,s,o,l,c,h,f,p,m,y){let v=y?Object.values(y)[0]:m?Object.values(m)[0]:void 0,w=t.createURL(e.location),R=t.createURL(i),T=y?Object.keys(y)[0]:void 0,I=C7(n,T).filter((P,O)=>{if(P.route.lazy)return!0;if(P.route.loader==null)return!1;if(P7(e.loaderData,e.matches[O],P)||o.some(W=>W===P.route.id))return!0;let D=e.matches[O],N=P;return nA(P,yn({currentUrl:w,currentParams:D.params,nextUrl:R,nextParams:N.params},r,{actionResult:v,defaultShouldRevalidate:s||w.pathname+w.search===R.pathname+R.search||w.search!==R.search||$k(D,N)}))}),E=[];return c.forEach((P,O)=>{if(!n.some(ie=>ie.route.id===P.routeId))return;let D=Du(f,P.path,p);if(!D){E.push({key:O,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(O),W=Uw(D,P.path),Y=!1;h.has(O)?Y=!1:l.includes(O)?Y=!0:N&&N.state!=="idle"&&N.data===void 0?Y=s:Y=nA(W,yn({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:R,nextParams:n[n.length-1].params},r,{actionResult:v,defaultShouldRevalidate:s})),Y&&E.push({key:O,routeId:P.routeId,path:P.path,matches:D,match:W,controller:new AbortController})}),[I,E]}function P7(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function $k(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function nA(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function rA(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ut(i,"No route found in manifest");let s={};for(let o in r){let c=i[o]!==void 0&&o!=="hasErrorBoundary";ml(!c,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!Jq.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,yn({},e(i),{lazy:void 0}))}async function gh(t,e,n,r,i,s,o,l){l===void 0&&(l={});let c,h,f,p=v=>{let w,R=new Promise((T,S)=>w=S);return f=()=>w(),e.signal.addEventListener("abort",f),Promise.race([v({request:e,params:n.params,context:l.requestContext}),R])};try{let v=n.route[t];if(n.route.lazy)if(v){let w,R=await Promise.all([p(v).catch(T=>{w=T}),rA(n.route,s,i)]);if(w)throw w;h=R[0]}else if(await rA(n.route,s,i),v=n.route[t],v)h=await p(v);else if(t==="action"){let w=new URL(e.url),R=w.pathname+w.search;throw _i(405,{method:e.method,pathname:R,routeId:n.route.id})}else return{type:bn.data,data:void 0};else if(v)h=await p(v);else{let w=new URL(e.url),R=w.pathname+w.search;throw _i(404,{pathname:R})}ut(h!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(v){c=bn.error,h=v}finally{f&&e.signal.removeEventListener("abort",f)}if(N7(h)){let v=h.status;if(I7.has(v)){let T=h.headers.get("Location");if(ut(T,"Redirects returned/thrown from loaders/actions must have a Location header"),!Fk.test(T))T=jw(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,T);else if(!l.isStaticRequest){let S=new URL(e.url),I=T.startsWith("//")?new URL(S.protocol+T):new URL(T),E=Sc(I.pathname,o)!=null;I.origin===S.origin&&E&&(T=I.pathname+I.search+I.hash)}if(l.isStaticRequest)throw h.headers.set("Location",T),h;return{type:bn.redirect,status:v,location:T,revalidate:h.headers.get("X-Remix-Revalidate")!==null,reloadDocument:h.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:c===bn.error?bn.error:bn.data,response:h};let w,R=h.headers.get("Content-Type");return R&&/\bapplication\/json\b/.test(R)?w=await h.json():w=await h.text(),c===bn.error?{type:c,error:new K1(v,h.statusText,w),headers:h.headers}:{type:bn.data,data:w,statusCode:h.status,headers:h.headers}}if(c===bn.error)return{type:c,error:h};if(k7(h)){var m,y;return{type:bn.deferred,deferredData:h,statusCode:(m=h.init)==null?void 0:m.status,headers:((y=h.init)==null?void 0:y.headers)&&new Headers(h.init.headers)}}return{type:bn.data,data:h}}function yh(t,e,n,r){let i=t.createURL(jk(e)).toString(),s={signal:n};if(r&&Bi(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=Bw(r.formData):s.body=r.formData}return new Request(i,s)}function Bw(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function iA(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function O7(t,e,n,r,i){let s={},o=null,l,c=!1,h={};return n.forEach((f,p)=>{let m=e[p].route.id;if(ut(!ju(f),"Cannot handle redirect results in processLoaderData"),Zh(f)){let y=Jh(t,m),v=f.error;r&&(v=Object.values(r)[0],r=void 0),o=o||{},o[y.route.id]==null&&(o[y.route.id]=v),s[m]=void 0,c||(c=!0,l=Lk(f.error)?f.error.status:500),f.headers&&(h[m]=f.headers)}else Za(f)?(i.set(m,f.deferredData),s[m]=f.deferredData.data):s[m]=f.data,f.statusCode!=null&&f.statusCode!==200&&!c&&(l=f.statusCode),f.headers&&(h[m]=f.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:h}}function sA(t,e,n,r,i,s,o,l){let{loaderData:c,errors:h}=O7(e,n,r,i,l);for(let f=0;f<s.length;f++){let{key:p,match:m,controller:y}=s[f];ut(o!==void 0&&o[f]!==void 0,"Did not find corresponding fetcher result");let v=o[f];if(!(y&&y.signal.aborted))if(Zh(v)){let w=Jh(t.matches,m==null?void 0:m.route.id);h&&h[w.route.id]||(h=yn({},h,{[w.route.id]:v.error})),t.fetchers.delete(p)}else if(ju(v))ut(!1,"Unhandled fetcher revalidation redirect");else if(Za(v))ut(!1,"Unhandled fetcher deferred data");else{let w=Po(v.data);t.fetchers.set(p,w)}}return{loaderData:c,errors:h}}function oA(t,e,n,r){let i=yn({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Jh(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function aA(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function _i(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",l='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new K1(t||500,o,new Error(l),!0)}function lA(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(ju(n))return{result:n,idx:e}}}function jk(t){let e=typeof t=="string"?lo(t):t;return gl(yn({},e,{hash:""}))}function D7(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Za(t){return t.type===bn.deferred}function Zh(t){return t.type===bn.error}function ju(t){return(t&&t.type)===bn.redirect}function k7(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function N7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function L7(t){return T7.has(t.toLowerCase())}function Bi(t){return w7.has(t.toLowerCase())}async function uA(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],c=e[o];if(!c)continue;let h=t.find(p=>p.route.id===c.route.id),f=h!=null&&!$k(h,c)&&(s&&s[c.route.id])!==void 0;if(Za(l)&&(i||f)){let p=r[o];ut(p,"Expected an AbortSignal for revalidating fetcher deferred result"),await Bk(l,p,i).then(m=>{m&&(n[o]=m||n[o])})}}}async function Bk(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:bn.data,data:t.deferredData.unwrappedData}}catch(i){return{type:bn.error,error:i}}return{type:bn.data,data:t.deferredData.data}}}function H1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Uw(t,e){let n=typeof e=="string"?lo(e).search:e.search;if(t[t.length-1].route.index&&H1(n||""))return t[t.length-1];let r=cy(t);return r[r.length-1]}function cA(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function t0(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function M7(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function vh(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function F7(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Po(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function V7(t,e){try{let n=t.sessionStorage.getItem(Vk);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function $7(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Vk,JSON.stringify(n))}catch(r){ml(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ug(){return ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ug.apply(this,arguments)}const hy=x.createContext(null),Uk=x.createContext(null),xc=x.createContext(null),fy=x.createContext(null),uo=x.createContext({outlet:null,matches:[],isDataRoute:!1}),zk=x.createContext(null);function j7(t,e){let{relative:n}=e===void 0?{}:e;fd()||ut(!1);let{basename:r,navigator:i}=x.useContext(xc),{hash:s,pathname:o,search:l}=Kk(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ks([r,o])),i.createHref({pathname:c,search:l,hash:s})}function fd(){return x.useContext(fy)!=null}function dy(){return fd()||ut(!1),x.useContext(fy).location}function qk(t){x.useContext(xc).static||x.useLayoutEffect(t)}function Wk(){let{isDataRoute:t}=x.useContext(uo);return t?t8():B7()}function B7(){fd()||ut(!1);let t=x.useContext(hy),{basename:e,navigator:n}=x.useContext(xc),{matches:r}=x.useContext(uo),{pathname:i}=dy(),s=JSON.stringify(cy(r).map(c=>c.pathnameBase)),o=x.useRef(!1);return qk(()=>{o.current=!0}),x.useCallback(function(c,h){if(h===void 0&&(h={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=W1(c,JSON.parse(s),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ks([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,s,i,t])}const U7=x.createContext(null);function z7(t){let e=x.useContext(uo).outlet;return e&&x.createElement(U7.Provider,{value:t},e)}function q7(){let{matches:t}=x.useContext(uo),e=t[t.length-1];return e?e.params:{}}function Kk(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=x.useContext(uo),{pathname:i}=dy(),s=JSON.stringify(cy(r).map(o=>o.pathnameBase));return x.useMemo(()=>W1(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function W7(t,e,n){fd()||ut(!1);let{navigator:r}=x.useContext(xc),{matches:i}=x.useContext(uo),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=dy(),h;if(e){var f;let w=typeof e=="string"?lo(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||ut(!1),h=w}else h=c;let p=h.pathname||"/",m=l==="/"?p:p.slice(l.length)||"/",y=Du(t,{pathname:m}),v=Y7(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Ks([l,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Ks([l,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n);return e&&v?x.createElement(fy.Provider,{value:{location:ug({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Rn.Pop}},v):v}function K7(){let t=e8(),e=Lk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,s)}const H7=x.createElement(K7,null);class G7 extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?x.createElement(uo.Provider,{value:this.props.routeContext},x.createElement(zk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Q7(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(hy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(uo.Provider,{value:e},r)}function Y7(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let l=s.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id]));l>=0||ut(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,c,h)=>{let f=c.route.id?o==null?void 0:o[c.route.id]:null,p=null;n&&(p=c.route.errorElement||H7);let m=e.concat(s.slice(0,h+1)),y=()=>{let v;return f?v=p:c.route.Component?v=x.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=l,x.createElement(Q7,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:n!=null},children:v})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?x.createElement(G7,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var Hk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Hk||{}),cg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(cg||{});function X7(t){let e=x.useContext(hy);return e||ut(!1),e}function J7(t){let e=x.useContext(Uk);return e||ut(!1),e}function Z7(t){let e=x.useContext(uo);return e||ut(!1),e}function Gk(t){let e=Z7(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function e8(){var t;let e=x.useContext(zk),n=J7(cg.UseRouteError),r=Gk(cg.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function t8(){let{router:t}=X7(Hk.UseNavigateStable),e=Gk(cg.UseNavigateStable),n=x.useRef(!1);return qk(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ug({fromRouteId:e},s)))},[t,e])}function Qk(t){return z7(t.context)}function n8(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Rn.Pop,navigator:s,static:o=!1}=t;fd()&&ut(!1);let l=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof r=="string"&&(r=lo(r));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:y="default"}=r,v=x.useMemo(()=>{let w=Sc(h,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:m,key:y},navigationType:i}},[l,h,f,p,m,y,i]);return v==null?null:x.createElement(xc.Provider,{value:c},x.createElement(fy.Provider,{children:n,value:v}))}new Promise(()=>{});function r8(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:x.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:x.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Of(){return Of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Of.apply(this,arguments)}function i8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function s8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function o8(t,e){return t.button===0&&(!e||e==="_self")&&!s8(t)}const a8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function l8(t,e){return b7({basename:e==null?void 0:e.basename,future:Of({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Qq({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||u8(),routes:t,mapRouteProperties:r8,window:e==null?void 0:e.window}).initialize()}function u8(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Of({},e,{errors:c8(e.errors)})),e}function c8(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new K1(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const h8=x.createContext({isTransitioning:!1}),f8=x.createContext(new Map),d8="startTransition",hA=r9[d8];function p8(t){hA?hA(t):t()}let m8=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function g8(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=x.useState(n.state),[o,l]=x.useState(),[c,h]=x.useState({isTransitioning:!1}),[f,p]=x.useState(),[m,y]=x.useState(),[v,w]=x.useState(),R=x.useRef(new Map),{v7_startTransition:T}=r||{},S=x.useCallback(D=>{T?p8(D):D()},[T]),I=x.useCallback((D,N)=>{let{deletedFetchers:W,unstable_viewTransitionOpts:Y}=N;W.forEach(ie=>R.current.delete(ie)),D.fetchers.forEach((ie,he)=>{ie.data!==void 0&&R.current.set(he,ie.data)}),!Y||n.window==null||typeof n.window.document.startViewTransition!="function"?S(()=>s(D)):m&&f?(f.resolve(),m.skipTransition(),w({state:D,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})):(l(D),h({isTransitioning:!0,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation}))},[n.window,m,f,R,S]);x.useLayoutEffect(()=>n.subscribe(I),[n,I]),x.useEffect(()=>{c.isTransitioning&&p(new m8)},[c.isTransitioning]),x.useEffect(()=>{if(f&&o&&n.window){let D=o,N=f.promise,W=n.window.document.startViewTransition(async()=>{S(()=>s(D)),await N});W.finished.finally(()=>{p(void 0),y(void 0),l(void 0),h({isTransitioning:!1})}),y(W)}},[S,o,f,n.window]),x.useEffect(()=>{f&&o&&i.location.key===o.location.key&&f.resolve()},[f,m,i.location,o]),x.useEffect(()=>{!c.isTransitioning&&v&&(l(v.state),h({isTransitioning:!0,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),w(void 0))},[c.isTransitioning,v]);let E=x.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:D=>n.navigate(D),push:(D,N,W)=>n.navigate(D,{state:N,preventScrollReset:W==null?void 0:W.preventScrollReset}),replace:(D,N,W)=>n.navigate(D,{replace:!0,state:N,preventScrollReset:W==null?void 0:W.preventScrollReset})}),[n]),P=n.basename||"/",O=x.useMemo(()=>({router:n,navigator:E,static:!1,basename:P}),[n,E,P]);return x.createElement(x.Fragment,null,x.createElement(hy.Provider,{value:O},x.createElement(Uk.Provider,{value:i},x.createElement(f8.Provider,{value:R.current},x.createElement(h8.Provider,{value:c},x.createElement(n8,{basename:P,location:i.location,navigationType:i.historyAction,navigator:E},i.initialized?x.createElement(y8,{routes:n.routes,state:i}):e))))),null)}function y8(t){let{routes:e,state:n}=t;return W7(e,void 0,n)}const v8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fo=x.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:h,preventScrollReset:f,unstable_viewTransition:p}=e,m=i8(e,a8),{basename:y}=x.useContext(xc),v,w=!1;if(typeof h=="string"&&_8.test(h)&&(v=h,v8))try{let I=new URL(window.location.href),E=h.startsWith("//")?new URL(I.protocol+h):new URL(h),P=Sc(E.pathname,y);E.origin===I.origin&&P!=null?h=P+E.search+E.hash:w=!0}catch{}let R=j7(h,{relative:i}),T=w8(h,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,unstable_viewTransition:p});function S(I){r&&r(I),I.defaultPrevented||T(I)}return x.createElement("a",Of({},m,{href:v||R,onClick:w||s?r:S,ref:n,target:c}))});var fA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fA||(fA={}));var dA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dA||(dA={}));function w8(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=Wk(),h=dy(),f=Kk(t,{relative:o});return x.useCallback(p=>{if(o8(p,n)){p.preventDefault();let m=r!==void 0?r:gl(h)===gl(f);c(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[h,c,f,r,i,n,t,s,o,l])}const E8="modulepreload",T8=function(t){return"/pokemon-Gym/"+t},pA={},I8=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=T8(s),s in pA)return;pA[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let f=i.length-1;f>=0;f--){const p=i[f];if(p.href===s&&(!o||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const h=document.createElement("link");if(h.rel=o?"stylesheet":E8,o||(h.as="script",h.crossOrigin=""),h.href=s,document.head.appendChild(h),o)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Yk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mA=Qt.createContext&&Qt.createContext(Yk),Jo=globalThis&&globalThis.__assign||function(){return Jo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Jo.apply(this,arguments)},S8=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Xk(t){return t&&t.map(function(e,n){return Qt.createElement(e.tag,Jo({key:n},e.attr),Xk(e.child))})}function dd(t){return function(e){return Qt.createElement(x8,Jo({attr:Jo({},t.attr)},e),Xk(t.child))}}function x8(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=S8(t,["attr","size","title"]),l=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Qt.createElement("svg",Jo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:Jo(Jo({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Qt.createElement("title",null,s),t.children)};return mA!==void 0?Qt.createElement(mA.Consumer,null,function(n){return e(n)}):e(Yk)}function R8(t){return dd({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 7h-9"}},{tag:"path",attr:{d:"M14 17H5"}},{tag:"circle",attr:{cx:"17",cy:"17",r:"3"}},{tag:"circle",attr:{cx:"7",cy:"7",r:"3"}}]})(t)}let Hi=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const hg="onlyImage",kl="onlyText",G1="imageText",Q1="colorText",Y1="onlyColor",Jk="defaultNothing",b8="選擇",Gi="SelectGroup",A8="你選擇的",X1="BeenSelectGroup",C8="推薦有傷害的",pd="DamageGroup",n0=[{id:1,title:b8},{id:2,title:A8},{id:3,title:C8}],P8=[{id:1,default:!0,type:hg,title:"只顯示圖片"},{id:2,default:!1,type:kl,title:"只顯示文字"},{id:3,default:!1,type:G1,title:"顯示圖片和文字"}],O8=[{id:3,default:!0,type:Q1,title:"預設顯示顏色和文字"},{id:1,default:!1,type:Y1,title:"只顯示顏色"},{id:2,default:!1,type:kl,title:"只顯示文字"},{id:4,default:!1,type:Jk,title:"都不顯示"}],fg={enName:"all",zhName:"全部",bgColor:"#17CCF0"},md=[{enName:"normal",zhName:"一般",bgColor:"#a8a8a8"},{enName:"fighting",zhName:"格鬥",bgColor:"#c03028"},{enName:"flying",zhName:"飛行",bgColor:"#9096f0"},{enName:"poison",zhName:"毒",bgColor:"#a040a0"},{enName:"ground",zhName:"地面",bgColor:"#e0b668"},{enName:"rock",zhName:"岩石",bgColor:"#b8a038"},{enName:"bug",zhName:"蟲",bgColor:"#9cb820"},{enName:"ghost",zhName:"幽靈",bgColor:"#705898"},{enName:"steel",zhName:"鋼",bgColor:"#6d8f9c"},{enName:"fire",zhName:"火",bgColor:"#f08030"},{enName:"water",zhName:"水",bgColor:"#6890f0"},{enName:"grass",zhName:"草",bgColor:"#22c02a"},{enName:"electric",zhName:"電",bgColor:"#f8d030"},{enName:"psychic",zhName:"超能力",bgColor:"#f85888"},{enName:"ice",zhName:"冰",bgColor:"#98d8d8"},{enName:"dragon",zhName:"龍",bgColor:"#7038f8"},{enName:"dark",zhName:"惡",bgColor:"#504843"},{enName:"fairy",zhName:"妖精",bgColor:"#f09ad9"}],Zk=[{enName:"S_Tier",zhName:"S級",bgColor:"#1b1b1d"},{enName:"A_plus_Tier",zhName:"A+級",bgColor:"#1b1b1d"},{enName:"A_Tier",zhName:"A級",bgColor:"#1b1b1d"},{enName:"B_plus_Tier",zhName:"B+級",bgColor:"#1b1b1d"},{enName:"B_Tier",zhName:"B級",bgColor:"#1b1b1d"},{enName:"C_Tier",zhName:"C級",bgColor:"#1b1b1d"}],D8="/pokemon-Gym/assets/25-759ceafd.png",eN=x.createContext(),k8=({children:t})=>{const[e,n]=x.useState({}),r=L=>{n(()=>L)},[i,s]=x.useState(""),o=L=>{s(()=>L)},[l,c]=x.useState([]),h=L=>{c(()=>L)},[f,p]=x.useState(!1),[m,y]=x.useState(100),[v,w]=x.useState(!1),R=L=>{p(()=>L)},T=L=>{y(K=>L===void 0?K+100:L)},S=()=>{w(L=>!L)},[I,E]=x.useState(new Map),P=L=>{const{zhName:K}=L;E(X=>{let Ae=new Map(X),Ce=1;return Ae.has(K)&&(Ce=Ae.get(K).amount+1),Ae.set(K,{amount:Ce,...L}),console.log(Ae),Ae})},[O,D]=x.useState([]),N=L=>{D(K=>{const X=[...K];return X.some(Ce=>Ce.enName===L.enName)?X.filter(Ce=>Ce.enName!==L.enName):(P(L),[...X,L])})},W=L=>{D(K=>K.filter(X=>X.enName!==L.enName))},Y=x.useMemo(()=>{const L=ie(O,!0),K=ie(O,!1),X=new Set(L);return K.forEach(Ae=>{X.has(Ae)&&X.delete(Ae)}),md.filter(Ae=>{if(X.has(Ae.enName))return Ae})},[O]);function ie(L,K){if(L.length===0)return[];const X=L.map(Ce=>{const rt=Ce==null?void 0:Ce.Types.map(U=>{var Ee,_e;return(K?((Ee=U==null?void 0:U.damage_relations)==null?void 0:Ee.double_damage_from)??[]:((_e=U==null?void 0:U.damage_relations)==null?void 0:_e.half_damage_from)??[]).map(ye=>ye==null?void 0:ye.name)});return[].concat(...rt)}),Ae=new Set(X[0]);return X.forEach(Ce=>{const rt=new Set(Ce);Ae.forEach(U=>{rt.has(U)||Ae.delete(U)})}),Array.from(Ae)}const[he,ve]=x.useState([]),Fe=L=>{ve(()=>L.map(K=>K.data))},Ie=P8.filter(L=>L.default===!0)[0],[Ve,Me]=x.useState({type:Ie.type,title:Ie.title}),[G,ce]=x.useState({type:Ie.type,title:Ie.title}),[ae,we]=x.useState({type:Ie.type,title:Ie.title}),Te=O8.filter(L=>L.default===!0)[0],[$e,je]=x.useState({type:Te.type,title:Te.title}),[ke,at]=x.useState({type:Te.type,title:Te.title}),[Jt,_t]=x.useState({type:Te.type,title:Te.title}),Ge=(L,K)=>{Me({type:L,title:K})},Vt=(L,K)=>{ce({type:L,title:K})},ct=(L,K)=>{we({type:L,title:K})},xt=(L,K)=>{je({type:L,title:K})},wt=(L,K)=>{at({type:L,title:K})},kt=(L,K)=>{_t({type:L,title:K})},[Ze,sr]=x.useState(fg),zt=({enName:L,zhName:K,bgColor:X})=>{sr(()=>({enName:L,zhName:K,bgColor:X}))},[Hr,Di]=x.useState(!1),Nt=()=>{Di(L=>!L)},[qt,Nn]=x.useState(fg),pn=({enName:L,zhName:K,bgColor:X})=>{Nn(()=>({enName:L,zhName:K,bgColor:X}))},[In,Ke]=x.useState([]),Zt=L=>{Ke(()=>L)},ee=x.useMemo(()=>(l.filter(K=>{if(K!==void 0)return In.some(X=>K.enName===X.enName)})??[]).filter(K=>{let X=!1;if(K.Types.forEach(Ae=>{Y.forEach(Ce=>{Ce.zhName===Ae.zhName&&(X=!0)})}),X)return K}),[Y,In,l]);return b.jsx(eN.Provider,{value:{tierPokemon:e,handleTierPokemon:r,clickImg:I,searchPokemon:i,handleSearchPokemon:o,storeAllPokemon:l,handleStoreAllPokemon:h,isLoadingPokemon:f,handleIsLoadingPokemon:R,page:m,handleNextPage:T,searchMorePokemon:v,handleSearchMorePokemon:S,selectImg:O,AddRemoveImg:N,RemoveImg:W,bestDamage:Y,storeAllTypes:he,handleStoreAllTypes:Fe,showInfo_select:Ve,showType_select:$e,showInfo_beenSelect:G,showType_beenSelect:ke,showInfo_bestDamage:ae,showType_bestDamage:Jt,filterType:Ze,filterTier:qt,filterPopular:Hr,handleShowInfo_select:Ge,handleShowType_select:xt,handleShowInfo_beenSelect:Vt,handleShowType_beenSelect:wt,handleShowInfo_bestDamage:ct,handleShowType_bestDamage:kt,handleFilterType:zt,handleFilterTier:pn,handleFilterPopular:Nt,popularPokemon:In,filterBestPokemon:ee,handlePopularPokemon:Zt},children:t})},Or=()=>x.useContext(eN);var tN={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var l=n.apply(null,s);l&&r.push(l)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var c in s)e.call(s,c)&&s[c]&&r.push(c)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(tN);var N8=tN.exports;const Be=od(N8);function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zw.apply(this,arguments)}function nN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gA(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function L8(t){var e=M8(t,"string");return typeof e=="symbol"?e:String(e)}function M8(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F8(t,e,n){var r=x.useRef(t!==void 0),i=x.useState(e),s=i[0],o=i[1],l=t!==void 0,c=r.current;return r.current=l,!l&&c&&s!==e&&o(e),[l?t:s,x.useCallback(function(h){for(var f=arguments.length,p=new Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];n&&n.apply(void 0,[h].concat(p)),o(h)},[n])]}function J1(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[gA(r)],l=s[r],c=nN(s,[gA(r),r].map(L8)),h=e[r],f=F8(l,o,t[h]),p=f[0],m=f[1];return zw({},c,(i={},i[r]=p,i[h]=m,i))},t)}function qw(t,e){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qw(t,e)}function V8(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,qw(t,e)}const $8=["xxl","xl","lg","md","sm","xs"],j8="xs",py=x.createContext({prefixes:{},breakpoints:$8,minBreakpoint:j8});function Ye(t,e){const{prefixes:n}=x.useContext(py);return t||n[e]||e}function rN(){const{breakpoints:t}=x.useContext(py);return t}function iN(){const{minBreakpoint:t}=x.useContext(py);return t}function sN(){const{dir:t}=x.useContext(py);return t==="rtl"}function gd(t){return t&&t.ownerDocument||document}function B8(t){var e=gd(t);return e&&e.defaultView||window}function U8(t,e){return B8(t).getComputedStyle(t,e)}var z8=/([A-Z])/g;function q8(t){return t.replace(z8,"-$1").toLowerCase()}var W8=/^ms-/;function Hp(t){return q8(t).replace(W8,"-ms-")}var K8=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function H8(t){return!!(t&&K8.test(t))}function Hs(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Hp(e))||U8(t).getPropertyValue(Hp(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(Hp(i)):H8(i)?r+=i+"("+s+") ":n+=Hp(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var oN={exports:{}},G8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Q8=G8,Y8=Q8;function aN(){}function lN(){}lN.resetWarningCache=aN;var X8=function(){function t(r,i,s,o,l,c){if(c!==Y8){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:lN,resetWarningCache:aN};return n.PropTypes=n,n};oN.exports=X8();var J8=oN.exports;const Gs=od(J8),yA={disabled:!1},uN=Qt.createContext(null);var Z8=function(e){return e.scrollTop},Mh="unmounted",No="exited",zi="entering",Vs="entered",Df="exiting",co=function(t){V8(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,l=o&&!o.isMounting?r.enter:r.appear,c;return s.appearStatus=null,r.in?l?(c=No,s.appearStatus=zi):c=Vs:r.unmountOnExit||r.mountOnEnter?c=Mh:c=No,s.state={status:c},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Mh?{status:No}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==zi&&o!==Vs&&(s=zi):(o===zi||o===Vs)&&(s=Df)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,l;return s=o=l=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,l=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:l}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===zi){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ou.findDOMNode(this);o&&Z8(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===No&&this.setState({status:Mh})},n.performEnter=function(i){var s=this,o=this.props.enter,l=this.context?this.context.isMounting:i,c=this.props.nodeRef?[l]:[Ou.findDOMNode(this),l],h=c[0],f=c[1],p=this.getTimeouts(),m=l?p.appear:p.enter;if(!i&&!o||yA.disabled){this.safeSetState({status:Vs},function(){s.props.onEntered(h)});return}this.props.onEnter(h,f),this.safeSetState({status:zi},function(){s.props.onEntering(h,f),s.onTransitionEnd(m,function(){s.safeSetState({status:Vs},function(){s.props.onEntered(h,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:Ou.findDOMNode(this);if(!s||yA.disabled){this.safeSetState({status:No},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Df},function(){i.props.onExiting(l),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:No},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,s.nextCallback=null,i(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Ou.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],h=c[0],f=c[1];this.props.addEndListener(h,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Mh)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=nN(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Qt.createElement(uN.Provider,{value:null},typeof o=="function"?o(i,l):Qt.cloneElement(Qt.Children.only(o),l))},e}(Qt.Component);co.contextType=uN;co.propTypes={};function su(){}co.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:su,onEntering:su,onEntered:su,onExit:su,onExiting:su,onExited:su};co.UNMOUNTED=Mh;co.EXITED=No;co.ENTERING=zi;co.ENTERED=Vs;co.EXITING=Df;const eW=co,Rc=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ww=!1,Kw=!1;try{var r0={get passive(){return Ww=!0},get once(){return Kw=Ww=!0}};Rc&&(window.addEventListener("test",r0,r0),window.removeEventListener("test",r0,!0))}catch{}function Z1(t,e,n,r){if(r&&typeof r!="boolean"&&!Kw){var i=r.once,s=r.capture,o=n;!Kw&&i&&(o=n.__once||function l(c){this.removeEventListener(e,l,s),n.call(this,c)},n.__once=o),t.addEventListener(e,o,Ww?r:s)}t.addEventListener(e,n,r)}function Hw(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Uo(t,e,n,r){return Z1(t,e,n,r),function(){Hw(t,e,n,r)}}function tW(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function nW(t){var e=Hs(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function rW(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||tW(t,"transitionend",!0)},e+n),s=Uo(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function cN(t,e,n,r){n==null&&(n=nW(t)||0);var i=rW(t,n,r),s=Uo(t,"transitionend",e);return function(){i(),s()}}function vA(t,e){const n=Hs(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function eT(t,e){const n=vA(t,"transitionDuration"),r=vA(t,"transitionDelay"),i=cN(t,s=>{s.target===t&&(i(),e(s))},n+r)}function _h(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function hN(t){t.offsetHeight}const _A=t=>!t||typeof t=="function"?t:e=>{t.current=e};function iW(t,e){const n=_A(t),r=_A(e);return i=>{n&&n(i),r&&r(i)}}function Nl(t,e){return x.useMemo(()=>iW(t,e),[t,e])}function sW(t){return t&&"setState"in t?Ou.findDOMNode(t):t??null}const oW=Qt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:l,childRef:c,...h},f)=>{const p=x.useRef(null),m=Nl(p,c),y=O=>{m(sW(O))},v=O=>D=>{O&&p.current&&O(p.current,D)},w=x.useCallback(v(t),[t]),R=x.useCallback(v(e),[e]),T=x.useCallback(v(n),[n]),S=x.useCallback(v(r),[r]),I=x.useCallback(v(i),[i]),E=x.useCallback(v(s),[s]),P=x.useCallback(v(o),[o]);return b.jsx(eW,{ref:f,...h,onEnter:w,onEntered:T,onEntering:R,onExit:S,onExited:E,onExiting:I,addEndListener:P,nodeRef:p,children:typeof l=="function"?(O,D)=>l(O,{...D,ref:y}):Qt.cloneElement(l,{ref:y})})}),tT=oW,aW={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function lW(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=aW[t];return r+parseInt(Hs(e,i[0]),10)+parseInt(Hs(e,i[1]),10)}const uW={[No]:"collapse",[Df]:"collapsing",[zi]:"collapsing",[Vs]:"collapse show"},cW=Qt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:l="height",in:c=!1,timeout:h=300,mountOnEnter:f=!1,unmountOnExit:p=!1,appear:m=!1,getDimensionValue:y=lW,...v},w)=>{const R=typeof l=="function"?l():l,T=x.useMemo(()=>_h(O=>{O.style[R]="0"},t),[R,t]),S=x.useMemo(()=>_h(O=>{const D=`scroll${R[0].toUpperCase()}${R.slice(1)}`;O.style[R]=`${O[D]}px`},e),[R,e]),I=x.useMemo(()=>_h(O=>{O.style[R]=null},n),[R,n]),E=x.useMemo(()=>_h(O=>{O.style[R]=`${y(R,O)}px`,hN(O)},r),[r,y,R]),P=x.useMemo(()=>_h(O=>{O.style[R]=null},i),[R,i]);return b.jsx(tT,{ref:w,addEndListener:eT,...v,"aria-expanded":v.role?c:null,onEnter:T,onEntering:S,onEntered:I,onExit:E,onExiting:P,childRef:o.ref,in:c,timeout:h,mountOnEnter:f,unmountOnExit:p,appear:m,children:(O,D)=>Qt.cloneElement(o,{...D,className:Be(s,o.props.className,uW[O],R==="width"&&"collapse-horizontal")})})}),fN=cW;function hW(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t},[t]),e}function _n(t){const e=hW(t);return x.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const dN=t=>x.forwardRef((e,n)=>b.jsx("div",{...e,ref:n,className:Be(e.className,t)}));function pN(){return x.useState(null)}function fW(t,e,n,r=!1){const i=_n(n);x.useEffect(()=>{const s=typeof t=="function"?t():t;return s.addEventListener(e,i,r),()=>s.removeEventListener(e,i,r)},[t])}function mN(){const t=x.useRef(!0),e=x.useRef(()=>t.current);return x.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function gN(t){const e=x.useRef(null);return x.useEffect(()=>{e.current=t}),e.current}const dW=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",pW=typeof document<"u",dg=pW||dW?x.useLayoutEffect:x.useEffect,mW=["as","disabled"];function gW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yW(t){return!t||t.trim()==="#"}function nT({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:l=0,type:c}){t||(n!=null||r!=null||i!=null?t="a":t="button");const h={tagName:t};if(t==="button")return[{type:c||"button",disabled:e},h];const f=m=>{if((e||t==="a"&&yW(n))&&m.preventDefault(),e){m.stopPropagation();return}o==null||o(m)},p=m=>{m.key===" "&&(m.preventDefault(),f(m))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:l,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:f,onKeyDown:p},h]}const rT=x.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=gW(t,mW);const[s,{tagName:o}]=nT(Object.assign({tagName:n,disabled:r},i));return b.jsx(o,Object.assign({},i,s,{ref:e}))});rT.displayName="Button";const vW=["onKeyDown"];function _W(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function wW(t){return!t||t.trim()==="#"}const yN=x.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=_W(t,vW);const[i]=nT(Object.assign({tagName:"a"},r)),s=_n(o=>{i.onKeyDown(o),n==null||n(o)});return wW(r.href)||r.role==="button"?b.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:s})):b.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});yN.displayName="Anchor";const vN=yN,EW={[zi]:"show",[Vs]:"show"},_N=x.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},l=x.useCallback((c,h)=>{hN(c),r==null||r(c,h)},[r]);return b.jsx(tT,{ref:s,addEndListener:eT,...o,onEnter:l,childRef:e.ref,children:(c,h)=>x.cloneElement(e,{...h,className:Be("fade",t,e.props.className,EW[c],n[c])})})});_N.displayName="Fade";const iT=_N,TW={"aria-label":Gs.string,onClick:Gs.func,variant:Gs.oneOf(["white"])},sT=x.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>b.jsx("button",{ref:i,type:"button",className:Be("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));sT.displayName="CloseButton";sT.propTypes=TW;const IW=sT,wN=x.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...l},c)=>{const h=Ye(e,"btn"),[f,{tagName:p}]=nT({tagName:t,disabled:s,...l}),m=p;return b.jsx(m,{...f,...l,ref:c,disabled:s,className:Be(o,h,i&&"active",n&&`${h}-${n}`,r&&`${h}-${r}`,l.href&&s&&"disabled")})});wN.displayName="Button";const pg=wN,EN=x.forwardRef(({bsPrefix:t,size:e,vertical:n=!1,className:r,role:i="group",as:s="div",...o},l)=>{const c=Ye(t,"btn-group");let h=c;return n&&(h=`${c}-vertical`),b.jsx(s,{...o,ref:l,role:i,className:Be(r,h,e&&`${c}-${e}`)})});EN.displayName="ButtonGroup";const SW=EN,TN=x.createContext(null);TN.displayName="CardHeaderContext";const xW=TN;function RW(t){const e=x.useRef(t);return e.current=t,e}function IN(t){const e=RW(t);x.useEffect(()=>()=>e.current(),[])}function bW(t,e){return x.Children.toArray(t).some(n=>x.isValidElement(n)&&n.type===e)}function AW({as:t,bsPrefix:e,className:n,...r}){e=Ye(e,"col");const i=rN(),s=iN(),o=[],l=[];return i.forEach(c=>{const h=r[c];delete r[c];let f,p,m;typeof h=="object"&&h!=null?{span:f,offset:p,order:m}=h:f=h;const y=c!==s?`-${c}`:"";f&&o.push(f===!0?`${e}${y}`:`${e}${y}-${f}`),m!=null&&l.push(`order${y}-${m}`),p!=null&&l.push(`offset${y}-${p}`)}),[{...r,className:Be(n,...o,...l)},{as:t,bsPrefix:e,spans:o}]}const SN=x.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=AW(t);return b.jsx(i,{...r,ref:e,className:Be(n,!o.length&&s)})});SN.displayName="Col";const Fh=SN,xN=x.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},s)=>{const o=Ye(t,"container"),l=typeof e=="string"?`-${e}`:"-fluid";return b.jsx(n,{ref:s,...i,className:Be(r,e?`${o}${l}`:o)})});xN.displayName="Container";const oT=xN;var CW=Function.prototype.bind.call(Function.prototype.call,[].slice);function Fs(t,e){return CW(t.querySelectorAll(e))}function PW(t,e,n){const r=x.useRef(t!==void 0),[i,s]=x.useState(e),o=t!==void 0,l=r.current;return r.current=o,!o&&l&&i!==e&&s(e),[o?t:i,x.useCallback((...c)=>{const[h,...f]=c;let p=n==null?void 0:n(h,...f);return s(h),p},[n])]}function RN(){const[,t]=x.useReducer(e=>!e,!1);return t}const OW=x.createContext(null),my=OW;var wA=Object.prototype.hasOwnProperty;function EA(t,e,n){for(n of t.keys())if(ef(n,e))return n}function ef(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&ef(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=EA(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=EA(e,i),!i)||!ef(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(wA.call(t,n)&&++r&&!wA.call(e,n)||!(n in e)||!ef(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function DW(t){const e=mN();return[t[0],x.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var Wr="top",Pi="bottom",Oi="right",Kr="left",aT="auto",yd=[Wr,Pi,Oi,Kr],nc="start",kf="end",kW="clippingParents",bN="viewport",wh="popper",NW="reference",TA=yd.reduce(function(t,e){return t.concat([e+"-"+nc,e+"-"+kf])},[]),AN=[].concat(yd,[aT]).reduce(function(t,e){return t.concat([e,e+"-"+nc,e+"-"+kf])},[]),LW="beforeRead",MW="read",FW="afterRead",VW="beforeMain",$W="main",jW="afterMain",BW="beforeWrite",UW="write",zW="afterWrite",qW=[LW,MW,FW,VW,$W,jW,BW,UW,zW];function gs(t){return t.split("-")[0]}function si(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function yl(t){var e=si(t).Element;return t instanceof e||t instanceof Element}function ys(t){var e=si(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function lT(t){if(typeof ShadowRoot>"u")return!1;var e=si(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var al=Math.max,mg=Math.min,rc=Math.round;function Gw(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function CN(){return!/^((?!chrome|android).)*safari/i.test(Gw())}function ic(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&ys(t)&&(i=t.offsetWidth>0&&rc(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&rc(r.height)/t.offsetHeight||1);var o=yl(t)?si(t):window,l=o.visualViewport,c=!CN()&&n,h=(r.left+(c&&l?l.offsetLeft:0))/i,f=(r.top+(c&&l?l.offsetTop:0))/s,p=r.width/i,m=r.height/s;return{width:p,height:m,top:f,right:h+p,bottom:f+m,left:h,x:h,y:f}}function uT(t){var e=ic(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function PN(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&lT(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ra(t){return t?(t.nodeName||"").toLowerCase():null}function no(t){return si(t).getComputedStyle(t)}function WW(t){return["table","td","th"].indexOf(ra(t))>=0}function va(t){return((yl(t)?t.ownerDocument:t.document)||window.document).documentElement}function gy(t){return ra(t)==="html"?t:t.assignedSlot||t.parentNode||(lT(t)?t.host:null)||va(t)}function IA(t){return!ys(t)||no(t).position==="fixed"?null:t.offsetParent}function KW(t){var e=/firefox/i.test(Gw()),n=/Trident/i.test(Gw());if(n&&ys(t)){var r=no(t);if(r.position==="fixed")return null}var i=gy(t);for(lT(i)&&(i=i.host);ys(i)&&["html","body"].indexOf(ra(i))<0;){var s=no(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function vd(t){for(var e=si(t),n=IA(t);n&&WW(n)&&no(n).position==="static";)n=IA(n);return n&&(ra(n)==="html"||ra(n)==="body"&&no(n).position==="static")?e:n||KW(t)||e}function cT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function tf(t,e,n){return al(t,mg(e,n))}function HW(t,e,n){var r=tf(t,e,n);return r>n?n:r}function ON(){return{top:0,right:0,bottom:0,left:0}}function DN(t){return Object.assign({},ON(),t)}function kN(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var GW=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,DN(typeof e!="number"?e:kN(e,yd))};function QW(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,l=gs(n.placement),c=cT(l),h=[Kr,Oi].indexOf(l)>=0,f=h?"height":"width";if(!(!s||!o)){var p=GW(i.padding,n),m=uT(s),y=c==="y"?Wr:Kr,v=c==="y"?Pi:Oi,w=n.rects.reference[f]+n.rects.reference[c]-o[c]-n.rects.popper[f],R=o[c]-n.rects.reference[c],T=vd(s),S=T?c==="y"?T.clientHeight||0:T.clientWidth||0:0,I=w/2-R/2,E=p[y],P=S-m[f]-p[v],O=S/2-m[f]/2+I,D=tf(E,O,P),N=c;n.modifiersData[r]=(e={},e[N]=D,e.centerOffset=D-O,e)}}function YW(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||PN(e.elements.popper,i)&&(e.elements.arrow=i))}const XW={name:"arrow",enabled:!0,phase:"main",fn:QW,effect:YW,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function sc(t){return t.split("-")[1]}var JW={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ZW(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:rc(n*i)/i||0,y:rc(r*i)/i||0}}function SA(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,l=t.position,c=t.gpuAcceleration,h=t.adaptive,f=t.roundOffsets,p=t.isFixed,m=o.x,y=m===void 0?0:m,v=o.y,w=v===void 0?0:v,R=typeof f=="function"?f({x:y,y:w}):{x:y,y:w};y=R.x,w=R.y;var T=o.hasOwnProperty("x"),S=o.hasOwnProperty("y"),I=Kr,E=Wr,P=window;if(h){var O=vd(n),D="clientHeight",N="clientWidth";if(O===si(n)&&(O=va(n),no(O).position!=="static"&&l==="absolute"&&(D="scrollHeight",N="scrollWidth")),O=O,i===Wr||(i===Kr||i===Oi)&&s===kf){E=Pi;var W=p&&O===P&&P.visualViewport?P.visualViewport.height:O[D];w-=W-r.height,w*=c?1:-1}if(i===Kr||(i===Wr||i===Pi)&&s===kf){I=Oi;var Y=p&&O===P&&P.visualViewport?P.visualViewport.width:O[N];y-=Y-r.width,y*=c?1:-1}}var ie=Object.assign({position:l},h&&JW),he=f===!0?ZW({x:y,y:w},si(n)):{x:y,y:w};if(y=he.x,w=he.y,c){var ve;return Object.assign({},ie,(ve={},ve[E]=S?"0":"",ve[I]=T?"0":"",ve.transform=(P.devicePixelRatio||1)<=1?"translate("+y+"px, "+w+"px)":"translate3d("+y+"px, "+w+"px, 0)",ve))}return Object.assign({},ie,(e={},e[E]=S?w+"px":"",e[I]=T?y+"px":"",e.transform="",e))}function eK(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,l=n.roundOffsets,c=l===void 0?!0:l,h={placement:gs(e.placement),variation:sc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,SA(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,SA(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const tK={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:eK,data:{}};var Gp={passive:!0};function nK(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,l=o===void 0?!0:o,c=si(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&h.forEach(function(f){f.addEventListener("scroll",n.update,Gp)}),l&&c.addEventListener("resize",n.update,Gp),function(){s&&h.forEach(function(f){f.removeEventListener("scroll",n.update,Gp)}),l&&c.removeEventListener("resize",n.update,Gp)}}const rK={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:nK,data:{}};var iK={left:"right",right:"left",bottom:"top",top:"bottom"};function Sm(t){return t.replace(/left|right|bottom|top/g,function(e){return iK[e]})}var sK={start:"end",end:"start"};function xA(t){return t.replace(/start|end/g,function(e){return sK[e]})}function hT(t){var e=si(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function fT(t){return ic(va(t)).left+hT(t).scrollLeft}function oK(t,e){var n=si(t),r=va(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;var h=CN();(h||!h&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l+fT(t),y:c}}function aK(t){var e,n=va(t),r=hT(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=al(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=al(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+fT(t),c=-r.scrollTop;return no(i||n).direction==="rtl"&&(l+=al(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:l,y:c}}function dT(t){var e=no(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function NN(t){return["html","body","#document"].indexOf(ra(t))>=0?t.ownerDocument.body:ys(t)&&dT(t)?t:NN(gy(t))}function nf(t,e){var n;e===void 0&&(e=[]);var r=NN(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=si(r),o=i?[s].concat(s.visualViewport||[],dT(r)?r:[]):r,l=e.concat(o);return i?l:l.concat(nf(gy(o)))}function Qw(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function lK(t,e){var n=ic(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function RA(t,e,n){return e===bN?Qw(oK(t,n)):yl(e)?lK(e,n):Qw(aK(va(t)))}function uK(t){var e=nf(gy(t)),n=["absolute","fixed"].indexOf(no(t).position)>=0,r=n&&ys(t)?vd(t):t;return yl(r)?e.filter(function(i){return yl(i)&&PN(i,r)&&ra(i)!=="body"}):[]}function cK(t,e,n,r){var i=e==="clippingParents"?uK(t):[].concat(e),s=[].concat(i,[n]),o=s[0],l=s.reduce(function(c,h){var f=RA(t,h,r);return c.top=al(f.top,c.top),c.right=mg(f.right,c.right),c.bottom=mg(f.bottom,c.bottom),c.left=al(f.left,c.left),c},RA(t,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function LN(t){var e=t.reference,n=t.element,r=t.placement,i=r?gs(r):null,s=r?sc(r):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(i){case Wr:c={x:o,y:e.y-n.height};break;case Pi:c={x:o,y:e.y+e.height};break;case Oi:c={x:e.x+e.width,y:l};break;case Kr:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var h=i?cT(i):null;if(h!=null){var f=h==="y"?"height":"width";switch(s){case nc:c[h]=c[h]-(e[f]/2-n[f]/2);break;case kf:c[h]=c[h]+(e[f]/2-n[f]/2);break}}return c}function Nf(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,l=n.boundary,c=l===void 0?kW:l,h=n.rootBoundary,f=h===void 0?bN:h,p=n.elementContext,m=p===void 0?wh:p,y=n.altBoundary,v=y===void 0?!1:y,w=n.padding,R=w===void 0?0:w,T=DN(typeof R!="number"?R:kN(R,yd)),S=m===wh?NW:wh,I=t.rects.popper,E=t.elements[v?S:m],P=cK(yl(E)?E:E.contextElement||va(t.elements.popper),c,f,o),O=ic(t.elements.reference),D=LN({reference:O,element:I,strategy:"absolute",placement:i}),N=Qw(Object.assign({},I,D)),W=m===wh?N:O,Y={top:P.top-W.top+T.top,bottom:W.bottom-P.bottom+T.bottom,left:P.left-W.left+T.left,right:W.right-P.right+T.right},ie=t.modifiersData.offset;if(m===wh&&ie){var he=ie[i];Object.keys(Y).forEach(function(ve){var Fe=[Oi,Pi].indexOf(ve)>=0?1:-1,Ie=[Wr,Pi].indexOf(ve)>=0?"y":"x";Y[ve]+=he[Ie]*Fe})}return Y}function hK(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,h=c===void 0?AN:c,f=sc(r),p=f?l?TA:TA.filter(function(v){return sc(v)===f}):yd,m=p.filter(function(v){return h.indexOf(v)>=0});m.length===0&&(m=p);var y=m.reduce(function(v,w){return v[w]=Nf(t,{placement:w,boundary:i,rootBoundary:s,padding:o})[gs(w)],v},{});return Object.keys(y).sort(function(v,w){return y[v]-y[w]})}function fK(t){if(gs(t)===aT)return[];var e=Sm(t);return[xA(t),e,xA(e)]}function dK(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!0:o,c=n.fallbackPlacements,h=n.padding,f=n.boundary,p=n.rootBoundary,m=n.altBoundary,y=n.flipVariations,v=y===void 0?!0:y,w=n.allowedAutoPlacements,R=e.options.placement,T=gs(R),S=T===R,I=c||(S||!v?[Sm(R)]:fK(R)),E=[R].concat(I).reduce(function(je,ke){return je.concat(gs(ke)===aT?hK(e,{placement:ke,boundary:f,rootBoundary:p,padding:h,flipVariations:v,allowedAutoPlacements:w}):ke)},[]),P=e.rects.reference,O=e.rects.popper,D=new Map,N=!0,W=E[0],Y=0;Y<E.length;Y++){var ie=E[Y],he=gs(ie),ve=sc(ie)===nc,Fe=[Wr,Pi].indexOf(he)>=0,Ie=Fe?"width":"height",Ve=Nf(e,{placement:ie,boundary:f,rootBoundary:p,altBoundary:m,padding:h}),Me=Fe?ve?Oi:Kr:ve?Pi:Wr;P[Ie]>O[Ie]&&(Me=Sm(Me));var G=Sm(Me),ce=[];if(s&&ce.push(Ve[he]<=0),l&&ce.push(Ve[Me]<=0,Ve[G]<=0),ce.every(function(je){return je})){W=ie,N=!1;break}D.set(ie,ce)}if(N)for(var ae=v?3:1,we=function(ke){var at=E.find(function(Jt){var _t=D.get(Jt);if(_t)return _t.slice(0,ke).every(function(Ge){return Ge})});if(at)return W=at,"break"},Te=ae;Te>0;Te--){var $e=we(Te);if($e==="break")break}e.placement!==W&&(e.modifiersData[r]._skip=!0,e.placement=W,e.reset=!0)}}const pK={name:"flip",enabled:!0,phase:"main",fn:dK,requiresIfExists:["offset"],data:{_skip:!1}};function bA(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function AA(t){return[Wr,Oi,Pi,Kr].some(function(e){return t[e]>=0})}function mK(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Nf(e,{elementContext:"reference"}),l=Nf(e,{altBoundary:!0}),c=bA(o,r),h=bA(l,i,s),f=AA(c),p=AA(h);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}const gK={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:mK};function yK(t,e,n){var r=gs(t),i=[Kr,Wr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],l=s[1];return o=o||0,l=(l||0)*i,[Kr,Oi].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function vK(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=AN.reduce(function(f,p){return f[p]=yK(p,e.rects,s),f},{}),l=o[e.placement],c=l.x,h=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=o}const _K={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vK};function wK(t){var e=t.state,n=t.name;e.modifiersData[n]=LN({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const EK={name:"popperOffsets",enabled:!0,phase:"read",fn:wK,data:{}};function TK(t){return t==="x"?"y":"x"}function IK(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!1:o,c=n.boundary,h=n.rootBoundary,f=n.altBoundary,p=n.padding,m=n.tether,y=m===void 0?!0:m,v=n.tetherOffset,w=v===void 0?0:v,R=Nf(e,{boundary:c,rootBoundary:h,padding:p,altBoundary:f}),T=gs(e.placement),S=sc(e.placement),I=!S,E=cT(T),P=TK(E),O=e.modifiersData.popperOffsets,D=e.rects.reference,N=e.rects.popper,W=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,Y=typeof W=="number"?{mainAxis:W,altAxis:W}:Object.assign({mainAxis:0,altAxis:0},W),ie=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,he={x:0,y:0};if(O){if(s){var ve,Fe=E==="y"?Wr:Kr,Ie=E==="y"?Pi:Oi,Ve=E==="y"?"height":"width",Me=O[E],G=Me+R[Fe],ce=Me-R[Ie],ae=y?-N[Ve]/2:0,we=S===nc?D[Ve]:N[Ve],Te=S===nc?-N[Ve]:-D[Ve],$e=e.elements.arrow,je=y&&$e?uT($e):{width:0,height:0},ke=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ON(),at=ke[Fe],Jt=ke[Ie],_t=tf(0,D[Ve],je[Ve]),Ge=I?D[Ve]/2-ae-_t-at-Y.mainAxis:we-_t-at-Y.mainAxis,Vt=I?-D[Ve]/2+ae+_t+Jt+Y.mainAxis:Te+_t+Jt+Y.mainAxis,ct=e.elements.arrow&&vd(e.elements.arrow),xt=ct?E==="y"?ct.clientTop||0:ct.clientLeft||0:0,wt=(ve=ie==null?void 0:ie[E])!=null?ve:0,kt=Me+Ge-wt-xt,Ze=Me+Vt-wt,sr=tf(y?mg(G,kt):G,Me,y?al(ce,Ze):ce);O[E]=sr,he[E]=sr-Me}if(l){var zt,Hr=E==="x"?Wr:Kr,Di=E==="x"?Pi:Oi,Nt=O[P],qt=P==="y"?"height":"width",Nn=Nt+R[Hr],pn=Nt-R[Di],In=[Wr,Kr].indexOf(T)!==-1,Ke=(zt=ie==null?void 0:ie[P])!=null?zt:0,Zt=In?Nn:Nt-D[qt]-N[qt]-Ke+Y.altAxis,ee=In?Nt+D[qt]+N[qt]-Ke-Y.altAxis:pn,L=y&&In?HW(Zt,Nt,ee):tf(y?Zt:Nn,Nt,y?ee:pn);O[P]=L,he[P]=L-Nt}e.modifiersData[r]=he}}const SK={name:"preventOverflow",enabled:!0,phase:"main",fn:IK,requiresIfExists:["offset"]};function xK(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function RK(t){return t===si(t)||!ys(t)?hT(t):xK(t)}function bK(t){var e=t.getBoundingClientRect(),n=rc(e.width)/t.offsetWidth||1,r=rc(e.height)/t.offsetHeight||1;return n!==1||r!==1}function AK(t,e,n){n===void 0&&(n=!1);var r=ys(e),i=ys(e)&&bK(e),s=va(e),o=ic(t,i,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((ra(e)!=="body"||dT(s))&&(l=RK(e)),ys(e)?(c=ic(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=fT(s))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function CK(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&i(c)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function PK(t){var e=CK(t);return qW.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function OK(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function DK(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var CA={placement:"bottom",modifiers:[],strategy:"absolute"};function PA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function kK(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?CA:i;return function(l,c,h){h===void 0&&(h=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},CA,s),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},p=[],m=!1,y={state:f,setOptions:function(T){var S=typeof T=="function"?T(f.options):T;w(),f.options=Object.assign({},s,f.options,S),f.scrollParents={reference:yl(l)?nf(l):l.contextElement?nf(l.contextElement):[],popper:nf(c)};var I=PK(DK([].concat(r,f.options.modifiers)));return f.orderedModifiers=I.filter(function(E){return E.enabled}),v(),y.update()},forceUpdate:function(){if(!m){var T=f.elements,S=T.reference,I=T.popper;if(PA(S,I)){f.rects={reference:AK(S,vd(I),f.options.strategy==="fixed"),popper:uT(I)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(Y){return f.modifiersData[Y.name]=Object.assign({},Y.data)});for(var E=0;E<f.orderedModifiers.length;E++){if(f.reset===!0){f.reset=!1,E=-1;continue}var P=f.orderedModifiers[E],O=P.fn,D=P.options,N=D===void 0?{}:D,W=P.name;typeof O=="function"&&(f=O({state:f,options:N,name:W,instance:y})||f)}}}},update:OK(function(){return new Promise(function(R){y.forceUpdate(),R(f)})}),destroy:function(){w(),m=!0}};if(!PA(l,c))return y;y.setOptions(h).then(function(R){!m&&h.onFirstUpdate&&h.onFirstUpdate(R)});function v(){f.orderedModifiers.forEach(function(R){var T=R.name,S=R.options,I=S===void 0?{}:S,E=R.effect;if(typeof E=="function"){var P=E({state:f,name:T,instance:y,options:I}),O=function(){};p.push(P||O)}})}function w(){p.forEach(function(R){return R()}),p=[]}return y}}const NK=kK({defaultModifiers:[gK,EK,tK,rK,_K,pK,SK,XW]}),LK=["enabled","placement","strategy","modifiers"];function MK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const FK={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},VK={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const s=r.getAttribute("aria-describedby");if(s&&s.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",s?`${s},${n.id}`:n.id)}}},$K=[];function jK(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:s="absolute",modifiers:o=$K}=n,l=MK(n,LK);const c=x.useRef(o),h=x.useRef(),f=x.useCallback(()=>{var R;(R=h.current)==null||R.update()},[]),p=x.useCallback(()=>{var R;(R=h.current)==null||R.forceUpdate()},[]),[m,y]=DW(x.useState({placement:i,update:f,forceUpdate:p,attributes:{},styles:{popper:{},arrow:{}}})),v=x.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:R})=>{const T={},S={};Object.keys(R.elements).forEach(I=>{T[I]=R.styles[I],S[I]=R.attributes[I]}),y({state:R,styles:T,attributes:S,update:f,forceUpdate:p,placement:R.placement})}}),[f,p,y]),w=x.useMemo(()=>(ef(c.current,o)||(c.current=o),c.current),[o]);return x.useEffect(()=>{!h.current||!r||h.current.setOptions({placement:i,strategy:s,modifiers:[...w,v,FK]})},[s,i,v,r,w]),x.useEffect(()=>{if(!(!r||t==null||e==null))return h.current=NK(t,e,Object.assign({},l,{placement:i,strategy:s,modifiers:[...w,VK,v]})),()=>{h.current!=null&&(h.current.destroy(),h.current=void 0,y(R=>Object.assign({},R,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),m}function gg(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var BK=function(){},UK=BK;const zK=od(UK),OA=()=>{};function qK(t){return t.button===0}function WK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const i0=t=>t&&("current"in t?t.current:t),DA={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function KK(t,e=OA,{disabled:n,clickTrigger:r="click"}={}){const i=x.useRef(!1),s=x.useRef(!1),o=x.useCallback(h=>{const f=i0(t);zK(!!f,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!f||WK(h)||!qK(h)||!!gg(f,h.target)||s.current,s.current=!1},[t]),l=_n(h=>{const f=i0(t);f&&gg(f,h.target)&&(s.current=!0)}),c=_n(h=>{i.current||e(h)});x.useEffect(()=>{var h,f;if(n||t==null)return;const p=gd(i0(t)),m=p.defaultView||window;let y=(h=m.event)!=null?h:(f=m.parent)==null?void 0:f.event,v=null;DA[r]&&(v=Uo(p,DA[r],l,!0));const w=Uo(p,r,o,!0),R=Uo(p,r,S=>{if(S===y){y=void 0;return}c(S)});let T=[];return"ontouchstart"in p.documentElement&&(T=[].slice.call(p.body.children).map(S=>Uo(S,"mousemove",OA))),()=>{v==null||v(),w(),R(),T.forEach(S=>S())}},[t,n,r,o,l,c])}function HK(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function GK(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function QK({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:s,containerPadding:o,arrowElement:l,popperConfig:c={}}){var h,f,p,m,y;const v=HK(c.modifiers);return Object.assign({},c,{placement:n,enabled:t,strategy:s?"fixed":c.strategy,modifiers:GK(Object.assign({},v,{eventListeners:{enabled:e,options:(h=v.eventListeners)==null?void 0:h.options},preventOverflow:Object.assign({},v.preventOverflow,{options:o?Object.assign({padding:o},(f=v.preventOverflow)==null?void 0:f.options):(p=v.preventOverflow)==null?void 0:p.options}),offset:{options:Object.assign({offset:i},(m=v.offset)==null?void 0:m.options)},arrow:Object.assign({},v.arrow,{enabled:!!l,options:Object.assign({},(y=v.arrow)==null?void 0:y.options,{element:l})}),flip:Object.assign({enabled:!!r},v.flip)}))})}const YK=["children"];function XK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const JK=()=>{};function MN(t={}){const e=x.useContext(my),[n,r]=pN(),i=x.useRef(!1),{flip:s,offset:o,rootCloseEvent:l,fixed:c=!1,placement:h,popperConfig:f={},enableEventListeners:p=!0,usePopper:m=!!e}=t,y=(e==null?void 0:e.show)==null?!!t.show:e.show;y&&!i.current&&(i.current=!0);const v=O=>{e==null||e.toggle(!1,O)},{placement:w,setMenu:R,menuElement:T,toggleElement:S}=e||{},I=jK(S,T,QK({placement:h||w||"bottom-start",enabled:m,enableEvents:p??y,offset:o,flip:s,fixed:c,arrowElement:n,popperConfig:f})),E=Object.assign({ref:R||JK,"aria-labelledby":S==null?void 0:S.id},I.attributes.popper,{style:I.styles.popper}),P={show:y,placement:w,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:m?I:null,arrowProps:m?Object.assign({ref:r},I.attributes.arrow,{style:I.styles.arrow}):{}};return KK(T,v,{clickTrigger:l,disabled:!y}),[E,P]}const ZK={usePopper:!0};function pT(t){let{children:e}=t,n=XK(t,YK);const[r,i]=MN(n);return b.jsx(b.Fragment,{children:e(r,i)})}pT.displayName="DropdownMenu";pT.defaultProps=ZK;const yg={prefix:String(Math.round(Math.random()*1e10)),current:0},FN=Qt.createContext(yg),eH=Qt.createContext(!1);let tH=!!(typeof window<"u"&&window.document&&window.document.createElement),s0=new WeakMap;function nH(t=!1){let e=x.useContext(FN),n=x.useRef(null);if(n.current===null&&!t){var r,i;let s=(r=Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||r===void 0||(i=r.ReactCurrentOwner)===null||i===void 0?void 0:i.current;if(s){let o=s0.get(s);o==null?s0.set(s,{id:e.current,state:s.memoizedState}):s.memoizedState!==o.state&&(e.current=o.id,s0.delete(s))}n.current=++e.current}return n.current}function rH(t){let e=x.useContext(FN);e===yg&&!tH&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=nH(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function iH(t){let e=Qt.useId(),[n]=x.useState(uH()),r=n?"react-aria":`react-aria${yg.prefix}`;return t||`${r}-${e}`}const sH=typeof Qt.useId=="function"?iH:rH;function oH(){return!1}function aH(){return!0}function lH(t){return()=>{}}function uH(){return typeof Qt.useSyncExternalStore=="function"?Qt.useSyncExternalStore(lH,oH,aH):x.useContext(eH)}const VN=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},kA=()=>{};function $N(){const t=sH(),{show:e=!1,toggle:n=kA,setToggle:r,menuElement:i}=x.useContext(my)||{},s=x.useCallback(l=>{n(!e,l)},[e,n]),o={id:t,ref:r||kA,onClick:s,"aria-expanded":!!e};return i&&VN(i)&&(o["aria-haspopup"]=!0),[o,{show:e,toggle:n}]}function jN({children:t}){const[e,n]=$N();return b.jsx(b.Fragment,{children:t(e,n)})}jN.displayName="DropdownToggle";const cH=x.createContext(null),Lf=(t,e=null)=>t!=null?String(t):e||null,vl=cH,BN=x.createContext(null);BN.displayName="NavContext";const mT=BN,hH="data-rr-ui-",fH="rrUi";function bc(t){return`${hH}${t}`}function dH(t){return`${fH}${t}`}const pH=["eventKey","disabled","onClick","active","as"];function mH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function UN({key:t,href:e,active:n,disabled:r,onClick:i}){const s=x.useContext(vl),o=x.useContext(mT),{activeKey:l}=o||{},c=Lf(t,e),h=n==null&&t!=null?Lf(l)===c:n;return[{onClick:_n(p=>{r||(i==null||i(p),s&&!p.isPropagationStopped()&&s(c,p))}),"aria-disabled":r||void 0,"aria-selected":h,[bc("dropdown-item")]:""},{isActive:h}]}const zN=x.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:o=rT}=t,l=mH(t,pH);const[c]=UN({key:n,href:l.href,disabled:r,onClick:i,active:s});return b.jsx(o,Object.assign({},l,{ref:e},c))});zN.displayName="DropdownItem";const qN=x.createContext(Rc?window:void 0);qN.Provider;function yy(){return x.useContext(qN)}function NA(){const t=RN(),e=x.useRef(null),n=x.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function _d({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${bc("dropdown-item")}]`,focusFirstItemOnShow:s,placement:o="bottom-start",children:l}){const c=yy(),[h,f]=PW(e,t,r),[p,m]=NA(),y=p.current,[v,w]=NA(),R=v.current,T=gN(h),S=x.useRef(null),I=x.useRef(!1),E=x.useContext(vl),P=x.useCallback((ie,he,ve=he==null?void 0:he.type)=>{f(ie,{originalEvent:he,source:ve})},[f]),O=_n((ie,he)=>{n==null||n(ie,he),P(!1,he,"select"),he.isPropagationStopped()||E==null||E(ie,he)}),D=x.useMemo(()=>({toggle:P,placement:o,show:h,menuElement:y,toggleElement:R,setMenu:m,setToggle:w}),[P,o,h,y,R,m,w]);y&&T&&!h&&(I.current=y.contains(y.ownerDocument.activeElement));const N=_n(()=>{R&&R.focus&&R.focus()}),W=_n(()=>{const ie=S.current;let he=s;if(he==null&&(he=p.current&&VN(p.current)?"keyboard":!1),he===!1||he==="keyboard"&&!/^key.+$/.test(ie))return;const ve=Fs(p.current,i)[0];ve&&ve.focus&&ve.focus()});x.useEffect(()=>{h?W():I.current&&(I.current=!1,N())},[h,I,N,W]),x.useEffect(()=>{S.current=null});const Y=(ie,he)=>{if(!p.current)return null;const ve=Fs(p.current,i);let Fe=ve.indexOf(ie)+he;return Fe=Math.max(0,Math.min(Fe,ve.length)),ve[Fe]};return fW(x.useCallback(()=>c.document,[c]),"keydown",ie=>{var he,ve;const{key:Fe}=ie,Ie=ie.target,Ve=(he=p.current)==null?void 0:he.contains(Ie),Me=(ve=v.current)==null?void 0:ve.contains(Ie);if(/input|textarea/i.test(Ie.tagName)&&(Fe===" "||Fe!=="Escape"&&Ve||Fe==="Escape"&&Ie.type==="search")||!Ve&&!Me||Fe==="Tab"&&(!p.current||!h))return;S.current=ie.type;const ce={originalEvent:ie,source:ie.type};switch(Fe){case"ArrowUp":{const ae=Y(Ie,-1);ae&&ae.focus&&ae.focus(),ie.preventDefault();return}case"ArrowDown":if(ie.preventDefault(),!h)f(!0,ce);else{const ae=Y(Ie,1);ae&&ae.focus&&ae.focus()}return;case"Tab":Z1(Ie.ownerDocument,"keyup",ae=>{var we;(ae.key==="Tab"&&!ae.target||!((we=p.current)!=null&&we.contains(ae.target)))&&f(!1,ce)},{once:!0});break;case"Escape":Fe==="Escape"&&(ie.preventDefault(),ie.stopPropagation()),f(!1,ce);break}}),b.jsx(vl.Provider,{value:O,children:b.jsx(my.Provider,{value:D,children:l})})}_d.displayName="Dropdown";_d.Menu=pT;_d.Toggle=jN;_d.Item=zN;const WN=x.createContext({});WN.displayName="DropdownContext";const KN=WN,HN=x.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:r="separator",...i},s)=>(e=Ye(e,"dropdown-divider"),b.jsx(n,{ref:s,className:Be(t,e),role:r,...i})));HN.displayName="DropdownDivider";const gH=HN,GN=x.forwardRef(({className:t,bsPrefix:e,as:n="div",role:r="heading",...i},s)=>(e=Ye(e,"dropdown-header"),b.jsx(n,{ref:s,className:Be(t,e),role:r,...i})));GN.displayName="DropdownHeader";const yH=GN,QN=x.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:s,as:o=vN,...l},c)=>{const h=Ye(t,"dropdown-item"),[f,p]=UN({key:n,href:l.href,disabled:r,onClick:i,active:s});return b.jsx(o,{...l,...f,ref:c,className:Be(e,h,p.isActive&&"active",r&&"disabled")})});QN.displayName="DropdownItem";const vH=QN,YN=x.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Ye(e,"dropdown-item-text"),b.jsx(n,{ref:i,className:Be(t,e),...r})));YN.displayName="DropdownItemText";const _H=YN,XN=x.createContext(null);XN.displayName="InputGroupContext";const gT=XN,JN=x.createContext(null);JN.displayName="NavbarContext";const Ll=JN;function ZN(t,e){return t}function e2(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",s=n?"bottom-end":"bottom-start",o=n?"bottom-start":"bottom-end",l=n?"right-start":"left-start",c=n?"right-end":"left-end",h=n?"left-start":"right-start",f=n?"left-end":"right-end";let p=t?o:s;return e==="up"?p=t?i:r:e==="end"?p=t?f:h:e==="start"?p=t?c:l:e==="down-centered"?p="bottom":e==="up-centered"&&(p="top"),p}const t2=x.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i=!0,show:s,renderOnMount:o,as:l="div",popperConfig:c,variant:h,...f},p)=>{let m=!1;const y=x.useContext(Ll),v=Ye(t,"dropdown-menu"),{align:w,drop:R,isRTL:T}=x.useContext(KN);n=n||w;const S=x.useContext(gT),I=[];if(n)if(typeof n=="object"){const ie=Object.keys(n);if(ie.length){const he=ie[0],ve=n[he];m=ve==="start",I.push(`${v}-${he}-${ve}`)}}else n==="end"&&(m=!0);const E=e2(m,R,T),[P,{hasShown:O,popper:D,show:N,toggle:W}]=MN({flip:i,rootCloseEvent:r,show:s,usePopper:!y&&I.length===0,offset:[0,2],popperConfig:c,placement:E});if(P.ref=Nl(ZN(p),P.ref),dg(()=>{N&&(D==null||D.update())},[N]),!O&&!o&&!S)return null;typeof l!="string"&&(P.show=N,P.close=()=>W==null?void 0:W(!1),P.align=n);let Y=f.style;return D!=null&&D.placement&&(Y={...f.style,...P.style},f["x-placement"]=D.placement),b.jsx(l,{...f,...P,style:Y,...(I.length||y)&&{"data-bs-popper":"static"},className:Be(e,v,N&&"show",m&&`${v}-end`,h&&`${v}-${h}`,...I)})});t2.displayName="DropdownMenu";const wH=t2,n2=x.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=pg,...s},o)=>{const l=Ye(t,"dropdown-toggle"),c=x.useContext(my);r!==void 0&&(s.bsPrefix=r);const[h]=$N();return h.ref=Nl(h.ref,ZN(o)),b.jsx(i,{className:Be(n,l,e&&`${l}-split`,(c==null?void 0:c.show)&&"show"),...h,...s})});n2.displayName="DropdownToggle";const EH=n2,r2=x.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:i,className:s,align:o="start",onSelect:l,onToggle:c,focusFirstItemOnShow:h,as:f="div",navbar:p,autoClose:m=!0,...y}=J1(t,{show:"onToggle"}),v=x.useContext(gT),w=Ye(n,"dropdown"),R=sN(),T=D=>m===!1?D==="click":m==="inside"?D!=="rootClose":m==="outside"?D!=="select":!0,S=_n((D,N)=>{N.originalEvent.currentTarget===document&&(N.source!=="keydown"||N.originalEvent.key==="Escape")&&(N.source="rootClose"),T(N.source)&&(c==null||c(D,N))}),E=e2(o==="end",r,R),P=x.useMemo(()=>({align:o,drop:r,isRTL:R}),[o,r,R]),O={down:w,"down-centered":`${w}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return b.jsx(KN.Provider,{value:P,children:b.jsx(_d,{placement:E,show:i,onSelect:l,onToggle:S,focusFirstItemOnShow:h,itemSelector:`.${w}-item:not(.disabled):not(:disabled)`,children:v?y.children:b.jsx(f,{...y,ref:e,className:Be(s,i&&"show",O[r])})})})});r2.displayName="Dropdown";const os=Object.assign(r2,{Toggle:EH,Menu:wH,Item:vH,ItemText:_H,Divider:gH,Header:yH}),TH={type:Gs.string,tooltip:Gs.bool,as:Gs.elementType},yT=x.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>b.jsx(t,{...i,ref:s,className:Be(e,`${n}-${r?"tooltip":"feedback"}`)}));yT.displayName="Feedback";yT.propTypes=TH;const i2=yT,IH=x.createContext({}),ro=IH,s2=x.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...l},c)=>{const{controlId:h}=x.useContext(ro);return e=Ye(e,"form-check-input"),b.jsx(o,{...l,ref:c,type:r,id:t||h,className:Be(n,e,i&&"is-valid",s&&"is-invalid")})});s2.displayName="FormCheckInput";const vy=s2,o2=x.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=x.useContext(ro);return t=Ye(t,"form-check-label"),b.jsx("label",{...r,ref:i,htmlFor:n||s,className:Be(e,t)})});o2.displayName="FormCheckLabel";const Yw=o2,a2=x.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:l=!1,feedbackTooltip:c=!1,feedback:h,feedbackType:f,className:p,style:m,title:y="",type:v="checkbox",label:w,children:R,as:T="input",...S},I)=>{e=Ye(e,"form-check"),n=Ye(n,"form-switch");const{controlId:E}=x.useContext(ro),P=x.useMemo(()=>({controlId:t||E}),[E,t]),O=!R&&w!=null&&w!==!1||bW(R,Yw),D=b.jsx(vy,{...S,type:v==="switch"?"checkbox":v,ref:I,isValid:o,isInvalid:l,disabled:s,as:T});return b.jsx(ro.Provider,{value:P,children:b.jsx("div",{style:m,className:Be(p,O&&e,r&&`${e}-inline`,i&&`${e}-reverse`,v==="switch"&&n),children:R||b.jsxs(b.Fragment,{children:[D,O&&b.jsx(Yw,{title:y,children:w}),h&&b.jsx(i2,{type:f,tooltip:c,children:h})]})})})});a2.displayName="FormCheck";const vg=Object.assign(a2,{Input:vy,Label:Yw}),l2=x.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:l=!1,plaintext:c,readOnly:h,as:f="input",...p},m)=>{const{controlId:y}=x.useContext(ro);return t=Ye(t,"form-control"),b.jsx(f,{...p,type:e,size:r,ref:m,readOnly:h,id:i||y,className:Be(s,c?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,o&&"is-valid",l&&"is-invalid")})});l2.displayName="FormControl";const SH=Object.assign(l2,{Feedback:i2}),u2=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ye(e,"form-floating"),b.jsx(n,{ref:i,className:Be(t,e),...r})));u2.displayName="FormFloating";const xH=u2,c2=x.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=x.useMemo(()=>({controlId:t}),[t]);return b.jsx(ro.Provider,{value:i,children:b.jsx(e,{...n,ref:r})})});c2.displayName="FormGroup";const h2=c2,f2=x.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:s,...o},l)=>{const{controlId:c}=x.useContext(ro);e=Ye(e,"form-label");let h="col-form-label";typeof n=="string"&&(h=`${h} ${h}-${n}`);const f=Be(i,e,r&&"visually-hidden",n&&h);return s=s||c,n?b.jsx(Fh,{ref:l,as:"label",className:f,htmlFor:s,...o}):b.jsx(t,{ref:l,className:f,htmlFor:s,...o})});f2.displayName="FormLabel";const RH=f2,d2=x.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=x.useContext(ro);return t=Ye(t,"form-range"),b.jsx("input",{...r,type:"range",ref:i,className:Be(e,t),id:n||s})});d2.displayName="FormRange";const bH=d2,p2=x.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...l},c)=>{const{controlId:h}=x.useContext(ro);return t=Ye(t,"form-select"),b.jsx("select",{...l,size:n,ref:c,className:Be(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||h})});p2.displayName="FormSelect";const AH=p2,m2=x.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=Ye(t,"form-text"),b.jsx(n,{...i,ref:s,className:Be(e,t,r&&"text-muted")})));m2.displayName="FormText";const CH=m2,g2=x.forwardRef((t,e)=>b.jsx(vg,{...t,ref:e,type:"switch"}));g2.displayName="Switch";const PH=Object.assign(g2,{Input:vg.Input,Label:vg.Label}),y2=x.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=Ye(t,"form-floating"),b.jsxs(h2,{ref:o,className:Be(e,t),controlId:r,...s,children:[n,b.jsx("label",{htmlFor:r,children:i})]})));y2.displayName="FloatingLabel";const OH=y2,DH={_ref:Gs.any,validated:Gs.bool,as:Gs.elementType},vT=x.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>b.jsx(n,{...r,ref:i,className:Be(t,e&&"was-validated")}));vT.displayName="Form";vT.propTypes=DH;const Xw=Object.assign(vT,{Group:h2,Control:SH,Floating:xH,Check:vg,Switch:PH,Label:RH,Text:CH,Range:bH,Select:AH,FloatingLabel:OH}),v2=x.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Ye(e,"input-group-text"),b.jsx(n,{ref:i,className:Be(t,e),...r})));v2.displayName="InputGroupText";const _T=v2,kH=t=>b.jsx(_T,{children:b.jsx(vy,{type:"checkbox",...t})}),NH=t=>b.jsx(_T,{children:b.jsx(vy,{type:"radio",...t})}),_2=x.forwardRef(({bsPrefix:t,size:e,hasValidation:n,className:r,as:i="div",...s},o)=>{t=Ye(t,"input-group");const l=x.useMemo(()=>({}),[]);return b.jsx(gT.Provider,{value:l,children:b.jsx(i,{ref:o,...s,className:Be(r,t,e&&`${t}-${e}`,n&&"has-validation")})})});_2.displayName="InputGroup";const LH=Object.assign(_2,{Text:_T,Radio:NH,Checkbox:kH}),MH=x.createContext(null),w2=MH,FH=["as","active","eventKey"];function VH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function E2({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=x.useContext(vl),l=x.useContext(mT),c=x.useContext(w2);let h=n;const f={role:i};if(l){!i&&l.role==="tablist"&&(f.role="tab");const p=l.getControllerId(t??null),m=l.getControlledId(t??null);f[bc("event-key")]=t,f.id=p||r,h=n==null&&t!=null?l.activeKey===t:n,(h||!(c!=null&&c.unmountOnExit)&&!(c!=null&&c.mountOnEnter))&&(f["aria-controls"]=m)}return f.role==="tab"&&(f["aria-selected"]=h,h||(f.tabIndex=-1),s&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=_n(p=>{s||(e==null||e(p),t!=null&&o&&!p.isPropagationStopped()&&o(t,p))}),[f,{isActive:h}]}const T2=x.forwardRef((t,e)=>{let{as:n=rT,active:r,eventKey:i}=t,s=VH(t,FH);const[o,l]=E2(Object.assign({key:Lf(i,s.href),active:r},s));return o[bc("active")]=l.isActive,b.jsx(n,Object.assign({},s,o,{ref:e}))});T2.displayName="NavItem";const $H=T2,jH=["as","onSelect","activeKey","role","onKeyDown"];function BH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const LA=()=>{},MA=bc("event-key"),I2=x.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,l=BH(t,jH);const c=RN(),h=x.useRef(!1),f=x.useContext(vl),p=x.useContext(w2);let m,y;p&&(s=s||"tablist",i=p.activeKey,m=p.getControlledId,y=p.getControllerId);const v=x.useRef(null),w=I=>{const E=v.current;if(!E)return null;const P=Fs(E,`[${MA}]:not([aria-disabled=true])`),O=E.querySelector("[aria-selected=true]");if(!O||O!==document.activeElement)return null;const D=P.indexOf(O);if(D===-1)return null;let N=D+I;return N>=P.length&&(N=0),N<0&&(N=P.length-1),P[N]},R=(I,E)=>{I!=null&&(r==null||r(I,E),f==null||f(I,E))},T=I=>{if(o==null||o(I),!p)return;let E;switch(I.key){case"ArrowLeft":case"ArrowUp":E=w(-1);break;case"ArrowRight":case"ArrowDown":E=w(1);break;default:return}E&&(I.preventDefault(),R(E.dataset[dH("EventKey")]||null,I),h.current=!0,c())};x.useEffect(()=>{if(v.current&&h.current){const I=v.current.querySelector(`[${MA}][aria-selected=true]`);I==null||I.focus()}h.current=!1});const S=Nl(e,v);return b.jsx(vl.Provider,{value:R,children:b.jsx(mT.Provider,{value:{role:s,activeKey:Lf(i),getControlledId:m||LA,getControllerId:y||LA},children:b.jsx(n,Object.assign({},l,{onKeyDown:T,ref:S,role:s}))})})});I2.displayName="Nav";const UH=Object.assign(I2,{Item:$H});var Qp;function FA(t){if((!Qp&&Qp!==0||t)&&Rc){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Qp=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Qp}function o0(t){t===void 0&&(t=gd());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function zH(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const VA=bc("modal-open");class qH{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return zH(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Hs(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(VA,""),Hs(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(VA),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const wT=qH,a0=(t,e)=>Rc?t==null?(e||gd()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function WH(t,e){const n=yy(),[r,i]=x.useState(()=>a0(t,n==null?void 0:n.document));if(!r){const s=a0(t);s&&i(s)}return x.useEffect(()=>{e&&r&&e(r)},[e,r]),x.useEffect(()=>{const s=a0(t);s!==r&&i(s)},[t,r]),r}function KH({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=x.useRef(null),o=x.useRef(e),l=_n(n);x.useEffect(()=>{e?o.current=!0:l(s.current)},[e,l]);const c=Nl(s,t.ref),h=x.cloneElement(t,{ref:c});return e?h:i||!o.current&&r?null:h}function HH({in:t,onTransition:e}){const n=x.useRef(null),r=x.useRef(!0),i=_n(e);return dg(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),dg(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function GH({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=x.useState(!e);e&&s&&o(!1);const l=HH({in:!!e,onTransition:h=>{const f=()=>{h.isStale()||(h.in?r==null||r(h.element,h.initial):(o(!0),n==null||n(h.element)))};Promise.resolve(i(h)).then(f,p=>{throw h.in||o(!0),p})}}),c=Nl(l,t.ref);return s&&!e?null:x.cloneElement(t,{ref:c})}function $A(t,e,n){return t?b.jsx(t,Object.assign({},n)):e?b.jsx(GH,Object.assign({},n,{transition:e})):b.jsx(KH,Object.assign({},n))}function QH(t){return t.code==="Escape"||t.keyCode===27}const YH=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function XH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let l0;function JH(t){return l0||(l0=new wT({ownerDocument:t==null?void 0:t.document})),l0}function ZH(t){const e=yy(),n=t||JH(e),r=x.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:x.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:x.useCallback(i=>{r.current.backdrop=i},[])})}const S2=x.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:l=!0,keyboard:c=!0,onBackdropClick:h,onEscapeKeyDown:f,transition:p,runTransition:m,backdropTransition:y,runBackdropTransition:v,autoFocus:w=!0,enforceFocus:R=!0,restoreFocus:T=!0,restoreFocusOptions:S,renderDialog:I,renderBackdrop:E=Ze=>b.jsx("div",Object.assign({},Ze)),manager:P,container:O,onShow:D,onHide:N=()=>{},onExit:W,onExited:Y,onExiting:ie,onEnter:he,onEntering:ve,onEntered:Fe}=t,Ie=XH(t,YH);const Ve=yy(),Me=WH(O),G=ZH(P),ce=mN(),ae=gN(n),[we,Te]=x.useState(!n),$e=x.useRef(null);x.useImperativeHandle(e,()=>G,[G]),Rc&&!ae&&n&&($e.current=o0(Ve==null?void 0:Ve.document)),n&&we&&Te(!1);const je=_n(()=>{if(G.add(),Vt.current=Uo(document,"keydown",_t),Ge.current=Uo(document,"focus",()=>setTimeout(at),!0),D&&D(),w){var Ze,sr;const zt=o0((Ze=(sr=G.dialog)==null?void 0:sr.ownerDocument)!=null?Ze:Ve==null?void 0:Ve.document);G.dialog&&zt&&!gg(G.dialog,zt)&&($e.current=zt,G.dialog.focus())}}),ke=_n(()=>{if(G.remove(),Vt.current==null||Vt.current(),Ge.current==null||Ge.current(),T){var Ze;(Ze=$e.current)==null||Ze.focus==null||Ze.focus(S),$e.current=null}});x.useEffect(()=>{!n||!Me||je()},[n,Me,je]),x.useEffect(()=>{we&&ke()},[we,ke]),IN(()=>{ke()});const at=_n(()=>{if(!R||!ce()||!G.isTopModal())return;const Ze=o0(Ve==null?void 0:Ve.document);G.dialog&&Ze&&!gg(G.dialog,Ze)&&G.dialog.focus()}),Jt=_n(Ze=>{Ze.target===Ze.currentTarget&&(h==null||h(Ze),l===!0&&N())}),_t=_n(Ze=>{c&&QH(Ze)&&G.isTopModal()&&(f==null||f(Ze),Ze.defaultPrevented||N())}),Ge=x.useRef(),Vt=x.useRef(),ct=(...Ze)=>{Te(!0),Y==null||Y(...Ze)};if(!Me)return null;const xt=Object.assign({role:r,ref:G.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Ie,{style:s,className:i,tabIndex:-1});let wt=I?I(xt):b.jsx("div",Object.assign({},xt,{children:x.cloneElement(o,{role:"document"})}));wt=$A(p,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:W,onExiting:ie,onExited:ct,onEnter:he,onEntering:ve,onEntered:Fe,children:wt});let kt=null;return l&&(kt=E({ref:G.setBackdropRef,onClick:Jt}),kt=$A(y,v,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:kt})),b.jsx(b.Fragment,{children:Ou.createPortal(b.jsxs(b.Fragment,{children:[kt,wt]}),Me)})});S2.displayName="Modal";const x2=Object.assign(S2,{Manager:wT});function eG(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function tG(t,e){t.classList?t.classList.add(e):eG(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function jA(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function nG(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=jA(t.className,e):t.setAttribute("class",jA(t.className&&t.className.baseVal||"",e))}const ou={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class R2 extends wT{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Hs(n,{[e]:`${parseFloat(Hs(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Hs(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(tG(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Fs(n,ou.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),Fs(n,ou.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),Fs(n,ou.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();nG(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Fs(n,ou.FIXED_CONTENT).forEach(s=>this.restore(r,s)),Fs(n,ou.STICKY_CONTENT).forEach(s=>this.restore(i,s)),Fs(n,ou.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let u0;function b2(t){return u0||(u0=new R2(t)),u0}const A2=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ye(e,"modal-body"),b.jsx(n,{ref:i,className:Be(t,e),...r})));A2.displayName="ModalBody";const rG=A2,iG=x.createContext({onHide(){}}),ET=iG,C2=x.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:l,...c},h)=>{t=Ye(t,"modal");const f=`${t}-dialog`,p=typeof s=="string"?`${t}-fullscreen-${s}`:`${t}-fullscreen`;return b.jsx("div",{...c,ref:h,className:Be(f,e,i&&`${t}-${i}`,r&&`${f}-centered`,l&&`${f}-scrollable`,s&&p),children:b.jsx("div",{className:Be(`${t}-content`,n),children:o})})});C2.displayName="ModalDialog";const P2=C2,O2=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ye(e,"modal-footer"),b.jsx(n,{ref:i,className:Be(t,e),...r})));O2.displayName="ModalFooter";const sG=O2,oG=x.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const l=x.useContext(ET),c=_n(()=>{l==null||l.onHide(),r==null||r()});return b.jsxs("div",{ref:o,...s,children:[i,n&&b.jsx(IW,{"aria-label":t,variant:e,onClick:c})]})}),D2=oG,k2=x.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=Ye(t,"modal-header"),b.jsx(D2,{ref:s,...i,className:Be(e,t),closeLabel:n,closeButton:r})));k2.displayName="ModalHeader";const aG=k2,lG=dN("h4"),N2=x.forwardRef(({className:t,bsPrefix:e,as:n=lG,...r},i)=>(e=Ye(e,"modal-title"),b.jsx(n,{ref:i,className:Be(t,e),...r})));N2.displayName="ModalTitle";const uG=N2;function cG(t){return b.jsx(iT,{...t,timeout:null})}function hG(t){return b.jsx(iT,{...t,timeout:null})}const L2=x.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o=P2,"aria-labelledby":l,"aria-describedby":c,"aria-label":h,show:f=!1,animation:p=!0,backdrop:m=!0,keyboard:y=!0,onEscapeKeyDown:v,onShow:w,onHide:R,container:T,autoFocus:S=!0,enforceFocus:I=!0,restoreFocus:E=!0,restoreFocusOptions:P,onEntered:O,onExit:D,onExiting:N,onEnter:W,onEntering:Y,onExited:ie,backdropClassName:he,manager:ve,...Fe},Ie)=>{const[Ve,Me]=x.useState({}),[G,ce]=x.useState(!1),ae=x.useRef(!1),we=x.useRef(!1),Te=x.useRef(null),[$e,je]=pN(),ke=Nl(Ie,je),at=_n(R),Jt=sN();t=Ye(t,"modal");const _t=x.useMemo(()=>({onHide:at}),[at]);function Ge(){return ve||b2({isRTL:Jt})}function Vt(Ke){if(!Rc)return;const Zt=Ge().getScrollbarWidth()>0,ee=Ke.scrollHeight>gd(Ke).documentElement.clientHeight;Me({paddingRight:Zt&&!ee?FA():void 0,paddingLeft:!Zt&&ee?FA():void 0})}const ct=_n(()=>{$e&&Vt($e.dialog)});IN(()=>{Hw(window,"resize",ct),Te.current==null||Te.current()});const xt=()=>{ae.current=!0},wt=Ke=>{ae.current&&$e&&Ke.target===$e.dialog&&(we.current=!0),ae.current=!1},kt=()=>{ce(!0),Te.current=cN($e.dialog,()=>{ce(!1)})},Ze=Ke=>{Ke.target===Ke.currentTarget&&kt()},sr=Ke=>{if(m==="static"){Ze(Ke);return}if(we.current||Ke.target!==Ke.currentTarget){we.current=!1;return}R==null||R()},zt=Ke=>{y?v==null||v(Ke):(Ke.preventDefault(),m==="static"&&kt())},Hr=(Ke,Zt)=>{Ke&&Vt(Ke),W==null||W(Ke,Zt)},Di=Ke=>{Te.current==null||Te.current(),D==null||D(Ke)},Nt=(Ke,Zt)=>{Y==null||Y(Ke,Zt),Z1(window,"resize",ct)},qt=Ke=>{Ke&&(Ke.style.display=""),ie==null||ie(Ke),Hw(window,"resize",ct)},Nn=x.useCallback(Ke=>b.jsx("div",{...Ke,className:Be(`${t}-backdrop`,he,!p&&"show")}),[p,he,t]),pn={...n,...Ve};pn.display="block";const In=Ke=>b.jsx("div",{role:"dialog",...Ke,style:pn,className:Be(e,t,G&&`${t}-static`,!p&&"show"),onClick:m?sr:void 0,onMouseUp:wt,"aria-label":h,"aria-labelledby":l,"aria-describedby":c,children:b.jsx(o,{...Fe,onMouseDown:xt,className:r,contentClassName:i,children:s})});return b.jsx(ET.Provider,{value:_t,children:b.jsx(x2,{show:f,ref:ke,backdrop:m,container:T,keyboard:!0,autoFocus:S,enforceFocus:I,restoreFocus:E,restoreFocusOptions:P,onEscapeKeyDown:zt,onShow:w,onHide:R,onEnter:Hr,onEntering:Nt,onEntered:O,onExit:Di,onExiting:N,onExited:qt,manager:Ge(),transition:p?cG:void 0,backdropTransition:p?hG:void 0,renderBackdrop:Nn,renderDialog:In})})});L2.displayName="Modal";const $s=Object.assign(L2,{Body:rG,Header:aG,Title:uG,Footer:sG,Dialog:P2,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var BA={exports:{}},Jw={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(o,l,c,h,f,p){var m=h||"<<anonymous>>",y=p||c;if(l[c]==null)return o?new Error("Required "+f+" `"+y+"` was not specified "+("in `"+m+"`.")):null;for(var v=arguments.length,w=Array(v>6?v-6:0),R=6;R<v;R++)w[R-6]=arguments[R];return r.apply(void 0,[l,c,m,f,y].concat(w))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}t.exports=e.default})(Jw,Jw.exports);var fG=Jw.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=fG,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];function h(){for(var f=arguments.length,p=Array(f),m=0;m<f;m++)p[m]=arguments[m];var y=null;return l.forEach(function(v){if(y==null){var w=v.apply(void 0,p);w!=null&&(y=w)}}),y}return(0,r.default)(h)}t.exports=e.default})(BA,BA.exports);const M2=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ye(e,"nav-item"),b.jsx(n,{ref:i,className:Be(t,e),...r})));M2.displayName="NavItem";const dG=M2,F2=x.forwardRef(({bsPrefix:t,className:e,as:n=vN,active:r,eventKey:i,disabled:s=!1,...o},l)=>{t=Ye(t,"nav-link");const[c,h]=E2({key:Lf(i,o.href),active:r,disabled:s,...o});return b.jsx(n,{...o,...c,ref:l,disabled:s,className:Be(e,t,s&&"disabled",h.isActive&&"active")})});F2.displayName="NavLink";const pG=F2,V2=x.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s=!1,justify:o=!1,navbar:l,navbarScroll:c,className:h,activeKey:f,...p}=J1(t,{activeKey:"onSelect"}),m=Ye(r,"nav");let y,v,w=!1;const R=x.useContext(Ll),T=x.useContext(xW);return R?(y=R.bsPrefix,w=l??!0):T&&({cardHeaderBsPrefix:v}=T),b.jsx(UH,{as:n,ref:e,activeKey:f,className:Be(h,{[m]:!w,[`${y}-nav`]:w,[`${y}-nav-scroll`]:w&&c,[`${v}-${i}`]:!!v,[`${m}-${i}`]:!!i,[`${m}-fill`]:s,[`${m}-justified`]:o}),...p})});V2.displayName="Nav";const Eh=Object.assign(V2,{Item:dG,Link:pG}),$2=x.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=Ye(t,"navbar-brand");const s=n||(r.href?"a":"span");return b.jsx(s,{...r,ref:i,className:Be(e,t)})});$2.displayName="NavbarBrand";const mG=$2,j2=x.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=Ye(e,"navbar-collapse");const i=x.useContext(Ll);return b.jsx(fN,{in:!!(i&&i.expanded),...n,children:b.jsx("div",{ref:r,className:e,children:t})})});j2.displayName="NavbarCollapse";const gG=j2,B2=x.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...o},l)=>{t=Ye(t,"navbar-toggler");const{onToggle:c,expanded:h}=x.useContext(Ll)||{},f=_n(p=>{s&&s(p),c&&c()});return i==="button"&&(o.type="button"),b.jsx(i,{...o,ref:l,onClick:f,"aria-label":r,className:Be(e,t,!h&&"collapsed"),children:n||b.jsx("span",{className:`${t}-icon`})})});B2.displayName="NavbarToggle";const yG=B2,Zw=new WeakMap,UA=(t,e)=>{if(!t||!e)return;const n=Zw.get(e)||new Map;Zw.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function vG(t,e=typeof window>"u"?void 0:window){const n=UA(t,e),[r,i]=x.useState(()=>n?n.matches:!1);return dg(()=>{let s=UA(t,e);if(!s)return i(!1);let o=Zw.get(e);const l=()=>{i(s.matches)};return s.refCount++,s.addListener(l),l(),()=>{s.removeListener(l),s.refCount--,s.refCount<=0&&(o==null||o.delete(s.media)),s=void 0}},[t]),r}function _G(t){const e=Object.keys(t);function n(l,c){return l===c?c:l?`${l} and ${c}`:c}function r(l){return e[Math.min(e.indexOf(l)+1,e.length-1)]}function i(l){const c=r(l);let h=t[c];return typeof h=="number"?h=`${h-.2}px`:h=`calc(${h} - 0.2px)`,`(max-width: ${h})`}function s(l){let c=t[l];return typeof c=="number"&&(c=`${c}px`),`(min-width: ${c})`}function o(l,c,h){let f;typeof l=="object"?(f=l,h=c,c=!0):(c=c||!0,f={[l]:c});let p=x.useMemo(()=>Object.entries(f).reduce((m,[y,v])=>((v==="up"||v===!0)&&(m=n(m,s(y))),(v==="down"||v===!0)&&(m=n(m,i(y))),m),""),[JSON.stringify(f)]);return vG(p,h)}return o}const wG=_G({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),U2=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ye(e,"offcanvas-body"),b.jsx(n,{ref:i,className:Be(t,e),...r})));U2.displayName="OffcanvasBody";const EG=U2,TG={[zi]:"show",[Vs]:"show"},z2=x.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:o=!1,...l},c)=>(t=Ye(t,"offcanvas"),b.jsx(tT,{ref:c,addEndListener:eT,in:r,mountOnEnter:i,unmountOnExit:s,appear:o,...l,childRef:n.ref,children:(h,f)=>x.cloneElement(n,{...f,className:Be(e,n.props.className,(h===zi||h===Df)&&`${t}-toggling`,TG[h])})})));z2.displayName="OffcanvasToggling";const IG=z2,q2=x.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=Ye(t,"offcanvas-header"),b.jsx(D2,{ref:s,...i,className:Be(e,t),closeLabel:n,closeButton:r})));q2.displayName="OffcanvasHeader";const SG=q2,xG=dN("h5"),W2=x.forwardRef(({className:t,bsPrefix:e,as:n=xG,...r},i)=>(e=Ye(e,"offcanvas-title"),b.jsx(n,{ref:i,className:Be(t,e),...r})));W2.displayName="OffcanvasTitle";const RG=W2;function bG(t){return b.jsx(IG,{...t})}function AG(t){return b.jsx(iT,{...t})}const K2=x.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:o=!1,backdrop:l=!0,keyboard:c=!0,scroll:h=!1,onEscapeKeyDown:f,onShow:p,onHide:m,container:y,autoFocus:v=!0,enforceFocus:w=!0,restoreFocus:R=!0,restoreFocusOptions:T,onEntered:S,onExit:I,onExiting:E,onEnter:P,onEntering:O,onExited:D,backdropClassName:N,manager:W,renderStaticNode:Y=!1,...ie},he)=>{const ve=x.useRef();t=Ye(t,"offcanvas");const{onToggle:Fe}=x.useContext(Ll)||{},[Ie,Ve]=x.useState(!1),Me=wG(s||"xs","up");x.useEffect(()=>{Ve(s?o&&!Me:o)},[o,s,Me]);const G=_n(()=>{Fe==null||Fe(),m==null||m()}),ce=x.useMemo(()=>({onHide:G}),[G]);function ae(){return W||(h?(ve.current||(ve.current=new R2({handleContainerOverflow:!1})),ve.current):b2())}const we=(ke,...at)=>{ke&&(ke.style.visibility="visible"),P==null||P(ke,...at)},Te=(ke,...at)=>{ke&&(ke.style.visibility=""),D==null||D(...at)},$e=x.useCallback(ke=>b.jsx("div",{...ke,className:Be(`${t}-backdrop`,N)}),[N,t]),je=ke=>b.jsx("div",{...ke,...ie,className:Be(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return b.jsxs(b.Fragment,{children:[!Ie&&(s||Y)&&je({}),b.jsx(ET.Provider,{value:ce,children:b.jsx(x2,{show:Ie,ref:he,backdrop:l,container:y,keyboard:c,autoFocus:v,enforceFocus:w&&!h,restoreFocus:R,restoreFocusOptions:T,onEscapeKeyDown:f,onShow:p,onHide:G,onEnter:we,onEntering:O,onEntered:S,onExit:I,onExiting:E,onExited:Te,manager:ae(),transition:bG,backdropTransition:AG,renderBackdrop:$e,renderDialog:je})})]})});K2.displayName="Offcanvas";const CG=Object.assign(K2,{Body:EG,Header:SG,Title:RG}),H2=x.forwardRef((t,e)=>{const n=x.useContext(Ll);return b.jsx(CG,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});H2.displayName="NavbarOffcanvas";const PG=H2,G2=x.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Ye(e,"navbar-text"),b.jsx(n,{ref:i,className:Be(t,e),...r})));G2.displayName="NavbarText";const OG=G2,Q2=x.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:o,sticky:l,className:c,as:h="nav",expanded:f,onToggle:p,onSelect:m,collapseOnSelect:y=!1,...v}=J1(t,{expanded:"onToggle"}),w=Ye(n,"navbar"),R=x.useCallback((...I)=>{m==null||m(...I),y&&f&&(p==null||p(!1))},[m,y,f,p]);v.role===void 0&&h!=="nav"&&(v.role="navigation");let T=`${w}-expand`;typeof r=="string"&&(T=`${T}-${r}`);const S=x.useMemo(()=>({onToggle:()=>p==null?void 0:p(!f),bsPrefix:w,expanded:!!f,expand:r}),[w,f,r,p]);return b.jsx(Ll.Provider,{value:S,children:b.jsx(vl.Provider,{value:R,children:b.jsx(h,{ref:e,...v,className:Be(c,w,r&&T,i&&`${w}-${i}`,s&&`bg-${s}`,l&&`sticky-${l}`,o&&`fixed-${o}`)})})})});Q2.displayName="Navbar";const Yp=Object.assign(Q2,{Brand:mG,Collapse:gG,Offcanvas:PG,Text:OG,Toggle:yG}),Y2=x.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=Ye(t,"row"),o=rN(),l=iN(),c=`${s}-cols`,h=[];return o.forEach(f=>{const p=r[f];delete r[f];let m;p!=null&&typeof p=="object"?{cols:m}=p:m=p;const y=f!==l?`-${f}`:"";m!=null&&h.push(`${c}${y}-${m}`)}),b.jsx(n,{ref:i,...r,className:Be(e,s,...h)})});Y2.displayName="Row";const zA=Y2,qA=({children:t})=>b.jsx(b.Fragment,{children:b.jsx(SW,{size:"sm",role:"group","aria-label":"Setting text and image",style:{marginBottom:"0.5rem"},children:t})}),el=({children:t,selectType:e,handleOnClick:n,types:r})=>{const{type:i,title:s}=r;return b.jsx(b.Fragment,{children:b.jsx(pg,{variant:"outline-myInfo",className:"button-hover",active:e.type===i,onClick:()=>{n(i,s)},children:t})})},DG=({id:t})=>{const{showType_select:e,showType_beenSelect:n,showType_bestDamage:r,handleShowType_select:i,handleShowType_beenSelect:s,handleShowType_bestDamage:o}=Or();let l=null,c=null;switch(t){case Gi:l=e,c=i;break;case X1:l=n,c=s;break;case pd:l=r,c=o;break}return b.jsxs(b.Fragment,{children:[b.jsx(el,{types:{type:Q1,title:""},selectType:l,handleOnClick:c,children:b.jsx(WA,{color:"#22c02a",text:"草"})}),b.jsx(el,{types:{type:Y1,title:""},selectType:l,handleOnClick:c,children:b.jsx(WA,{color:"#22c02a",text:" "})}),b.jsx(el,{types:{type:kl,title:""},selectType:l,handleOnClick:c,children:b.jsx(_g,{text:"草"})}),b.jsx(el,{types:{type:Jk,title:""},selectType:l,handleOnClick:c,children:b.jsx(_g,{text:"不顯示"})})]})},WA=({color:t,text:e})=>b.jsx("div",{className:"button-type-color",children:b.jsx("span",{style:{backgroundColor:t},children:e})}),kG=({id:t})=>{const{showInfo_select:e,showInfo_beenSelect:n,showInfo_bestDamage:r,handleShowInfo_select:i,handleShowInfo_beenSelect:s,handleShowInfo_bestDamage:o}=Or();let l=null,c=null;switch(t){case Gi:l=e,c=i;break;case X1:l=n,c=s;break;case pd:l=r,c=o;break}return b.jsxs(b.Fragment,{children:[b.jsx(el,{types:{type:hg,title:""},selectType:l,handleOnClick:c,children:b.jsx(X2,{})}),b.jsx(el,{types:{type:G1,title:""},selectType:l,handleOnClick:c,children:b.jsx(NG,{text:"Name"})}),b.jsx(el,{types:{type:kl,title:""},selectType:l,handleOnClick:c,children:b.jsx(_g,{text:"Name"})})]})},X2=()=>b.jsx("img",{src:D8,alt:"顯示方式",title:"顯示方式",className:"buttonImage"}),_g=({text:t})=>b.jsx("span",{children:t}),NG=({text:t})=>b.jsxs("div",{className:"buttonImageText",children:[b.jsx(X2,{}),b.jsx(_g,{text:t})]}),LG=()=>{const{handleFilterPopular:t}=Or();return b.jsx("div",{children:b.jsx(Xw,{children:b.jsx(Xw.Check,{type:"switch",id:"showPopular-switch",label:"道館常見角色",onChange:t})})})},MG=()=>{const{filterType:t,handleFilterType:e}=Or();return b.jsx(b.Fragment,{children:b.jsxs(os,{children:[b.jsx(os.Toggle,{variant:"outline-myInfo",className:"button-hover",id:"t-dropdownBtnFilterType",children:b.jsxs("span",{children:["篩選屬性 : ",t.zhName||"error"]})}),b.jsxs(os.Menu,{style:{width:"auto",height:"150px",overflowY:"auto"},children:[b.jsx(os.Item,{as:"button",className:"dropdown-type",style:{backgroundColor:"#17CCF0"},onClick:()=>e(fg),children:b.jsx("span",{children:"全部"})}),md.map(n=>{const{zhName:r,bgColor:i}=n;return b.jsx(os.Item,{as:"button",className:"dropdown-type",style:{backgroundColor:i},onClick:()=>e(n),children:b.jsx("span",{children:r})},Hi())})]})]})})},FG=()=>{const{filterTier:t,handleFilterTier:e}=Or();return b.jsx(VG,{filterTitle:"等級",filterZh:t.zhName,handleOnClick:e,data:Zk})},VG=x.memo(function({filterTitle:e,filterZh:n,handleOnClick:r,data:i}){const s={backgroundColor:"#17CCF0"};return b.jsx(b.Fragment,{children:b.jsxs(os,{children:[b.jsx(os.Toggle,{variant:"outline-myInfo",className:"button-hover",id:"t-dropdownBtnTier",children:b.jsxs("span",{children:[e," : ",n||"error"]})}),b.jsxs(os.Menu,{style:{width:"auto",height:"150px",overflowY:"auto"},children:[b.jsx(os.Item,{as:"button",className:"dropdown-type",style:s,onClick:()=>r(fg),children:b.jsx("span",{children:"全部"})}),i.map(o=>{const{zhName:l,bgColor:c}=o;return b.jsx(os.Item,{as:"button",className:"dropdown-type",onClick:()=>r(o),style:c===""?s:{backgroundColor:c},children:b.jsx("span",{children:l})},Hi())})]})]})})}),$G=({id:t})=>b.jsxs(b.Fragment,{children:[b.jsx(qA,{children:b.jsx(kG,{id:t})}),b.jsx(qA,{children:b.jsx(DG,{id:t})}),t===Gi&&b.jsx(MG,{}),t===Gi&&b.jsx(LG,{}),t===pd&&b.jsx(FG,{})]}),J2=x.createContext(),Z2="darkTheme",jG=()=>{const t=window.matchMedia("(prefers-color-scheme:dark)").matches;return localStorage.getItem(Z2)==="true"||t},BG=({children:t})=>{const[e,n]=x.useState(jG),r=()=>{const o=!e;n(o),localStorage.setItem(Z2,o)},i=e?"dark":"light",s=e?"white-50":"mySecondary";return x.useEffect(()=>{document.body.classList.toggle("bg-darkBg",e),document.body.classList.toggle("text-white-50",e)},[e]),b.jsx(J2.Provider,{value:{isDarkMode:e,handleIsDarkMode:r,textColor:s,bgColor:i},children:t})},Ac=()=>x.useContext(J2),UG=()=>{const{searchPokemon:t,handleSearchPokemon:e}=Or(),{bgColor:n}=Ac();return b.jsx(b.Fragment,{children:b.jsx(LH,{size:"sm",className:"search-btn",children:b.jsx(Xw.Control,{"data-bs-theme":n,className:"bg-body",type:"Search",placeholder:"🔍 Search","aria-label":"Search",value:t,onChange:r=>{e(r.target.value)}})})})},zG=({title:t,id:e})=>{const{bgColor:n,textColor:r}=Ac(),[i,s]=x.useState(!1);return b.jsxs("div",{className:"group-info",children:[b.jsxs("div",{children:[b.jsx("i",{"aria-controls":"collapse","aria-expanded":i,onClick:()=>s(!i),children:b.jsx(R8,{className:"btn setting-icon"})}),b.jsx(fN,{in:i,"data-bs-theme":n,children:b.jsx("div",{id:"collapse",children:b.jsx("div",{className:"card card-body",children:b.jsx($G,{id:e})})})})]}),b.jsx("span",{className:"title",children:t}),e===Gi&&b.jsx(UG,{})]})},qG=x.memo(zG);function WG(t){return dd({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"}}]})(t)}(()=>{var t={296:(i,s,o)=>{var l=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt,m=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g,y=typeof self=="object"&&self&&self.Object===Object&&self,v=m||y||Function("return this")(),w=Object.prototype.toString,R=Math.max,T=Math.min,S=function(){return v.Date.now()};function I(P){var O=typeof P;return!!P&&(O=="object"||O=="function")}function E(P){if(typeof P=="number")return P;if(function(N){return typeof N=="symbol"||function(W){return!!W&&typeof W=="object"}(N)&&w.call(N)=="[object Symbol]"}(P))return NaN;if(I(P)){var O=typeof P.valueOf=="function"?P.valueOf():P;P=I(O)?O+"":O}if(typeof P!="string")return P===0?P:+P;P=P.replace(l,"");var D=h.test(P);return D||f.test(P)?p(P.slice(2),D?2:8):c.test(P)?NaN:+P}i.exports=function(P,O,D){var N,W,Y,ie,he,ve,Fe=0,Ie=!1,Ve=!1,Me=!0;if(typeof P!="function")throw new TypeError("Expected a function");function G($e){var je=N,ke=W;return N=W=void 0,Fe=$e,ie=P.apply(ke,je)}function ce($e){var je=$e-ve;return ve===void 0||je>=O||je<0||Ve&&$e-Fe>=Y}function ae(){var $e=S();if(ce($e))return we($e);he=setTimeout(ae,function(je){var ke=O-(je-ve);return Ve?T(ke,Y-(je-Fe)):ke}($e))}function we($e){return he=void 0,Me&&N?G($e):(N=W=void 0,ie)}function Te(){var $e=S(),je=ce($e);if(N=arguments,W=this,ve=$e,je){if(he===void 0)return function(ke){return Fe=ke,he=setTimeout(ae,O),Ie?G(ke):ie}(ve);if(Ve)return he=setTimeout(ae,O),G(ve)}return he===void 0&&(he=setTimeout(ae,O)),ie}return O=E(O)||0,I(D)&&(Ie=!!D.leading,Y=(Ve="maxWait"in D)?R(E(D.maxWait)||0,O):Y,Me="trailing"in D?!!D.trailing:Me),Te.cancel=function(){he!==void 0&&clearTimeout(he),Fe=0,N=ve=W=he=void 0},Te.flush=function(){return he===void 0?ie:we(S())},Te}},96:(i,s,o)=>{var l="Expected a function",c=NaN,h="[object Symbol]",f=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,y=/^0o[0-7]+$/i,v=parseInt,w=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g,R=typeof self=="object"&&self&&self.Object===Object&&self,T=w||R||Function("return this")(),S=Object.prototype.toString,I=Math.max,E=Math.min,P=function(){return T.Date.now()};function O(N){var W=typeof N;return!!N&&(W=="object"||W=="function")}function D(N){if(typeof N=="number")return N;if(function(ie){return typeof ie=="symbol"||function(he){return!!he&&typeof he=="object"}(ie)&&S.call(ie)==h}(N))return c;if(O(N)){var W=typeof N.valueOf=="function"?N.valueOf():N;N=O(W)?W+"":W}if(typeof N!="string")return N===0?N:+N;N=N.replace(f,"");var Y=m.test(N);return Y||y.test(N)?v(N.slice(2),Y?2:8):p.test(N)?c:+N}i.exports=function(N,W,Y){var ie=!0,he=!0;if(typeof N!="function")throw new TypeError(l);return O(Y)&&(ie="leading"in Y?!!Y.leading:ie,he="trailing"in Y?!!Y.trailing:he),function(ve,Fe,Ie){var Ve,Me,G,ce,ae,we,Te=0,$e=!1,je=!1,ke=!0;if(typeof ve!="function")throw new TypeError(l);function at(ct){var xt=Ve,wt=Me;return Ve=Me=void 0,Te=ct,ce=ve.apply(wt,xt)}function Jt(ct){var xt=ct-we;return we===void 0||xt>=Fe||xt<0||je&&ct-Te>=G}function _t(){var ct=P();if(Jt(ct))return Ge(ct);ae=setTimeout(_t,function(xt){var wt=Fe-(xt-we);return je?E(wt,G-(xt-Te)):wt}(ct))}function Ge(ct){return ae=void 0,ke&&Ve?at(ct):(Ve=Me=void 0,ce)}function Vt(){var ct=P(),xt=Jt(ct);if(Ve=arguments,Me=this,we=ct,xt){if(ae===void 0)return function(wt){return Te=wt,ae=setTimeout(_t,Fe),$e?at(wt):ce}(we);if(je)return ae=setTimeout(_t,Fe),at(we)}return ae===void 0&&(ae=setTimeout(_t,Fe)),ce}return Fe=D(Fe)||0,O(Ie)&&($e=!!Ie.leading,G=(je="maxWait"in Ie)?I(D(Ie.maxWait)||0,Fe):G,ke="trailing"in Ie?!!Ie.trailing:ke),Vt.cancel=function(){ae!==void 0&&clearTimeout(ae),Te=0,Ve=we=Me=ae=void 0},Vt.flush=function(){return ae===void 0?ce:Ge(P())},Vt}(N,W,{leading:ie,maxWait:W,trailing:he})}},703:(i,s,o)=>{var l=o(414);function c(){}function h(){}h.resetWarningCache=c,i.exports=function(){function f(y,v,w,R,T,S){if(S!==l){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}function p(){return f}f.isRequired=f;var m={array:f,bigint:f,bool:f,func:f,number:f,object:f,string:f,symbol:f,any:f,arrayOf:p,element:f,elementType:f,instanceOf:p,node:f,objectOf:p,oneOf:p,oneOfType:p,shape:p,exact:p,checkPropTypes:h,resetWarningCache:c};return m.PropTypes=m,m}},697:(i,s,o)=>{i.exports=o(703)()},414:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function n(i){var s=e[i];if(s!==void 0)return s.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.n=i=>{var s=i&&i.__esModule?()=>i.default:()=>i;return n.d(s,{a:s}),s},n.d=(i,s)=>{for(var o in s)n.o(s,o)&&!n.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:s[o]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>kt,LazyLoadImage:()=>Zt,trackWindowScroll:()=>we});const i=x;var s=n.n(i),o=n(697);const l=B1;var c=n.n(l);function h(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function f(ee){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},f(ee)}function p(ee,L){var K=Object.keys(ee);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(ee);L&&(X=X.filter(function(Ae){return Object.getOwnPropertyDescriptor(ee,Ae).enumerable})),K.push.apply(K,X)}return K}function m(ee,L,K){return(L=v(L))in ee?Object.defineProperty(ee,L,{value:K,enumerable:!0,configurable:!0,writable:!0}):ee[L]=K,ee}function y(ee,L){for(var K=0;K<L.length;K++){var X=L[K];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(ee,v(X.key),X)}}function v(ee){var L=function(K,X){if(f(K)!=="object"||K===null)return K;var Ae=K[Symbol.toPrimitive];if(Ae!==void 0){var Ce=Ae.call(K,"string");if(f(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(K)}(ee);return f(L)==="symbol"?L:String(L)}function w(ee,L){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,X){return K.__proto__=X,K},w(ee,L)}function R(ee){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},R(ee)}var T=function(ee){ee.forEach(function(L){L.isIntersecting&&L.target.onVisible()})},S={},I=function(ee){(function(U,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(J&&J.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),J&&w(U,J)})(rt,ee);var L,K,X,Ae,Ce=(X=rt,Ae=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var U,J=R(X);if(Ae){var Ee=R(this).constructor;U=Reflect.construct(J,arguments,Ee)}else U=J.apply(this,arguments);return function(_e,ye){if(ye&&(f(ye)==="object"||typeof ye=="function"))return ye;if(ye!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(tt){if(tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt}(_e)}(this,U)});function rt(U){var J;if(function(_e,ye){if(!(_e instanceof ye))throw new TypeError("Cannot call a class as a function")}(this,rt),(J=Ce.call(this,U)).supportsObserver=!U.scrollPosition&&U.useIntersectionObserver&&h(),J.supportsObserver){var Ee=U.threshold;J.observer=function(_e){return S[_e]=S[_e]||new IntersectionObserver(T,{rootMargin:_e+"px"}),S[_e]}(Ee)}return J}return L=rt,K=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,J=this.placeholder.getBoundingClientRect(),Ee=c().findDOMNode(this.placeholder).style,_e=parseInt(Ee.getPropertyValue("margin-left"),10)||0,ye=parseInt(Ee.getPropertyValue("margin-top"),10)||0;return{bottom:U.y+J.bottom+ye,left:U.x+J.left+_e,right:U.x+J.right+_e,top:U.y+J.top+ye}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var U=this.props,J=U.scrollPosition,Ee=U.threshold,_e=this.getPlaceholderBoundingBox(J),ye=J.y+window.innerHeight,tt=J.x,F=J.x+window.innerWidth,j=J.y;return j-Ee<=_e.bottom&&ye+Ee>=_e.top&&tt-Ee<=_e.right&&F+Ee>=_e.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var U=this,J=this.props,Ee=J.className,_e=J.height,ye=J.placeholder,tt=J.style,F=J.width;if(ye&&typeof ye.type!="function")return s().cloneElement(ye,{ref:function(H){return U.placeholder=H}});var j=function(H){for(var ue=1;ue<arguments.length;ue++){var de=arguments[ue]!=null?arguments[ue]:{};ue%2?p(Object(de),!0).forEach(function(Se){m(H,Se,de[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(de)):p(Object(de)).forEach(function(Se){Object.defineProperty(H,Se,Object.getOwnPropertyDescriptor(de,Se))})}return H}({display:"inline-block"},tt);return F!==void 0&&(j.width=F),_e!==void 0&&(j.height=_e),s().createElement("span",{className:Ee,ref:function(H){return U.placeholder=H},style:j},ye)}}],K&&y(L.prototype,K),Object.defineProperty(L,"prototype",{writable:!1}),rt}(s().Component);I.propTypes={onVisible:o.PropTypes.func.isRequired,className:o.PropTypes.string,height:o.PropTypes.oneOfType([o.PropTypes.number,o.PropTypes.string]),placeholder:o.PropTypes.element,threshold:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool,scrollPosition:o.PropTypes.shape({x:o.PropTypes.number.isRequired,y:o.PropTypes.number.isRequired}),width:o.PropTypes.oneOfType([o.PropTypes.number,o.PropTypes.string])},I.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const E=I;var P=n(296),O=n.n(P),D=n(96),N=n.n(D),W=function(ee){var L=getComputedStyle(ee,null);return L.getPropertyValue("overflow")+L.getPropertyValue("overflow-y")+L.getPropertyValue("overflow-x")};const Y=function(ee){if(!(ee instanceof HTMLElement))return window;for(var L=ee;L&&L instanceof HTMLElement;){if(/(scroll|auto)/.test(W(L)))return L;L=L.parentNode}return window};function ie(ee){return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},ie(ee)}var he=["delayMethod","delayTime"];function ve(){return ve=Object.assign?Object.assign.bind():function(ee){for(var L=1;L<arguments.length;L++){var K=arguments[L];for(var X in K)Object.prototype.hasOwnProperty.call(K,X)&&(ee[X]=K[X])}return ee},ve.apply(this,arguments)}function Fe(ee,L){for(var K=0;K<L.length;K++){var X=L[K];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(ee,(Ae=function(Ce,rt){if(ie(Ce)!=="object"||Ce===null)return Ce;var U=Ce[Symbol.toPrimitive];if(U!==void 0){var J=U.call(Ce,"string");if(ie(J)!=="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ce)}(X.key),ie(Ae)==="symbol"?Ae:String(Ae)),X)}var Ae}function Ie(ee,L){return Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,X){return K.__proto__=X,K},Ie(ee,L)}function Ve(ee,L){if(L&&(ie(L)==="object"||typeof L=="function"))return L;if(L!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Me(ee)}function Me(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function G(ee){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},G(ee)}var ce=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},ae=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const we=function(ee){var L=function(K){(function(Ee,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(_e&&_e.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),Object.defineProperty(Ee,"prototype",{writable:!1}),_e&&Ie(Ee,_e)})(J,K);var X,Ae,Ce,rt,U=(Ce=J,rt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Ee,_e=G(Ce);if(rt){var ye=G(this).constructor;Ee=Reflect.construct(_e,arguments,ye)}else Ee=_e.apply(this,arguments);return Ve(this,Ee)});function J(Ee){var _e;if(function(tt,F){if(!(tt instanceof F))throw new TypeError("Cannot call a class as a function")}(this,J),(_e=U.call(this,Ee)).useIntersectionObserver=Ee.useIntersectionObserver&&h(),_e.useIntersectionObserver)return Ve(_e);var ye=_e.onChangeScroll.bind(Me(_e));return Ee.delayMethod==="debounce"?_e.delayedScroll=O()(ye,Ee.delayTime):Ee.delayMethod==="throttle"&&(_e.delayedScroll=N()(ye,Ee.delayTime)),_e.state={scrollPosition:{x:ce(),y:ae()}},_e.baseComponentRef=s().createRef(),_e}return X=J,(Ae=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||Y(c().findDOMNode(this.baseComponentRef.current))!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=Y(c().findDOMNode(this.baseComponentRef.current)),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:ce(),y:ae()}})}},{key:"render",value:function(){var Ee=this.props,_e=(Ee.delayMethod,Ee.delayTime,function(tt,F){if(tt==null)return{};var j,H,ue=function(Se,Ue){if(Se==null)return{};var Pe,Oe,It={},Lt=Object.keys(Se);for(Oe=0;Oe<Lt.length;Oe++)Pe=Lt[Oe],Ue.indexOf(Pe)>=0||(It[Pe]=Se[Pe]);return It}(tt,F);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(tt);for(H=0;H<de.length;H++)j=de[H],F.indexOf(j)>=0||Object.prototype.propertyIsEnumerable.call(tt,j)&&(ue[j]=tt[j])}return ue}(Ee,he)),ye=this.useIntersectionObserver?null:this.state.scrollPosition;return s().createElement(ee,ve({forwardRef:this.baseComponentRef,scrollPosition:ye},_e))}}])&&Fe(X.prototype,Ae),Object.defineProperty(X,"prototype",{writable:!1}),J}(s().Component);return L.propTypes={delayMethod:o.PropTypes.oneOf(["debounce","throttle"]),delayTime:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool},L.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},L};function Te(ee){return Te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},Te(ee)}function $e(ee,L){for(var K=0;K<L.length;K++){var X=L[K];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(ee,(Ae=function(Ce,rt){if(Te(Ce)!=="object"||Ce===null)return Ce;var U=Ce[Symbol.toPrimitive];if(U!==void 0){var J=U.call(Ce,"string");if(Te(J)!=="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ce)}(X.key),Te(Ae)==="symbol"?Ae:String(Ae)),X)}var Ae}function je(ee,L){return je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,X){return K.__proto__=X,K},je(ee,L)}function ke(ee){return ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},ke(ee)}var at=function(ee){(function(U,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(J&&J.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),J&&je(U,J)})(rt,ee);var L,K,X,Ae,Ce=(X=rt,Ae=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var U,J=ke(X);if(Ae){var Ee=ke(this).constructor;U=Reflect.construct(J,arguments,Ee)}else U=J.apply(this,arguments);return function(_e,ye){if(ye&&(Te(ye)==="object"||typeof ye=="function"))return ye;if(ye!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(tt){if(tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt}(_e)}(this,U)});function rt(U){return function(J,Ee){if(!(J instanceof Ee))throw new TypeError("Cannot call a class as a function")}(this,rt),Ce.call(this,U)}return L=rt,(K=[{key:"render",value:function(){return s().createElement(E,this.props)}}])&&$e(L.prototype,K),Object.defineProperty(L,"prototype",{writable:!1}),rt}(s().Component);const Jt=we(at);function _t(ee){return _t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},_t(ee)}function Ge(ee,L){for(var K=0;K<L.length;K++){var X=L[K];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(ee,(Ae=function(Ce,rt){if(_t(Ce)!=="object"||Ce===null)return Ce;var U=Ce[Symbol.toPrimitive];if(U!==void 0){var J=U.call(Ce,"string");if(_t(J)!=="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ce)}(X.key),_t(Ae)==="symbol"?Ae:String(Ae)),X)}var Ae}function Vt(ee,L){return Vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,X){return K.__proto__=X,K},Vt(ee,L)}function ct(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function xt(ee){return xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},xt(ee)}var wt=function(ee){(function(U,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(J&&J.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),J&&Vt(U,J)})(rt,ee);var L,K,X,Ae,Ce=(X=rt,Ae=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var U,J=xt(X);if(Ae){var Ee=xt(this).constructor;U=Reflect.construct(J,arguments,Ee)}else U=J.apply(this,arguments);return function(_e,ye){if(ye&&(_t(ye)==="object"||typeof ye=="function"))return ye;if(ye!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ct(_e)}(this,U)});function rt(U){var J;(function(F,j){if(!(F instanceof j))throw new TypeError("Cannot call a class as a function")})(this,rt),J=Ce.call(this,U);var Ee=U.afterLoad,_e=U.beforeLoad,ye=U.scrollPosition,tt=U.visibleByDefault;return J.state={visible:tt},tt&&(_e(),Ee()),J.onVisible=J.onVisible.bind(ct(J)),J.isScrollTracked=!!(ye&&Number.isFinite(ye.x)&&ye.x>=0&&Number.isFinite(ye.y)&&ye.y>=0),J}return L=rt,(K=[{key:"componentDidUpdate",value:function(U,J){J.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var U=this.props,J=U.className,Ee=U.delayMethod,_e=U.delayTime,ye=U.height,tt=U.placeholder,F=U.scrollPosition,j=U.style,H=U.threshold,ue=U.useIntersectionObserver,de=U.width;return this.isScrollTracked||ue&&h()?s().createElement(E,{className:J,height:ye,onVisible:this.onVisible,placeholder:tt,scrollPosition:F,style:j,threshold:H,useIntersectionObserver:ue,width:de}):s().createElement(Jt,{className:J,delayMethod:Ee,delayTime:_e,height:ye,onVisible:this.onVisible,placeholder:tt,style:j,threshold:H,width:de})}}])&&Ge(L.prototype,K),Object.defineProperty(L,"prototype",{writable:!1}),rt}(s().Component);wt.propTypes={afterLoad:o.PropTypes.func,beforeLoad:o.PropTypes.func,useIntersectionObserver:o.PropTypes.bool,visibleByDefault:o.PropTypes.bool},wt.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const kt=wt;function Ze(ee){return Ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},Ze(ee)}var sr=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function zt(ee,L){var K=Object.keys(ee);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(ee);L&&(X=X.filter(function(Ae){return Object.getOwnPropertyDescriptor(ee,Ae).enumerable})),K.push.apply(K,X)}return K}function Hr(ee){for(var L=1;L<arguments.length;L++){var K=arguments[L]!=null?arguments[L]:{};L%2?zt(Object(K),!0).forEach(function(X){Di(ee,X,K[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(K)):zt(Object(K)).forEach(function(X){Object.defineProperty(ee,X,Object.getOwnPropertyDescriptor(K,X))})}return ee}function Di(ee,L,K){return(L=Nn(L))in ee?Object.defineProperty(ee,L,{value:K,enumerable:!0,configurable:!0,writable:!0}):ee[L]=K,ee}function Nt(){return Nt=Object.assign?Object.assign.bind():function(ee){for(var L=1;L<arguments.length;L++){var K=arguments[L];for(var X in K)Object.prototype.hasOwnProperty.call(K,X)&&(ee[X]=K[X])}return ee},Nt.apply(this,arguments)}function qt(ee,L){for(var K=0;K<L.length;K++){var X=L[K];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(ee,Nn(X.key),X)}}function Nn(ee){var L=function(K,X){if(Ze(K)!=="object"||K===null)return K;var Ae=K[Symbol.toPrimitive];if(Ae!==void 0){var Ce=Ae.call(K,"string");if(Ze(Ce)!=="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(K)}(ee);return Ze(L)==="symbol"?L:String(L)}function pn(ee,L){return pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,X){return K.__proto__=X,K},pn(ee,L)}function In(ee){return In=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},In(ee)}var Ke=function(ee){(function(U,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(J&&J.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),J&&pn(U,J)})(rt,ee);var L,K,X,Ae,Ce=(X=rt,Ae=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var U,J=In(X);if(Ae){var Ee=In(this).constructor;U=Reflect.construct(J,arguments,Ee)}else U=J.apply(this,arguments);return function(_e,ye){if(ye&&(Ze(ye)==="object"||typeof ye=="function"))return ye;if(ye!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(tt){if(tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt}(_e)}(this,U)});function rt(U){var J;return function(Ee,_e){if(!(Ee instanceof _e))throw new TypeError("Cannot call a class as a function")}(this,rt),(J=Ce.call(this,U)).state={loaded:!1},J}return L=rt,(K=[{key:"onImageLoad",value:function(){var U=this;return this.state.loaded?null:function(J){U.props.onLoad(J),U.props.afterLoad(),U.setState({loaded:!0})}}},{key:"getImg",value:function(){var U=this.props,J=(U.afterLoad,U.beforeLoad,U.delayMethod,U.delayTime,U.effect,U.placeholder,U.placeholderSrc,U.scrollPosition,U.threshold,U.useIntersectionObserver,U.visibleByDefault,U.wrapperClassName,U.wrapperProps,function(Ee,_e){if(Ee==null)return{};var ye,tt,F=function(H,ue){if(H==null)return{};var de,Se,Ue={},Pe=Object.keys(H);for(Se=0;Se<Pe.length;Se++)de=Pe[Se],ue.indexOf(de)>=0||(Ue[de]=H[de]);return Ue}(Ee,_e);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(Ee);for(tt=0;tt<j.length;tt++)ye=j[tt],_e.indexOf(ye)>=0||Object.prototype.propertyIsEnumerable.call(Ee,ye)&&(F[ye]=Ee[ye])}return F}(U,sr));return s().createElement("img",Nt({},J,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var U=this.props,J=U.beforeLoad,Ee=U.className,_e=U.delayMethod,ye=U.delayTime,tt=U.height,F=U.placeholder,j=U.scrollPosition,H=U.style,ue=U.threshold,de=U.useIntersectionObserver,Se=U.visibleByDefault,Ue=U.width;return s().createElement(kt,{beforeLoad:J,className:Ee,delayMethod:_e,delayTime:ye,height:tt,placeholder:F,scrollPosition:j,style:H,threshold:ue,useIntersectionObserver:de,visibleByDefault:Se,width:Ue},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(U){var J=this.props,Ee=J.effect,_e=J.height,ye=J.placeholderSrc,tt=J.width,F=J.wrapperClassName,j=J.wrapperProps,H=this.state.loaded,ue=H?" lazy-load-image-loaded":"",de=H||!ye?{}:{backgroundImage:"url(".concat(ye,")"),backgroundSize:"100% 100%"};return s().createElement("span",Nt({className:F+" lazy-load-image-background "+Ee+ue,style:Hr(Hr({},de),{},{color:"transparent",display:"inline-block",height:_e,width:tt})},j),U)}},{key:"render",value:function(){var U=this.props,J=U.effect,Ee=U.placeholderSrc,_e=U.visibleByDefault,ye=U.wrapperClassName,tt=U.wrapperProps,F=this.getLazyLoadImage();return(J||Ee)&&!_e||ye||tt?this.getWrappedLazyLoadImage(F):F}}])&&qt(L.prototype,K),Object.defineProperty(L,"prototype",{writable:!1}),rt}(s().Component);Ke.propTypes={onLoad:o.PropTypes.func,afterLoad:o.PropTypes.func,beforeLoad:o.PropTypes.func,delayMethod:o.PropTypes.string,delayTime:o.PropTypes.number,effect:o.PropTypes.string,placeholderSrc:o.PropTypes.string,threshold:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool,visibleByDefault:o.PropTypes.bool,wrapperClassName:o.PropTypes.string,wrapperProps:o.PropTypes.object},Ke.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const Zt=Ke})()})();const eL="error",KG="white",tL="black",Bu="not found",HG=x.memo(function({bgColor:e,zhName:n,enName:r}){return b.jsx(Fo,{to:`type/${r}`,children:b.jsx("span",{style:{color:e??KG},children:n??eL})})}),GG=x.memo(function({bgColor:e,zhName:n,enName:r}){return b.jsx(Fo,{to:`type/${r}`,children:b.jsx("span",{className:"type",style:{backgroundColor:e??tL},children:" "})})}),nL=x.memo(function({bgColor:e,zhName:n,enName:r}){return b.jsx(Fo,{to:`type/${r}`,children:b.jsx("span",{className:"type",style:{backgroundColor:e??tL},children:n??eL})})}),QG=x.memo(function({item:e,isActive:n,handleClick:r,children:i}){return b.jsxs("div",{className:`characterText ${n}`,onClick:()=>r(e),children:[b.jsx("span",{className:"characterName",children:(e==null?void 0:e.zhName)??Bu}),i]})}),YG=x.memo(function({item:e,isActive:n,handleClick:r,children:i}){return b.jsxs("div",{style:{display:"flex"},children:[i,b.jsx("div",{style:{position:"relative"},children:b.jsx("img",{src:(e==null?void 0:e.sprite)??"",alt:(e==null?void 0:e.zhName)??Bu,title:(e==null?void 0:e.zhName)??Bu,className:`characterImg ${n}`,onClick:()=>r(e),loading:"lazy"})})]})}),XG=({item:t,isActive:e,handleClick:n,children:r})=>b.jsxs("div",{className:`characterImgText ${e}`,onClick:()=>n(t),children:[b.jsxs("div",{children:[b.jsx("span",{className:"characterName",children:(t==null?void 0:t.zhName)??Bu}),r]}),b.jsx("img",{src:(t==null?void 0:t.sprite)??"",alt:(t==null?void 0:t.zhName)??Bu,title:(t==null?void 0:t.zhName)??Bu})]});var wg={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */wg.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",h=500,f="__lodash_placeholder__",p=1,m=2,y=4,v=1,w=2,R=1,T=2,S=4,I=8,E=16,P=32,O=64,D=128,N=256,W=512,Y=30,ie="...",he=800,ve=16,Fe=1,Ie=2,Ve=3,Me=1/0,G=9007199254740991,ce=17976931348623157e292,ae=0/0,we=4294967295,Te=we-1,$e=we>>>1,je=[["ary",D],["bind",R],["bindKey",T],["curry",I],["curryRight",E],["flip",W],["partial",P],["partialRight",O],["rearg",N]],ke="[object Arguments]",at="[object Array]",Jt="[object AsyncFunction]",_t="[object Boolean]",Ge="[object Date]",Vt="[object DOMException]",ct="[object Error]",xt="[object Function]",wt="[object GeneratorFunction]",kt="[object Map]",Ze="[object Number]",sr="[object Null]",zt="[object Object]",Hr="[object Promise]",Di="[object Proxy]",Nt="[object RegExp]",qt="[object Set]",Nn="[object String]",pn="[object Symbol]",In="[object Undefined]",Ke="[object WeakMap]",Zt="[object WeakSet]",ee="[object ArrayBuffer]",L="[object DataView]",K="[object Float32Array]",X="[object Float64Array]",Ae="[object Int8Array]",Ce="[object Int16Array]",rt="[object Int32Array]",U="[object Uint8Array]",J="[object Uint8ClampedArray]",Ee="[object Uint16Array]",_e="[object Uint32Array]",ye=/\b__p \+= '';/g,tt=/\b(__p \+=) '' \+/g,F=/(__e\(.*?\)|\b__t\)) \+\n'';/g,j=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,ue=RegExp(j.source),de=RegExp(H.source),Se=/<%-([\s\S]+?)%>/g,Ue=/<%([\s\S]+?)%>/g,Pe=/<%=([\s\S]+?)%>/g,Oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,It=/^\w*$/,Lt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ot=/[\\^$.*+?()[\]{}|]/g,At=RegExp(ot.source),sn=/^\s+/,Ss=/\s/,xs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ba=/\{\n\/\* \[wrapped with (.+)\] \*/,Uc=/,? & /,ki=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ji=/[()=,{}\[\]\/\s]/,Ul=/\\(\\)?/g,zc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zl=/\w*$/,qc=/^[-+]0x[0-9a-f]+$/i,Rt=/^0b[01]+$/i,Gr=/^\[object .+?Constructor\]$/,Zi=/^0o[0-7]+$/i,on=/^(?:0|[1-9]\d*)$/,Aa=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ca=/($^)/,mv=/['\n\r\u2028\u2029\\]/g,zd="\\ud800-\\udfff",N$="\\u0300-\\u036f",L$="\\ufe20-\\ufe2f",M$="\\u20d0-\\u20ff",oS=N$+L$+M$,aS="\\u2700-\\u27bf",lS="a-z\\xdf-\\xf6\\xf8-\\xff",F$="\\xac\\xb1\\xd7\\xf7",V$="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$$="\\u2000-\\u206f",j$=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",uS="A-Z\\xc0-\\xd6\\xd8-\\xde",cS="\\ufe0e\\ufe0f",hS=F$+V$+$$+j$,gv="['’]",B$="["+zd+"]",fS="["+hS+"]",qd="["+oS+"]",dS="\\d+",U$="["+aS+"]",pS="["+lS+"]",mS="[^"+zd+hS+dS+aS+lS+uS+"]",yv="\\ud83c[\\udffb-\\udfff]",z$="(?:"+qd+"|"+yv+")",gS="[^"+zd+"]",vv="(?:\\ud83c[\\udde6-\\uddff]){2}",_v="[\\ud800-\\udbff][\\udc00-\\udfff]",ql="["+uS+"]",yS="\\u200d",vS="(?:"+pS+"|"+mS+")",q$="(?:"+ql+"|"+mS+")",_S="(?:"+gv+"(?:d|ll|m|re|s|t|ve))?",wS="(?:"+gv+"(?:D|LL|M|RE|S|T|VE))?",ES=z$+"?",TS="["+cS+"]?",W$="(?:"+yS+"(?:"+[gS,vv,_v].join("|")+")"+TS+ES+")*",K$="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",H$="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",IS=TS+ES+W$,G$="(?:"+[U$,vv,_v].join("|")+")"+IS,Q$="(?:"+[gS+qd+"?",qd,vv,_v,B$].join("|")+")",Y$=RegExp(gv,"g"),X$=RegExp(qd,"g"),wv=RegExp(yv+"(?="+yv+")|"+Q$+IS,"g"),J$=RegExp([ql+"?"+pS+"+"+_S+"(?="+[fS,ql,"$"].join("|")+")",q$+"+"+wS+"(?="+[fS,ql+vS,"$"].join("|")+")",ql+"?"+vS+"+"+_S,ql+"+"+wS,H$,K$,dS,G$].join("|"),"g"),Z$=RegExp("["+yS+zd+oS+cS+"]"),ej=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tj=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nj=-1,Wt={};Wt[K]=Wt[X]=Wt[Ae]=Wt[Ce]=Wt[rt]=Wt[U]=Wt[J]=Wt[Ee]=Wt[_e]=!0,Wt[ke]=Wt[at]=Wt[ee]=Wt[_t]=Wt[L]=Wt[Ge]=Wt[ct]=Wt[xt]=Wt[kt]=Wt[Ze]=Wt[zt]=Wt[Nt]=Wt[qt]=Wt[Nn]=Wt[Ke]=!1;var $t={};$t[ke]=$t[at]=$t[ee]=$t[L]=$t[_t]=$t[Ge]=$t[K]=$t[X]=$t[Ae]=$t[Ce]=$t[rt]=$t[kt]=$t[Ze]=$t[zt]=$t[Nt]=$t[qt]=$t[Nn]=$t[pn]=$t[U]=$t[J]=$t[Ee]=$t[_e]=!0,$t[ct]=$t[xt]=$t[Ke]=!1;var rj={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ij={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sj={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},oj={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},aj=parseFloat,lj=parseInt,SS=typeof oh=="object"&&oh&&oh.Object===Object&&oh,uj=typeof self=="object"&&self&&self.Object===Object&&self,Yn=SS||uj||Function("return this")(),Ev=e&&!e.nodeType&&e,Pa=Ev&&!0&&t&&!t.nodeType&&t,xS=Pa&&Pa.exports===Ev,Tv=xS&&SS.process,ci=function(){try{var V=Pa&&Pa.require&&Pa.require("util").types;return V||Tv&&Tv.binding&&Tv.binding("util")}catch{}}(),RS=ci&&ci.isArrayBuffer,bS=ci&&ci.isDate,AS=ci&&ci.isMap,CS=ci&&ci.isRegExp,PS=ci&&ci.isSet,OS=ci&&ci.isTypedArray;function Qr(V,Q,z){switch(z.length){case 0:return V.call(Q);case 1:return V.call(Q,z[0]);case 2:return V.call(Q,z[0],z[1]);case 3:return V.call(Q,z[0],z[1],z[2])}return V.apply(Q,z)}function cj(V,Q,z,Re){for(var Qe=-1,St=V==null?0:V.length;++Qe<St;){var Ln=V[Qe];Q(Re,Ln,z(Ln),V)}return Re}function hi(V,Q){for(var z=-1,Re=V==null?0:V.length;++z<Re&&Q(V[z],z,V)!==!1;);return V}function hj(V,Q){for(var z=V==null?0:V.length;z--&&Q(V[z],z,V)!==!1;);return V}function DS(V,Q){for(var z=-1,Re=V==null?0:V.length;++z<Re;)if(!Q(V[z],z,V))return!1;return!0}function go(V,Q){for(var z=-1,Re=V==null?0:V.length,Qe=0,St=[];++z<Re;){var Ln=V[z];Q(Ln,z,V)&&(St[Qe++]=Ln)}return St}function Wd(V,Q){var z=V==null?0:V.length;return!!z&&Wl(V,Q,0)>-1}function Iv(V,Q,z){for(var Re=-1,Qe=V==null?0:V.length;++Re<Qe;)if(z(Q,V[Re]))return!0;return!1}function en(V,Q){for(var z=-1,Re=V==null?0:V.length,Qe=Array(Re);++z<Re;)Qe[z]=Q(V[z],z,V);return Qe}function yo(V,Q){for(var z=-1,Re=Q.length,Qe=V.length;++z<Re;)V[Qe+z]=Q[z];return V}function Sv(V,Q,z,Re){var Qe=-1,St=V==null?0:V.length;for(Re&&St&&(z=V[++Qe]);++Qe<St;)z=Q(z,V[Qe],Qe,V);return z}function fj(V,Q,z,Re){var Qe=V==null?0:V.length;for(Re&&Qe&&(z=V[--Qe]);Qe--;)z=Q(z,V[Qe],Qe,V);return z}function xv(V,Q){for(var z=-1,Re=V==null?0:V.length;++z<Re;)if(Q(V[z],z,V))return!0;return!1}var dj=Rv("length");function pj(V){return V.split("")}function mj(V){return V.match(ki)||[]}function kS(V,Q,z){var Re;return z(V,function(Qe,St,Ln){if(Q(Qe,St,Ln))return Re=St,!1}),Re}function Kd(V,Q,z,Re){for(var Qe=V.length,St=z+(Re?1:-1);Re?St--:++St<Qe;)if(Q(V[St],St,V))return St;return-1}function Wl(V,Q,z){return Q===Q?bj(V,Q,z):Kd(V,NS,z)}function gj(V,Q,z,Re){for(var Qe=z-1,St=V.length;++Qe<St;)if(Re(V[Qe],Q))return Qe;return-1}function NS(V){return V!==V}function LS(V,Q){var z=V==null?0:V.length;return z?Av(V,Q)/z:ae}function Rv(V){return function(Q){return Q==null?n:Q[V]}}function bv(V){return function(Q){return V==null?n:V[Q]}}function MS(V,Q,z,Re,Qe){return Qe(V,function(St,Ln,Ft){z=Re?(Re=!1,St):Q(z,St,Ln,Ft)}),z}function yj(V,Q){var z=V.length;for(V.sort(Q);z--;)V[z]=V[z].value;return V}function Av(V,Q){for(var z,Re=-1,Qe=V.length;++Re<Qe;){var St=Q(V[Re]);St!==n&&(z=z===n?St:z+St)}return z}function Cv(V,Q){for(var z=-1,Re=Array(V);++z<V;)Re[z]=Q(z);return Re}function vj(V,Q){return en(Q,function(z){return[z,V[z]]})}function FS(V){return V&&V.slice(0,BS(V)+1).replace(sn,"")}function Yr(V){return function(Q){return V(Q)}}function Pv(V,Q){return en(Q,function(z){return V[z]})}function Wc(V,Q){return V.has(Q)}function VS(V,Q){for(var z=-1,Re=V.length;++z<Re&&Wl(Q,V[z],0)>-1;);return z}function $S(V,Q){for(var z=V.length;z--&&Wl(Q,V[z],0)>-1;);return z}function _j(V,Q){for(var z=V.length,Re=0;z--;)V[z]===Q&&++Re;return Re}var wj=bv(rj),Ej=bv(ij);function Tj(V){return"\\"+oj[V]}function Ij(V,Q){return V==null?n:V[Q]}function Kl(V){return Z$.test(V)}function Sj(V){return ej.test(V)}function xj(V){for(var Q,z=[];!(Q=V.next()).done;)z.push(Q.value);return z}function Ov(V){var Q=-1,z=Array(V.size);return V.forEach(function(Re,Qe){z[++Q]=[Qe,Re]}),z}function jS(V,Q){return function(z){return V(Q(z))}}function vo(V,Q){for(var z=-1,Re=V.length,Qe=0,St=[];++z<Re;){var Ln=V[z];(Ln===Q||Ln===f)&&(V[z]=f,St[Qe++]=z)}return St}function Hd(V){var Q=-1,z=Array(V.size);return V.forEach(function(Re){z[++Q]=Re}),z}function Rj(V){var Q=-1,z=Array(V.size);return V.forEach(function(Re){z[++Q]=[Re,Re]}),z}function bj(V,Q,z){for(var Re=z-1,Qe=V.length;++Re<Qe;)if(V[Re]===Q)return Re;return-1}function Aj(V,Q,z){for(var Re=z+1;Re--;)if(V[Re]===Q)return Re;return Re}function Hl(V){return Kl(V)?Pj(V):dj(V)}function Ni(V){return Kl(V)?Oj(V):pj(V)}function BS(V){for(var Q=V.length;Q--&&Ss.test(V.charAt(Q)););return Q}var Cj=bv(sj);function Pj(V){for(var Q=wv.lastIndex=0;wv.test(V);)++Q;return Q}function Oj(V){return V.match(wv)||[]}function Dj(V){return V.match(J$)||[]}var kj=function V(Q){Q=Q==null?Yn:Gl.defaults(Yn.Object(),Q,Gl.pick(Yn,tj));var z=Q.Array,Re=Q.Date,Qe=Q.Error,St=Q.Function,Ln=Q.Math,Ft=Q.Object,Dv=Q.RegExp,Nj=Q.String,fi=Q.TypeError,Gd=z.prototype,Lj=St.prototype,Ql=Ft.prototype,Qd=Q["__core-js_shared__"],Yd=Lj.toString,Ct=Ql.hasOwnProperty,Mj=0,US=function(){var a=/[^.]+$/.exec(Qd&&Qd.keys&&Qd.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Xd=Ql.toString,Fj=Yd.call(Ft),Vj=Yn._,$j=Dv("^"+Yd.call(Ct).replace(ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jd=xS?Q.Buffer:n,_o=Q.Symbol,Zd=Q.Uint8Array,zS=Jd?Jd.allocUnsafe:n,ep=jS(Ft.getPrototypeOf,Ft),qS=Ft.create,WS=Ql.propertyIsEnumerable,tp=Gd.splice,KS=_o?_o.isConcatSpreadable:n,Kc=_o?_o.iterator:n,Oa=_o?_o.toStringTag:n,np=function(){try{var a=Ma(Ft,"defineProperty");return a({},"",{}),a}catch{}}(),jj=Q.clearTimeout!==Yn.clearTimeout&&Q.clearTimeout,Bj=Re&&Re.now!==Yn.Date.now&&Re.now,Uj=Q.setTimeout!==Yn.setTimeout&&Q.setTimeout,rp=Ln.ceil,ip=Ln.floor,kv=Ft.getOwnPropertySymbols,zj=Jd?Jd.isBuffer:n,HS=Q.isFinite,qj=Gd.join,Wj=jS(Ft.keys,Ft),Mn=Ln.max,or=Ln.min,Kj=Re.now,Hj=Q.parseInt,GS=Ln.random,Gj=Gd.reverse,Nv=Ma(Q,"DataView"),Hc=Ma(Q,"Map"),Lv=Ma(Q,"Promise"),Yl=Ma(Q,"Set"),Gc=Ma(Q,"WeakMap"),Qc=Ma(Ft,"create"),sp=Gc&&new Gc,Xl={},Qj=Fa(Nv),Yj=Fa(Hc),Xj=Fa(Lv),Jj=Fa(Yl),Zj=Fa(Gc),op=_o?_o.prototype:n,Yc=op?op.valueOf:n,QS=op?op.toString:n;function A(a){if(mn(a)&&!Xe(a)&&!(a instanceof ht)){if(a instanceof di)return a;if(Ct.call(a,"__wrapped__"))return Yx(a)}return new di(a)}var Jl=function(){function a(){}return function(u){if(!an(u))return{};if(qS)return qS(u);a.prototype=u;var d=new a;return a.prototype=n,d}}();function ap(){}function di(a,u){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}A.templateSettings={escape:Se,evaluate:Ue,interpolate:Pe,variable:"",imports:{_:A}},A.prototype=ap.prototype,A.prototype.constructor=A,di.prototype=Jl(ap.prototype),di.prototype.constructor=di;function ht(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=we,this.__views__=[]}function eB(){var a=new ht(this.__wrapped__);return a.__actions__=Dr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Dr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Dr(this.__views__),a}function tB(){if(this.__filtered__){var a=new ht(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function nB(){var a=this.__wrapped__.value(),u=this.__dir__,d=Xe(a),g=u<0,_=d?a.length:0,C=pU(0,_,this.__views__),k=C.start,M=C.end,$=M-k,Z=g?M:k-1,te=this.__iteratees__,se=te.length,pe=0,De=or($,this.__takeCount__);if(!d||!g&&_==$&&De==$)return _x(a,this.__actions__);var qe=[];e:for(;$--&&pe<De;){Z+=u;for(var it=-1,We=a[Z];++it<se;){var lt=te[it],pt=lt.iteratee,Zr=lt.type,vr=pt(We);if(Zr==Ie)We=vr;else if(!vr){if(Zr==Fe)continue e;break e}}qe[pe++]=We}return qe}ht.prototype=Jl(ap.prototype),ht.prototype.constructor=ht;function Da(a){var u=-1,d=a==null?0:a.length;for(this.clear();++u<d;){var g=a[u];this.set(g[0],g[1])}}function rB(){this.__data__=Qc?Qc(null):{},this.size=0}function iB(a){var u=this.has(a)&&delete this.__data__[a];return this.size-=u?1:0,u}function sB(a){var u=this.__data__;if(Qc){var d=u[a];return d===c?n:d}return Ct.call(u,a)?u[a]:n}function oB(a){var u=this.__data__;return Qc?u[a]!==n:Ct.call(u,a)}function aB(a,u){var d=this.__data__;return this.size+=this.has(a)?0:1,d[a]=Qc&&u===n?c:u,this}Da.prototype.clear=rB,Da.prototype.delete=iB,Da.prototype.get=sB,Da.prototype.has=oB,Da.prototype.set=aB;function Rs(a){var u=-1,d=a==null?0:a.length;for(this.clear();++u<d;){var g=a[u];this.set(g[0],g[1])}}function lB(){this.__data__=[],this.size=0}function uB(a){var u=this.__data__,d=lp(u,a);if(d<0)return!1;var g=u.length-1;return d==g?u.pop():tp.call(u,d,1),--this.size,!0}function cB(a){var u=this.__data__,d=lp(u,a);return d<0?n:u[d][1]}function hB(a){return lp(this.__data__,a)>-1}function fB(a,u){var d=this.__data__,g=lp(d,a);return g<0?(++this.size,d.push([a,u])):d[g][1]=u,this}Rs.prototype.clear=lB,Rs.prototype.delete=uB,Rs.prototype.get=cB,Rs.prototype.has=hB,Rs.prototype.set=fB;function bs(a){var u=-1,d=a==null?0:a.length;for(this.clear();++u<d;){var g=a[u];this.set(g[0],g[1])}}function dB(){this.size=0,this.__data__={hash:new Da,map:new(Hc||Rs),string:new Da}}function pB(a){var u=wp(this,a).delete(a);return this.size-=u?1:0,u}function mB(a){return wp(this,a).get(a)}function gB(a){return wp(this,a).has(a)}function yB(a,u){var d=wp(this,a),g=d.size;return d.set(a,u),this.size+=d.size==g?0:1,this}bs.prototype.clear=dB,bs.prototype.delete=pB,bs.prototype.get=mB,bs.prototype.has=gB,bs.prototype.set=yB;function ka(a){var u=-1,d=a==null?0:a.length;for(this.__data__=new bs;++u<d;)this.add(a[u])}function vB(a){return this.__data__.set(a,c),this}function _B(a){return this.__data__.has(a)}ka.prototype.add=ka.prototype.push=vB,ka.prototype.has=_B;function Li(a){var u=this.__data__=new Rs(a);this.size=u.size}function wB(){this.__data__=new Rs,this.size=0}function EB(a){var u=this.__data__,d=u.delete(a);return this.size=u.size,d}function TB(a){return this.__data__.get(a)}function IB(a){return this.__data__.has(a)}function SB(a,u){var d=this.__data__;if(d instanceof Rs){var g=d.__data__;if(!Hc||g.length<i-1)return g.push([a,u]),this.size=++d.size,this;d=this.__data__=new bs(g)}return d.set(a,u),this.size=d.size,this}Li.prototype.clear=wB,Li.prototype.delete=EB,Li.prototype.get=TB,Li.prototype.has=IB,Li.prototype.set=SB;function YS(a,u){var d=Xe(a),g=!d&&Va(a),_=!d&&!g&&So(a),C=!d&&!g&&!_&&nu(a),k=d||g||_||C,M=k?Cv(a.length,Nj):[],$=M.length;for(var Z in a)(u||Ct.call(a,Z))&&!(k&&(Z=="length"||_&&(Z=="offset"||Z=="parent")||C&&(Z=="buffer"||Z=="byteLength"||Z=="byteOffset")||Os(Z,$)))&&M.push(Z);return M}function XS(a){var u=a.length;return u?a[Kv(0,u-1)]:n}function xB(a,u){return Ep(Dr(a),Na(u,0,a.length))}function RB(a){return Ep(Dr(a))}function Mv(a,u,d){(d!==n&&!Mi(a[u],d)||d===n&&!(u in a))&&As(a,u,d)}function Xc(a,u,d){var g=a[u];(!(Ct.call(a,u)&&Mi(g,d))||d===n&&!(u in a))&&As(a,u,d)}function lp(a,u){for(var d=a.length;d--;)if(Mi(a[d][0],u))return d;return-1}function bB(a,u,d,g){return wo(a,function(_,C,k){u(g,_,d(_),k)}),g}function JS(a,u){return a&&ts(u,jn(u),a)}function AB(a,u){return a&&ts(u,Nr(u),a)}function As(a,u,d){u=="__proto__"&&np?np(a,u,{configurable:!0,enumerable:!0,value:d,writable:!0}):a[u]=d}function Fv(a,u){for(var d=-1,g=u.length,_=z(g),C=a==null;++d<g;)_[d]=C?n:y_(a,u[d]);return _}function Na(a,u,d){return a===a&&(d!==n&&(a=a<=d?a:d),u!==n&&(a=a>=u?a:u)),a}function pi(a,u,d,g,_,C){var k,M=u&p,$=u&m,Z=u&y;if(d&&(k=_?d(a,g,_,C):d(a)),k!==n)return k;if(!an(a))return a;var te=Xe(a);if(te){if(k=gU(a),!M)return Dr(a,k)}else{var se=ar(a),pe=se==xt||se==wt;if(So(a))return Tx(a,M);if(se==zt||se==ke||pe&&!_){if(k=$||pe?{}:Bx(a),!M)return $?sU(a,AB(k,a)):iU(a,JS(k,a))}else{if(!$t[se])return _?a:{};k=yU(a,se,M)}}C||(C=new Li);var De=C.get(a);if(De)return De;C.set(a,k),gR(a)?a.forEach(function(We){k.add(pi(We,u,d,We,a,C))}):pR(a)&&a.forEach(function(We,lt){k.set(lt,pi(We,u,d,lt,a,C))});var qe=Z?$?r_:n_:$?Nr:jn,it=te?n:qe(a);return hi(it||a,function(We,lt){it&&(lt=We,We=a[lt]),Xc(k,lt,pi(We,u,d,lt,a,C))}),k}function CB(a){var u=jn(a);return function(d){return ZS(d,a,u)}}function ZS(a,u,d){var g=d.length;if(a==null)return!g;for(a=Ft(a);g--;){var _=d[g],C=u[_],k=a[_];if(k===n&&!(_ in a)||!C(k))return!1}return!0}function ex(a,u,d){if(typeof a!="function")throw new fi(o);return ih(function(){a.apply(n,d)},u)}function Jc(a,u,d,g){var _=-1,C=Wd,k=!0,M=a.length,$=[],Z=u.length;if(!M)return $;d&&(u=en(u,Yr(d))),g?(C=Iv,k=!1):u.length>=i&&(C=Wc,k=!1,u=new ka(u));e:for(;++_<M;){var te=a[_],se=d==null?te:d(te);if(te=g||te!==0?te:0,k&&se===se){for(var pe=Z;pe--;)if(u[pe]===se)continue e;$.push(te)}else C(u,se,g)||$.push(te)}return $}var wo=bx(es),tx=bx($v,!0);function PB(a,u){var d=!0;return wo(a,function(g,_,C){return d=!!u(g,_,C),d}),d}function up(a,u,d){for(var g=-1,_=a.length;++g<_;){var C=a[g],k=u(C);if(k!=null&&(M===n?k===k&&!Jr(k):d(k,M)))var M=k,$=C}return $}function OB(a,u,d,g){var _=a.length;for(d=nt(d),d<0&&(d=-d>_?0:_+d),g=g===n||g>_?_:nt(g),g<0&&(g+=_),g=d>g?0:vR(g);d<g;)a[d++]=u;return a}function nx(a,u){var d=[];return wo(a,function(g,_,C){u(g,_,C)&&d.push(g)}),d}function Xn(a,u,d,g,_){var C=-1,k=a.length;for(d||(d=_U),_||(_=[]);++C<k;){var M=a[C];u>0&&d(M)?u>1?Xn(M,u-1,d,g,_):yo(_,M):g||(_[_.length]=M)}return _}var Vv=Ax(),rx=Ax(!0);function es(a,u){return a&&Vv(a,u,jn)}function $v(a,u){return a&&rx(a,u,jn)}function cp(a,u){return go(u,function(d){return Ds(a[d])})}function La(a,u){u=To(u,a);for(var d=0,g=u.length;a!=null&&d<g;)a=a[ns(u[d++])];return d&&d==g?a:n}function ix(a,u,d){var g=u(a);return Xe(a)?g:yo(g,d(a))}function gr(a){return a==null?a===n?In:sr:Oa&&Oa in Ft(a)?dU(a):RU(a)}function jv(a,u){return a>u}function DB(a,u){return a!=null&&Ct.call(a,u)}function kB(a,u){return a!=null&&u in Ft(a)}function NB(a,u,d){return a>=or(u,d)&&a<Mn(u,d)}function Bv(a,u,d){for(var g=d?Iv:Wd,_=a[0].length,C=a.length,k=C,M=z(C),$=1/0,Z=[];k--;){var te=a[k];k&&u&&(te=en(te,Yr(u))),$=or(te.length,$),M[k]=!d&&(u||_>=120&&te.length>=120)?new ka(k&&te):n}te=a[0];var se=-1,pe=M[0];e:for(;++se<_&&Z.length<$;){var De=te[se],qe=u?u(De):De;if(De=d||De!==0?De:0,!(pe?Wc(pe,qe):g(Z,qe,d))){for(k=C;--k;){var it=M[k];if(!(it?Wc(it,qe):g(a[k],qe,d)))continue e}pe&&pe.push(qe),Z.push(De)}}return Z}function LB(a,u,d,g){return es(a,function(_,C,k){u(g,d(_),C,k)}),g}function Zc(a,u,d){u=To(u,a),a=Wx(a,u);var g=a==null?a:a[ns(gi(u))];return g==null?n:Qr(g,a,d)}function sx(a){return mn(a)&&gr(a)==ke}function MB(a){return mn(a)&&gr(a)==ee}function FB(a){return mn(a)&&gr(a)==Ge}function eh(a,u,d,g,_){return a===u?!0:a==null||u==null||!mn(a)&&!mn(u)?a!==a&&u!==u:VB(a,u,d,g,eh,_)}function VB(a,u,d,g,_,C){var k=Xe(a),M=Xe(u),$=k?at:ar(a),Z=M?at:ar(u);$=$==ke?zt:$,Z=Z==ke?zt:Z;var te=$==zt,se=Z==zt,pe=$==Z;if(pe&&So(a)){if(!So(u))return!1;k=!0,te=!1}if(pe&&!te)return C||(C=new Li),k||nu(a)?Vx(a,u,d,g,_,C):hU(a,u,$,d,g,_,C);if(!(d&v)){var De=te&&Ct.call(a,"__wrapped__"),qe=se&&Ct.call(u,"__wrapped__");if(De||qe){var it=De?a.value():a,We=qe?u.value():u;return C||(C=new Li),_(it,We,d,g,C)}}return pe?(C||(C=new Li),fU(a,u,d,g,_,C)):!1}function $B(a){return mn(a)&&ar(a)==kt}function Uv(a,u,d,g){var _=d.length,C=_,k=!g;if(a==null)return!C;for(a=Ft(a);_--;){var M=d[_];if(k&&M[2]?M[1]!==a[M[0]]:!(M[0]in a))return!1}for(;++_<C;){M=d[_];var $=M[0],Z=a[$],te=M[1];if(k&&M[2]){if(Z===n&&!($ in a))return!1}else{var se=new Li;if(g)var pe=g(Z,te,$,a,u,se);if(!(pe===n?eh(te,Z,v|w,g,se):pe))return!1}}return!0}function ox(a){if(!an(a)||EU(a))return!1;var u=Ds(a)?$j:Gr;return u.test(Fa(a))}function jB(a){return mn(a)&&gr(a)==Nt}function BB(a){return mn(a)&&ar(a)==qt}function UB(a){return mn(a)&&bp(a.length)&&!!Wt[gr(a)]}function ax(a){return typeof a=="function"?a:a==null?Lr:typeof a=="object"?Xe(a)?cx(a[0],a[1]):ux(a):CR(a)}function zv(a){if(!rh(a))return Wj(a);var u=[];for(var d in Ft(a))Ct.call(a,d)&&d!="constructor"&&u.push(d);return u}function zB(a){if(!an(a))return xU(a);var u=rh(a),d=[];for(var g in a)g=="constructor"&&(u||!Ct.call(a,g))||d.push(g);return d}function qv(a,u){return a<u}function lx(a,u){var d=-1,g=kr(a)?z(a.length):[];return wo(a,function(_,C,k){g[++d]=u(_,C,k)}),g}function ux(a){var u=s_(a);return u.length==1&&u[0][2]?zx(u[0][0],u[0][1]):function(d){return d===a||Uv(d,a,u)}}function cx(a,u){return a_(a)&&Ux(u)?zx(ns(a),u):function(d){var g=y_(d,a);return g===n&&g===u?v_(d,a):eh(u,g,v|w)}}function hp(a,u,d,g,_){a!==u&&Vv(u,function(C,k){if(_||(_=new Li),an(C))qB(a,u,k,d,hp,g,_);else{var M=g?g(u_(a,k),C,k+"",a,u,_):n;M===n&&(M=C),Mv(a,k,M)}},Nr)}function qB(a,u,d,g,_,C,k){var M=u_(a,d),$=u_(u,d),Z=k.get($);if(Z){Mv(a,d,Z);return}var te=C?C(M,$,d+"",a,u,k):n,se=te===n;if(se){var pe=Xe($),De=!pe&&So($),qe=!pe&&!De&&nu($);te=$,pe||De||qe?Xe(M)?te=M:Sn(M)?te=Dr(M):De?(se=!1,te=Tx($,!0)):qe?(se=!1,te=Ix($,!0)):te=[]:sh($)||Va($)?(te=M,Va(M)?te=_R(M):(!an(M)||Ds(M))&&(te=Bx($))):se=!1}se&&(k.set($,te),_(te,$,g,C,k),k.delete($)),Mv(a,d,te)}function hx(a,u){var d=a.length;if(d)return u+=u<0?d:0,Os(u,d)?a[u]:n}function fx(a,u,d){u.length?u=en(u,function(C){return Xe(C)?function(k){return La(k,C.length===1?C[0]:C)}:C}):u=[Lr];var g=-1;u=en(u,Yr(ze()));var _=lx(a,function(C,k,M){var $=en(u,function(Z){return Z(C)});return{criteria:$,index:++g,value:C}});return yj(_,function(C,k){return rU(C,k,d)})}function WB(a,u){return dx(a,u,function(d,g){return v_(a,g)})}function dx(a,u,d){for(var g=-1,_=u.length,C={};++g<_;){var k=u[g],M=La(a,k);d(M,k)&&th(C,To(k,a),M)}return C}function KB(a){return function(u){return La(u,a)}}function Wv(a,u,d,g){var _=g?gj:Wl,C=-1,k=u.length,M=a;for(a===u&&(u=Dr(u)),d&&(M=en(a,Yr(d)));++C<k;)for(var $=0,Z=u[C],te=d?d(Z):Z;($=_(M,te,$,g))>-1;)M!==a&&tp.call(M,$,1),tp.call(a,$,1);return a}function px(a,u){for(var d=a?u.length:0,g=d-1;d--;){var _=u[d];if(d==g||_!==C){var C=_;Os(_)?tp.call(a,_,1):Qv(a,_)}}return a}function Kv(a,u){return a+ip(GS()*(u-a+1))}function HB(a,u,d,g){for(var _=-1,C=Mn(rp((u-a)/(d||1)),0),k=z(C);C--;)k[g?C:++_]=a,a+=d;return k}function Hv(a,u){var d="";if(!a||u<1||u>G)return d;do u%2&&(d+=a),u=ip(u/2),u&&(a+=a);while(u);return d}function st(a,u){return c_(qx(a,u,Lr),a+"")}function GB(a){return XS(ru(a))}function QB(a,u){var d=ru(a);return Ep(d,Na(u,0,d.length))}function th(a,u,d,g){if(!an(a))return a;u=To(u,a);for(var _=-1,C=u.length,k=C-1,M=a;M!=null&&++_<C;){var $=ns(u[_]),Z=d;if($==="__proto__"||$==="constructor"||$==="prototype")return a;if(_!=k){var te=M[$];Z=g?g(te,$,M):n,Z===n&&(Z=an(te)?te:Os(u[_+1])?[]:{})}Xc(M,$,Z),M=M[$]}return a}var mx=sp?function(a,u){return sp.set(a,u),a}:Lr,YB=np?function(a,u){return np(a,"toString",{configurable:!0,enumerable:!1,value:w_(u),writable:!0})}:Lr;function XB(a){return Ep(ru(a))}function mi(a,u,d){var g=-1,_=a.length;u<0&&(u=-u>_?0:_+u),d=d>_?_:d,d<0&&(d+=_),_=u>d?0:d-u>>>0,u>>>=0;for(var C=z(_);++g<_;)C[g]=a[g+u];return C}function JB(a,u){var d;return wo(a,function(g,_,C){return d=u(g,_,C),!d}),!!d}function fp(a,u,d){var g=0,_=a==null?g:a.length;if(typeof u=="number"&&u===u&&_<=$e){for(;g<_;){var C=g+_>>>1,k=a[C];k!==null&&!Jr(k)&&(d?k<=u:k<u)?g=C+1:_=C}return _}return Gv(a,u,Lr,d)}function Gv(a,u,d,g){var _=0,C=a==null?0:a.length;if(C===0)return 0;u=d(u);for(var k=u!==u,M=u===null,$=Jr(u),Z=u===n;_<C;){var te=ip((_+C)/2),se=d(a[te]),pe=se!==n,De=se===null,qe=se===se,it=Jr(se);if(k)var We=g||qe;else Z?We=qe&&(g||pe):M?We=qe&&pe&&(g||!De):$?We=qe&&pe&&!De&&(g||!it):De||it?We=!1:We=g?se<=u:se<u;We?_=te+1:C=te}return or(C,Te)}function gx(a,u){for(var d=-1,g=a.length,_=0,C=[];++d<g;){var k=a[d],M=u?u(k):k;if(!d||!Mi(M,$)){var $=M;C[_++]=k===0?0:k}}return C}function yx(a){return typeof a=="number"?a:Jr(a)?ae:+a}function Xr(a){if(typeof a=="string")return a;if(Xe(a))return en(a,Xr)+"";if(Jr(a))return QS?QS.call(a):"";var u=a+"";return u=="0"&&1/a==-Me?"-0":u}function Eo(a,u,d){var g=-1,_=Wd,C=a.length,k=!0,M=[],$=M;if(d)k=!1,_=Iv;else if(C>=i){var Z=u?null:uU(a);if(Z)return Hd(Z);k=!1,_=Wc,$=new ka}else $=u?[]:M;e:for(;++g<C;){var te=a[g],se=u?u(te):te;if(te=d||te!==0?te:0,k&&se===se){for(var pe=$.length;pe--;)if($[pe]===se)continue e;u&&$.push(se),M.push(te)}else _($,se,d)||($!==M&&$.push(se),M.push(te))}return M}function Qv(a,u){return u=To(u,a),a=Wx(a,u),a==null||delete a[ns(gi(u))]}function vx(a,u,d,g){return th(a,u,d(La(a,u)),g)}function dp(a,u,d,g){for(var _=a.length,C=g?_:-1;(g?C--:++C<_)&&u(a[C],C,a););return d?mi(a,g?0:C,g?C+1:_):mi(a,g?C+1:0,g?_:C)}function _x(a,u){var d=a;return d instanceof ht&&(d=d.value()),Sv(u,function(g,_){return _.func.apply(_.thisArg,yo([g],_.args))},d)}function Yv(a,u,d){var g=a.length;if(g<2)return g?Eo(a[0]):[];for(var _=-1,C=z(g);++_<g;)for(var k=a[_],M=-1;++M<g;)M!=_&&(C[_]=Jc(C[_]||k,a[M],u,d));return Eo(Xn(C,1),u,d)}function wx(a,u,d){for(var g=-1,_=a.length,C=u.length,k={};++g<_;){var M=g<C?u[g]:n;d(k,a[g],M)}return k}function Xv(a){return Sn(a)?a:[]}function Jv(a){return typeof a=="function"?a:Lr}function To(a,u){return Xe(a)?a:a_(a,u)?[a]:Qx(bt(a))}var ZB=st;function Io(a,u,d){var g=a.length;return d=d===n?g:d,!u&&d>=g?a:mi(a,u,d)}var Ex=jj||function(a){return Yn.clearTimeout(a)};function Tx(a,u){if(u)return a.slice();var d=a.length,g=zS?zS(d):new a.constructor(d);return a.copy(g),g}function Zv(a){var u=new a.constructor(a.byteLength);return new Zd(u).set(new Zd(a)),u}function eU(a,u){var d=u?Zv(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.byteLength)}function tU(a){var u=new a.constructor(a.source,zl.exec(a));return u.lastIndex=a.lastIndex,u}function nU(a){return Yc?Ft(Yc.call(a)):{}}function Ix(a,u){var d=u?Zv(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.length)}function Sx(a,u){if(a!==u){var d=a!==n,g=a===null,_=a===a,C=Jr(a),k=u!==n,M=u===null,$=u===u,Z=Jr(u);if(!M&&!Z&&!C&&a>u||C&&k&&$&&!M&&!Z||g&&k&&$||!d&&$||!_)return 1;if(!g&&!C&&!Z&&a<u||Z&&d&&_&&!g&&!C||M&&d&&_||!k&&_||!$)return-1}return 0}function rU(a,u,d){for(var g=-1,_=a.criteria,C=u.criteria,k=_.length,M=d.length;++g<k;){var $=Sx(_[g],C[g]);if($){if(g>=M)return $;var Z=d[g];return $*(Z=="desc"?-1:1)}}return a.index-u.index}function xx(a,u,d,g){for(var _=-1,C=a.length,k=d.length,M=-1,$=u.length,Z=Mn(C-k,0),te=z($+Z),se=!g;++M<$;)te[M]=u[M];for(;++_<k;)(se||_<C)&&(te[d[_]]=a[_]);for(;Z--;)te[M++]=a[_++];return te}function Rx(a,u,d,g){for(var _=-1,C=a.length,k=-1,M=d.length,$=-1,Z=u.length,te=Mn(C-M,0),se=z(te+Z),pe=!g;++_<te;)se[_]=a[_];for(var De=_;++$<Z;)se[De+$]=u[$];for(;++k<M;)(pe||_<C)&&(se[De+d[k]]=a[_++]);return se}function Dr(a,u){var d=-1,g=a.length;for(u||(u=z(g));++d<g;)u[d]=a[d];return u}function ts(a,u,d,g){var _=!d;d||(d={});for(var C=-1,k=u.length;++C<k;){var M=u[C],$=g?g(d[M],a[M],M,d,a):n;$===n&&($=a[M]),_?As(d,M,$):Xc(d,M,$)}return d}function iU(a,u){return ts(a,o_(a),u)}function sU(a,u){return ts(a,$x(a),u)}function pp(a,u){return function(d,g){var _=Xe(d)?cj:bB,C=u?u():{};return _(d,a,ze(g,2),C)}}function Zl(a){return st(function(u,d){var g=-1,_=d.length,C=_>1?d[_-1]:n,k=_>2?d[2]:n;for(C=a.length>3&&typeof C=="function"?(_--,C):n,k&&yr(d[0],d[1],k)&&(C=_<3?n:C,_=1),u=Ft(u);++g<_;){var M=d[g];M&&a(u,M,g,C)}return u})}function bx(a,u){return function(d,g){if(d==null)return d;if(!kr(d))return a(d,g);for(var _=d.length,C=u?_:-1,k=Ft(d);(u?C--:++C<_)&&g(k[C],C,k)!==!1;);return d}}function Ax(a){return function(u,d,g){for(var _=-1,C=Ft(u),k=g(u),M=k.length;M--;){var $=k[a?M:++_];if(d(C[$],$,C)===!1)break}return u}}function oU(a,u,d){var g=u&R,_=nh(a);function C(){var k=this&&this!==Yn&&this instanceof C?_:a;return k.apply(g?d:this,arguments)}return C}function Cx(a){return function(u){u=bt(u);var d=Kl(u)?Ni(u):n,g=d?d[0]:u.charAt(0),_=d?Io(d,1).join(""):u.slice(1);return g[a]()+_}}function eu(a){return function(u){return Sv(bR(RR(u).replace(Y$,"")),a,"")}}function nh(a){return function(){var u=arguments;switch(u.length){case 0:return new a;case 1:return new a(u[0]);case 2:return new a(u[0],u[1]);case 3:return new a(u[0],u[1],u[2]);case 4:return new a(u[0],u[1],u[2],u[3]);case 5:return new a(u[0],u[1],u[2],u[3],u[4]);case 6:return new a(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new a(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var d=Jl(a.prototype),g=a.apply(d,u);return an(g)?g:d}}function aU(a,u,d){var g=nh(a);function _(){for(var C=arguments.length,k=z(C),M=C,$=tu(_);M--;)k[M]=arguments[M];var Z=C<3&&k[0]!==$&&k[C-1]!==$?[]:vo(k,$);if(C-=Z.length,C<d)return Nx(a,u,mp,_.placeholder,n,k,Z,n,n,d-C);var te=this&&this!==Yn&&this instanceof _?g:a;return Qr(te,this,k)}return _}function Px(a){return function(u,d,g){var _=Ft(u);if(!kr(u)){var C=ze(d,3);u=jn(u),d=function(M){return C(_[M],M,_)}}var k=a(u,d,g);return k>-1?_[C?u[k]:k]:n}}function Ox(a){return Ps(function(u){var d=u.length,g=d,_=di.prototype.thru;for(a&&u.reverse();g--;){var C=u[g];if(typeof C!="function")throw new fi(o);if(_&&!k&&_p(C)=="wrapper")var k=new di([],!0)}for(g=k?g:d;++g<d;){C=u[g];var M=_p(C),$=M=="wrapper"?i_(C):n;$&&l_($[0])&&$[1]==(D|I|P|N)&&!$[4].length&&$[9]==1?k=k[_p($[0])].apply(k,$[3]):k=C.length==1&&l_(C)?k[M]():k.thru(C)}return function(){var Z=arguments,te=Z[0];if(k&&Z.length==1&&Xe(te))return k.plant(te).value();for(var se=0,pe=d?u[se].apply(this,Z):te;++se<d;)pe=u[se].call(this,pe);return pe}})}function mp(a,u,d,g,_,C,k,M,$,Z){var te=u&D,se=u&R,pe=u&T,De=u&(I|E),qe=u&W,it=pe?n:nh(a);function We(){for(var lt=arguments.length,pt=z(lt),Zr=lt;Zr--;)pt[Zr]=arguments[Zr];if(De)var vr=tu(We),ei=_j(pt,vr);if(g&&(pt=xx(pt,g,_,De)),C&&(pt=Rx(pt,C,k,De)),lt-=ei,De&&lt<Z){var xn=vo(pt,vr);return Nx(a,u,mp,We.placeholder,d,pt,xn,M,$,Z-lt)}var Fi=se?d:this,Ns=pe?Fi[a]:a;return lt=pt.length,M?pt=bU(pt,M):qe&&lt>1&&pt.reverse(),te&&$<lt&&(pt.length=$),this&&this!==Yn&&this instanceof We&&(Ns=it||nh(Ns)),Ns.apply(Fi,pt)}return We}function Dx(a,u){return function(d,g){return LB(d,a,u(g),{})}}function gp(a,u){return function(d,g){var _;if(d===n&&g===n)return u;if(d!==n&&(_=d),g!==n){if(_===n)return g;typeof d=="string"||typeof g=="string"?(d=Xr(d),g=Xr(g)):(d=yx(d),g=yx(g)),_=a(d,g)}return _}}function e_(a){return Ps(function(u){return u=en(u,Yr(ze())),st(function(d){var g=this;return a(u,function(_){return Qr(_,g,d)})})})}function yp(a,u){u=u===n?" ":Xr(u);var d=u.length;if(d<2)return d?Hv(u,a):u;var g=Hv(u,rp(a/Hl(u)));return Kl(u)?Io(Ni(g),0,a).join(""):g.slice(0,a)}function lU(a,u,d,g){var _=u&R,C=nh(a);function k(){for(var M=-1,$=arguments.length,Z=-1,te=g.length,se=z(te+$),pe=this&&this!==Yn&&this instanceof k?C:a;++Z<te;)se[Z]=g[Z];for(;$--;)se[Z++]=arguments[++M];return Qr(pe,_?d:this,se)}return k}function kx(a){return function(u,d,g){return g&&typeof g!="number"&&yr(u,d,g)&&(d=g=n),u=ks(u),d===n?(d=u,u=0):d=ks(d),g=g===n?u<d?1:-1:ks(g),HB(u,d,g,a)}}function vp(a){return function(u,d){return typeof u=="string"&&typeof d=="string"||(u=yi(u),d=yi(d)),a(u,d)}}function Nx(a,u,d,g,_,C,k,M,$,Z){var te=u&I,se=te?k:n,pe=te?n:k,De=te?C:n,qe=te?n:C;u|=te?P:O,u&=~(te?O:P),u&S||(u&=~(R|T));var it=[a,u,_,De,se,qe,pe,M,$,Z],We=d.apply(n,it);return l_(a)&&Kx(We,it),We.placeholder=g,Hx(We,a,u)}function t_(a){var u=Ln[a];return function(d,g){if(d=yi(d),g=g==null?0:or(nt(g),292),g&&HS(d)){var _=(bt(d)+"e").split("e"),C=u(_[0]+"e"+(+_[1]+g));return _=(bt(C)+"e").split("e"),+(_[0]+"e"+(+_[1]-g))}return u(d)}}var uU=Yl&&1/Hd(new Yl([,-0]))[1]==Me?function(a){return new Yl(a)}:I_;function Lx(a){return function(u){var d=ar(u);return d==kt?Ov(u):d==qt?Rj(u):vj(u,a(u))}}function Cs(a,u,d,g,_,C,k,M){var $=u&T;if(!$&&typeof a!="function")throw new fi(o);var Z=g?g.length:0;if(Z||(u&=~(P|O),g=_=n),k=k===n?k:Mn(nt(k),0),M=M===n?M:nt(M),Z-=_?_.length:0,u&O){var te=g,se=_;g=_=n}var pe=$?n:i_(a),De=[a,u,d,g,_,te,se,C,k,M];if(pe&&SU(De,pe),a=De[0],u=De[1],d=De[2],g=De[3],_=De[4],M=De[9]=De[9]===n?$?0:a.length:Mn(De[9]-Z,0),!M&&u&(I|E)&&(u&=~(I|E)),!u||u==R)var qe=oU(a,u,d);else u==I||u==E?qe=aU(a,u,M):(u==P||u==(R|P))&&!_.length?qe=lU(a,u,d,g):qe=mp.apply(n,De);var it=pe?mx:Kx;return Hx(it(qe,De),a,u)}function Mx(a,u,d,g){return a===n||Mi(a,Ql[d])&&!Ct.call(g,d)?u:a}function Fx(a,u,d,g,_,C){return an(a)&&an(u)&&(C.set(u,a),hp(a,u,n,Fx,C),C.delete(u)),a}function cU(a){return sh(a)?n:a}function Vx(a,u,d,g,_,C){var k=d&v,M=a.length,$=u.length;if(M!=$&&!(k&&$>M))return!1;var Z=C.get(a),te=C.get(u);if(Z&&te)return Z==u&&te==a;var se=-1,pe=!0,De=d&w?new ka:n;for(C.set(a,u),C.set(u,a);++se<M;){var qe=a[se],it=u[se];if(g)var We=k?g(it,qe,se,u,a,C):g(qe,it,se,a,u,C);if(We!==n){if(We)continue;pe=!1;break}if(De){if(!xv(u,function(lt,pt){if(!Wc(De,pt)&&(qe===lt||_(qe,lt,d,g,C)))return De.push(pt)})){pe=!1;break}}else if(!(qe===it||_(qe,it,d,g,C))){pe=!1;break}}return C.delete(a),C.delete(u),pe}function hU(a,u,d,g,_,C,k){switch(d){case L:if(a.byteLength!=u.byteLength||a.byteOffset!=u.byteOffset)return!1;a=a.buffer,u=u.buffer;case ee:return!(a.byteLength!=u.byteLength||!C(new Zd(a),new Zd(u)));case _t:case Ge:case Ze:return Mi(+a,+u);case ct:return a.name==u.name&&a.message==u.message;case Nt:case Nn:return a==u+"";case kt:var M=Ov;case qt:var $=g&v;if(M||(M=Hd),a.size!=u.size&&!$)return!1;var Z=k.get(a);if(Z)return Z==u;g|=w,k.set(a,u);var te=Vx(M(a),M(u),g,_,C,k);return k.delete(a),te;case pn:if(Yc)return Yc.call(a)==Yc.call(u)}return!1}function fU(a,u,d,g,_,C){var k=d&v,M=n_(a),$=M.length,Z=n_(u),te=Z.length;if($!=te&&!k)return!1;for(var se=$;se--;){var pe=M[se];if(!(k?pe in u:Ct.call(u,pe)))return!1}var De=C.get(a),qe=C.get(u);if(De&&qe)return De==u&&qe==a;var it=!0;C.set(a,u),C.set(u,a);for(var We=k;++se<$;){pe=M[se];var lt=a[pe],pt=u[pe];if(g)var Zr=k?g(pt,lt,pe,u,a,C):g(lt,pt,pe,a,u,C);if(!(Zr===n?lt===pt||_(lt,pt,d,g,C):Zr)){it=!1;break}We||(We=pe=="constructor")}if(it&&!We){var vr=a.constructor,ei=u.constructor;vr!=ei&&"constructor"in a&&"constructor"in u&&!(typeof vr=="function"&&vr instanceof vr&&typeof ei=="function"&&ei instanceof ei)&&(it=!1)}return C.delete(a),C.delete(u),it}function Ps(a){return c_(qx(a,n,Zx),a+"")}function n_(a){return ix(a,jn,o_)}function r_(a){return ix(a,Nr,$x)}var i_=sp?function(a){return sp.get(a)}:I_;function _p(a){for(var u=a.name+"",d=Xl[u],g=Ct.call(Xl,u)?d.length:0;g--;){var _=d[g],C=_.func;if(C==null||C==a)return _.name}return u}function tu(a){var u=Ct.call(A,"placeholder")?A:a;return u.placeholder}function ze(){var a=A.iteratee||E_;return a=a===E_?ax:a,arguments.length?a(arguments[0],arguments[1]):a}function wp(a,u){var d=a.__data__;return wU(u)?d[typeof u=="string"?"string":"hash"]:d.map}function s_(a){for(var u=jn(a),d=u.length;d--;){var g=u[d],_=a[g];u[d]=[g,_,Ux(_)]}return u}function Ma(a,u){var d=Ij(a,u);return ox(d)?d:n}function dU(a){var u=Ct.call(a,Oa),d=a[Oa];try{a[Oa]=n;var g=!0}catch{}var _=Xd.call(a);return g&&(u?a[Oa]=d:delete a[Oa]),_}var o_=kv?function(a){return a==null?[]:(a=Ft(a),go(kv(a),function(u){return WS.call(a,u)}))}:S_,$x=kv?function(a){for(var u=[];a;)yo(u,o_(a)),a=ep(a);return u}:S_,ar=gr;(Nv&&ar(new Nv(new ArrayBuffer(1)))!=L||Hc&&ar(new Hc)!=kt||Lv&&ar(Lv.resolve())!=Hr||Yl&&ar(new Yl)!=qt||Gc&&ar(new Gc)!=Ke)&&(ar=function(a){var u=gr(a),d=u==zt?a.constructor:n,g=d?Fa(d):"";if(g)switch(g){case Qj:return L;case Yj:return kt;case Xj:return Hr;case Jj:return qt;case Zj:return Ke}return u});function pU(a,u,d){for(var g=-1,_=d.length;++g<_;){var C=d[g],k=C.size;switch(C.type){case"drop":a+=k;break;case"dropRight":u-=k;break;case"take":u=or(u,a+k);break;case"takeRight":a=Mn(a,u-k);break}}return{start:a,end:u}}function mU(a){var u=a.match(ba);return u?u[1].split(Uc):[]}function jx(a,u,d){u=To(u,a);for(var g=-1,_=u.length,C=!1;++g<_;){var k=ns(u[g]);if(!(C=a!=null&&d(a,k)))break;a=a[k]}return C||++g!=_?C:(_=a==null?0:a.length,!!_&&bp(_)&&Os(k,_)&&(Xe(a)||Va(a)))}function gU(a){var u=a.length,d=new a.constructor(u);return u&&typeof a[0]=="string"&&Ct.call(a,"index")&&(d.index=a.index,d.input=a.input),d}function Bx(a){return typeof a.constructor=="function"&&!rh(a)?Jl(ep(a)):{}}function yU(a,u,d){var g=a.constructor;switch(u){case ee:return Zv(a);case _t:case Ge:return new g(+a);case L:return eU(a,d);case K:case X:case Ae:case Ce:case rt:case U:case J:case Ee:case _e:return Ix(a,d);case kt:return new g;case Ze:case Nn:return new g(a);case Nt:return tU(a);case qt:return new g;case pn:return nU(a)}}function vU(a,u){var d=u.length;if(!d)return a;var g=d-1;return u[g]=(d>1?"& ":"")+u[g],u=u.join(d>2?", ":" "),a.replace(xs,`{
/* [wrapped with `+u+`] */
`)}function _U(a){return Xe(a)||Va(a)||!!(KS&&a&&a[KS])}function Os(a,u){var d=typeof a;return u=u??G,!!u&&(d=="number"||d!="symbol"&&on.test(a))&&a>-1&&a%1==0&&a<u}function yr(a,u,d){if(!an(d))return!1;var g=typeof u;return(g=="number"?kr(d)&&Os(u,d.length):g=="string"&&u in d)?Mi(d[u],a):!1}function a_(a,u){if(Xe(a))return!1;var d=typeof a;return d=="number"||d=="symbol"||d=="boolean"||a==null||Jr(a)?!0:It.test(a)||!Oe.test(a)||u!=null&&a in Ft(u)}function wU(a){var u=typeof a;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?a!=="__proto__":a===null}function l_(a){var u=_p(a),d=A[u];if(typeof d!="function"||!(u in ht.prototype))return!1;if(a===d)return!0;var g=i_(d);return!!g&&a===g[0]}function EU(a){return!!US&&US in a}var TU=Qd?Ds:x_;function rh(a){var u=a&&a.constructor,d=typeof u=="function"&&u.prototype||Ql;return a===d}function Ux(a){return a===a&&!an(a)}function zx(a,u){return function(d){return d==null?!1:d[a]===u&&(u!==n||a in Ft(d))}}function IU(a){var u=xp(a,function(g){return d.size===h&&d.clear(),g}),d=u.cache;return u}function SU(a,u){var d=a[1],g=u[1],_=d|g,C=_<(R|T|D),k=g==D&&d==I||g==D&&d==N&&a[7].length<=u[8]||g==(D|N)&&u[7].length<=u[8]&&d==I;if(!(C||k))return a;g&R&&(a[2]=u[2],_|=d&R?0:S);var M=u[3];if(M){var $=a[3];a[3]=$?xx($,M,u[4]):M,a[4]=$?vo(a[3],f):u[4]}return M=u[5],M&&($=a[5],a[5]=$?Rx($,M,u[6]):M,a[6]=$?vo(a[5],f):u[6]),M=u[7],M&&(a[7]=M),g&D&&(a[8]=a[8]==null?u[8]:or(a[8],u[8])),a[9]==null&&(a[9]=u[9]),a[0]=u[0],a[1]=_,a}function xU(a){var u=[];if(a!=null)for(var d in Ft(a))u.push(d);return u}function RU(a){return Xd.call(a)}function qx(a,u,d){return u=Mn(u===n?a.length-1:u,0),function(){for(var g=arguments,_=-1,C=Mn(g.length-u,0),k=z(C);++_<C;)k[_]=g[u+_];_=-1;for(var M=z(u+1);++_<u;)M[_]=g[_];return M[u]=d(k),Qr(a,this,M)}}function Wx(a,u){return u.length<2?a:La(a,mi(u,0,-1))}function bU(a,u){for(var d=a.length,g=or(u.length,d),_=Dr(a);g--;){var C=u[g];a[g]=Os(C,d)?_[C]:n}return a}function u_(a,u){if(!(u==="constructor"&&typeof a[u]=="function")&&u!="__proto__")return a[u]}var Kx=Gx(mx),ih=Uj||function(a,u){return Yn.setTimeout(a,u)},c_=Gx(YB);function Hx(a,u,d){var g=u+"";return c_(a,vU(g,AU(mU(g),d)))}function Gx(a){var u=0,d=0;return function(){var g=Kj(),_=ve-(g-d);if(d=g,_>0){if(++u>=he)return arguments[0]}else u=0;return a.apply(n,arguments)}}function Ep(a,u){var d=-1,g=a.length,_=g-1;for(u=u===n?g:u;++d<u;){var C=Kv(d,_),k=a[C];a[C]=a[d],a[d]=k}return a.length=u,a}var Qx=IU(function(a){var u=[];return a.charCodeAt(0)===46&&u.push(""),a.replace(Lt,function(d,g,_,C){u.push(_?C.replace(Ul,"$1"):g||d)}),u});function ns(a){if(typeof a=="string"||Jr(a))return a;var u=a+"";return u=="0"&&1/a==-Me?"-0":u}function Fa(a){if(a!=null){try{return Yd.call(a)}catch{}try{return a+""}catch{}}return""}function AU(a,u){return hi(je,function(d){var g="_."+d[0];u&d[1]&&!Wd(a,g)&&a.push(g)}),a.sort()}function Yx(a){if(a instanceof ht)return a.clone();var u=new di(a.__wrapped__,a.__chain__);return u.__actions__=Dr(a.__actions__),u.__index__=a.__index__,u.__values__=a.__values__,u}function CU(a,u,d){(d?yr(a,u,d):u===n)?u=1:u=Mn(nt(u),0);var g=a==null?0:a.length;if(!g||u<1)return[];for(var _=0,C=0,k=z(rp(g/u));_<g;)k[C++]=mi(a,_,_+=u);return k}function PU(a){for(var u=-1,d=a==null?0:a.length,g=0,_=[];++u<d;){var C=a[u];C&&(_[g++]=C)}return _}function OU(){var a=arguments.length;if(!a)return[];for(var u=z(a-1),d=arguments[0],g=a;g--;)u[g-1]=arguments[g];return yo(Xe(d)?Dr(d):[d],Xn(u,1))}var DU=st(function(a,u){return Sn(a)?Jc(a,Xn(u,1,Sn,!0)):[]}),kU=st(function(a,u){var d=gi(u);return Sn(d)&&(d=n),Sn(a)?Jc(a,Xn(u,1,Sn,!0),ze(d,2)):[]}),NU=st(function(a,u){var d=gi(u);return Sn(d)&&(d=n),Sn(a)?Jc(a,Xn(u,1,Sn,!0),n,d):[]});function LU(a,u,d){var g=a==null?0:a.length;return g?(u=d||u===n?1:nt(u),mi(a,u<0?0:u,g)):[]}function MU(a,u,d){var g=a==null?0:a.length;return g?(u=d||u===n?1:nt(u),u=g-u,mi(a,0,u<0?0:u)):[]}function FU(a,u){return a&&a.length?dp(a,ze(u,3),!0,!0):[]}function VU(a,u){return a&&a.length?dp(a,ze(u,3),!0):[]}function $U(a,u,d,g){var _=a==null?0:a.length;return _?(d&&typeof d!="number"&&yr(a,u,d)&&(d=0,g=_),OB(a,u,d,g)):[]}function Xx(a,u,d){var g=a==null?0:a.length;if(!g)return-1;var _=d==null?0:nt(d);return _<0&&(_=Mn(g+_,0)),Kd(a,ze(u,3),_)}function Jx(a,u,d){var g=a==null?0:a.length;if(!g)return-1;var _=g-1;return d!==n&&(_=nt(d),_=d<0?Mn(g+_,0):or(_,g-1)),Kd(a,ze(u,3),_,!0)}function Zx(a){var u=a==null?0:a.length;return u?Xn(a,1):[]}function jU(a){var u=a==null?0:a.length;return u?Xn(a,Me):[]}function BU(a,u){var d=a==null?0:a.length;return d?(u=u===n?1:nt(u),Xn(a,u)):[]}function UU(a){for(var u=-1,d=a==null?0:a.length,g={};++u<d;){var _=a[u];g[_[0]]=_[1]}return g}function eR(a){return a&&a.length?a[0]:n}function zU(a,u,d){var g=a==null?0:a.length;if(!g)return-1;var _=d==null?0:nt(d);return _<0&&(_=Mn(g+_,0)),Wl(a,u,_)}function qU(a){var u=a==null?0:a.length;return u?mi(a,0,-1):[]}var WU=st(function(a){var u=en(a,Xv);return u.length&&u[0]===a[0]?Bv(u):[]}),KU=st(function(a){var u=gi(a),d=en(a,Xv);return u===gi(d)?u=n:d.pop(),d.length&&d[0]===a[0]?Bv(d,ze(u,2)):[]}),HU=st(function(a){var u=gi(a),d=en(a,Xv);return u=typeof u=="function"?u:n,u&&d.pop(),d.length&&d[0]===a[0]?Bv(d,n,u):[]});function GU(a,u){return a==null?"":qj.call(a,u)}function gi(a){var u=a==null?0:a.length;return u?a[u-1]:n}function QU(a,u,d){var g=a==null?0:a.length;if(!g)return-1;var _=g;return d!==n&&(_=nt(d),_=_<0?Mn(g+_,0):or(_,g-1)),u===u?Aj(a,u,_):Kd(a,NS,_,!0)}function YU(a,u){return a&&a.length?hx(a,nt(u)):n}var XU=st(tR);function tR(a,u){return a&&a.length&&u&&u.length?Wv(a,u):a}function JU(a,u,d){return a&&a.length&&u&&u.length?Wv(a,u,ze(d,2)):a}function ZU(a,u,d){return a&&a.length&&u&&u.length?Wv(a,u,n,d):a}var e4=Ps(function(a,u){var d=a==null?0:a.length,g=Fv(a,u);return px(a,en(u,function(_){return Os(_,d)?+_:_}).sort(Sx)),g});function t4(a,u){var d=[];if(!(a&&a.length))return d;var g=-1,_=[],C=a.length;for(u=ze(u,3);++g<C;){var k=a[g];u(k,g,a)&&(d.push(k),_.push(g))}return px(a,_),d}function h_(a){return a==null?a:Gj.call(a)}function n4(a,u,d){var g=a==null?0:a.length;return g?(d&&typeof d!="number"&&yr(a,u,d)?(u=0,d=g):(u=u==null?0:nt(u),d=d===n?g:nt(d)),mi(a,u,d)):[]}function r4(a,u){return fp(a,u)}function i4(a,u,d){return Gv(a,u,ze(d,2))}function s4(a,u){var d=a==null?0:a.length;if(d){var g=fp(a,u);if(g<d&&Mi(a[g],u))return g}return-1}function o4(a,u){return fp(a,u,!0)}function a4(a,u,d){return Gv(a,u,ze(d,2),!0)}function l4(a,u){var d=a==null?0:a.length;if(d){var g=fp(a,u,!0)-1;if(Mi(a[g],u))return g}return-1}function u4(a){return a&&a.length?gx(a):[]}function c4(a,u){return a&&a.length?gx(a,ze(u,2)):[]}function h4(a){var u=a==null?0:a.length;return u?mi(a,1,u):[]}function f4(a,u,d){return a&&a.length?(u=d||u===n?1:nt(u),mi(a,0,u<0?0:u)):[]}function d4(a,u,d){var g=a==null?0:a.length;return g?(u=d||u===n?1:nt(u),u=g-u,mi(a,u<0?0:u,g)):[]}function p4(a,u){return a&&a.length?dp(a,ze(u,3),!1,!0):[]}function m4(a,u){return a&&a.length?dp(a,ze(u,3)):[]}var g4=st(function(a){return Eo(Xn(a,1,Sn,!0))}),y4=st(function(a){var u=gi(a);return Sn(u)&&(u=n),Eo(Xn(a,1,Sn,!0),ze(u,2))}),v4=st(function(a){var u=gi(a);return u=typeof u=="function"?u:n,Eo(Xn(a,1,Sn,!0),n,u)});function _4(a){return a&&a.length?Eo(a):[]}function w4(a,u){return a&&a.length?Eo(a,ze(u,2)):[]}function E4(a,u){return u=typeof u=="function"?u:n,a&&a.length?Eo(a,n,u):[]}function f_(a){if(!(a&&a.length))return[];var u=0;return a=go(a,function(d){if(Sn(d))return u=Mn(d.length,u),!0}),Cv(u,function(d){return en(a,Rv(d))})}function nR(a,u){if(!(a&&a.length))return[];var d=f_(a);return u==null?d:en(d,function(g){return Qr(u,n,g)})}var T4=st(function(a,u){return Sn(a)?Jc(a,u):[]}),I4=st(function(a){return Yv(go(a,Sn))}),S4=st(function(a){var u=gi(a);return Sn(u)&&(u=n),Yv(go(a,Sn),ze(u,2))}),x4=st(function(a){var u=gi(a);return u=typeof u=="function"?u:n,Yv(go(a,Sn),n,u)}),R4=st(f_);function b4(a,u){return wx(a||[],u||[],Xc)}function A4(a,u){return wx(a||[],u||[],th)}var C4=st(function(a){var u=a.length,d=u>1?a[u-1]:n;return d=typeof d=="function"?(a.pop(),d):n,nR(a,d)});function rR(a){var u=A(a);return u.__chain__=!0,u}function P4(a,u){return u(a),a}function Tp(a,u){return u(a)}var O4=Ps(function(a){var u=a.length,d=u?a[0]:0,g=this.__wrapped__,_=function(C){return Fv(C,a)};return u>1||this.__actions__.length||!(g instanceof ht)||!Os(d)?this.thru(_):(g=g.slice(d,+d+(u?1:0)),g.__actions__.push({func:Tp,args:[_],thisArg:n}),new di(g,this.__chain__).thru(function(C){return u&&!C.length&&C.push(n),C}))});function D4(){return rR(this)}function k4(){return new di(this.value(),this.__chain__)}function N4(){this.__values__===n&&(this.__values__=yR(this.value()));var a=this.__index__>=this.__values__.length,u=a?n:this.__values__[this.__index__++];return{done:a,value:u}}function L4(){return this}function M4(a){for(var u,d=this;d instanceof ap;){var g=Yx(d);g.__index__=0,g.__values__=n,u?_.__wrapped__=g:u=g;var _=g;d=d.__wrapped__}return _.__wrapped__=a,u}function F4(){var a=this.__wrapped__;if(a instanceof ht){var u=a;return this.__actions__.length&&(u=new ht(this)),u=u.reverse(),u.__actions__.push({func:Tp,args:[h_],thisArg:n}),new di(u,this.__chain__)}return this.thru(h_)}function V4(){return _x(this.__wrapped__,this.__actions__)}var $4=pp(function(a,u,d){Ct.call(a,d)?++a[d]:As(a,d,1)});function j4(a,u,d){var g=Xe(a)?DS:PB;return d&&yr(a,u,d)&&(u=n),g(a,ze(u,3))}function B4(a,u){var d=Xe(a)?go:nx;return d(a,ze(u,3))}var U4=Px(Xx),z4=Px(Jx);function q4(a,u){return Xn(Ip(a,u),1)}function W4(a,u){return Xn(Ip(a,u),Me)}function K4(a,u,d){return d=d===n?1:nt(d),Xn(Ip(a,u),d)}function iR(a,u){var d=Xe(a)?hi:wo;return d(a,ze(u,3))}function sR(a,u){var d=Xe(a)?hj:tx;return d(a,ze(u,3))}var H4=pp(function(a,u,d){Ct.call(a,d)?a[d].push(u):As(a,d,[u])});function G4(a,u,d,g){a=kr(a)?a:ru(a),d=d&&!g?nt(d):0;var _=a.length;return d<0&&(d=Mn(_+d,0)),Ap(a)?d<=_&&a.indexOf(u,d)>-1:!!_&&Wl(a,u,d)>-1}var Q4=st(function(a,u,d){var g=-1,_=typeof u=="function",C=kr(a)?z(a.length):[];return wo(a,function(k){C[++g]=_?Qr(u,k,d):Zc(k,u,d)}),C}),Y4=pp(function(a,u,d){As(a,d,u)});function Ip(a,u){var d=Xe(a)?en:lx;return d(a,ze(u,3))}function X4(a,u,d,g){return a==null?[]:(Xe(u)||(u=u==null?[]:[u]),d=g?n:d,Xe(d)||(d=d==null?[]:[d]),fx(a,u,d))}var J4=pp(function(a,u,d){a[d?0:1].push(u)},function(){return[[],[]]});function Z4(a,u,d){var g=Xe(a)?Sv:MS,_=arguments.length<3;return g(a,ze(u,4),d,_,wo)}function e5(a,u,d){var g=Xe(a)?fj:MS,_=arguments.length<3;return g(a,ze(u,4),d,_,tx)}function t5(a,u){var d=Xe(a)?go:nx;return d(a,Rp(ze(u,3)))}function n5(a){var u=Xe(a)?XS:GB;return u(a)}function r5(a,u,d){(d?yr(a,u,d):u===n)?u=1:u=nt(u);var g=Xe(a)?xB:QB;return g(a,u)}function i5(a){var u=Xe(a)?RB:XB;return u(a)}function s5(a){if(a==null)return 0;if(kr(a))return Ap(a)?Hl(a):a.length;var u=ar(a);return u==kt||u==qt?a.size:zv(a).length}function o5(a,u,d){var g=Xe(a)?xv:JB;return d&&yr(a,u,d)&&(u=n),g(a,ze(u,3))}var a5=st(function(a,u){if(a==null)return[];var d=u.length;return d>1&&yr(a,u[0],u[1])?u=[]:d>2&&yr(u[0],u[1],u[2])&&(u=[u[0]]),fx(a,Xn(u,1),[])}),Sp=Bj||function(){return Yn.Date.now()};function l5(a,u){if(typeof u!="function")throw new fi(o);return a=nt(a),function(){if(--a<1)return u.apply(this,arguments)}}function oR(a,u,d){return u=d?n:u,u=a&&u==null?a.length:u,Cs(a,D,n,n,n,n,u)}function aR(a,u){var d;if(typeof u!="function")throw new fi(o);return a=nt(a),function(){return--a>0&&(d=u.apply(this,arguments)),a<=1&&(u=n),d}}var d_=st(function(a,u,d){var g=R;if(d.length){var _=vo(d,tu(d_));g|=P}return Cs(a,g,u,d,_)}),lR=st(function(a,u,d){var g=R|T;if(d.length){var _=vo(d,tu(lR));g|=P}return Cs(u,g,a,d,_)});function uR(a,u,d){u=d?n:u;var g=Cs(a,I,n,n,n,n,n,u);return g.placeholder=uR.placeholder,g}function cR(a,u,d){u=d?n:u;var g=Cs(a,E,n,n,n,n,n,u);return g.placeholder=cR.placeholder,g}function hR(a,u,d){var g,_,C,k,M,$,Z=0,te=!1,se=!1,pe=!0;if(typeof a!="function")throw new fi(o);u=yi(u)||0,an(d)&&(te=!!d.leading,se="maxWait"in d,C=se?Mn(yi(d.maxWait)||0,u):C,pe="trailing"in d?!!d.trailing:pe);function De(xn){var Fi=g,Ns=_;return g=_=n,Z=xn,k=a.apply(Ns,Fi),k}function qe(xn){return Z=xn,M=ih(lt,u),te?De(xn):k}function it(xn){var Fi=xn-$,Ns=xn-Z,PR=u-Fi;return se?or(PR,C-Ns):PR}function We(xn){var Fi=xn-$,Ns=xn-Z;return $===n||Fi>=u||Fi<0||se&&Ns>=C}function lt(){var xn=Sp();if(We(xn))return pt(xn);M=ih(lt,it(xn))}function pt(xn){return M=n,pe&&g?De(xn):(g=_=n,k)}function Zr(){M!==n&&Ex(M),Z=0,g=$=_=M=n}function vr(){return M===n?k:pt(Sp())}function ei(){var xn=Sp(),Fi=We(xn);if(g=arguments,_=this,$=xn,Fi){if(M===n)return qe($);if(se)return Ex(M),M=ih(lt,u),De($)}return M===n&&(M=ih(lt,u)),k}return ei.cancel=Zr,ei.flush=vr,ei}var u5=st(function(a,u){return ex(a,1,u)}),c5=st(function(a,u,d){return ex(a,yi(u)||0,d)});function h5(a){return Cs(a,W)}function xp(a,u){if(typeof a!="function"||u!=null&&typeof u!="function")throw new fi(o);var d=function(){var g=arguments,_=u?u.apply(this,g):g[0],C=d.cache;if(C.has(_))return C.get(_);var k=a.apply(this,g);return d.cache=C.set(_,k)||C,k};return d.cache=new(xp.Cache||bs),d}xp.Cache=bs;function Rp(a){if(typeof a!="function")throw new fi(o);return function(){var u=arguments;switch(u.length){case 0:return!a.call(this);case 1:return!a.call(this,u[0]);case 2:return!a.call(this,u[0],u[1]);case 3:return!a.call(this,u[0],u[1],u[2])}return!a.apply(this,u)}}function f5(a){return aR(2,a)}var d5=ZB(function(a,u){u=u.length==1&&Xe(u[0])?en(u[0],Yr(ze())):en(Xn(u,1),Yr(ze()));var d=u.length;return st(function(g){for(var _=-1,C=or(g.length,d);++_<C;)g[_]=u[_].call(this,g[_]);return Qr(a,this,g)})}),p_=st(function(a,u){var d=vo(u,tu(p_));return Cs(a,P,n,u,d)}),fR=st(function(a,u){var d=vo(u,tu(fR));return Cs(a,O,n,u,d)}),p5=Ps(function(a,u){return Cs(a,N,n,n,n,u)});function m5(a,u){if(typeof a!="function")throw new fi(o);return u=u===n?u:nt(u),st(a,u)}function g5(a,u){if(typeof a!="function")throw new fi(o);return u=u==null?0:Mn(nt(u),0),st(function(d){var g=d[u],_=Io(d,0,u);return g&&yo(_,g),Qr(a,this,_)})}function y5(a,u,d){var g=!0,_=!0;if(typeof a!="function")throw new fi(o);return an(d)&&(g="leading"in d?!!d.leading:g,_="trailing"in d?!!d.trailing:_),hR(a,u,{leading:g,maxWait:u,trailing:_})}function v5(a){return oR(a,1)}function _5(a,u){return p_(Jv(u),a)}function w5(){if(!arguments.length)return[];var a=arguments[0];return Xe(a)?a:[a]}function E5(a){return pi(a,y)}function T5(a,u){return u=typeof u=="function"?u:n,pi(a,y,u)}function I5(a){return pi(a,p|y)}function S5(a,u){return u=typeof u=="function"?u:n,pi(a,p|y,u)}function x5(a,u){return u==null||ZS(a,u,jn(u))}function Mi(a,u){return a===u||a!==a&&u!==u}var R5=vp(jv),b5=vp(function(a,u){return a>=u}),Va=sx(function(){return arguments}())?sx:function(a){return mn(a)&&Ct.call(a,"callee")&&!WS.call(a,"callee")},Xe=z.isArray,A5=RS?Yr(RS):MB;function kr(a){return a!=null&&bp(a.length)&&!Ds(a)}function Sn(a){return mn(a)&&kr(a)}function C5(a){return a===!0||a===!1||mn(a)&&gr(a)==_t}var So=zj||x_,P5=bS?Yr(bS):FB;function O5(a){return mn(a)&&a.nodeType===1&&!sh(a)}function D5(a){if(a==null)return!0;if(kr(a)&&(Xe(a)||typeof a=="string"||typeof a.splice=="function"||So(a)||nu(a)||Va(a)))return!a.length;var u=ar(a);if(u==kt||u==qt)return!a.size;if(rh(a))return!zv(a).length;for(var d in a)if(Ct.call(a,d))return!1;return!0}function k5(a,u){return eh(a,u)}function N5(a,u,d){d=typeof d=="function"?d:n;var g=d?d(a,u):n;return g===n?eh(a,u,n,d):!!g}function m_(a){if(!mn(a))return!1;var u=gr(a);return u==ct||u==Vt||typeof a.message=="string"&&typeof a.name=="string"&&!sh(a)}function L5(a){return typeof a=="number"&&HS(a)}function Ds(a){if(!an(a))return!1;var u=gr(a);return u==xt||u==wt||u==Jt||u==Di}function dR(a){return typeof a=="number"&&a==nt(a)}function bp(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=G}function an(a){var u=typeof a;return a!=null&&(u=="object"||u=="function")}function mn(a){return a!=null&&typeof a=="object"}var pR=AS?Yr(AS):$B;function M5(a,u){return a===u||Uv(a,u,s_(u))}function F5(a,u,d){return d=typeof d=="function"?d:n,Uv(a,u,s_(u),d)}function V5(a){return mR(a)&&a!=+a}function $5(a){if(TU(a))throw new Qe(s);return ox(a)}function j5(a){return a===null}function B5(a){return a==null}function mR(a){return typeof a=="number"||mn(a)&&gr(a)==Ze}function sh(a){if(!mn(a)||gr(a)!=zt)return!1;var u=ep(a);if(u===null)return!0;var d=Ct.call(u,"constructor")&&u.constructor;return typeof d=="function"&&d instanceof d&&Yd.call(d)==Fj}var g_=CS?Yr(CS):jB;function U5(a){return dR(a)&&a>=-G&&a<=G}var gR=PS?Yr(PS):BB;function Ap(a){return typeof a=="string"||!Xe(a)&&mn(a)&&gr(a)==Nn}function Jr(a){return typeof a=="symbol"||mn(a)&&gr(a)==pn}var nu=OS?Yr(OS):UB;function z5(a){return a===n}function q5(a){return mn(a)&&ar(a)==Ke}function W5(a){return mn(a)&&gr(a)==Zt}var K5=vp(qv),H5=vp(function(a,u){return a<=u});function yR(a){if(!a)return[];if(kr(a))return Ap(a)?Ni(a):Dr(a);if(Kc&&a[Kc])return xj(a[Kc]());var u=ar(a),d=u==kt?Ov:u==qt?Hd:ru;return d(a)}function ks(a){if(!a)return a===0?a:0;if(a=yi(a),a===Me||a===-Me){var u=a<0?-1:1;return u*ce}return a===a?a:0}function nt(a){var u=ks(a),d=u%1;return u===u?d?u-d:u:0}function vR(a){return a?Na(nt(a),0,we):0}function yi(a){if(typeof a=="number")return a;if(Jr(a))return ae;if(an(a)){var u=typeof a.valueOf=="function"?a.valueOf():a;a=an(u)?u+"":u}if(typeof a!="string")return a===0?a:+a;a=FS(a);var d=Rt.test(a);return d||Zi.test(a)?lj(a.slice(2),d?2:8):qc.test(a)?ae:+a}function _R(a){return ts(a,Nr(a))}function G5(a){return a?Na(nt(a),-G,G):a===0?a:0}function bt(a){return a==null?"":Xr(a)}var Q5=Zl(function(a,u){if(rh(u)||kr(u)){ts(u,jn(u),a);return}for(var d in u)Ct.call(u,d)&&Xc(a,d,u[d])}),wR=Zl(function(a,u){ts(u,Nr(u),a)}),Cp=Zl(function(a,u,d,g){ts(u,Nr(u),a,g)}),Y5=Zl(function(a,u,d,g){ts(u,jn(u),a,g)}),X5=Ps(Fv);function J5(a,u){var d=Jl(a);return u==null?d:JS(d,u)}var Z5=st(function(a,u){a=Ft(a);var d=-1,g=u.length,_=g>2?u[2]:n;for(_&&yr(u[0],u[1],_)&&(g=1);++d<g;)for(var C=u[d],k=Nr(C),M=-1,$=k.length;++M<$;){var Z=k[M],te=a[Z];(te===n||Mi(te,Ql[Z])&&!Ct.call(a,Z))&&(a[Z]=C[Z])}return a}),e3=st(function(a){return a.push(n,Fx),Qr(ER,n,a)});function t3(a,u){return kS(a,ze(u,3),es)}function n3(a,u){return kS(a,ze(u,3),$v)}function r3(a,u){return a==null?a:Vv(a,ze(u,3),Nr)}function i3(a,u){return a==null?a:rx(a,ze(u,3),Nr)}function s3(a,u){return a&&es(a,ze(u,3))}function o3(a,u){return a&&$v(a,ze(u,3))}function a3(a){return a==null?[]:cp(a,jn(a))}function l3(a){return a==null?[]:cp(a,Nr(a))}function y_(a,u,d){var g=a==null?n:La(a,u);return g===n?d:g}function u3(a,u){return a!=null&&jx(a,u,DB)}function v_(a,u){return a!=null&&jx(a,u,kB)}var c3=Dx(function(a,u,d){u!=null&&typeof u.toString!="function"&&(u=Xd.call(u)),a[u]=d},w_(Lr)),h3=Dx(function(a,u,d){u!=null&&typeof u.toString!="function"&&(u=Xd.call(u)),Ct.call(a,u)?a[u].push(d):a[u]=[d]},ze),f3=st(Zc);function jn(a){return kr(a)?YS(a):zv(a)}function Nr(a){return kr(a)?YS(a,!0):zB(a)}function d3(a,u){var d={};return u=ze(u,3),es(a,function(g,_,C){As(d,u(g,_,C),g)}),d}function p3(a,u){var d={};return u=ze(u,3),es(a,function(g,_,C){As(d,_,u(g,_,C))}),d}var m3=Zl(function(a,u,d){hp(a,u,d)}),ER=Zl(function(a,u,d,g){hp(a,u,d,g)}),g3=Ps(function(a,u){var d={};if(a==null)return d;var g=!1;u=en(u,function(C){return C=To(C,a),g||(g=C.length>1),C}),ts(a,r_(a),d),g&&(d=pi(d,p|m|y,cU));for(var _=u.length;_--;)Qv(d,u[_]);return d});function y3(a,u){return TR(a,Rp(ze(u)))}var v3=Ps(function(a,u){return a==null?{}:WB(a,u)});function TR(a,u){if(a==null)return{};var d=en(r_(a),function(g){return[g]});return u=ze(u),dx(a,d,function(g,_){return u(g,_[0])})}function _3(a,u,d){u=To(u,a);var g=-1,_=u.length;for(_||(_=1,a=n);++g<_;){var C=a==null?n:a[ns(u[g])];C===n&&(g=_,C=d),a=Ds(C)?C.call(a):C}return a}function w3(a,u,d){return a==null?a:th(a,u,d)}function E3(a,u,d,g){return g=typeof g=="function"?g:n,a==null?a:th(a,u,d,g)}var IR=Lx(jn),SR=Lx(Nr);function T3(a,u,d){var g=Xe(a),_=g||So(a)||nu(a);if(u=ze(u,4),d==null){var C=a&&a.constructor;_?d=g?new C:[]:an(a)?d=Ds(C)?Jl(ep(a)):{}:d={}}return(_?hi:es)(a,function(k,M,$){return u(d,k,M,$)}),d}function I3(a,u){return a==null?!0:Qv(a,u)}function S3(a,u,d){return a==null?a:vx(a,u,Jv(d))}function x3(a,u,d,g){return g=typeof g=="function"?g:n,a==null?a:vx(a,u,Jv(d),g)}function ru(a){return a==null?[]:Pv(a,jn(a))}function R3(a){return a==null?[]:Pv(a,Nr(a))}function b3(a,u,d){return d===n&&(d=u,u=n),d!==n&&(d=yi(d),d=d===d?d:0),u!==n&&(u=yi(u),u=u===u?u:0),Na(yi(a),u,d)}function A3(a,u,d){return u=ks(u),d===n?(d=u,u=0):d=ks(d),a=yi(a),NB(a,u,d)}function C3(a,u,d){if(d&&typeof d!="boolean"&&yr(a,u,d)&&(u=d=n),d===n&&(typeof u=="boolean"?(d=u,u=n):typeof a=="boolean"&&(d=a,a=n)),a===n&&u===n?(a=0,u=1):(a=ks(a),u===n?(u=a,a=0):u=ks(u)),a>u){var g=a;a=u,u=g}if(d||a%1||u%1){var _=GS();return or(a+_*(u-a+aj("1e-"+((_+"").length-1))),u)}return Kv(a,u)}var P3=eu(function(a,u,d){return u=u.toLowerCase(),a+(d?xR(u):u)});function xR(a){return __(bt(a).toLowerCase())}function RR(a){return a=bt(a),a&&a.replace(Aa,wj).replace(X$,"")}function O3(a,u,d){a=bt(a),u=Xr(u);var g=a.length;d=d===n?g:Na(nt(d),0,g);var _=d;return d-=u.length,d>=0&&a.slice(d,_)==u}function D3(a){return a=bt(a),a&&de.test(a)?a.replace(H,Ej):a}function k3(a){return a=bt(a),a&&At.test(a)?a.replace(ot,"\\$&"):a}var N3=eu(function(a,u,d){return a+(d?"-":"")+u.toLowerCase()}),L3=eu(function(a,u,d){return a+(d?" ":"")+u.toLowerCase()}),M3=Cx("toLowerCase");function F3(a,u,d){a=bt(a),u=nt(u);var g=u?Hl(a):0;if(!u||g>=u)return a;var _=(u-g)/2;return yp(ip(_),d)+a+yp(rp(_),d)}function V3(a,u,d){a=bt(a),u=nt(u);var g=u?Hl(a):0;return u&&g<u?a+yp(u-g,d):a}function $3(a,u,d){a=bt(a),u=nt(u);var g=u?Hl(a):0;return u&&g<u?yp(u-g,d)+a:a}function j3(a,u,d){return d||u==null?u=0:u&&(u=+u),Hj(bt(a).replace(sn,""),u||0)}function B3(a,u,d){return(d?yr(a,u,d):u===n)?u=1:u=nt(u),Hv(bt(a),u)}function U3(){var a=arguments,u=bt(a[0]);return a.length<3?u:u.replace(a[1],a[2])}var z3=eu(function(a,u,d){return a+(d?"_":"")+u.toLowerCase()});function q3(a,u,d){return d&&typeof d!="number"&&yr(a,u,d)&&(u=d=n),d=d===n?we:d>>>0,d?(a=bt(a),a&&(typeof u=="string"||u!=null&&!g_(u))&&(u=Xr(u),!u&&Kl(a))?Io(Ni(a),0,d):a.split(u,d)):[]}var W3=eu(function(a,u,d){return a+(d?" ":"")+__(u)});function K3(a,u,d){return a=bt(a),d=d==null?0:Na(nt(d),0,a.length),u=Xr(u),a.slice(d,d+u.length)==u}function H3(a,u,d){var g=A.templateSettings;d&&yr(a,u,d)&&(u=n),a=bt(a),u=Cp({},u,g,Mx);var _=Cp({},u.imports,g.imports,Mx),C=jn(_),k=Pv(_,C),M,$,Z=0,te=u.interpolate||Ca,se="__p += '",pe=Dv((u.escape||Ca).source+"|"+te.source+"|"+(te===Pe?zc:Ca).source+"|"+(u.evaluate||Ca).source+"|$","g"),De="//# sourceURL="+(Ct.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nj+"]")+`
`;a.replace(pe,function(We,lt,pt,Zr,vr,ei){return pt||(pt=Zr),se+=a.slice(Z,ei).replace(mv,Tj),lt&&(M=!0,se+=`' +
__e(`+lt+`) +
'`),vr&&($=!0,se+=`';
`+vr+`;
__p += '`),pt&&(se+=`' +
((__t = (`+pt+`)) == null ? '' : __t) +
'`),Z=ei+We.length,We}),se+=`';
`;var qe=Ct.call(u,"variable")&&u.variable;if(!qe)se=`with (obj) {
`+se+`
}
`;else if(Ji.test(qe))throw new Qe(l);se=($?se.replace(ye,""):se).replace(tt,"$1").replace(F,"$1;"),se="function("+(qe||"obj")+`) {
`+(qe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(M?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+se+`return __p
}`;var it=AR(function(){return St(C,De+"return "+se).apply(n,k)});if(it.source=se,m_(it))throw it;return it}function G3(a){return bt(a).toLowerCase()}function Q3(a){return bt(a).toUpperCase()}function Y3(a,u,d){if(a=bt(a),a&&(d||u===n))return FS(a);if(!a||!(u=Xr(u)))return a;var g=Ni(a),_=Ni(u),C=VS(g,_),k=$S(g,_)+1;return Io(g,C,k).join("")}function X3(a,u,d){if(a=bt(a),a&&(d||u===n))return a.slice(0,BS(a)+1);if(!a||!(u=Xr(u)))return a;var g=Ni(a),_=$S(g,Ni(u))+1;return Io(g,0,_).join("")}function J3(a,u,d){if(a=bt(a),a&&(d||u===n))return a.replace(sn,"");if(!a||!(u=Xr(u)))return a;var g=Ni(a),_=VS(g,Ni(u));return Io(g,_).join("")}function Z3(a,u){var d=Y,g=ie;if(an(u)){var _="separator"in u?u.separator:_;d="length"in u?nt(u.length):d,g="omission"in u?Xr(u.omission):g}a=bt(a);var C=a.length;if(Kl(a)){var k=Ni(a);C=k.length}if(d>=C)return a;var M=d-Hl(g);if(M<1)return g;var $=k?Io(k,0,M).join(""):a.slice(0,M);if(_===n)return $+g;if(k&&(M+=$.length-M),g_(_)){if(a.slice(M).search(_)){var Z,te=$;for(_.global||(_=Dv(_.source,bt(zl.exec(_))+"g")),_.lastIndex=0;Z=_.exec(te);)var se=Z.index;$=$.slice(0,se===n?M:se)}}else if(a.indexOf(Xr(_),M)!=M){var pe=$.lastIndexOf(_);pe>-1&&($=$.slice(0,pe))}return $+g}function e6(a){return a=bt(a),a&&ue.test(a)?a.replace(j,Cj):a}var t6=eu(function(a,u,d){return a+(d?" ":"")+u.toUpperCase()}),__=Cx("toUpperCase");function bR(a,u,d){return a=bt(a),u=d?n:u,u===n?Sj(a)?Dj(a):mj(a):a.match(u)||[]}var AR=st(function(a,u){try{return Qr(a,n,u)}catch(d){return m_(d)?d:new Qe(d)}}),n6=Ps(function(a,u){return hi(u,function(d){d=ns(d),As(a,d,d_(a[d],a))}),a});function r6(a){var u=a==null?0:a.length,d=ze();return a=u?en(a,function(g){if(typeof g[1]!="function")throw new fi(o);return[d(g[0]),g[1]]}):[],st(function(g){for(var _=-1;++_<u;){var C=a[_];if(Qr(C[0],this,g))return Qr(C[1],this,g)}})}function i6(a){return CB(pi(a,p))}function w_(a){return function(){return a}}function s6(a,u){return a==null||a!==a?u:a}var o6=Ox(),a6=Ox(!0);function Lr(a){return a}function E_(a){return ax(typeof a=="function"?a:pi(a,p))}function l6(a){return ux(pi(a,p))}function u6(a,u){return cx(a,pi(u,p))}var c6=st(function(a,u){return function(d){return Zc(d,a,u)}}),h6=st(function(a,u){return function(d){return Zc(a,d,u)}});function T_(a,u,d){var g=jn(u),_=cp(u,g);d==null&&!(an(u)&&(_.length||!g.length))&&(d=u,u=a,a=this,_=cp(u,jn(u)));var C=!(an(d)&&"chain"in d)||!!d.chain,k=Ds(a);return hi(_,function(M){var $=u[M];a[M]=$,k&&(a.prototype[M]=function(){var Z=this.__chain__;if(C||Z){var te=a(this.__wrapped__),se=te.__actions__=Dr(this.__actions__);return se.push({func:$,args:arguments,thisArg:a}),te.__chain__=Z,te}return $.apply(a,yo([this.value()],arguments))})}),a}function f6(){return Yn._===this&&(Yn._=Vj),this}function I_(){}function d6(a){return a=nt(a),st(function(u){return hx(u,a)})}var p6=e_(en),m6=e_(DS),g6=e_(xv);function CR(a){return a_(a)?Rv(ns(a)):KB(a)}function y6(a){return function(u){return a==null?n:La(a,u)}}var v6=kx(),_6=kx(!0);function S_(){return[]}function x_(){return!1}function w6(){return{}}function E6(){return""}function T6(){return!0}function I6(a,u){if(a=nt(a),a<1||a>G)return[];var d=we,g=or(a,we);u=ze(u),a-=we;for(var _=Cv(g,u);++d<a;)u(d);return _}function S6(a){return Xe(a)?en(a,ns):Jr(a)?[a]:Dr(Qx(bt(a)))}function x6(a){var u=++Mj;return bt(a)+u}var R6=gp(function(a,u){return a+u},0),b6=t_("ceil"),A6=gp(function(a,u){return a/u},1),C6=t_("floor");function P6(a){return a&&a.length?up(a,Lr,jv):n}function O6(a,u){return a&&a.length?up(a,ze(u,2),jv):n}function D6(a){return LS(a,Lr)}function k6(a,u){return LS(a,ze(u,2))}function N6(a){return a&&a.length?up(a,Lr,qv):n}function L6(a,u){return a&&a.length?up(a,ze(u,2),qv):n}var M6=gp(function(a,u){return a*u},1),F6=t_("round"),V6=gp(function(a,u){return a-u},0);function $6(a){return a&&a.length?Av(a,Lr):0}function j6(a,u){return a&&a.length?Av(a,ze(u,2)):0}return A.after=l5,A.ary=oR,A.assign=Q5,A.assignIn=wR,A.assignInWith=Cp,A.assignWith=Y5,A.at=X5,A.before=aR,A.bind=d_,A.bindAll=n6,A.bindKey=lR,A.castArray=w5,A.chain=rR,A.chunk=CU,A.compact=PU,A.concat=OU,A.cond=r6,A.conforms=i6,A.constant=w_,A.countBy=$4,A.create=J5,A.curry=uR,A.curryRight=cR,A.debounce=hR,A.defaults=Z5,A.defaultsDeep=e3,A.defer=u5,A.delay=c5,A.difference=DU,A.differenceBy=kU,A.differenceWith=NU,A.drop=LU,A.dropRight=MU,A.dropRightWhile=FU,A.dropWhile=VU,A.fill=$U,A.filter=B4,A.flatMap=q4,A.flatMapDeep=W4,A.flatMapDepth=K4,A.flatten=Zx,A.flattenDeep=jU,A.flattenDepth=BU,A.flip=h5,A.flow=o6,A.flowRight=a6,A.fromPairs=UU,A.functions=a3,A.functionsIn=l3,A.groupBy=H4,A.initial=qU,A.intersection=WU,A.intersectionBy=KU,A.intersectionWith=HU,A.invert=c3,A.invertBy=h3,A.invokeMap=Q4,A.iteratee=E_,A.keyBy=Y4,A.keys=jn,A.keysIn=Nr,A.map=Ip,A.mapKeys=d3,A.mapValues=p3,A.matches=l6,A.matchesProperty=u6,A.memoize=xp,A.merge=m3,A.mergeWith=ER,A.method=c6,A.methodOf=h6,A.mixin=T_,A.negate=Rp,A.nthArg=d6,A.omit=g3,A.omitBy=y3,A.once=f5,A.orderBy=X4,A.over=p6,A.overArgs=d5,A.overEvery=m6,A.overSome=g6,A.partial=p_,A.partialRight=fR,A.partition=J4,A.pick=v3,A.pickBy=TR,A.property=CR,A.propertyOf=y6,A.pull=XU,A.pullAll=tR,A.pullAllBy=JU,A.pullAllWith=ZU,A.pullAt=e4,A.range=v6,A.rangeRight=_6,A.rearg=p5,A.reject=t5,A.remove=t4,A.rest=m5,A.reverse=h_,A.sampleSize=r5,A.set=w3,A.setWith=E3,A.shuffle=i5,A.slice=n4,A.sortBy=a5,A.sortedUniq=u4,A.sortedUniqBy=c4,A.split=q3,A.spread=g5,A.tail=h4,A.take=f4,A.takeRight=d4,A.takeRightWhile=p4,A.takeWhile=m4,A.tap=P4,A.throttle=y5,A.thru=Tp,A.toArray=yR,A.toPairs=IR,A.toPairsIn=SR,A.toPath=S6,A.toPlainObject=_R,A.transform=T3,A.unary=v5,A.union=g4,A.unionBy=y4,A.unionWith=v4,A.uniq=_4,A.uniqBy=w4,A.uniqWith=E4,A.unset=I3,A.unzip=f_,A.unzipWith=nR,A.update=S3,A.updateWith=x3,A.values=ru,A.valuesIn=R3,A.without=T4,A.words=bR,A.wrap=_5,A.xor=I4,A.xorBy=S4,A.xorWith=x4,A.zip=R4,A.zipObject=b4,A.zipObjectDeep=A4,A.zipWith=C4,A.entries=IR,A.entriesIn=SR,A.extend=wR,A.extendWith=Cp,T_(A,A),A.add=R6,A.attempt=AR,A.camelCase=P3,A.capitalize=xR,A.ceil=b6,A.clamp=b3,A.clone=E5,A.cloneDeep=I5,A.cloneDeepWith=S5,A.cloneWith=T5,A.conformsTo=x5,A.deburr=RR,A.defaultTo=s6,A.divide=A6,A.endsWith=O3,A.eq=Mi,A.escape=D3,A.escapeRegExp=k3,A.every=j4,A.find=U4,A.findIndex=Xx,A.findKey=t3,A.findLast=z4,A.findLastIndex=Jx,A.findLastKey=n3,A.floor=C6,A.forEach=iR,A.forEachRight=sR,A.forIn=r3,A.forInRight=i3,A.forOwn=s3,A.forOwnRight=o3,A.get=y_,A.gt=R5,A.gte=b5,A.has=u3,A.hasIn=v_,A.head=eR,A.identity=Lr,A.includes=G4,A.indexOf=zU,A.inRange=A3,A.invoke=f3,A.isArguments=Va,A.isArray=Xe,A.isArrayBuffer=A5,A.isArrayLike=kr,A.isArrayLikeObject=Sn,A.isBoolean=C5,A.isBuffer=So,A.isDate=P5,A.isElement=O5,A.isEmpty=D5,A.isEqual=k5,A.isEqualWith=N5,A.isError=m_,A.isFinite=L5,A.isFunction=Ds,A.isInteger=dR,A.isLength=bp,A.isMap=pR,A.isMatch=M5,A.isMatchWith=F5,A.isNaN=V5,A.isNative=$5,A.isNil=B5,A.isNull=j5,A.isNumber=mR,A.isObject=an,A.isObjectLike=mn,A.isPlainObject=sh,A.isRegExp=g_,A.isSafeInteger=U5,A.isSet=gR,A.isString=Ap,A.isSymbol=Jr,A.isTypedArray=nu,A.isUndefined=z5,A.isWeakMap=q5,A.isWeakSet=W5,A.join=GU,A.kebabCase=N3,A.last=gi,A.lastIndexOf=QU,A.lowerCase=L3,A.lowerFirst=M3,A.lt=K5,A.lte=H5,A.max=P6,A.maxBy=O6,A.mean=D6,A.meanBy=k6,A.min=N6,A.minBy=L6,A.stubArray=S_,A.stubFalse=x_,A.stubObject=w6,A.stubString=E6,A.stubTrue=T6,A.multiply=M6,A.nth=YU,A.noConflict=f6,A.noop=I_,A.now=Sp,A.pad=F3,A.padEnd=V3,A.padStart=$3,A.parseInt=j3,A.random=C3,A.reduce=Z4,A.reduceRight=e5,A.repeat=B3,A.replace=U3,A.result=_3,A.round=F6,A.runInContext=V,A.sample=n5,A.size=s5,A.snakeCase=z3,A.some=o5,A.sortedIndex=r4,A.sortedIndexBy=i4,A.sortedIndexOf=s4,A.sortedLastIndex=o4,A.sortedLastIndexBy=a4,A.sortedLastIndexOf=l4,A.startCase=W3,A.startsWith=K3,A.subtract=V6,A.sum=$6,A.sumBy=j6,A.template=H3,A.times=I6,A.toFinite=ks,A.toInteger=nt,A.toLength=vR,A.toLower=G3,A.toNumber=yi,A.toSafeInteger=G5,A.toString=bt,A.toUpper=Q3,A.trim=Y3,A.trimEnd=X3,A.trimStart=J3,A.truncate=Z3,A.unescape=e6,A.uniqueId=x6,A.upperCase=t6,A.upperFirst=__,A.each=iR,A.eachRight=sR,A.first=eR,T_(A,function(){var a={};return es(A,function(u,d){Ct.call(A.prototype,d)||(a[d]=u)}),a}(),{chain:!1}),A.VERSION=r,hi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){A[a].placeholder=A}),hi(["drop","take"],function(a,u){ht.prototype[a]=function(d){d=d===n?1:Mn(nt(d),0);var g=this.__filtered__&&!u?new ht(this):this.clone();return g.__filtered__?g.__takeCount__=or(d,g.__takeCount__):g.__views__.push({size:or(d,we),type:a+(g.__dir__<0?"Right":"")}),g},ht.prototype[a+"Right"]=function(d){return this.reverse()[a](d).reverse()}}),hi(["filter","map","takeWhile"],function(a,u){var d=u+1,g=d==Fe||d==Ve;ht.prototype[a]=function(_){var C=this.clone();return C.__iteratees__.push({iteratee:ze(_,3),type:d}),C.__filtered__=C.__filtered__||g,C}}),hi(["head","last"],function(a,u){var d="take"+(u?"Right":"");ht.prototype[a]=function(){return this[d](1).value()[0]}}),hi(["initial","tail"],function(a,u){var d="drop"+(u?"":"Right");ht.prototype[a]=function(){return this.__filtered__?new ht(this):this[d](1)}}),ht.prototype.compact=function(){return this.filter(Lr)},ht.prototype.find=function(a){return this.filter(a).head()},ht.prototype.findLast=function(a){return this.reverse().find(a)},ht.prototype.invokeMap=st(function(a,u){return typeof a=="function"?new ht(this):this.map(function(d){return Zc(d,a,u)})}),ht.prototype.reject=function(a){return this.filter(Rp(ze(a)))},ht.prototype.slice=function(a,u){a=nt(a);var d=this;return d.__filtered__&&(a>0||u<0)?new ht(d):(a<0?d=d.takeRight(-a):a&&(d=d.drop(a)),u!==n&&(u=nt(u),d=u<0?d.dropRight(-u):d.take(u-a)),d)},ht.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},ht.prototype.toArray=function(){return this.take(we)},es(ht.prototype,function(a,u){var d=/^(?:filter|find|map|reject)|While$/.test(u),g=/^(?:head|last)$/.test(u),_=A[g?"take"+(u=="last"?"Right":""):u],C=g||/^find/.test(u);_&&(A.prototype[u]=function(){var k=this.__wrapped__,M=g?[1]:arguments,$=k instanceof ht,Z=M[0],te=$||Xe(k),se=function(lt){var pt=_.apply(A,yo([lt],M));return g&&pe?pt[0]:pt};te&&d&&typeof Z=="function"&&Z.length!=1&&($=te=!1);var pe=this.__chain__,De=!!this.__actions__.length,qe=C&&!pe,it=$&&!De;if(!C&&te){k=it?k:new ht(this);var We=a.apply(k,M);return We.__actions__.push({func:Tp,args:[se],thisArg:n}),new di(We,pe)}return qe&&it?a.apply(this,M):(We=this.thru(se),qe?g?We.value()[0]:We.value():We)})}),hi(["pop","push","shift","sort","splice","unshift"],function(a){var u=Gd[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",g=/^(?:pop|shift)$/.test(a);A.prototype[a]=function(){var _=arguments;if(g&&!this.__chain__){var C=this.value();return u.apply(Xe(C)?C:[],_)}return this[d](function(k){return u.apply(Xe(k)?k:[],_)})}}),es(ht.prototype,function(a,u){var d=A[u];if(d){var g=d.name+"";Ct.call(Xl,g)||(Xl[g]=[]),Xl[g].push({name:u,func:d})}}),Xl[mp(n,T).name]=[{name:"wrapper",func:n}],ht.prototype.clone=eB,ht.prototype.reverse=tB,ht.prototype.value=nB,A.prototype.at=O4,A.prototype.chain=D4,A.prototype.commit=k4,A.prototype.next=N4,A.prototype.plant=M4,A.prototype.reverse=F4,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=V4,A.prototype.first=A.prototype.head,Kc&&(A.prototype[Kc]=L4),A},Gl=kj();Pa?((Pa.exports=Gl)._=Gl,Ev._=Gl):Yn._=Gl}).call(oh)})(wg,wg.exports);var JG=wg.exports;const c0=({title:t,typeClass:e,children:n,id:r})=>{const{isDarkMode:i}=Ac(),s=i?"darkBg":"white-50",o=x.useRef(null),{isLoadingPokemon:l,handleNextPage:c,handleIsLoadingPokemon:h,searchPokemon:f,bestDamage:p,filterType:m,searchMorePokemon:y,handleSearchMorePokemon:v,storeAllPokemon:w,page:R,handleShowInfo_select:T}=Or(),S=x.useCallback(()=>{const E=o.current;f!==""||m.enName!=="all"||!l&&E.scrollTop+E.clientHeight>=E.scrollHeight&&(h(!0),c(),h(!1))},[m.enName,f,h,c,l]);x.useEffect(()=>{if(r!=Gi)return;const E=document.getElementById(Gi),P=JG.throttle(S,500);return E.addEventListener("scroll",P),()=>{E.removeEventListener("scroll",P)}},[r,S]);const I=E=>{v(),c(w.length),h(!0),E&&T(kl,"")};return b.jsxs("div",{className:"group-col",children:[b.jsx(qG,{title:t,id:r}),b.jsxs("div",{id:r,ref:o,className:"groups",children:[b.jsx("div",{className:`group-img group-${e}`,children:n}),r===Gi&&(f!==""||m.enName!=="all")&&b.jsxs("div",{className:"search-more-container",children:[b.jsx("p",{children:"沒找到你要的嗎?"}),b.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>{v()},children:"載入全部"}),b.jsxs($s,{show:y,onHide:v,animation:!0,children:[b.jsx($s.Header,{className:`bg-${s}`,closeButton:!0,children:b.jsx($s.Title,{children:"提示"})}),b.jsx($s.Body,{className:`bg-${s}`,children:"自動切換為僅顯示角色名稱，以提高效能"}),b.jsxs($s.Footer,{className:`bg-${s}`,children:[b.jsx(pg,{variant:"secondary",onClick:()=>{I(!1)},children:"不用了"}),b.jsx(pg,{variant:"primary",onClick:()=>{I(!0)},children:"沒問題"})]})]})]}),r===pd&&p.length>0&&b.jsxs("div",{className:`best-damage-container bg-${s}`,children:[b.jsx(WG,{className:"thumb-icon"}),b.jsx("span",{style:{paddingLeft:"0.5rem"},children:"推薦屬性"}),b.jsx("ul",{children:p.map(E=>b.jsx("li",{style:{margin:"0 0.1rem"},children:b.jsx(nL,{...E})},Hi()))})]})]})]})},h0=x.memo(function({item:e,showType_select:n,styleObj:r}){return(e==null?void 0:e.Types)===void 0?b.jsx("span",{children:"error"}):b.jsx("ul",{style:r,children:((e==null?void 0:e.Types)??[]).map(i=>{switch(n){case Y1:return b.jsx("li",{children:b.jsx(GG,{...i})},Hi());case kl:return b.jsx("li",{children:b.jsx(HG,{...i})},Hi());case Q1:return b.jsx("li",{children:b.jsx(nL,{...i})},Hi())}})})}),rL=({showInfo_select:t=hg,showType_select:e,item:n,isActive:r="",handleClick:i=()=>{}})=>{switch(t){case kl:return b.jsx(QG,{isActive:r,handleClick:i,item:n,children:b.jsx(h0,{styleObj:{display:"flex",flexDirection:"row",justifyContent:"space-evenly"},item:n,showType_select:e,showInfo_select:t})});case G1:return b.jsx(XG,{isActive:r,item:n,handleClick:i,children:b.jsx(h0,{styleObj:{display:"flex",flexDirection:"row",justifyContent:"start",gap:"0.3rem"},item:n,showType_select:e,showInfo_select:t})});case hg:return b.jsx(YG,{isActive:r,handleClick:i,item:n,children:b.jsx(h0,{styleObj:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},item:n,showType_select:e,showInfo_select:t})})}},iL=x.memo(function({showInfo_select:e,showType_select:n,displayTier:r,bestDamage:i}){const{filterTier:s}=Or(),o=s.enName!=="all"?[{...s}]:Zk;return b.jsx(b.Fragment,{children:o.map(l=>{const{enName:c,zhName:h}=l;let f=r[c];if(f!==void 0)return f=f.filter(p=>{const{Types:m}=p;return m.some(y=>i.some(v=>y.enName===v.enName))}),b.jsxs("div",{children:[b.jsxs("div",{children:[b.jsx("div",{children:"====="}),b.jsxs("div",{children:["以下是",h]}),b.jsx("div",{children:"====="})]}),f.map(p=>{if(p!==void 0)return b.jsx(rL,{item:p,showInfo_select:e,showType_select:n},Hi())})]},Hi())})})}),sL=x.memo(function({showInfo_select:e,showType_select:n,displayCharacter:r,handleClick:i,id:s}){const{selectImg:o,searchPokemon:l,filterType:c,filterPopular:h,popularPokemon:f}=Or();let p=r;return s===Gi&&(l!==""&&(p=p.filter(m=>m===void 0?!1:m==null?void 0:m.zhName.includes(l))),c.enName!=="all"&&(p=p.filter(m=>m===void 0?!1:m.Types.filter(v=>v.enName===c.enName).length>0)),h===!0&&(p=p.filter(m=>m===void 0?!1:f.some(y=>y.enName===m.enName)))),p.map(m=>{if(m===void 0)return;const v=o.some(w=>w.enName===m.enName)?"hero-active":"";return b.jsx(rL,{showInfo_select:e,showType_select:n,item:m,isActive:v,handleClick:i},Hi())})}),ZG=Object.freeze(Object.defineProperty({__proto__:null,TierGroups:iL,default:sL},Symbol.toStringTag,{value:"Module"}));function oL(t,e){return function(){return t.apply(e,arguments)}}const{toString:eQ}=Object.prototype,{getPrototypeOf:TT}=Object,_y=(t=>e=>{const n=eQ.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Is=t=>(t=t.toLowerCase(),e=>_y(e)===t),wy=t=>e=>typeof e===t,{isArray:Cc}=Array,Mf=wy("undefined");function tQ(t){return t!==null&&!Mf(t)&&t.constructor!==null&&!Mf(t.constructor)&&bi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const aL=Is("ArrayBuffer");function nQ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&aL(t.buffer),e}const rQ=wy("string"),bi=wy("function"),lL=wy("number"),Ey=t=>t!==null&&typeof t=="object",iQ=t=>t===!0||t===!1,xm=t=>{if(_y(t)!=="object")return!1;const e=TT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sQ=Is("Date"),oQ=Is("File"),aQ=Is("Blob"),lQ=Is("FileList"),uQ=t=>Ey(t)&&bi(t.pipe),cQ=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||bi(t.append)&&((e=_y(t))==="formdata"||e==="object"&&bi(t.toString)&&t.toString()==="[object FormData]"))},hQ=Is("URLSearchParams"),fQ=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Cc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function uL(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const cL=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),hL=t=>!Mf(t)&&t!==cL;function eE(){const{caseless:t}=hL(this)&&this||{},e={},n=(r,i)=>{const s=t&&uL(e,i)||i;xm(e[s])&&xm(r)?e[s]=eE(e[s],r):xm(r)?e[s]=eE({},r):Cc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&wd(arguments[r],n);return e}const dQ=(t,e,n,{allOwnKeys:r}={})=>(wd(e,(i,s)=>{n&&bi(i)?t[s]=oL(i,n):t[s]=i},{allOwnKeys:r}),t),pQ=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),mQ=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},gQ=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&TT(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},yQ=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},vQ=t=>{if(!t)return null;if(Cc(t))return t;let e=t.length;if(!lL(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},_Q=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&TT(Uint8Array)),wQ=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},EQ=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},TQ=Is("HTMLFormElement"),IQ=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),KA=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),SQ=Is("RegExp"),fL=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};wd(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},xQ=t=>{fL(t,(e,n)=>{if(bi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(bi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},RQ=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Cc(t)?r(t):r(String(t).split(e)),n},bQ=()=>{},AQ=(t,e)=>(t=+t,Number.isFinite(t)?t:e),f0="abcdefghijklmnopqrstuvwxyz",HA="0123456789",dL={DIGIT:HA,ALPHA:f0,ALPHA_DIGIT:f0+f0.toUpperCase()+HA},CQ=(t=16,e=dL.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function PQ(t){return!!(t&&bi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const OQ=t=>{const e=new Array(10),n=(r,i)=>{if(Ey(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Cc(r)?[]:{};return wd(r,(o,l)=>{const c=n(o,i+1);!Mf(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return n(t,0)},DQ=Is("AsyncFunction"),kQ=t=>t&&(Ey(t)||bi(t))&&bi(t.then)&&bi(t.catch),ne={isArray:Cc,isArrayBuffer:aL,isBuffer:tQ,isFormData:cQ,isArrayBufferView:nQ,isString:rQ,isNumber:lL,isBoolean:iQ,isObject:Ey,isPlainObject:xm,isUndefined:Mf,isDate:sQ,isFile:oQ,isBlob:aQ,isRegExp:SQ,isFunction:bi,isStream:uQ,isURLSearchParams:hQ,isTypedArray:_Q,isFileList:lQ,forEach:wd,merge:eE,extend:dQ,trim:fQ,stripBOM:pQ,inherits:mQ,toFlatObject:gQ,kindOf:_y,kindOfTest:Is,endsWith:yQ,toArray:vQ,forEachEntry:wQ,matchAll:EQ,isHTMLForm:TQ,hasOwnProperty:KA,hasOwnProp:KA,reduceDescriptors:fL,freezeMethods:xQ,toObjectSet:RQ,toCamelCase:IQ,noop:bQ,toFiniteNumber:AQ,findKey:uL,global:cL,isContextDefined:hL,ALPHABET:dL,generateString:CQ,isSpecCompliantForm:PQ,toJSONObject:OQ,isAsyncFn:DQ,isThenable:kQ};function yt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}ne.inherits(yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const pL=yt.prototype,mL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{mL[t]={value:t}});Object.defineProperties(yt,mL);Object.defineProperty(pL,"isAxiosError",{value:!0});yt.from=(t,e,n,r,i,s)=>{const o=Object.create(pL);return ne.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),yt.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const NQ=null;function tE(t){return ne.isPlainObject(t)||ne.isArray(t)}function gL(t){return ne.endsWith(t,"[]")?t.slice(0,-2):t}function GA(t,e,n){return t?t.concat(e).map(function(i,s){return i=gL(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function LQ(t){return ne.isArray(t)&&!t.some(tE)}const MQ=ne.toFlatObject(ne,{},null,function(e){return/^is[A-Z]/.test(e)});function Ty(t,e,n){if(!ne.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ne.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,R){return!ne.isUndefined(R[w])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(e);if(!ne.isFunction(i))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if(ne.isDate(v))return v.toISOString();if(!c&&ne.isBlob(v))throw new yt("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(v)||ne.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,w,R){let T=v;if(v&&!R&&typeof v=="object"){if(ne.endsWith(w,"{}"))w=r?w:w.slice(0,-2),v=JSON.stringify(v);else if(ne.isArray(v)&&LQ(v)||(ne.isFileList(v)||ne.endsWith(w,"[]"))&&(T=ne.toArray(v)))return w=gL(w),T.forEach(function(I,E){!(ne.isUndefined(I)||I===null)&&e.append(o===!0?GA([w],E,s):o===null?w:w+"[]",h(I))}),!1}return tE(v)?!0:(e.append(GA(R,w,s),h(v)),!1)}const p=[],m=Object.assign(MQ,{defaultVisitor:f,convertValue:h,isVisitable:tE});function y(v,w){if(!ne.isUndefined(v)){if(p.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));p.push(v),ne.forEach(v,function(T,S){(!(ne.isUndefined(T)||T===null)&&i.call(e,T,ne.isString(S)?S.trim():S,w,m))===!0&&y(T,w?w.concat(S):[S])}),p.pop()}}if(!ne.isObject(t))throw new TypeError("data must be an object");return y(t),e}function QA(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function IT(t,e){this._pairs=[],t&&Ty(t,this,e)}const yL=IT.prototype;yL.append=function(e,n){this._pairs.push([e,n])};yL.toString=function(e){const n=e?function(r){return e.call(this,r,QA)}:QA;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function FQ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vL(t,e,n){if(!e)return t;const r=n&&n.encode||FQ,i=n&&n.serialize;let s;if(i?s=i(e,n):s=ne.isURLSearchParams(e)?e.toString():new IT(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class VQ{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ne.forEach(this.handlers,function(r){r!==null&&e(r)})}}const YA=VQ,_L={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$Q=typeof URLSearchParams<"u"?URLSearchParams:IT,jQ=typeof FormData<"u"?FormData:null,BQ=typeof Blob<"u"?Blob:null,UQ=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),zQ=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),us={isBrowser:!0,classes:{URLSearchParams:$Q,FormData:jQ,Blob:BQ},isStandardBrowserEnv:UQ,isStandardBrowserWebWorkerEnv:zQ,protocols:["http","https","file","blob","url","data"]};function qQ(t,e){return Ty(t,new us.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return us.isNode&&ne.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function WQ(t){return ne.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function KQ(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function wL(t){function e(n,r,i,s){let o=n[s++];const l=Number.isFinite(+o),c=s>=n.length;return o=!o&&ne.isArray(i)?i.length:o,c?(ne.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!ne.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&ne.isArray(i[o])&&(i[o]=KQ(i[o])),!l)}if(ne.isFormData(t)&&ne.isFunction(t.entries)){const n={};return ne.forEachEntry(t,(r,i)=>{e(WQ(r),i,n,0)}),n}return null}function HQ(t,e,n){if(ne.isString(t))try{return(e||JSON.parse)(t),ne.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const ST={transitional:_L,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=ne.isObject(e);if(s&&ne.isHTMLForm(e)&&(e=new FormData(e)),ne.isFormData(e))return i&&i?JSON.stringify(wL(e)):e;if(ne.isArrayBuffer(e)||ne.isBuffer(e)||ne.isStream(e)||ne.isFile(e)||ne.isBlob(e))return e;if(ne.isArrayBufferView(e))return e.buffer;if(ne.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return qQ(e,this.formSerializer).toString();if((l=ne.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ty(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),HQ(e)):e}],transformResponse:[function(e){const n=this.transitional||ST.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&ne.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?yt.from(l,yt.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:us.classes.FormData,Blob:us.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],t=>{ST.headers[t]={}});const xT=ST,GQ=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QQ=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&GQ[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},XA=Symbol("internals");function Th(t){return t&&String(t).trim().toLowerCase()}function Rm(t){return t===!1||t==null?t:ne.isArray(t)?t.map(Rm):String(t)}function YQ(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const XQ=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function d0(t,e,n,r,i){if(ne.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ne.isString(e)){if(ne.isString(r))return e.indexOf(r)!==-1;if(ne.isRegExp(r))return r.test(e)}}function JQ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function ZQ(t,e){const n=ne.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Iy{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,c,h){const f=Th(c);if(!f)throw new Error("header name must be a non-empty string");const p=ne.findKey(i,f);(!p||i[p]===void 0||h===!0||h===void 0&&i[p]!==!1)&&(i[p||c]=Rm(l))}const o=(l,c)=>ne.forEach(l,(h,f)=>s(h,f,c));return ne.isPlainObject(e)||e instanceof this.constructor?o(e,n):ne.isString(e)&&(e=e.trim())&&!XQ(e)?o(QQ(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=Th(e),e){const r=ne.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return YQ(i);if(ne.isFunction(n))return n.call(this,i,r);if(ne.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Th(e),e){const r=ne.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||d0(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Th(o),o){const l=ne.findKey(r,o);l&&(!n||d0(r,r[l],l,n))&&(delete r[l],i=!0)}}return ne.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||d0(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return ne.forEach(this,(i,s)=>{const o=ne.findKey(r,s);if(o){n[o]=Rm(i),delete n[s];return}const l=e?JQ(s):String(s).trim();l!==s&&delete n[s],n[l]=Rm(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ne.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ne.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[XA]=this[XA]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=Th(o);r[l]||(ZQ(i,o),r[l]=!0)}return ne.isArray(e)?e.forEach(s):s(e),this}}Iy.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(Iy.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ne.freezeMethods(Iy);const Qs=Iy;function p0(t,e){const n=this||xT,r=e||n,i=Qs.from(r.headers);let s=r.data;return ne.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function EL(t){return!!(t&&t.__CANCEL__)}function Ed(t,e,n){yt.call(this,t??"canceled",yt.ERR_CANCELED,e,n),this.name="CanceledError"}ne.inherits(Ed,yt,{__CANCEL__:!0});function eY(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new yt("Request failed with status code "+n.status,[yt.ERR_BAD_REQUEST,yt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const tY=us.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,l){const c=[];c.push(n+"="+encodeURIComponent(r)),ne.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),ne.isString(s)&&c.push("path="+s),ne.isString(o)&&c.push("domain="+o),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function nY(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function rY(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function TL(t,e){return t&&!nY(e)?rY(t,e):e}const iY=us.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const l=ne.isString(o)?i(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function sY(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function oY(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const h=Date.now(),f=r[s];o||(o=h),n[i]=c,r[i]=h;let p=s,m=0;for(;p!==i;)m+=n[p++],p=p%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),h-o<e)return;const y=f&&h-f;return y?Math.round(m*1e3/y):void 0}}function JA(t,e){let n=0;const r=oY(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,l=s-n,c=r(l),h=s<=o;n=s;const f={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&h?(o-s)/c:void 0,event:i};f[e?"download":"upload"]=!0,t(f)}}const aY=typeof XMLHttpRequest<"u",lY=aY&&function(t){return new Promise(function(n,r){let i=t.data;const s=Qs.from(t.headers).normalize(),o=t.responseType;let l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let h;ne.isFormData(i)&&(us.isStandardBrowserEnv||us.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.getContentType(/^\s*multipart\/form-data/)?ne.isString(h=s.getContentType())&&s.setContentType(h.replace(/^\s*(multipart\/form-data);+/,"$1")):s.setContentType("multipart/form-data"));let f=new XMLHttpRequest;if(t.auth){const v=t.auth.username||"",w=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(v+":"+w))}const p=TL(t.baseURL,t.url);f.open(t.method.toUpperCase(),vL(p,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function m(){if(!f)return;const v=Qs.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),R={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:v,config:t,request:f};eY(function(S){n(S),c()},function(S){r(S),c()},R),f=null}if("onloadend"in f?f.onloadend=m:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(m)},f.onabort=function(){f&&(r(new yt("Request aborted",yt.ECONNABORTED,t,f)),f=null)},f.onerror=function(){r(new yt("Network Error",yt.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let w=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const R=t.transitional||_L;t.timeoutErrorMessage&&(w=t.timeoutErrorMessage),r(new yt(w,R.clarifyTimeoutError?yt.ETIMEDOUT:yt.ECONNABORTED,t,f)),f=null},us.isStandardBrowserEnv){const v=(t.withCredentials||iY(p))&&t.xsrfCookieName&&tY.read(t.xsrfCookieName);v&&s.set(t.xsrfHeaderName,v)}i===void 0&&s.setContentType(null),"setRequestHeader"in f&&ne.forEach(s.toJSON(),function(w,R){f.setRequestHeader(R,w)}),ne.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),o&&o!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",JA(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",JA(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=v=>{f&&(r(!v||v.type?new Ed(null,t,f):v),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const y=sY(p);if(y&&us.protocols.indexOf(y)===-1){r(new yt("Unsupported protocol "+y+":",yt.ERR_BAD_REQUEST,t));return}f.send(i||null)})},nE={http:NQ,xhr:lY};ne.forEach(nE,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ZA=t=>`- ${t}`,uY=t=>ne.isFunction(t)||t===null||t===!1,IL={getAdapter:t=>{t=ne.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!uY(n)&&(r=nE[(o=String(n)).toLowerCase()],r===void 0))throw new yt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(ZA).join(`
`):" "+ZA(s[0]):"as no adapter specified";throw new yt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:nE};function m0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ed(null,t)}function eC(t){return m0(t),t.headers=Qs.from(t.headers),t.data=p0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),IL.getAdapter(t.adapter||xT.adapter)(t).then(function(r){return m0(t),r.data=p0.call(t,t.transformResponse,r),r.headers=Qs.from(r.headers),r},function(r){return EL(r)||(m0(t),r&&r.response&&(r.response.data=p0.call(t,t.transformResponse,r.response),r.response.headers=Qs.from(r.response.headers))),Promise.reject(r)})}const tC=t=>t instanceof Qs?t.toJSON():t;function oc(t,e){e=e||{};const n={};function r(h,f,p){return ne.isPlainObject(h)&&ne.isPlainObject(f)?ne.merge.call({caseless:p},h,f):ne.isPlainObject(f)?ne.merge({},f):ne.isArray(f)?f.slice():f}function i(h,f,p){if(ne.isUndefined(f)){if(!ne.isUndefined(h))return r(void 0,h,p)}else return r(h,f,p)}function s(h,f){if(!ne.isUndefined(f))return r(void 0,f)}function o(h,f){if(ne.isUndefined(f)){if(!ne.isUndefined(h))return r(void 0,h)}else return r(void 0,f)}function l(h,f,p){if(p in e)return r(h,f);if(p in t)return r(void 0,h)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(h,f)=>i(tC(h),tC(f),!0)};return ne.forEach(Object.keys(Object.assign({},t,e)),function(f){const p=c[f]||i,m=p(t[f],e[f],f);ne.isUndefined(m)&&p!==l||(n[f]=m)}),n}const SL="1.5.1",RT={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{RT[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const nC={};RT.transitional=function(e,n,r){function i(s,o){return"[Axios v"+SL+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new yt(i(o," has been removed"+(n?" in "+n:"")),yt.ERR_DEPRECATED);return n&&!nC[o]&&(nC[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};function cY(t,e,n){if(typeof t!="object")throw new yt("options must be an object",yt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],c=l===void 0||o(l,s,t);if(c!==!0)throw new yt("option "+s+" must be "+c,yt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new yt("Unknown option "+s,yt.ERR_BAD_OPTION)}}const rE={assertOptions:cY,validators:RT},Ro=rE.validators;class Eg{constructor(e){this.defaults=e,this.interceptors={request:new YA,response:new YA}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=oc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&rE.assertOptions(r,{silentJSONParsing:Ro.transitional(Ro.boolean),forcedJSONParsing:Ro.transitional(Ro.boolean),clarifyTimeoutError:Ro.transitional(Ro.boolean)},!1),i!=null&&(ne.isFunction(i)?n.paramsSerializer={serialize:i}:rE.assertOptions(i,{encode:Ro.function,serialize:Ro.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&ne.merge(s.common,s[n.method]);s&&ne.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),n.headers=Qs.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let f,p=0,m;if(!c){const v=[eC.bind(this),void 0];for(v.unshift.apply(v,l),v.push.apply(v,h),m=v.length,f=Promise.resolve(n);p<m;)f=f.then(v[p++],v[p++]);return f}m=l.length;let y=n;for(p=0;p<m;){const v=l[p++],w=l[p++];try{y=v(y)}catch(R){w.call(this,R);break}}try{f=eC.call(this,y)}catch(v){return Promise.reject(v)}for(p=0,m=h.length;p<m;)f=f.then(h[p++],h[p++]);return f}getUri(e){e=oc(this.defaults,e);const n=TL(e.baseURL,e.url);return vL(n,e.params,e.paramsSerializer)}}ne.forEach(["delete","get","head","options"],function(e){Eg.prototype[e]=function(n,r){return this.request(oc(r||{},{method:e,url:n,data:(r||{}).data}))}});ne.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(oc(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Eg.prototype[e]=n(),Eg.prototype[e+"Form"]=n(!0)});const bm=Eg;class bT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new Ed(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new bT(function(i){e=i}),cancel:e}}}const hY=bT;function fY(t){return function(n){return t.apply(null,n)}}function dY(t){return ne.isObject(t)&&t.isAxiosError===!0}const iE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(iE).forEach(([t,e])=>{iE[e]=t});const pY=iE;function xL(t){const e=new bm(t),n=oL(bm.prototype.request,e);return ne.extend(n,bm.prototype,e,{allOwnKeys:!0}),ne.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return xL(oc(t,i))},n}const kn=xL(xT);kn.Axios=bm;kn.CanceledError=Ed;kn.CancelToken=hY;kn.isCancel=EL;kn.VERSION=SL;kn.toFormData=Ty;kn.AxiosError=yt;kn.Cancel=kn.CanceledError;kn.all=function(e){return Promise.all(e)};kn.spread=fY;kn.isAxiosError=dY;kn.mergeConfig=oc;kn.AxiosHeaders=Qs;kn.formToJSON=t=>wL(ne.isHTMLForm(t)?new FormData(t):t);kn.getAdapter=IL.getAdapter;kn.HttpStatusCode=pY;kn.default=kn;const RL=kn,mY="https://pokeapi.co/api/v2/type/",gY="zh-Hant",rC=t=>RL(t).then(e=>e.data),yY=()=>{const t="pokemon_details",e=`query ${t} {
            pokemon_v2_pokemon(order_by: {id: asc}) {
                name
                id
                pokemon_v2_pokemonsprites {
                    id
                    sprites
                }
                pokemon_v2_pokemontypes {
                    pokemon_v2_type {
                        name
                    }
                }
            }
            pokemon_v2_pokemonspecies(order_by: {id: asc}) {
                name
                id
                pokemon_v2_pokemonspeciesnames {
                name
                language_id
                pokemon_v2_language {
                    name
                }
                }
            }
        }`;return Dk({queryKey:["pokemonInfo"],queryFn:()=>RL({method:"POST",url:"https://beta.pokeapi.co/graphql/v1beta",data:JSON.stringify({query:e,operationName:t})}),staleTime:1/0})},vY=()=>{var e;const t=Dk({queryKey:["AllTypes"],queryFn:()=>rC(mY)});return Kq({queries:(((e=t==null?void 0:t.data)==null?void 0:e.results)??[]).map(n=>{const{url:r}=n;return{queryKey:["TypeDetail",r],queryFn:()=>rC(r),enabled:!!r}})})},_Y=()=>{const{handleStoreAllPokemon:t,handleStoreAllTypes:e}=Or(),n=yY(),r=vY(),i=n.data&&!n.isError&!n.isLoading&&r.every(s=>!s.isLoading&&!s.isError&&s.data);x.useEffect(()=>{var h,f;if(!i)return;e(r);const{pokemon_v2_pokemon:s,pokemon_v2_pokemonspecies:o}=((f=(h=n.data)==null?void 0:h.data)==null?void 0:f.data)??[],c=s.map(p=>{const m=o.find(y=>p.id===y.id);return{...p,...m}}).map((p,m)=>{const{id:y,name:v,pokemon_v2_pokemonspeciesnames:w,pokemon_v2_pokemonsprites:R,pokemon_v2_pokemontypes:T}=p;try{const S=w.map(O=>{const{name:D,pokemon_v2_language:N}=O;return{type:N.name,name:D}}),I=w.filter(O=>{var D;return((D=O==null?void 0:O.pokemon_v2_language)==null?void 0:D.name)===gY}),E=R.map(O=>{const{sprites:D}=O;return D.other["official-artwork"].front_default}),P=T.map(O=>{var Y;const{pokemon_v2_type:D}=O,N=md.filter(ie=>ie.enName===D.name)[0],W=r.filter(ie=>ie.data.name===N.enName)[0];return{...N,damage_relations:(Y=W==null?void 0:W.data)==null?void 0:Y.damage_relations}});return{pokeId:y,enName:v,zhName:I[0].name,allLanguage:S,sprite:E[0],Types:P,damage_relations:0}}catch{}});t(c)},[i])};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wY=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},AL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,y=h&63;c||(y=64,o||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||p==null)throw new EY;const m=s<<2|l>>4;if(r.push(m),h!==64){const y=l<<4&240|h>>2;if(r.push(y),p!==64){const v=h<<6&192|p;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class EY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TY=function(t){const e=bL(t);return AL.encodeByteArray(e,!0)},Tg=function(t){return TY(t).replace(/\./g,"")},IY=function(t){try{return AL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ig(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!SY(n)||(t[n]=Ig(t[n],e[n]));return t}function SY(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RY=()=>xY().__FIREBASE_DEFAULTS__,bY=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AY=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&IY(t[1]);return e&&JSON.parse(e)},CL=()=>{try{return RY()||bY()||AY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PL=()=>{var t;return(t=CL())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Tg(JSON.stringify(n)),Tg(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DL(){var t;const e=(t=CL())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PY(){return typeof self=="object"&&self.self===self}function OY(){return!DL()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kL(){try{return typeof indexedDB=="object"}catch{return!1}}function DY(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY="FirebaseError";class _a extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kY,Object.setPrototypeOf(this,_a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sy.prototype.create)}}class Sy{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?NY(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new _a(i,l,r)}}function NY(t,e){return t.replace(LY,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const LY=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function oE(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(sC(s)&&sC(o)){if(!oE(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function sC(t){return t!==null&&typeof t=="object"}function MY(t,e){const n=new FY(t,e);return n.subscribe.bind(n)}class FY{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VY(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=g0),i.error===void 0&&(i.error=g0),i.complete===void 0&&(i.complete=g0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VY(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function g0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class io{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new CY;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BY(e))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ua){return this.instances.has(e)}getOptions(e=Ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jY(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ua){return this.component?this.component.multipleInstances?e:Ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jY(t){return t===Ua?void 0:t}function BY(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $Y(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=[];var mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mt||(mt={}));const NL={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},zY=mt.INFO,qY={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},WY=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qY[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class CT{constructor(e){this.name=e,this._logLevel=zY,this._logHandler=WY,this._userLogHandler=null,AT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}function KY(t){AT.forEach(e=>{e.setLogLevel(t)})}function HY(t,e){for(const n of AT){let r=null;e&&e.level&&(r=NL[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const l=o.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");s>=(r??i.logLevel)&&t({level:mt[s].toLowerCase(),message:l,args:o,type:i.name})}}}const GY=(t,e)=>e.some(n=>t instanceof n);let oC,aC;function QY(){return oC||(oC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YY(){return aC||(aC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LL=new WeakMap,aE=new WeakMap,ML=new WeakMap,y0=new WeakMap,PT=new WeakMap;function XY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&LL.set(n,t)}).catch(()=>{}),PT.set(e,t),e}function JY(t){if(aE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});aE.set(t,e)}let lE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return aE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ML.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZY(t){lE=t(lE)}function eX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(v0(this),e,...n);return ML.set(r,e.sort?e.sort():[e]),Zo(r)}:YY().includes(t)?function(...e){return t.apply(v0(this),e),Zo(LL.get(this))}:function(...e){return Zo(t.apply(v0(this),e))}}function tX(t){return typeof t=="function"?eX(t):(t instanceof IDBTransaction&&JY(t),GY(t,QY())?new Proxy(t,lE):t)}function Zo(t){if(t instanceof IDBRequest)return XY(t);if(y0.has(t))return y0.get(t);const e=tX(t);return e!==t&&(y0.set(t,e),PT.set(e,t)),e}const v0=t=>PT.get(t);function nX(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Zo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Zo(o.result),c.oldVersion,c.newVersion,Zo(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const rX=["get","getKey","getAll","getAllKeys","count"],iX=["put","add","delete","clear"],_0=new Map;function lC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_0.get(e))return _0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=iX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rX.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&c.done]))[0]};return _0.set(e,s),s}ZY(t=>({...t,get:(e,n,r)=>lC(e,n)||t.get(e,n,r),has:(e,n)=>!!lC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oX(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oX(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uE="@firebase/app",uC="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new CT("@firebase/app"),aX="@firebase/app-compat",lX="@firebase/analytics-compat",uX="@firebase/analytics",cX="@firebase/app-check-compat",hX="@firebase/app-check",fX="@firebase/auth",dX="@firebase/auth-compat",pX="@firebase/database",mX="@firebase/database-compat",gX="@firebase/functions",yX="@firebase/functions-compat",vX="@firebase/installations",_X="@firebase/installations-compat",wX="@firebase/messaging",EX="@firebase/messaging-compat",TX="@firebase/performance",IX="@firebase/performance-compat",SX="@firebase/remote-config",xX="@firebase/remote-config-compat",RX="@firebase/storage",bX="@firebase/storage-compat",AX="@firebase/firestore",CX="@firebase/firestore-compat",PX="firebase",OX="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]",DX={[uE]:"fire-core",[aX]:"fire-core-compat",[uX]:"fire-analytics",[lX]:"fire-analytics-compat",[hX]:"fire-app-check",[cX]:"fire-app-check-compat",[fX]:"fire-auth",[dX]:"fire-auth-compat",[pX]:"fire-rtdb",[mX]:"fire-rtdb-compat",[gX]:"fire-fn",[yX]:"fire-fn-compat",[vX]:"fire-iid",[_X]:"fire-iid-compat",[wX]:"fire-fcm",[EX]:"fire-fcm-compat",[TX]:"fire-perf",[IX]:"fire-perf-compat",[SX]:"fire-rc",[xX]:"fire-rc-compat",[RX]:"fire-gcs",[bX]:"fire-gcs-compat",[AX]:"fire-fst",[CX]:"fire-fst-compat","fire-js":"fire-js",[PX]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new Map,Ff=new Map;function Sg(t,e){try{t.container.addComponent(e)}catch(n){_l.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function FL(t,e){t.container.addOrOverwriteComponent(e)}function wl(t){const e=t.name;if(Ff.has(e))return _l.debug(`There were multiple attempts to register component ${e}.`),!1;Ff.set(e,t);for(const n of sa.values())Sg(n,t);return!0}function VL(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kX(t,e,n=ia){VL(t,e).clearInstance(n)}function NX(){Ff.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ys=new Sy("app","Firebase",LX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MX=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=OX;function OT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ia,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ys.create("bad-app-name",{appName:String(i)});if(n||(n=PL()),!n)throw Ys.create("no-options");const s=sa.get(i);if(s){if(oE(n,s.options)&&oE(r,s.config))return s;throw Ys.create("duplicate-app",{appName:i})}const o=new UY(i);for(const c of Ff.values())o.addComponent(c);const l=new MX(n,r,o);return sa.set(i,l),l}function FX(t=ia){const e=sa.get(t);if(!e&&t===ia&&PL())return OT();if(!e)throw Ys.create("no-app",{appName:t});return e}function VX(){return Array.from(sa.values())}async function $L(t){const e=t.name;sa.has(e)&&(sa.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function vs(t,e,n){var r;let i=(r=DX[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_l.warn(l.join(" "));return}wl(new io(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function jL(t,e){if(t!==null&&typeof t!="function")throw Ys.create("invalid-log-argument");HY(t,e)}function BL(t){KY(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $X="firebase-heartbeat-database",jX=1,Vf="firebase-heartbeat-store";let w0=null;function UL(){return w0||(w0=nX($X,jX,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vf)}}}).catch(t=>{throw Ys.create("idb-open",{originalErrorMessage:t.message})})),w0}async function BX(t){try{return await(await UL()).transaction(Vf).objectStore(Vf).get(zL(t))}catch(e){if(e instanceof _a)_l.warn(e.message);else{const n=Ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_l.warn(n.message)}}}async function cC(t,e){try{const r=(await UL()).transaction(Vf,"readwrite");await r.objectStore(Vf).put(e,zL(t)),await r.done}catch(n){if(n instanceof _a)_l.warn(n.message);else{const r=Ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_l.warn(r.message)}}}function zL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UX=1024,zX=30*24*60*60*1e3;class qX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=hC();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=zX}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=hC(),{heartbeatsToSend:n,unsentEntries:r}=WX(this._heartbeatsCache.heartbeats),i=Tg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function hC(){return new Date().toISOString().substring(0,10)}function WX(t,e=UX){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),fC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kL()?DY().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await BX(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function fC(t){return Tg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HX(t){wl(new io("platform-logger",e=>new sX(e),"PRIVATE")),wl(new io("heartbeat",e=>new qX(e),"PRIVATE")),vs(uE,uC,t),vs(uE,uC,"esm2017"),vs("fire-js","")}HX("");const GX=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:_a,SDK_VERSION:xy,_DEFAULT_ENTRY_NAME:ia,_addComponent:Sg,_addOrOverwriteComponent:FL,_apps:sa,_clearComponents:NX,_components:Ff,_getProvider:VL,_registerComponent:wl,_removeServiceInstance:kX,deleteApp:$L,getApp:FX,getApps:VX,initializeApp:OT,onLog:jL,registerVersion:vs,setLogLevel:BL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QX{constructor(e,n){this._delegate=e,this.firebase=n,Sg(e,new io("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),$L(this._delegate)))}_getService(e,n=ia){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ia){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Sg(this._delegate,e)}_addOrOverwriteComponent(e){FL(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YX={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},dC=new Sy("app-compat","Firebase",YX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XX(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:vs,setLogLevel:BL,onLog:jL,apps:null,SDK_VERSION:xy,INTERNAL:{registerComponent:l,removeApp:r,useAsService:c,modularAPIs:GX}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(h){delete e[h]}function i(h){if(h=h||ia,!iC(e,h))throw dC.create("no-app",{appName:h});return e[h]}i.App=t;function s(h,f={}){const p=OT(h,f);if(iC(e,p.name))return e[p.name];const m=new t(p,n);return e[p.name]=m,m}function o(){return Object.keys(e).map(h=>e[h])}function l(h){const f=h.name,p=f.replace("-compat","");if(wl(h)&&h.type==="PUBLIC"){const m=(y=i())=>{if(typeof y[p]!="function")throw dC.create("invalid-app-argument",{appName:f});return y[p]()};h.serviceProps!==void 0&&Ig(m,h.serviceProps),n[p]=m,t.prototype[p]=function(...y){return this._getService.bind(this,f).apply(this,h.multipleInstances?y:[])}}return h.type==="PUBLIC"?n[p]:null}function c(h,f){return f==="serverAuth"?null:f}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(){const t=XX(QX);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:qL,extendNamespace:e,createSubscribe:MY,ErrorFactory:Sy,deepExtend:Ig});function e(n){Ig(t,n)}return t}const JX=qL();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new CT("@firebase/app-compat"),ZX="@firebase/app-compat",eJ="0.2.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tJ(t){vs(ZX,eJ,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(PY()&&self.firebase!==void 0){pC.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&pC.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Pc=JX;tJ();var nJ="firebase",rJ="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pc.registerVersion(nJ,rJ,"app-compat");var iJ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ge,DT=DT||{},He=iJ||self;function Ry(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Td(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function sJ(t){return Object.prototype.hasOwnProperty.call(t,E0)&&t[E0]||(t[E0]=++oJ)}var E0="closure_uid_"+(1e9*Math.random()>>>0),oJ=0;function aJ(t,e,n){return t.call.apply(t.bind,arguments)}function lJ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?dr=aJ:dr=lJ,dr.apply(null,arguments)}function Xp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Hn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[i].apply(r,o)}}function wa(){this.s=this.s,this.o=this.o}var uJ=0;wa.prototype.s=!1;wa.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),uJ!=0)&&sJ(this)};wa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const WL=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function kT(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function mC(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ry(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function pr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}pr.prototype.h=function(){this.defaultPrevented=!0};var cJ=function(){if(!He.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{He.addEventListener("test",()=>{},e),He.removeEventListener("test",()=>{},e)}catch{}return t}();function $f(t){return/^[\s\xa0]*$/.test(t)}function by(){var t=He.navigator;return t&&(t=t.userAgent)?t:""}function as(t){return by().indexOf(t)!=-1}function NT(t){return NT[" "](t),t}NT[" "]=function(){};function hJ(t,e){var n=rZ;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var fJ=as("Opera"),ac=as("Trident")||as("MSIE"),KL=as("Edge"),cE=KL||ac,HL=as("Gecko")&&!(by().toLowerCase().indexOf("webkit")!=-1&&!as("Edge"))&&!(as("Trident")||as("MSIE"))&&!as("Edge"),dJ=by().toLowerCase().indexOf("webkit")!=-1&&!as("Edge");function GL(){var t=He.document;return t?t.documentMode:void 0}var hE;e:{var T0="",I0=function(){var t=by();if(HL)return/rv:([^\);]+)(\)|;)/.exec(t);if(KL)return/Edge\/([\d\.]+)/.exec(t);if(ac)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(dJ)return/WebKit\/(\S+)/.exec(t);if(fJ)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(I0&&(T0=I0?I0[1]:""),ac){var S0=GL();if(S0!=null&&S0>parseFloat(T0)){hE=String(S0);break e}}hE=T0}var fE;if(He.document&&ac){var gC=GL();fE=gC||parseInt(hE,10)||void 0}else fE=void 0;var pJ=fE;function jf(t,e){if(pr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(HL){e:{try{NT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:mJ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&jf.$.h.call(this)}}Hn(jf,pr);var mJ={2:"touch",3:"pen",4:"mouse"};jf.prototype.h=function(){jf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Id="closure_listenable_"+(1e6*Math.random()|0),gJ=0;function yJ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++gJ,this.fa=this.ia=!1}function Ay(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function LT(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function vJ(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function QL(t){const e={};for(const n in t)e[n]=t[n];return e}const yC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function YL(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<yC.length;s++)n=yC[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Cy(t){this.src=t,this.g={},this.h=0}Cy.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=pE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new yJ(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function dE(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=WL(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ay(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function pE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var MT="closure_lm_"+(1e6*Math.random()|0),x0={};function XL(t,e,n,r,i){if(r&&r.once)return ZL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)XL(t,e[s],n,r,i);return null}return n=$T(n),t&&t[Id]?t.O(e,n,Td(r)?!!r.capture:!!r,i):JL(t,e,n,!1,r,i)}function JL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Td(i)?!!i.capture:!!i,l=VT(t);if(l||(t[MT]=l=new Cy(t)),n=l.add(e,n,r,o,s),n.proxy)return n;if(r=_J(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)cJ||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(tM(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function _J(){function t(n){return e.call(t.src,t.listener,n)}const e=wJ;return t}function ZL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ZL(t,e[s],n,r,i);return null}return n=$T(n),t&&t[Id]?t.P(e,n,Td(r)?!!r.capture:!!r,i):JL(t,e,n,!0,r,i)}function eM(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)eM(t,e[s],n,r,i);else r=Td(r)?!!r.capture:!!r,n=$T(n),t&&t[Id]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=pE(s,n,r,i),-1<n&&(Ay(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=VT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=pE(e,n,r,i)),(n=-1<t?e[t]:null)&&FT(n))}function FT(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Id])dE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(tM(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=VT(e))?(dE(n,t),n.h==0&&(n.src=null,e[MT]=null)):Ay(t)}}}function tM(t){return t in x0?x0[t]:x0[t]="on"+t}function wJ(t,e){if(t.fa)t=!0;else{e=new jf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&FT(t),t=n.call(r,e)}return t}function VT(t){return t=t[MT],t instanceof Cy?t:null}var R0="__closure_events_fn_"+(1e9*Math.random()>>>0);function $T(t){return typeof t=="function"?t:(t[R0]||(t[R0]=function(e){return t.handleEvent(e)}),t[R0])}function Kn(){wa.call(this),this.i=new Cy(this),this.S=this,this.J=null}Hn(Kn,wa);Kn.prototype[Id]=!0;Kn.prototype.removeEventListener=function(t,e,n,r){eM(this,t,e,n,r)};function rr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new pr(e,t);else if(e instanceof pr)e.target=e.target||t;else{var i=e;e=new pr(r,t),YL(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Jp(o,r,!0,e)&&i}if(o=e.g=t,i=Jp(o,r,!0,e)&&i,i=Jp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Jp(o,r,!1,e)&&i}Kn.prototype.N=function(){if(Kn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ay(n[r]);delete t.g[e],t.h--}}this.J=null};Kn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Kn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Jp(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var l=o.listener,c=o.la||o.src;o.ia&&dE(t.i,o),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var jT=He.JSON.stringify;class EJ{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function TJ(){var t=BT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class IJ{constructor(){this.h=this.g=null}add(e,n){const r=nM.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var nM=new EJ(()=>new SJ,t=>t.reset());class SJ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function xJ(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function RJ(t){He.setTimeout(()=>{throw t},0)}let Bf,Uf=!1,BT=new IJ,rM=()=>{const t=He.Promise.resolve(void 0);Bf=()=>{t.then(bJ)}};var bJ=()=>{for(var t;t=TJ();){try{t.h.call(t.g)}catch(n){RJ(n)}var e=nM;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Uf=!1};function Py(t,e){Kn.call(this),this.h=t||1,this.g=e||He,this.j=dr(this.qb,this),this.l=Date.now()}Hn(Py,Kn);ge=Py.prototype;ge.ga=!1;ge.T=null;ge.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rr(this,"tick"),this.ga&&(UT(this),this.start()))}};ge.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function UT(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ge.N=function(){Py.$.N.call(this),UT(this),delete this.g};function zT(t,e,n){if(typeof t=="function")n&&(t=dr(t,n));else if(t&&typeof t.handleEvent=="function")t=dr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:He.setTimeout(t,e||0)}function iM(t){t.g=zT(()=>{t.g=null,t.i&&(t.i=!1,iM(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class AJ extends wa{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:iM(this)}N(){super.N(),this.g&&(He.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zf(t){wa.call(this),this.h=t,this.g={}}Hn(zf,wa);var vC=[];function sM(t,e,n,r){Array.isArray(n)||(n&&(vC[0]=n.toString()),n=vC);for(var i=0;i<n.length;i++){var s=XL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function oM(t){LT(t.g,function(e,n){this.g.hasOwnProperty(n)&&FT(e)},t),t.g={}}zf.prototype.N=function(){zf.$.N.call(this),oM(this)};zf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Oy(){this.g=!0}Oy.prototype.Ea=function(){this.g=!1};function CJ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var f=h[0];h=h[1];var p=f.split("_");o=2<=p.length&&p[1]=="type"?o+(f+"="+h+"&"):o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function PJ(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ku(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+DJ(t,n)+(r?" "+r:"")})}function OJ(t,e){t.info(function(){return"TIMEOUT: "+e})}Oy.prototype.info=function(){};function DJ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return jT(n)}catch{return e}}var Ml={},_C=null;function Dy(){return _C=_C||new Kn}Ml.Ta="serverreachability";function aM(t){pr.call(this,Ml.Ta,t)}Hn(aM,pr);function qf(t){const e=Dy();rr(e,new aM(e))}Ml.STAT_EVENT="statevent";function lM(t,e){pr.call(this,Ml.STAT_EVENT,t),this.stat=e}Hn(lM,pr);function Sr(t){const e=Dy();rr(e,new lM(e,t))}Ml.Ua="timingevent";function uM(t,e){pr.call(this,Ml.Ua,t),this.size=e}Hn(uM,pr);function Sd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return He.setTimeout(function(){t()},e)}var ky={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},cM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qT(){}qT.prototype.h=null;function wC(t){return t.h||(t.h=t.i())}function hM(){}var xd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function WT(){pr.call(this,"d")}Hn(WT,pr);function KT(){pr.call(this,"c")}Hn(KT,pr);var mE;function Ny(){}Hn(Ny,qT);Ny.prototype.g=function(){return new XMLHttpRequest};Ny.prototype.i=function(){return{}};mE=new Ny;function Rd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new zf(this),this.P=kJ,t=cE?125:void 0,this.V=new Py(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new fM}function fM(){this.i=null,this.g="",this.h=!1}var kJ=45e3,gE={},xg={};ge=Rd.prototype;ge.setTimeout=function(t){this.P=t};function yE(t,e,n){t.L=1,t.v=My(so(e)),t.s=n,t.S=!0,dM(t,null)}function dM(t,e){t.G=Date.now(),bd(t),t.A=so(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),EM(n.i,"t",r),t.C=0,n=t.l.J,t.h=new fM,t.g=UM(t.l,n?e:null,!t.s),0<t.O&&(t.M=new AJ(dr(t.Pa,t,t.g),t.O)),sM(t.U,t.g,"readystatechange",t.nb),e=t.I?QL(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),qf(),CJ(t.j,t.u,t.A,t.m,t.W,t.s)}ge.nb=function(t){t=t.target;const e=this.M;e&&cs(t)==3?e.l():this.Pa(t)};ge.Pa=function(t){try{if(t==this.g)e:{const f=cs(this.g);var e=this.g.Ia();const p=this.g.da();if(!(3>f)&&(f!=3||cE||this.g&&(this.h.h||this.g.ja()||SC(this.g)))){this.J||f!=4||e==7||(e==8||0>=p?qf(3):qf(2)),Ly(this);var n=this.g.da();this.ca=n;t:if(pM(this)){var r=SC(this.g);t="";var i=r.length,s=cs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tl(this),rf(this);var o="";break t}this.h.i=new He.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,PJ(this.j,this.u,this.A,this.m,this.W,f,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$f(l)){var h=l;break t}}h=null}if(n=h)ku(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vE(this,n);else{this.i=!1,this.o=3,Sr(12),tl(this),rf(this);break e}}this.S?(mM(this,f,o),cE&&this.i&&f==3&&(sM(this.U,this.V,"tick",this.mb),this.V.start())):(ku(this.j,this.m,o,null),vE(this,o)),f==4&&tl(this),this.i&&!this.J&&(f==4?VM(this.l,this):(this.i=!1,bd(this)))}else eZ(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Sr(12)):(this.o=0,Sr(13)),tl(this),rf(this)}}}catch{}finally{}};function pM(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function mM(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=NJ(t,n),i==xg){e==4&&(t.o=4,Sr(14),r=!1),ku(t.j,t.m,null,"[Incomplete Response]");break}else if(i==gE){t.o=4,Sr(15),ku(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ku(t.j,t.m,i,null),vE(t,i);pM(t)&&i!=xg&&i!=gE&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Sr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),JT(e),e.M=!0,Sr(11))):(ku(t.j,t.m,n,"[Invalid Chunked Response]"),tl(t),rf(t))}ge.mb=function(){if(this.g){var t=cs(this.g),e=this.g.ja();this.C<e.length&&(Ly(this),mM(this,t,e),this.i&&t!=4&&bd(this))}};function NJ(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?xg:(n=Number(e.substring(n,r)),isNaN(n)?gE:(r+=1,r+n>e.length?xg:(e=e.slice(r,r+n),t.C=r+n,e)))}ge.cancel=function(){this.J=!0,tl(this)};function bd(t){t.Y=Date.now()+t.P,gM(t,t.P)}function gM(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Sd(dr(t.lb,t),e)}function Ly(t){t.B&&(He.clearTimeout(t.B),t.B=null)}ge.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(OJ(this.j,this.A),this.L!=2&&(qf(),Sr(17)),tl(this),this.o=2,rf(this)):gM(this,this.Y-t)};function rf(t){t.l.H==0||t.J||VM(t.l,t)}function tl(t){Ly(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,UT(t.V),oM(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function vE(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||_E(n.i,t))){if(!t.K&&_E(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ag(n),jy(n);else break e;XT(n),Sr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Sd(dr(n.ib,n),6e3));if(1>=SM(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else nl(n,11)}else if((t.K||n.g==t)&&Ag(n),!$f(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.K=h[1],n.pa=h[2];const f=h[3];f!=null&&(n.ra=f,n.l.info("VER="+n.ra));const p=h[4];p!=null&&(n.Ga=p,n.l.info("SVER="+n.Ga));const m=h[5];m!=null&&typeof m=="number"&&0<m&&(r=1.5*m,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=t.g;if(y){const v=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(HT(s,s.h),s.h=null))}if(r.F){const w=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Ht(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=BM(r,r.J?r.pa:null,r.Y),o.K){xM(r.i,o);var l=o,c=r.L;c&&l.setTimeout(c),l.B&&(Ly(l),bd(l)),r.g=o}else MM(r);0<n.j.length&&By(n)}else h[0]!="stop"&&h[0]!="close"||nl(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?nl(n,7):YT(n):h[0]!="noop"&&n.h&&n.h.Aa(h),n.A=0)}}qf(4)}catch{}}function LJ(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ry(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function MJ(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ry(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function yM(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ry(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=MJ(t),r=LJ(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var vM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FJ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ll(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ll){this.h=t.h,Rg(this,t.j),this.s=t.s,this.g=t.g,bg(this,t.m),this.l=t.l;var e=t.i,n=new Wf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),EC(this,n),this.o=t.o}else t&&(e=String(t).match(vM))?(this.h=!1,Rg(this,e[1]||"",!0),this.s=Vh(e[2]||""),this.g=Vh(e[3]||"",!0),bg(this,e[4]),this.l=Vh(e[5]||"",!0),EC(this,e[6]||"",!0),this.o=Vh(e[7]||"")):(this.h=!1,this.i=new Wf(null,this.h))}ll.prototype.toString=function(){var t=[],e=this.j;e&&t.push($h(e,TC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push($h(e,TC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push($h(n,n.charAt(0)=="/"?jJ:$J,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$h(n,UJ)),t.join("")};function so(t){return new ll(t)}function Rg(t,e,n){t.j=n?Vh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function bg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function EC(t,e,n){e instanceof Wf?(t.i=e,zJ(t.i,t.h)):(n||(e=$h(e,BJ)),t.i=new Wf(e,t.h))}function Ht(t,e,n){t.i.set(e,n)}function My(t){return Ht(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Vh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $h(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,VJ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function VJ(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var TC=/[#\/\?@]/g,$J=/[#\?:]/g,jJ=/[#\?]/g,BJ=/[#\?@]/g,UJ=/#/g;function Wf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ea(t){t.g||(t.g=new Map,t.h=0,t.i&&FJ(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ge=Wf.prototype;ge.add=function(t,e){Ea(this),this.i=null,t=Oc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function _M(t,e){Ea(t),e=Oc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function wM(t,e){return Ea(t),e=Oc(t,e),t.g.has(e)}ge.forEach=function(t,e){Ea(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ge.ta=function(){Ea(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ge.Z=function(t){Ea(this);let e=[];if(typeof t=="string")wM(this,t)&&(e=e.concat(this.g.get(Oc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ge.set=function(t,e){return Ea(this),this.i=null,t=Oc(this,t),wM(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ge.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function EM(t,e,n){_M(t,e),0<n.length&&(t.i=null,t.g.set(Oc(t,e),kT(n)),t.h+=n.length)}ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Oc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function zJ(t,e){e&&!t.j&&(Ea(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(_M(this,r),EM(this,i,n))},t)),t.j=e}var qJ=class{constructor(t,e){this.g=t,this.map=e}};function TM(t){this.l=t||WJ,He.PerformanceNavigationTiming?(t=He.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(He.g&&He.g.Ka&&He.g.Ka()&&He.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var WJ=10;function IM(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function SM(t){return t.h?1:t.g?t.g.size:0}function _E(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function HT(t,e){t.g?t.g.add(e):t.h=e}function xM(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}TM.prototype.cancel=function(){if(this.i=RM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function RM(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return kT(t.i)}var KJ=class{stringify(t){return He.JSON.stringify(t,void 0)}parse(t){return He.JSON.parse(t,void 0)}};function HJ(){this.g=new KJ}function GJ(t,e,n){const r=n||"";try{yM(t,function(i,s){let o=i;Td(i)&&(o=jT(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function QJ(t,e){const n=new Oy;if(He.Image){const r=new Image;r.onload=Xp(Zp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Xp(Zp,n,r,"TestLoadImage: error",!1,e),r.onabort=Xp(Zp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Xp(Zp,n,r,"TestLoadImage: timeout",!1,e),He.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Zp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Fy(t){this.l=t.ec||null,this.j=t.ob||!1}Hn(Fy,qT);Fy.prototype.g=function(){return new Vy(this.l,this.j)};Fy.prototype.i=function(t){return function(){return t}}({});function Vy(t,e){Kn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=GT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hn(Vy,Kn);var GT=0;ge=Vy.prototype;ge.open=function(t,e){if(this.readyState!=GT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Kf(this)};ge.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||He).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ad(this)),this.readyState=GT};ge.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Kf(this)),this.g&&(this.readyState=3,Kf(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof He.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bM(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function bM(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ge.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ad(this):Kf(this),this.readyState==3&&bM(this)}};ge.Za=function(t){this.g&&(this.response=this.responseText=t,Ad(this))};ge.Ya=function(t){this.g&&(this.response=t,Ad(this))};ge.ka=function(){this.g&&Ad(this)};function Ad(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Kf(t)}ge.setRequestHeader=function(t,e){this.v.append(t,e)};ge.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ge.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Kf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Vy.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var YJ=He.JSON.parse;function En(t){Kn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=AM,this.L=this.M=!1}Hn(En,Kn);var AM="",XJ=/^https?$/i,JJ=["POST","PUT"];ge=En.prototype;ge.Oa=function(t){this.M=t};ge.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mE.g(),this.C=this.u?wC(this.u):wC(mE),this.g.onreadystatechange=dr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){IC(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=He.FormData&&t instanceof He.FormData,!(0<=WL(JJ,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{OM(this),0<this.B&&((this.L=ZJ(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dr(this.ua,this)):this.A=zT(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){IC(this,s)}};function ZJ(t){return ac&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ge.ua=function(){typeof DT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rr(this,"timeout"),this.abort(8))};function IC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,CM(t),$y(t)}function CM(t){t.F||(t.F=!0,rr(t,"complete"),rr(t,"error"))}ge.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rr(this,"complete"),rr(this,"abort"),$y(this))};ge.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$y(this,!0)),En.$.N.call(this)};ge.La=function(){this.s||(this.G||this.v||this.l?PM(this):this.kb())};ge.kb=function(){PM(this)};function PM(t){if(t.h&&typeof DT<"u"&&(!t.C[1]||cs(t)!=4||t.da()!=2)){if(t.v&&cs(t)==4)zT(t.La,0,t);else if(rr(t,"readystatechange"),cs(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(vM)[1]||null;!i&&He.self&&He.self.location&&(i=He.self.location.protocol.slice(0,-1)),r=!XJ.test(i?i.toLowerCase():"")}n=r}if(n)rr(t,"complete"),rr(t,"success");else{t.m=6;try{var s=2<cs(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",CM(t)}}finally{$y(t)}}}}function $y(t,e){if(t.g){OM(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||rr(t,"ready");try{n.onreadystatechange=r}catch{}}}function OM(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(He.clearTimeout(t.A),t.A=null)}ge.isActive=function(){return!!this.g};function cs(t){return t.g?t.g.readyState:0}ge.da=function(){try{return 2<cs(this)?this.g.status:-1}catch{return-1}};ge.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ge.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),YJ(e)}};function SC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case AM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function eZ(t){const e={};t=(t.g&&2<=cs(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if($f(t[r]))continue;var n=xJ(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}vJ(e,function(r){return r.join(", ")})}ge.Ia=function(){return this.m};ge.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function DM(t){let e="";return LT(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function QT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=DM(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ht(t,e,n))}function Ih(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function kM(t){this.Ga=0,this.j=[],this.l=new Oy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ih("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ih("baseRetryDelayMs",5e3,t),this.hb=Ih("retryDelaySeedMs",1e4,t),this.eb=Ih("forwardChannelMaxRetries",2,t),this.xa=Ih("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new TM(t&&t.concurrentRequestLimit),this.Ja=new HJ,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ge=kM.prototype;ge.ra=8;ge.H=1;function YT(t){if(NM(t),t.H==3){var e=t.W++,n=so(t.I);if(Ht(n,"SID",t.K),Ht(n,"RID",e),Ht(n,"TYPE","terminate"),Cd(t,n),e=new Rd(t,t.l,e),e.L=2,e.v=My(so(n)),n=!1,He.navigator&&He.navigator.sendBeacon)try{n=He.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&He.Image&&(new Image().src=e.v,n=!0),n||(e.g=UM(e.l,null),e.g.ha(e.v)),e.G=Date.now(),bd(e)}jM(t)}function jy(t){t.g&&(JT(t),t.g.cancel(),t.g=null)}function NM(t){jy(t),t.u&&(He.clearTimeout(t.u),t.u=null),Ag(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&He.clearTimeout(t.m),t.m=null)}function By(t){if(!IM(t.i)&&!t.m){t.m=!0;var e=t.Na;Bf||rM(),Uf||(Bf(),Uf=!0),BT.add(e,t),t.C=0}}function tZ(t,e){return SM(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Sd(dr(t.Na,t,e),$M(t,t.C)),t.C++,!0)}ge.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Rd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=QL(s),YL(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=LM(this,i,e),n=so(this.I),Ht(n,"RID",t),Ht(n,"CVER",22),this.F&&Ht(n,"X-HTTP-Session-Id",this.F),Cd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(DM(s)))+"&"+e:this.o&&QT(n,this.o,s)),HT(this.i,i),this.bb&&Ht(n,"TYPE","init"),this.P?(Ht(n,"$req",e),Ht(n,"SID","null"),i.aa=!0,yE(i,n,null)):yE(i,n,e),this.H=2}}else this.H==3&&(t?xC(this,t):this.j.length==0||IM(this.i)||xC(this))};function xC(t,e){var n;e?n=e.m:n=t.W++;const r=so(t.I);Ht(r,"SID",t.K),Ht(r,"RID",n),Ht(r,"AID",t.V),Cd(t,r),t.o&&t.s&&QT(r,t.o,t.s),n=new Rd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=LM(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),HT(t.i,n),yE(n,r,e)}function Cd(t,e){t.na&&LT(t.na,function(n,r){Ht(e,r,n)}),t.h&&yM({},function(n,r){Ht(e,r,n)})}function LM(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let c=0;c<n;c++){let h=i[c].g;const f=i[c].map;if(h-=s,0>h)s=Math.max(0,i[c].g-100),l=!1;else try{GJ(f,o,"req"+h+"_")}catch{r&&r(f)}}if(l){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function MM(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Bf||rM(),Uf||(Bf(),Uf=!0),BT.add(e,t),t.A=0}}function XT(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Sd(dr(t.Ma,t),$M(t,t.A)),t.A++,!0)}ge.Ma=function(){if(this.u=null,FM(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Sd(dr(this.jb,this),t)}};ge.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Sr(10),jy(this),FM(this))};function JT(t){t.B!=null&&(He.clearTimeout(t.B),t.B=null)}function FM(t){t.g=new Rd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=so(t.wa);Ht(e,"RID","rpc"),Ht(e,"SID",t.K),Ht(e,"AID",t.V),Ht(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ht(e,"TO",t.qa),Ht(e,"TYPE","xmlhttp"),Cd(t,e),t.o&&t.s&&QT(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=My(so(e)),n.s=null,n.S=!0,dM(n,t)}ge.ib=function(){this.v!=null&&(this.v=null,jy(this),XT(this),Sr(19))};function Ag(t){t.v!=null&&(He.clearTimeout(t.v),t.v=null)}function VM(t,e){var n=null;if(t.g==e){Ag(t),JT(t),t.g=null;var r=2}else if(_E(t.i,e))n=e.F,xM(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Dy(),rr(r,new uM(r,n)),By(t)}else MM(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&tZ(t,e)||r==2&&XT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:nl(t,5);break;case 4:nl(t,10);break;case 3:nl(t,6);break;default:nl(t,2)}}}function $M(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function nl(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=dr(t.pb,t);n||(n=new ll("//www.google.com/images/cleardot.gif"),He.location&&He.location.protocol=="http"||Rg(n,"https"),My(n)),QJ(n.toString(),r)}else Sr(2);t.H=0,t.h&&t.h.za(e),jM(t),NM(t)}ge.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Sr(2)):(this.l.info("Failed to ping google.com"),Sr(1))};function jM(t){if(t.H=0,t.ma=[],t.h){const e=RM(t.i);(e.length!=0||t.j.length!=0)&&(mC(t.ma,e),mC(t.ma,t.j),t.i.i.length=0,kT(t.j),t.j.length=0),t.h.ya()}}function BM(t,e,n){var r=n instanceof ll?so(n):new ll(n);if(r.g!="")e&&(r.g=e+"."+r.g),bg(r,r.m);else{var i=He.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ll(null);r&&Rg(s,r),e&&(s.g=e),i&&bg(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ht(r,n,e),Ht(r,"VER",t.ra),Cd(t,r),r}function UM(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new En(new Fy({ob:!0})):new En(t.va),e.Oa(t.J),e}ge.isActive=function(){return!!this.h&&this.h.isActive(this)};function zM(){}ge=zM.prototype;ge.Ba=function(){};ge.Aa=function(){};ge.za=function(){};ge.ya=function(){};ge.isActive=function(){return!0};ge.Va=function(){};function Cg(){if(ac&&!(10<=Number(pJ)))throw Error("Environmental error: no available transport.")}Cg.prototype.g=function(t,e){return new oi(t,e)};function oi(t,e){Kn.call(this),this.g=new kM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!$f(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$f(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Dc(this)}Hn(oi,Kn);oi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Sr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=BM(t,null,t.Y),By(t)};oi.prototype.close=function(){YT(this.g)};oi.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=jT(t),t=n);e.j.push(new qJ(e.fb++,t)),e.H==3&&By(e)};oi.prototype.N=function(){this.g.h=null,delete this.j,YT(this.g),delete this.g,oi.$.N.call(this)};function qM(t){WT.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Hn(qM,WT);function WM(){KT.call(this),this.status=1}Hn(WM,KT);function Dc(t){this.g=t}Hn(Dc,zM);Dc.prototype.Ba=function(){rr(this.g,"a")};Dc.prototype.Aa=function(t){rr(this.g,new qM(t))};Dc.prototype.za=function(t){rr(this.g,new WM)};Dc.prototype.ya=function(){rr(this.g,"b")};function nZ(){this.blockSize=-1}function Yi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Hn(Yi,nZ);Yi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function b0(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Yi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)b0(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){b0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){b0(this,r),i=0;break}}this.h=i,this.i+=e};Yi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Dt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var rZ={};function ZT(t){return-128<=t&&128>t?hJ(t,function(e){return new Dt([e|0],0>e?-1:0)}):new Dt([t|0],0>t?-1:0)}function hs(t){if(isNaN(t)||!isFinite(t))return Uu;if(0>t)return er(hs(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=wE;return new Dt(e,0)}function KM(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return er(KM(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=hs(Math.pow(e,8)),r=Uu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=hs(Math.pow(e,s)),r=r.R(s).add(hs(o))):(r=r.R(n),r=r.add(hs(o)))}return r}var wE=4294967296,Uu=ZT(0),EE=ZT(1),RC=ZT(16777216);ge=Dt.prototype;ge.ea=function(){if(Ti(this))return-er(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:wE+r)*e,e*=wE}return t};ge.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(zs(this))return"0";if(Ti(this))return"-"+er(this).toString(t);for(var e=hs(Math.pow(t,6)),n=this,r="";;){var i=Og(n,e).g;n=Pg(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,zs(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ge.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function zs(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ti(t){return t.h==-1}ge.X=function(t){return t=Pg(this,t),Ti(t)?-1:zs(t)?0:1};function er(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Dt(n,~t.h).add(EE)}ge.abs=function(){return Ti(this)?er(this):this};ge.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Dt(n,n[n.length-1]&-2147483648?-1:0)};function Pg(t,e){return t.add(er(e))}ge.R=function(t){if(zs(this)||zs(t))return Uu;if(Ti(this))return Ti(t)?er(this).R(er(t)):er(er(this).R(t));if(Ti(t))return er(this.R(er(t)));if(0>this.X(RC)&&0>t.X(RC))return hs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,l=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,em(n,2*r+2*i),n[2*r+2*i+1]+=s*c,em(n,2*r+2*i+1),n[2*r+2*i+1]+=o*l,em(n,2*r+2*i+1),n[2*r+2*i+2]+=s*l,em(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Dt(n,0)};function em(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Sh(t,e){this.g=t,this.h=e}function Og(t,e){if(zs(e))throw Error("division by zero");if(zs(t))return new Sh(Uu,Uu);if(Ti(t))return e=Og(er(t),e),new Sh(er(e.g),er(e.h));if(Ti(e))return e=Og(t,er(e)),new Sh(er(e.g),e.h);if(30<t.g.length){if(Ti(t)||Ti(e))throw Error("slowDivide_ only works with positive integers.");for(var n=EE,r=e;0>=r.X(t);)n=bC(n),r=bC(r);var i=au(n,1),s=au(r,1);for(r=au(r,2),n=au(n,2);!zs(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=au(r,1),n=au(n,1)}return e=Pg(t,i.R(e)),new Sh(i,e)}for(i=Uu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=hs(n),o=s.R(e);Ti(o)||0<o.X(t);)n-=r,s=hs(n),o=s.R(e);zs(s)&&(s=EE),i=i.add(s),t=Pg(t,o)}return new Sh(i,t)}ge.gb=function(t){return Og(this,t).h};ge.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Dt(n,this.h&t.h)};ge.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Dt(n,this.h|t.h)};ge.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Dt(n,this.h^t.h)};function bC(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Dt(n,t.h)}function au(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Dt(i,t.h)}Cg.prototype.createWebChannel=Cg.prototype.g;oi.prototype.send=oi.prototype.u;oi.prototype.open=oi.prototype.m;oi.prototype.close=oi.prototype.close;ky.NO_ERROR=0;ky.TIMEOUT=8;ky.HTTP_ERROR=6;cM.COMPLETE="complete";hM.EventType=xd;xd.OPEN="a";xd.CLOSE="b";xd.ERROR="c";xd.MESSAGE="d";Kn.prototype.listen=Kn.prototype.O;En.prototype.listenOnce=En.prototype.P;En.prototype.getLastError=En.prototype.Sa;En.prototype.getLastErrorCode=En.prototype.Ia;En.prototype.getStatus=En.prototype.da;En.prototype.getResponseJson=En.prototype.Wa;En.prototype.getResponseText=En.prototype.ja;En.prototype.send=En.prototype.ha;En.prototype.setWithCredentials=En.prototype.Oa;Yi.prototype.digest=Yi.prototype.l;Yi.prototype.reset=Yi.prototype.reset;Yi.prototype.update=Yi.prototype.j;Dt.prototype.add=Dt.prototype.add;Dt.prototype.multiply=Dt.prototype.R;Dt.prototype.modulo=Dt.prototype.gb;Dt.prototype.compare=Dt.prototype.X;Dt.prototype.toNumber=Dt.prototype.ea;Dt.prototype.toString=Dt.prototype.toString;Dt.prototype.getBits=Dt.prototype.D;Dt.fromNumber=hs;Dt.fromString=KM;var iZ=function(){return new Cg},sZ=function(){return Dy()},A0=ky,oZ=cM,aZ=Ml,AC={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tm=hM,lZ=En,uZ=Yi,zu=Dt;const CC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new CT("@firebase/firestore");function pu(){return oa.logLevel}function cZ(t){oa.setLogLevel(t)}function oe(t,...e){if(oa.logLevel<=mt.DEBUG){const n=e.map(eI);oa.debug(`Firestore (${kc}): ${t}`,...n)}}function Cn(t,...e){if(oa.logLevel<=mt.ERROR){const n=e.map(eI);oa.error(`Firestore (${kc}): ${t}`,...n)}}function Xi(t,...e){if(oa.logLevel<=mt.WARN){const n=e.map(eI);oa.warn(`Firestore (${kc}): ${t}`,...n)}}function eI(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t="Unexpected state"){const e=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: `+t;throw Cn(e),new Error(e)}function Le(t,e){t||xe()}function hZ(t,e){t||xe()}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends _a{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zn.UNAUTHENTICATED))}shutdown(){}}class dZ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pZ{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Wn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string"),new HM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new zn(e)}}class mZ{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gZ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new mZ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yZ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vZ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string"),this.R=n.token,new yZ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Z(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_Z(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Je(t,e){return t<e?-1:t>e?1:0}function lc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function QM(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new rn(0,0))}static max(){return new Ne(new rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(),r===void 0?r=e.length-n:r>e.length-n&&xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class vt extends Hf{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const wZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends Hf{construct(e,n,r){return new wn(e,n,r)}static isValidIdentifier(e){return wZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new re(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new re(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new re(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new re(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(n)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(vt.fromString(e))}static fromName(e){return new fe(vt.fromString(e).popFirst(5))}static empty(){return new fe(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function TE(t){return t.fields.find(e=>e.kind===2)}function za(t){return t.fields.filter(e=>e.kind!==2)}Dg.UNKNOWN_ID=-1;class Am{constructor(e,n){this.fieldPath=e,this.kind=n}}class Gf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Gf(0,ai.min())}}function YM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ne.fromTimestamp(r===1e9?new rn(n+1,0):new rn(n,r));return new ai(i,fe.empty(),e)}function XM(t){return new ai(t.readTime,t.key,-1)}class ai{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ai(Ne.min(),fe.empty(),-1)}static max(){return new ai(Ne.max(),fe.empty(),-1)}}function tI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==JM)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const h=c;n(e[h]).next(f=>{o[h]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.m=new Wn,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{n.error?this.m.reject(new sf(e,n.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=nI(r.target.error);this.m.reject(new sf(e,i))}}static open(e,n,r,i){try{return new Uy(n,e.transaction(i,r))}catch(s){throw new sf(n,s)}}get g(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}p(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new TZ(n)}}class qi{constructor(e,n,r){this.name=e,this.version=n,this.S=r,qi.D(sE())===12.2&&Cn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return oe("SimpleDb","Removing database:",e),qa(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!kL())return!1;if(qi.v())return!0;const e=sE(),n=qi.D(e),r=0<n&&n<10,i=qi.F(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.M)==="YES"}static O(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static F(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async N(e){return this.db||(oe("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new sf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new re(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new re(q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new sf(e,o))},i.onupgradeneeded=s=>{oe("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.S.B(o,i.transaction,s.oldVersion,this.version).next(()=>{oe("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.N(e);const l=Uy.open(this.db,e,s?"readonly":"readwrite",r),c=i(l).next(h=>(l.p(),h)).catch(h=>(l.abort(h),B.reject(h))).toPromise();return c.catch(()=>{}),await l.g,c}catch(l){const c=l,h=c.name!=="FirebaseError"&&o<3;if(oe("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),this.close(),!h)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class EZ{constructor(e){this.q=e,this.K=!1,this.$=null}get isDone(){return this.K}get U(){return this.$}set cursor(e){this.q=e}done(){this.K=!0}W(e){this.$=e}delete(){return qa(this.q.delete())}}class sf extends re{constructor(e,n){super(q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ia(t){return t.name==="IndexedDbTransactionError"}class TZ{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(oe("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),qa(r)}add(e){return oe("SimpleDb","ADD",this.store.name,e,e),qa(this.store.add(e))}get(e){return qa(this.store.get(e)).next(n=>(n===void 0&&(n=null),oe("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return oe("SimpleDb","DELETE",this.store.name,e),qa(this.store.delete(e))}count(){return oe("SimpleDb","COUNT",this.store.name),qa(this.store.count())}G(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.j(i,(o,l)=>{s.push(l)}).next(()=>s)}{const i=this.store.getAll(r.range);return new B((s,o)=>{i.onerror=l=>{o(l.target.error)},i.onsuccess=l=>{s(l.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new B((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}J(e,n){oe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.j(i,(s,o,l)=>l.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.j(i,n)}X(e){const n=this.cursor({});return new B((r,i)=>{n.onerror=s=>{const o=nI(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():r()}):r()}})}j(e,n){const r=[];return new B((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void i();const c=new EZ(l),h=n(l.primaryKey,l.value,c);if(h instanceof B){const f=h.catch(p=>(c.done(),B.reject(p)));r.push(f)}c.isDone?i():c.U===null?l.continue():l.continue(c.U)}}).next(()=>B.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function qa(t){return new B((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=nI(r.target.error);n(i)}})}let PC=!1;function nI(t){const e=qi.D(sE());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return PC||(PC=!0,setTimeout(()=>{throw r},0)),r}}return t}class IZ{constructor(e,n){this.asyncQueue=e,this.ee=n,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){oe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{oe("IndexBackiller",`Documents written: ${await this.ee.ne()}`)}catch(n){Ia(n)?oe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Ta(n)}await this.te(6e4)})}}class SZ{constructor(e,n){this.localStore=e,this.persistence=n}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.re(n,e))}re(e,n){const r=new Set;let i=n,s=!0;return B.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return oe("IndexBackiller",`Processing collection: ${o}`),this.ie(e,o,i).next(l=>{i-=l,r.add(o)});s=!1})).next(()=>n-i)}ie(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.se(i,s)).next(l=>(oe("IndexBackiller",`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l))).next(()=>o.size)}))}se(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=XM(s);tI(o,r)>0&&(r=o)}),new ai(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$r.ae=-1;function Pd(t){return t==null}function Qf(t){return t===0&&1/t==-1/0}function eF(t){return typeof t=="number"&&Number.isInteger(t)&&!Qf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=OC(e)),e=xZ(t.get(n),e);return OC(e)}function xZ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function OC(t){return t+""}function fs(t){const e=t.length;if(Le(e>=2),e===2)return Le(t.charAt(0)===""&&t.charAt(1)===""),vt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&xe(),t.charAt(o+1)){case"":const l=t.substring(s,o);let c;i.length===0?c=l:(i+=l,c=i,i=""),r.push(c);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:xe()}s=o+2}return new vt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(t,e){return[t,Rr(e)]}function tF(t,e,n){return[t,Rr(e),n]}const RZ={},bZ=["prefixPath","collectionGroup","readTime","documentId"],AZ=["prefixPath","collectionGroup","documentId"],CZ=["collectionGroup","readTime","prefixPath","documentId"],PZ=["canonicalId","targetId"],OZ=["targetId","path"],DZ=["path","targetId"],kZ=["collectionId","parent"],NZ=["indexId","uid"],LZ=["uid","sequenceNumber"],MZ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],FZ=["indexId","uid","orderedDocumentKey"],VZ=["userId","collectionPath","documentId"],$Z=["userId","collectionPath","largestBatchId"],jZ=["userId","collectionGroup","largestBatchId"],nF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],BZ=[...nF,"documentOverlays"],rF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],iF=rF,UZ=[...iF,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends ZM{constructor(e,n){super(),this.ue=e,this.currentSequenceNumber=n}}function Gn(t,e){const n=me(t);return qi.O(n.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){this.comparator=e,this.root=n||Zn.EMPTY}insert(e,n){return new Ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nm(this.root,e,this.comparator,!1)}getReverseIterator(){return new nm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nm(this.root,e,this.comparator,!0)}}class nm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Zn.RED,this.left=i??Zn.EMPTY,this.right=s??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Zn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NC(this.data.getIterator())}getIteratorFrom(e){return new NC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class NC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function lu(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new jr([])}unionWith(e){let n=new Bt(wn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zZ(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new oF("Invalid base64 string: "+s):s}}(e);return new $n(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new $n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$n.EMPTY_BYTE_STRING=new $n("");const qZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function aa(t){if(Le(!!t),typeof t=="string"){let e=0;const n=qZ.exec(t);if(Le(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vn(t.seconds),nanos:vn(t.nanos)}}function vn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function la(t){return typeof t=="string"?$n.fromBase64String(t):$n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rI(t){const e=t.mapValue.fields.__previous_value__;return zy(e)?rI(e):e}function Yf(t){const e=aa(t.mapValue.fields.__local_write_time__.timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WZ{constructor(e,n,r,i,s,o,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h}}class ua{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ua("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ua&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Pm={nullValue:"NULL_VALUE"};function El(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zy(t)?4:aF(t)?9007199254740991:10:xe()}function Es(t,e){if(t===e)return!0;const n=El(t);if(n!==El(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yf(t).isEqual(Yf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=aa(i.timestampValue),l=aa(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return la(i.bytesValue).isEqual(la(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return vn(i.geoPointValue.latitude)===vn(s.geoPointValue.latitude)&&vn(i.geoPointValue.longitude)===vn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return vn(i.integerValue)===vn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=vn(i.doubleValue),l=vn(s.doubleValue);return o===l?Qf(o)===Qf(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return lc(t.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(kC(o)!==kC(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Es(o[c],l[c])))return!1;return!0}(t,e);default:return xe()}}function Xf(t,e){return(t.values||[]).find(n=>Es(n,e))!==void 0}function ca(t,e){if(t===e)return 0;const n=El(t),r=El(e);if(n!==r)return Je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=vn(s.integerValue||s.doubleValue),c=vn(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return LC(t.timestampValue,e.timestampValue);case 4:return LC(Yf(t),Yf(e));case 5:return Je(t.stringValue,e.stringValue);case 6:return function(s,o){const l=la(s),c=la(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let h=0;h<l.length&&h<c.length;h++){const f=Je(l[h],c[h]);if(f!==0)return f}return Je(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Je(vn(s.latitude),vn(o.latitude));return l!==0?l:Je(vn(s.longitude),vn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],c=o.values||[];for(let h=0;h<l.length&&h<c.length;++h){const f=ca(l[h],c[h]);if(f)return f}return Je(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===zo.mapValue&&o===zo.mapValue)return 0;if(s===zo.mapValue)return 1;if(o===zo.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),h=o.fields||{},f=Object.keys(h);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const m=Je(c[p],f[p]);if(m!==0)return m;const y=ca(l[c[p]],h[f[p]]);if(y!==0)return y}return Je(c.length,f.length)}(t.mapValue,e.mapValue);default:throw xe()}}function LC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=aa(t),r=aa(e),i=Je(n.seconds,r.seconds);return i!==0?i:Je(n.nanos,r.nanos)}function uc(t){return SE(t)}function SE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=aa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return la(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=SE(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${SE(n.fields[o])}`;return i+"}"}(t.mapValue):xe()}function Tl(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xE(t){return!!t&&"integerValue"in t}function Jf(t){return!!t&&"arrayValue"in t}function MC(t){return!!t&&"nullValue"in t}function FC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Om(t){return!!t&&"mapValue"in t}function of(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=of(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=of(t.arrayValue.values[n]);return e}return Object.assign({},t)}function aF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function KZ(t){return"nullValue"in t?Pm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Tl(ua.empty(),fe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:xe()}function HZ(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Tl(ua.empty(),fe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?zo:xe()}function VC(t,e){const n=ca(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function $C(t,e){const n=ca(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Om(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=of(n)}setAll(e){let n=wn.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=of(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Om(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Om(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tr(of(this.value))}}function lF(t){const e=[];return Fl(t.fields,(n,r)=>{const i=new wn([n]);if(Om(r)){const s=lF(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Gt(e,0,Ne.min(),Ne.min(),Ne.min(),tr.empty(),0)}static newFoundDocument(e,n,r,i){return new Gt(e,1,n,Ne.min(),r,i,0)}static newNoDocument(e,n){return new Gt(e,2,n,Ne.min(),Ne.min(),tr.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,Ne.min(),Ne.min(),tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.position=e,this.inclusive=n}}function jC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=fe.comparator(fe.fromName(o.referenceValue),n.key):r=ca(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function BC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Es(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n="asc"){this.field=e,this.dir=n}}function GZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{}class ft extends uF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new QZ(e,n,r):n==="array-contains"?new JZ(e,r):n==="in"?new mF(e,r):n==="not-in"?new ZZ(e,r):n==="array-contains-any"?new eee(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new YZ(e,r):new XZ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ca(n,this.value)):n!==null&&El(this.value)===El(n)&&this.matchesComparison(ca(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Pt extends uF{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Pt(e,n)}matches(e){return cc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function cc(t){return t.op==="and"}function RE(t){return t.op==="or"}function iI(t){return cF(t)&&cc(t)}function cF(t){for(const e of t.filters)if(e instanceof Pt)return!1;return!0}function bE(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+uc(t.value);if(iI(t))return t.filters.map(e=>bE(e)).join(",");{const e=t.filters.map(n=>bE(n)).join(",");return`${t.op}(${e})`}}function hF(t,e){return t instanceof ft?function(r,i){return i instanceof ft&&r.op===i.op&&r.field.isEqual(i.field)&&Es(r.value,i.value)}(t,e):t instanceof Pt?function(r,i){return i instanceof Pt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&hF(o,i.filters[l]),!0):!1}(t,e):void xe()}function fF(t,e){const n=t.filters.concat(e);return Pt.create(n,t.op)}function dF(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${uc(n.value)}`}(t):t instanceof Pt?function(n){return n.op.toString()+" {"+n.getFilters().map(dF).join(" ,")+"}"}(t):"Filter"}class QZ extends ft{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class YZ extends ft{constructor(e,n){super(e,"in",n),this.keys=pF("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class XZ extends ft{constructor(e,n){super(e,"not-in",n),this.keys=pF("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pF(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class JZ extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jf(n)&&Xf(n.arrayValue,this.value)}}class mF extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xf(this.value.arrayValue,n)}}class ZZ extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xf(this.value.arrayValue,n)}}class eee extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tee{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.he=null}}function AE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new tee(t,e,n,r,i,s,o)}function Il(t){const e=me(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>bE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>uc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>uc(r)).join(",")),e.he=n}return e.he}function Od(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GZ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BC(t.startAt,e.startAt)&&BC(t.endAt,e.endAt)}function kg(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Ng(t,e){return t.filters.filter(n=>n instanceof ft&&n.field.isEqual(e))}function UC(t,e,n){let r=Pm,i=!0;for(const s of Ng(t,e)){let o=Pm,l=!0;switch(s.op){case"<":case"<=":o=KZ(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,l=!1;break;case"!=":case"not-in":o=Pm}VC({value:r,inclusive:i},{value:o,inclusive:l})<0&&(r=o,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];VC({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function zC(t,e,n){let r=zo,i=!0;for(const s of Ng(t,e)){let o=zo,l=!0;switch(s.op){case">=":case">":o=HZ(s.value),l=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,l=!1;break;case"!=":case"not-in":o=zo}$C({value:r,inclusive:i},{value:o,inclusive:l})>0&&(r=o,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];$C({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function gF(t,e,n,r,i,s,o,l){return new ho(t,e,n,r,i,s,o,l)}function Nc(t){return new ho(t)}function qC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function qy(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function oI(t){return t.collectionGroup!==null}function Wu(t){const e=me(t);if(e.Pe===null){e.Pe=[];const n=qy(e),r=sI(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new qu(n)),e.Pe.push(new qu(wn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new qu(wn.keyField(),s))}}}return e.Pe}function br(t){const e=me(t);return e.Ie||(e.Ie=nee(e,Wu(t))),e.Ie}function nee(t,e){if(t.limitType==="F")return AE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new qu(i.field,s)});const n=t.endAt?new ha(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ha(t.startAt.position,t.startAt.inclusive):null;return AE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function CE(t,e){e.getFirstInequalityField(),qy(t);const n=t.filters.concat([e]);return new ho(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lg(t,e,n){return new ho(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dd(t,e){return Od(br(t),br(e))&&t.limitType===e.limitType}function yF(t){return`${Il(br(t))}|lt:${t.limitType}`}function mu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>dF(i)).join(", ")}]`),Pd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>uc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>uc(i)).join(",")),`Target(${r})`}(br(t))}; limitType=${t.limitType})`}function kd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):fe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Wu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const h=jC(o,l,c);return o.inclusive?h<=0:h<0}(r.startAt,Wu(r),i)||r.endAt&&!function(o,l,c){const h=jC(o,l,c);return o.inclusive?h>=0:h>0}(r.endAt,Wu(r),i))}(t,e)}function vF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _F(t){return(e,n)=>{let r=!1;for(const i of Wu(t)){const s=ree(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ree(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),h=l.data.field(s);return c!==null&&h!==null?ca(c,h):xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return sF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iee=new Ut(fe.comparator);function Br(){return iee}const wF=new Ut(fe.comparator);function jh(...t){let e=wF;for(const n of t)e=e.insert(n.key,n);return e}function EF(t){let e=wF;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ds(){return af()}function TF(){return af()}function af(){return new Sa(t=>t.toString(),(t,e)=>t.isEqual(e))}const see=new Ut(fe.comparator),oee=new Bt(fe.comparator);function et(...t){let e=oee;for(const n of t)e=e.add(n);return e}const aee=new Bt(Je);function aI(){return aee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(e)?"-0":e}}function SF(t){return{integerValue:""+t}}function xF(t,e){return eF(e)?SF(e):IF(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this._=void 0}}function lee(t,e,n){return t instanceof hc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zy(s)&&(s=rI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Sl?bF(t,e):t instanceof xl?AF(t,e):function(i,s){const o=RF(i,s),l=WC(o)+WC(i.Te);return xE(o)&&xE(i.Te)?SF(l):IF(i.serializer,l)}(t,e)}function uee(t,e,n){return t instanceof Sl?bF(t,e):t instanceof xl?AF(t,e):n}function RF(t,e){return t instanceof fc?function(r){return xE(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class hc extends Wy{}class Sl extends Wy{constructor(e){super(),this.elements=e}}function bF(t,e){const n=CF(e);for(const r of t.elements)n.some(i=>Es(i,r))||n.push(r);return{arrayValue:{values:n}}}class xl extends Wy{constructor(e){super(),this.elements=e}}function AF(t,e){let n=CF(e);for(const r of t.elements)n=n.filter(i=>!Es(i,r));return{arrayValue:{values:n}}}class fc extends Wy{constructor(e,n){super(),this.serializer=e,this.Te=n}}function WC(t){return vn(t.integerValue||t.doubleValue)}function CF(t){return Jf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n){this.field=e,this.transform=n}}function cee(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Sl&&i instanceof Sl||r instanceof xl&&i instanceof xl?lc(r.elements,i.elements,Es):r instanceof fc&&i instanceof fc?Es(r.Te,i.Te):r instanceof hc&&i instanceof hc}(t.transform,e.transform)}class hee{constructor(e,n){this.version=e,this.transformResults=n}}class nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nn}static exists(e){return new nn(void 0,e)}static updateTime(e){return new nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ky{}function PF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mc(t.key,nn.none()):new Lc(t.key,t.data,nn.none());{const n=t.data,r=tr.empty();let i=new Bt(wn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fo(t.key,r,new jr(i.toArray()),nn.none())}}function fee(t,e,n){t instanceof Lc?function(i,s,o){const l=i.value.clone(),c=HC(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof fo?function(i,s,o){if(!Dm(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=HC(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(OF(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function lf(t,e,n,r){return t instanceof Lc?function(s,o,l,c){if(!Dm(s.precondition,o))return l;const h=s.value.clone(),f=GC(s.fieldTransforms,c,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof fo?function(s,o,l,c){if(!Dm(s.precondition,o))return l;const h=GC(s.fieldTransforms,c,o),f=o.data;return f.setAll(OF(s)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,l){return Dm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function dee(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=RF(r.transform,i||null);s!=null&&(n===null&&(n=tr.empty()),n.set(r.field,s))}return n||null}function KC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&lc(r,i,(s,o)=>cee(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lc extends Ky{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fo extends Ky{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function OF(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function HC(t,e,n){const r=new Map;Le(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,uee(o,l,n[i]))}return r}function GC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,lee(s,o,e))}return r}class Mc extends Ky{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lI extends Ky{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&fee(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=lf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=lf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TF();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=PF(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&lc(this.mutations,e.mutations,(n,r)=>KC(n,r))&&lc(this.baseMutations,e.baseMutations,(n,r)=>KC(n,r))}}class cI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Le(e.mutations.length===r.length);let i=function(){return see}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new cI(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pee{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On,gt;function DF(t){switch(t){default:return xe();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function kF(t){if(t===void 0)return Cn("GRPC error has no .code"),q.UNKNOWN;switch(t){case On.OK:return q.OK;case On.CANCELLED:return q.CANCELLED;case On.UNKNOWN:return q.UNKNOWN;case On.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case On.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case On.INTERNAL:return q.INTERNAL;case On.UNAVAILABLE:return q.UNAVAILABLE;case On.UNAUTHENTICATED:return q.UNAUTHENTICATED;case On.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case On.NOT_FOUND:return q.NOT_FOUND;case On.ALREADY_EXISTS:return q.ALREADY_EXISTS;case On.PERMISSION_DENIED:return q.PERMISSION_DENIED;case On.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case On.ABORTED:return q.ABORTED;case On.OUT_OF_RANGE:return q.OUT_OF_RANGE;case On.UNIMPLEMENTED:return q.UNIMPLEMENTED;case On.DATA_LOSS:return q.DATA_LOSS;default:return xe()}}(gt=On||(On={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mee=new zu([4294967295,4294967295],0);function QC(t){const e=NF().encode(t),n=new uZ;return n.update(e),new Uint8Array(n.digest())}function YC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new zu([n,r],0),new zu([i,s],0)]}class fI{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bh(`Invalid padding: ${n}`);if(r<0)throw new Bh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bh(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=zu.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(zu.fromNumber(r)));return i.compare(mee)===1&&(i=new zu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=QC(e),[r,i]=YC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new fI(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ae===0)return;const n=QC(e),[r,i]=YC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Md.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ld(Ne.min(),i,new Ut(Je),Br(),et())}}class Md{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Md(r,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class LF{constructor(e,n){this.targetId=e,this.ye=n}}class MF{constructor(e,n,r=$n.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class XC{constructor(){this.we=0,this.Se=ZC(),this.be=$n.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=et(),n=et(),r=et();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:xe()}}),new Md(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=ZC()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class gee{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=Br(),this.Ue=JC(),this.We=new Ut(Je)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const s=i.target;if(kg(s))if(r===0){const o=new fe(s.path);this.je(n,o,Gt.newNoDocument(o,Ne.min()))}else Le(r===1);else{const o=this.tt(n);if(o!==r){const l=this.nt(e),c=l?this.rt(l,e,o):1;if(c!==0){this.Ze(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,h)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=la(r).toUint8Array()}catch(c){if(c instanceof oF)return Xi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new fI(o,i,s)}catch(c){return Xi(c instanceof Bh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ae===0?null:l}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.je(n,s,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((s,o)=>{const l=this.et(o);if(l){if(s.current&&kg(l.target)){const c=new fe(l.target.path);this.$e.get(c)!==null||this.ut(o,c)||this.je(o,c,Gt.newNoDocument(c,e))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=et();this.Ue.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const h=this.et(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new Ld(e,n,this.We,this.$e,r);return this.$e=Br(),this.Ue=JC(),this.We=new Ut(Je),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new XC,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Bt(Je),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new XC),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function JC(){return new Ut(fe.comparator)}function ZC(){return new Ut(fe.comparator)}const yee=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),vee=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),_ee=(()=>({and:"AND",or:"OR"}))();class wee{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function PE(t,e){return t.useProto3Json||Pd(e)?e:{value:e}}function dc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Eee(t,e){return dc(t,e.toTimestamp())}function Pn(t){return Le(!!t),Ne.fromTimestamp(function(n){const r=aa(n);return new rn(r.seconds,r.nanos)}(t))}function dI(t,e){return function(r){return new vt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function VF(t){const e=vt.fromString(t);return Le(HF(e)),e}function Zf(t,e){return dI(t.databaseId,e.path)}function _s(t,e){const n=VF(e);if(n.get(1)!==t.databaseId.projectId)throw new re(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(jF(n))}function OE(t,e){return dI(t.databaseId,e)}function $F(t){const e=VF(t);return e.length===4?vt.emptyPath():jF(e)}function ed(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jF(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function eP(t,e,n){return{name:Zf(t,e),fields:n.value.mapValue.fields}}function BF(t,e,n){const r=_s(t,e.name),i=Pn(e.updateTime),s=e.createTime?Pn(e.createTime):Ne.min(),o=new tr({mapValue:{fields:e.fields}}),l=Gt.newFoundDocument(r,i,s,o);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function Tee(t,e){return"found"in e?function(r,i){Le(!!i.found),i.found.name,i.found.updateTime;const s=_s(r,i.found.name),o=Pn(i.found.updateTime),l=i.found.createTime?Pn(i.found.createTime):Ne.min(),c=new tr({mapValue:{fields:i.found.fields}});return Gt.newFoundDocument(s,o,l,c)}(t,e):"missing"in e?function(r,i){Le(!!i.missing),Le(!!i.readTime);const s=_s(r,i.missing),o=Pn(i.readTime);return Gt.newNoDocument(s,o)}(t,e):xe()}function Iee(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(Le(f===void 0||typeof f=="string"),$n.fromBase64String(f||"")):(Le(f===void 0||f instanceof Uint8Array),$n.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const f=h.code===void 0?q.UNKNOWN:kF(h.code);return new re(f,h.message||"")}(o);n=new MF(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_s(t,r.document.name),s=Pn(r.document.updateTime),o=r.document.createTime?Pn(r.document.createTime):Ne.min(),l=new tr({mapValue:{fields:r.document.fields}}),c=Gt.newFoundDocument(i,s,o,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new km(h,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_s(t,r.document),s=r.readTime?Pn(r.readTime):Ne.min(),o=Gt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new km([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_s(t,r.document),s=r.removedTargetIds||[];n=new km([],s,i,null)}else{if(!("filter"in e))return xe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new pee(i,s),l=r.targetId;n=new LF(l,o)}}return n}function td(t,e){let n;if(e instanceof Lc)n={update:eP(t,e.key,e.value)};else if(e instanceof Mc)n={delete:Zf(t,e.key)};else if(e instanceof fo)n={update:eP(t,e.key,e.data),updateMask:Cee(e.fieldMask)};else{if(!(e instanceof lI))return xe();n={verify:Zf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof hc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Sl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof xl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof fc)return{fieldPath:o.field.canonicalString(),increment:l.Te};throw xe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Eee(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:xe()}(t,e.precondition)),n}function DE(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?nn.updateTime(Pn(s.updateTime)):s.exists!==void 0?nn.exists(s.exists):nn.none()}(e.currentDocument):nn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,l){let c=null;if("setToServerValue"in l)Le(l.setToServerValue==="REQUEST_TIME"),c=new hc;else if("appendMissingElements"in l){const f=l.appendMissingElements.values||[];c=new Sl(f)}else if("removeAllFromArray"in l){const f=l.removeAllFromArray.values||[];c=new xl(f)}else"increment"in l?c=new fc(o,l.increment):xe();const h=wn.fromServerFormat(l.fieldPath);return new Nd(h,c)}(t,i)):[];if(e.update){e.update.name;const i=_s(t,e.update.name),s=new tr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(c){const h=c.fieldPaths||[];return new jr(h.map(f=>wn.fromServerFormat(f)))}(e.updateMask);return new fo(i,s,o,n,r)}return new Lc(i,s,n,r)}if(e.delete){const i=_s(t,e.delete);return new Mc(i,n)}if(e.verify){const i=_s(t,e.verify);return new lI(i,n)}return xe()}function See(t,e){return t&&t.length>0?(Le(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Pn(i.updateTime):Pn(s);return o.isEqual(Ne.min())&&(o=Pn(s)),new hee(o,i.transformResults||[])}(n,e))):[]}function UF(t,e){return{documents:[OE(t,e.path)]}}function zF(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=OE(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=OE(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(c.length!==0)return KF(Pt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:gu(p.field),direction:Ree(p.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=PE(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function qF(t){let e=$F(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Le(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const m=WF(p);return m instanceof Pt&&iI(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(v){return new qu(yu(v.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Pd(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){const m=!!p.before,y=p.values||[];return new ha(y,m)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const m=!p.before,y=p.values||[];return new ha(y,m)}(n.endAt)),gF(e,i,o,s,l,"F",c,h)}function xee(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WF(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yu(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=yu(n.unaryFilter.field);return ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=yu(n.unaryFilter.field);return ft.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yu(n.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(t):t.fieldFilter!==void 0?function(n){return ft.create(yu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pt.create(n.compositeFilter.filters.map(r=>WF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe()}}(n.compositeFilter.op))}(t):xe()}function Ree(t){return yee[t]}function bee(t){return vee[t]}function Aee(t){return _ee[t]}function gu(t){return{fieldPath:t.canonicalString()}}function yu(t){return wn.fromServerFormat(t.fieldPath)}function KF(t){return t instanceof ft?function(n){if(n.op==="=="){if(FC(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NAN"}};if(MC(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FC(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NOT_NAN"}};if(MC(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gu(n.field),op:bee(n.op),value:n.value}}}(t):t instanceof Pt?function(n){const r=n.getFilters().map(i=>KF(i));return r.length===1?r[0]:{compositeFilter:{op:Aee(n.op),filters:r}}}(t):xe()}function Cee(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r,i,s=Ne.min(),o=Ne.min(),l=$n.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.ht=e}}function Pee(t,e){let n;if(e.document)n=BF(t.ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=fe.fromSegments(e.noDocument.path),i=bl(e.noDocument.readTime);n=Gt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return xe();{const r=fe.fromSegments(e.unknownDocument.path),i=bl(e.unknownDocument.version);n=Gt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new rn(i[0],i[1]);return Ne.fromTimestamp(s)}(e.readTime)),n}function tP(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Mg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Zf(s,o.key),fields:o.data.value.mapValue.fields,updateTime:dc(s,o.version.toTimestamp()),createTime:dc(s,o.createTime.toTimestamp())}}(t.ht,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Rl(e.version)};else{if(!e.isUnknownDocument())return xe();r.unknownDocument={path:n.path.toArray(),version:Rl(e.version)}}return r}function Mg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Rl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bl(t){const e=new rn(t.seconds,t.nanoseconds);return Ne.fromTimestamp(e)}function Wa(t,e){const n=(e.baseMutations||[]).map(s=>DE(t.ht,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const l=e.mutations[s+1];o.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>DE(t.ht,s)),i=rn.fromMillis(e.localWriteTimeMs);return new uI(e.batchId,i,n,r)}function Uh(t){const e=bl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?bl(t.lastLimboFreeSnapshotVersion):Ne.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return Le(s.documents.length===1),br(Nc($F(s.documents[0])))}(t.query):function(s){return br(qF(s))}(t.query),new qs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,$n.fromBase64String(t.resumeToken))}function QF(t,e){const n=Rl(e.snapshotVersion),r=Rl(e.lastLimboFreeSnapshotVersion);let i;i=kg(e.target)?UF(t.ht,e.target):zF(t.ht,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Il(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function pI(t){const e=qF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lg(e,e.limit,"L"):e}function C0(t,e){return new hI(e.largestBatchId,DE(t.ht,e.overlayMutation))}function nP(t,e){const n=e.path.lastSegment();return[t,Rr(e.path.popLast()),n]}function rP(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Rl(r.readTime),documentKey:Rr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oee{getBundleMetadata(e,n){return iP(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:bl(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return iP(e).put(function(i){return{bundleId:i.id,createTime:Rl(Pn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return sP(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:pI(s.bundledQuery),readTime:bl(s.readTime)}}(r)})}saveNamedQuery(e,n){return sP(e).put(function(i){return{name:i.name,readTime:Rl(Pn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function iP(t){return Gn(t,"bundles")}function sP(t){return Gn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n){this.serializer=e,this.userId=n}static Pt(e,n){const r=n.uid||"";return new Hy(e,r)}getOverlay(e,n){return xh(e).get(nP(this.userId,n)).next(r=>r?C0(this.serializer,r):null)}getOverlays(e,n){const r=ds();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const l=new hI(n,o);i.push(this.It(e,l))}),B.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Rr(o.getCollectionPath())));const s=[];return i.forEach(o=>{const l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(xh(e).J("collectionPathOverlayIndex",l))}),B.waitFor(s)}getOverlaysForCollection(e,n,r){const i=ds(),s=Rr(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return xh(e).G("collectionPathOverlayIndex",o).next(l=>{for(const c of l){const h=C0(this.serializer,c);i.set(h.getKey(),h)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=ds();let o;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return xh(e).Z({index:"collectionGroupOverlayIndex",range:l},(c,h,f)=>{const p=C0(this.serializer,h);s.size()<i||p.largestBatchId===o?(s.set(p.getKey(),p),o=p.largestBatchId):f.done()}).next(()=>s)}It(e,n){return xh(e).put(function(i,s,o){const[l,c,h]=nP(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:h,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:td(i.ht,o.mutation)}}(this.serializer,this.userId,n))}}function xh(t){return Gn(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){}dt(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.At(n,5);else if("booleanValue"in e)this.At(n,10),n.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(n,15),n.Rt(vn(e.integerValue));else if("doubleValue"in e){const r=vn(e.doubleValue);isNaN(r)?this.At(n,13):(this.At(n,15),Qf(r)?n.Rt(0):n.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(n,20),typeof r=="string"?n.Vt(r):(n.Vt(`${r.seconds||""}`),n.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,n),this.gt(n);else if("bytesValue"in e)this.At(n,30),n.yt(la(e.bytesValue)),this.gt(n);else if("referenceValue"in e)this.wt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(n,45),n.Rt(r.latitude||0),n.Rt(r.longitude||0)}else"mapValue"in e?aF(e)?this.At(n,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,n),this.gt(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.gt(n)):xe()}ft(e,n){this.At(n,25),this.Dt(e,n)}Dt(e,n){n.Vt(e)}St(e,n){const r=e.fields||{};this.At(n,55);for(const i of Object.keys(r))this.ft(i,n),this.Tt(r[i],n)}bt(e,n){const r=e.values||[];this.At(n,50);for(const i of r)this.Tt(i,n)}wt(e,n){this.At(n,37),fe.fromName(e).path.forEach(r=>{this.At(n,60),this.Dt(r,n)})}At(e,n){e.Rt(n)}gt(e){e.Rt(2)}}Ka.Ct=new Ka;function Dee(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function oP(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=Dee(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class kee{constructor(){this.buffer=new Uint8Array(1024),this.position=0}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=oP(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=oP(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Nee{constructor(e){this.jt=e}yt(e){this.jt.vt(e)}Vt(e){this.jt.Bt(e)}Rt(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Lee{constructor(e){this.jt=e}yt(e){this.jt.xt(e)}Vt(e){this.jt.Lt(e)}Rt(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Rh{constructor(){this.jt=new kee,this.Ht=new Nee(this.jt),this.Jt=new Lee(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ha(this.indexId,this.documentKey,this.arrayValue,r)}}function bo(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=aP(t.arrayValue,e.arrayValue),n!==0?n:(n=aP(t.directionalValue,e.directionalValue),n!==0?n:fe.comparator(t.documentKey,e.documentKey)))}function aP(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Xt=e.orderBy,this.en=[];for(const n of e.filters){const r=n;r.isInequality()?this.tn=r:this.en.push(r)}}nn(e){Le(e.collectionGroup===this.collectionId);const n=TE(e);if(n!==void 0&&!this.rn(n))return!1;const r=za(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.rn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.tn!==void 0){if(!i.has(this.tn.field.canonicalString())){const l=r[s];if(!this.sn(this.tn,l)||!this.on(this.Xt[o++],l))return!1}++s}for(;s<r.length;++s){const l=r[s];if(o>=this.Xt.length||!this.on(this.Xt[o++],l))return!1}return!0}_n(){let e=new Bt(wn.comparator);const n=[];for(const r of this.en)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Am(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Am(r.field,0))}for(const r of this.Xt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Am(r.field,r.dir==="asc"?0:1)));return new Dg(Dg.UNKNOWN_ID,this.collectionId,n,Gf.empty())}rn(e){for(const n of this.en)if(this.sn(n,e))return!0;return!1}sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}on(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t){var e,n;if(Le(t instanceof ft||t instanceof Pt),t instanceof ft){if(t instanceof mF){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>ft.create(t.field,"==",s)))||[];return Pt.create(i,"or")}return t}const r=t.filters.map(i=>YF(i));return Pt.create(r,t.op)}function Mee(t){if(t.getFilters().length===0)return[];const e=LE(YF(t));return Le(XF(e)),kE(e)||NE(e)?[e]:e.getFilters()}function kE(t){return t instanceof ft}function NE(t){return t instanceof Pt&&iI(t)}function XF(t){return kE(t)||NE(t)||function(n){if(n instanceof Pt&&RE(n)){for(const r of n.getFilters())if(!kE(r)&&!NE(r))return!1;return!0}return!1}(t)}function LE(t){if(Le(t instanceof ft||t instanceof Pt),t instanceof ft)return t;if(t.filters.length===1)return LE(t.filters[0]);const e=t.filters.map(r=>LE(r));let n=Pt.create(e,t.op);return n=Fg(n),XF(n)?n:(Le(n instanceof Pt),Le(cc(n)),Le(n.filters.length>1),n.filters.reduce((r,i)=>mI(r,i)))}function mI(t,e){let n;return Le(t instanceof ft||t instanceof Pt),Le(e instanceof ft||e instanceof Pt),n=t instanceof ft?e instanceof ft?function(i,s){return Pt.create([i,s],"and")}(t,e):uP(t,e):e instanceof ft?uP(e,t):function(i,s){if(Le(i.filters.length>0&&s.filters.length>0),cc(i)&&cc(s))return fF(i,s.getFilters());const o=RE(i)?i:s,l=RE(i)?s:i,c=o.filters.map(h=>mI(h,l));return Pt.create(c,"or")}(t,e),Fg(n)}function uP(t,e){if(cc(e))return fF(e,t.getFilters());{const n=e.filters.map(r=>mI(t,r));return Pt.create(n,"or")}}function Fg(t){if(Le(t instanceof ft||t instanceof Pt),t instanceof ft)return t;const e=t.getFilters();if(e.length===1)return Fg(e[0]);if(cF(t))return t;const n=e.map(i=>Fg(i)),r=[];return n.forEach(i=>{i instanceof ft?r.push(i):i instanceof Pt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Pt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fee{constructor(){this.an=new gI}addToCollectionParentIndex(e,n){return this.an.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(ai.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(ai.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class gI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bt(vt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new Uint8Array(0);class Vee{constructor(e,n){this.user=e,this.databaseId=n,this.un=new gI,this.cn=new Sa(r=>Il(r),(r,i)=>Od(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.un.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.un.add(n)});const s={collectionId:r,parent:Rr(i)};return cP(e).put(s)}return B.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[QM(n),""],!1,!0);return cP(e).G(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(fs(o.parent))}return r})}addFieldIndex(e,n){const r=bh(e),i=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=cu(e);return s.next(l=>{o.put(rP(l,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=bh(e),i=cu(e),s=uu(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=bh(e),r=uu(e),i=cu(e);return n.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,n){return B.forEach(this.ln(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new lP(r);return this.addFieldIndex(e,s._n())}}))}getDocumentsMatchingTarget(e,n){const r=uu(e);let i=!0;const s=new Map;return B.forEach(this.ln(n),o=>this.hn(e,o).next(l=>{i&&(i=!!l),s.set(o,l)})).next(()=>{if(i){let o=et();const l=[];return B.forEach(s,(c,h)=>{oe("IndexedDbIndexManager",`Using index ${function(I){return`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(E=>`${E.fieldPath}:${E.kind}`).join(",")}`}(c)} to execute ${Il(n)}`);const f=function(I,E){const P=TE(E);if(P===void 0)return null;for(const O of Ng(I,P.fieldPath))switch(O.op){case"array-contains-any":return O.value.arrayValue.values||[];case"array-contains":return[O.value]}return null}(h,c),p=function(I,E){const P=new Map;for(const O of za(E))for(const D of Ng(I,O.fieldPath))switch(D.op){case"==":case"in":P.set(O.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return P.set(O.fieldPath.canonicalString(),D.value),Array.from(P.values())}return null}(h,c),m=function(I,E){const P=[];let O=!0;for(const D of za(E)){const N=D.kind===0?UC(I,D.fieldPath,I.startAt):zC(I,D.fieldPath,I.startAt);P.push(N.value),O&&(O=N.inclusive)}return new ha(P,O)}(h,c),y=function(I,E){const P=[];let O=!0;for(const D of za(E)){const N=D.kind===0?zC(I,D.fieldPath,I.endAt):UC(I,D.fieldPath,I.endAt);P.push(N.value),O&&(O=N.inclusive)}return new ha(P,O)}(h,c),v=this.Pn(c,h,m),w=this.Pn(c,h,y),R=this.In(c,h,p),T=this.dn(c.indexId,f,v,m.inclusive,w,y.inclusive,R);return B.forEach(T,S=>r.H(S,n.limit).next(I=>{I.forEach(E=>{const P=fe.fromSegments(E.documentKey);o.has(P)||(o=o.add(P),l.push(P))})}))}).next(()=>l)}return B.resolve(null)})}ln(e){let n=this.cn.get(e);return n||(e.filters.length===0?n=[e]:n=Mee(Pt.create(e.filters,"and")).map(r=>AE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.cn.set(e,n),n)}dn(e,n,r,i,s,o,l){const c=(n!=null?n.length:1)*Math.max(r.length,s.length),h=c/(n!=null?n.length:1),f=[];for(let p=0;p<c;++p){const m=n?this.Tn(n[p/h]):rm,y=this.En(e,m,r[p%h],i),v=this.An(e,m,s[p%h],o),w=l.map(R=>this.En(e,m,R,!0));f.push(...this.createRange(y,v,w))}return f}En(e,n,r,i){const s=new Ha(e,fe.empty(),n,r);return i?s:s.Zt()}An(e,n,r,i){const s=new Ha(e,fe.empty(),n,r);return i?s.Zt():s}hn(e,n){const r=new lP(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const l of s)r.nn(l)&&(!o||l.fields.length>o.fields.length)&&(o=l);return o})}getIndexType(e,n){let r=2;const i=this.ln(n);return B.forEach(i,s=>this.hn(e,s).next(o=>{o?r!==0&&o.fields.length<function(c){let h=new Bt(wn.comparator),f=!1;for(const p of c.filters)for(const m of p.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?f=!0:h=h.add(m.field));for(const p of c.orderBy)p.field.isKeyField()||(h=h.add(p.field));return h.size+(f?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Rn(e,n){const r=new Rh;for(const i of za(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Yt(i.kind);Ka.Ct.dt(s,o)}return r.zt()}Tn(e){const n=new Rh;return Ka.Ct.dt(e,n.Yt(0)),n.zt()}Vn(e,n){const r=new Rh;return Ka.Ct.dt(Tl(this.databaseId,n),r.Yt(function(s){const o=za(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}In(e,n,r){if(r===null)return[];let i=[];i.push(new Rh);let s=0;for(const o of za(e)){const l=r[s++];for(const c of i)if(this.mn(n,o.fieldPath)&&Jf(l))i=this.fn(i,o,l);else{const h=c.Yt(o.kind);Ka.Ct.dt(l,h)}}return this.gn(i)}Pn(e,n,r){return this.In(e,n,r.position)}gn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}fn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const l of i){const c=new Rh;c.seed(l.zt()),Ka.Ct.dt(o,c.Yt(n.kind)),s.push(c)}return s}mn(e,n){return!!e.filters.find(r=>r instanceof ft&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=bh(e),i=cu(e);return(n?r.G("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.G()).next(s=>{const o=[];return B.forEach(s,l=>i.get([l.indexId,this.uid]).next(c=>{o.push(function(f,p){const m=p?new Gf(p.sequenceNumber,new ai(bl(p.readTime),new fe(fs(p.documentKey)),p.largestBatchId)):Gf.empty(),y=f.fields.map(([v,w])=>new Am(wn.fromServerFormat(v),w));return new Dg(f.indexId,f.collectionGroup,y,m)}(l,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Je(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=bh(e),s=cu(e);return this.pn(e).next(o=>i.G("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(l=>B.forEach(l,c=>s.put(rP(c.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return B.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?B.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(l=>(r.set(i.collectionGroup,l),B.forEach(l,c=>this.yn(e,i,c).next(h=>{const f=this.wn(s,c);return h.isEqual(f)?B.resolve():this.Sn(e,s,c,h,f)}))))})}bn(e,n,r,i){return uu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Vn(r,n.key),documentKey:n.key.path.toArray()})}Dn(e,n,r,i){return uu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Vn(r,n.key),n.key.path.toArray()])}yn(e,n,r){const i=uu(e);let s=new Bt(bo);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Vn(r,n)])},(o,l)=>{s=s.add(new Ha(r.indexId,n,l.arrayValue,l.directionalValue))}).next(()=>s)}wn(e,n){let r=new Bt(bo);const i=this.Rn(n,e);if(i==null)return r;const s=TE(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Jf(o))for(const l of o.arrayValue.values||[])r=r.add(new Ha(n.indexId,e.key,this.Tn(l),i))}else r=r.add(new Ha(n.indexId,e.key,rm,i));return r}Sn(e,n,r,i,s){oe("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(c,h,f,p,m){const y=c.getIterator(),v=h.getIterator();let w=lu(y),R=lu(v);for(;w||R;){let T=!1,S=!1;if(w&&R){const I=f(w,R);I<0?S=!0:I>0&&(T=!0)}else w!=null?S=!0:T=!0;T?(p(R),R=lu(v)):S?(m(w),w=lu(y)):(w=lu(y),R=lu(v))}}(i,s,bo,l=>{o.push(this.bn(e,n,r,l))},l=>{o.push(this.Dn(e,n,r,l))}),B.waitFor(o)}pn(e){let n=1;return cu(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,l)=>bo(o,l)).filter((o,l,c)=>!l||bo(o,c[l-1])!==0);const i=[];i.push(e);for(const o of r){const l=bo(o,e),c=bo(o,n);if(l===0)i[0]=e.Zt();else if(l>0&&c<0)i.push(o),i.push(o.Zt());else if(c>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const l=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,rm,[]],c=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,rm,[]];s.push(IDBKeyRange.bound(l,c))}return s}Cn(e,n){return bo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(hP)}getMinOffset(e,n){return B.mapArray(this.ln(n),r=>this.hn(e,r).next(i=>i||xe())).next(hP)}}function cP(t){return Gn(t,"collectionParents")}function uu(t){return Gn(t,"indexEntries")}function bh(t){return Gn(t,"indexConfiguration")}function cu(t){return Gn(t,"indexState")}function hP(t){Le(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;tI(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ai(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Mr(e,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let l=0;const c=r.Z({range:o},(f,p,m)=>(l++,m.delete()));s.push(c.next(()=>{Le(l===1)}));const h=[];for(const f of n.mutations){const p=tF(e,f.key.path,n.batchId);s.push(i.delete(p)),h.push(f.key)}return B.waitFor(s).next(()=>h)}function Vg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw xe();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(41943040,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);class Gy{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.vn={}}static Pt(e,n,r,i){Le(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Gy(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ao(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=vu(e),o=Ao(e);return o.add({}).next(l=>{Le(typeof l=="number");const c=new uI(l,n,r,i),h=function(y,v,w){const R=w.baseMutations.map(S=>td(y.ht,S)),T=w.mutations.map(S=>td(y.ht,S));return{userId:v,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:R,mutations:T}}(this.serializer,this.userId,c),f=[];let p=new Bt((m,y)=>Je(m.canonicalString(),y.canonicalString()));for(const m of i){const y=tF(this.userId,m.key.path,l);p=p.add(m.key.path.popLast()),f.push(o.put(h)),f.push(s.put(y,RZ))}return p.forEach(m=>{f.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.vn[l]=c.keys()}),B.waitFor(f).next(()=>c)})}lookupMutationBatch(e,n){return Ao(e).get(n).next(r=>r?(Le(r.userId===this.userId),Wa(this.serializer,r)):null)}Fn(e,n){return this.vn[n]?B.resolve(this.vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.vn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Ao(e).Z({index:"userMutationsIndex",range:i},(o,l,c)=>{l.userId===this.userId&&(Le(l.batchId>=r),s=Wa(this.serializer,l)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ao(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ao(e).G("userMutationsIndex",n).next(r=>r.map(i=>Wa(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Cm(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return vu(e).Z({range:i},(o,l,c)=>{const[h,f,p]=o,m=fs(f);if(h===this.userId&&n.path.isEqual(m))return Ao(e).get(p).next(y=>{if(!y)throw xe();Le(y.userId===this.userId),s.push(Wa(this.serializer,y))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(Je);const i=[];return n.forEach(s=>{const o=Cm(this.userId,s.path),l=IDBKeyRange.lowerBound(o),c=vu(e).Z({range:l},(h,f,p)=>{const[m,y,v]=h,w=fs(y);m===this.userId&&s.path.isEqual(w)?r=r.add(v):p.done()});i.push(c)}),B.waitFor(i).next(()=>this.Mn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Cm(this.userId,r),o=IDBKeyRange.lowerBound(s);let l=new Bt(Je);return vu(e).Z({range:o},(c,h,f)=>{const[p,m,y]=c,v=fs(m);p===this.userId&&r.isPrefixOf(v)?v.length===i&&(l=l.add(y)):f.done()}).next(()=>this.Mn(e,l))}Mn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Ao(e).get(s).next(o=>{if(o===null)throw xe();Le(o.userId===this.userId),r.push(Wa(this.serializer,o))}))}),B.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return JF(e.ue,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.xn(n.batchId)}),B.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}xn(e){delete this.vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return B.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return vu(e).Z({range:r},(s,o,l)=>{if(s[0]===this.userId){const c=fs(s[1]);i.push(c)}else l.done()}).next(()=>{Le(i.length===0)})})}containsKey(e,n){return ZF(e,this.userId,n)}On(e){return eV(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ZF(t,e,n){const r=Cm(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return vu(t).Z({range:s,Y:!0},(l,c,h)=>{const[f,p,m]=l;f===e&&p===i&&(o=!0),h.done()}).next(()=>o)}function Ao(t){return Gn(t,"mutations")}function vu(t){return Gn(t,"documentMutations")}function eV(t){return Gn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new Al(0)}static Ln(){return new Al(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ee{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.kn(e).next(n=>{const r=new Al(n.highestTargetId);return n.highestTargetId=r.next(),this.qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.kn(e).next(n=>Ne.fromTimestamp(new rn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.kn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.kn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.qn(e,i)))}addTargetData(e,n){return this.Qn(e,n).next(()=>this.kn(e).next(r=>(r.targetCount+=1,this.Kn(n,r),this.qn(e,r))))}updateTargetData(e,n){return this.Qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>hu(e).delete(n.targetId)).next(()=>this.kn(e)).next(r=>(Le(r.targetCount>0),r.targetCount-=1,this.qn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return hu(e).Z((o,l)=>{const c=Uh(l);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>B.waitFor(s)).next(()=>i)}forEachTarget(e,n){return hu(e).Z((r,i)=>{const s=Uh(i);n(s)})}kn(e){return dP(e).get("targetGlobalKey").next(n=>(Le(n!==null),n))}qn(e,n){return dP(e).put("targetGlobalKey",n)}Qn(e,n){return hu(e).put(QF(this.serializer,n))}Kn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.kn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Il(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return hu(e).Z({range:i,index:"queryTargetsIndex"},(o,l,c)=>{const h=Uh(l);Od(n,h.target)&&(s=h,c.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Vo(e);return n.forEach(o=>{const l=Rr(o.path);i.push(s.put({targetId:r,path:l})),i.push(this.referenceDelegate.addReference(e,r,o))}),B.waitFor(i)}removeMatchingKeys(e,n,r){const i=Vo(e);return B.forEach(n,s=>{const o=Rr(s.path);return B.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Vo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Vo(e);let s=et();return i.Z({range:r,Y:!0},(o,l,c)=>{const h=fs(o[1]),f=new fe(h);s=s.add(f)}).next(()=>s)}containsKey(e,n){const r=Rr(n.path),i=IDBKeyRange.bound([r],[QM(r)],!1,!0);let s=0;return Vo(e).Z({index:"documentTargetsIndex",Y:!0,range:i},([o,l],c,h)=>{o!==0&&(s++,h.done())}).next(()=>s>0)}lt(e,n){return hu(e).get(n).next(r=>r?Uh(r):null)}}function hu(t){return Gn(t,"targets")}function dP(t){return Gn(t,"targetGlobal")}function Vo(t){return Gn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP([t,e],[n,r]){const i=Je(t,n);return i===0?Je(e,r):i}class jee{constructor(e){this.$n=e,this.buffer=new Bt(pP),this.Un=0}Wn(){return++this.Un}Gn(e){const n=[e,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();pP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Bee{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.zn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.jn(6e4)}stop(){this.zn&&(this.zn.cancel(),this.zn=null)}get started(){return this.zn!==null}jn(e){oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.zn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ia(n)?oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ta(n)}await this.jn(3e5)})}}class Uee{constructor(e,n){this.Hn=e,this.params=n}calculateTargetCount(e,n){return this.Hn.Jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve($r.ae);const r=new jee(n);return this.Hn.forEachTarget(e,i=>r.Gn(i.sequenceNumber)).next(()=>this.Hn.Yn(e,i=>r.Gn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Hn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Hn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(fP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fP):this.Zn(e,n))}getCacheSize(e){return this.Hn.getCacheSize(e)}Zn(e,n){let r,i,s,o,l,c,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(h=Date.now(),pu()<=mt.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(h-c)+`ms
Total Duration: ${h-f}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function zee(t,e){return new Uee(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qee{constructor(e,n){this.db=e,this.garbageCollector=zee(this,n)}Jn(e){const n=this.Xn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Xn(e){let n=0;return this.Yn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Yn(e,n){return this.er(e,(r,i)=>n(i))}addReference(e,n,r){return im(e,r)}removeReference(e,n,r){return im(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return im(e,n)}tr(e,n){return function(i,s){let o=!1;return eV(i).X(l=>ZF(i,l,s).next(c=>(c&&(o=!0),B.resolve(!c)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.er(e,(o,l)=>{if(l<=n){const c=this.tr(e,o).next(h=>{if(!h)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Ne.min()),Vo(e).delete(function(p){return[0,Rr(p.path)]}(o))))});i.push(c)}}).next(()=>B.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return im(e,n)}er(e,n){const r=Vo(e);let i,s=$r.ae;return r.Z({index:"documentTargetsIndex"},([o,l],{path:c,sequenceNumber:h})=>{o===0?(s!==$r.ae&&n(new fe(fs(i)),s),s=h,i=c):s=$r.ae}).next(()=>{s!==$r.ae&&n(new fe(fs(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function im(t,e){return Vo(t).put(function(r,i){return{targetId:0,path:Rr(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this.changes=new Sa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return $a(e).put(r)}removeEntry(e,n,r){return $a(e).delete(function(s,o){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Mg(o),l[l.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.nr(e,r)))}getEntry(e,n){let r=Gt.newInvalidDocument(n);return $a(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ah(n))},(i,s)=>{r=this.rr(n,s)}).next(()=>r)}ir(e,n){let r={size:0,document:Gt.newInvalidDocument(n)};return $a(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ah(n))},(i,s)=>{r={document:this.rr(n,s),size:Vg(s)}}).next(()=>r)}getEntries(e,n){let r=Br();return this.sr(e,n,(i,s)=>{const o=this.rr(i,s);r=r.insert(i,o)}).next(()=>r)}_r(e,n){let r=Br(),i=new Ut(fe.comparator);return this.sr(e,n,(s,o)=>{const l=this.rr(s,o);r=r.insert(s,l),i=i.insert(s,Vg(o))}).next(()=>({documents:r,ar:i}))}sr(e,n,r){if(n.isEmpty())return B.resolve();let i=new Bt(yP);n.forEach(c=>i=i.add(c));const s=IDBKeyRange.bound(Ah(i.first()),Ah(i.last())),o=i.getIterator();let l=o.getNext();return $a(e).Z({index:"documentKeyIndex",range:s},(c,h,f)=>{const p=fe.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;l&&yP(l,p)<0;)r(l,null),l=o.getNext();l&&l.isEqual(p)&&(r(l,h),l=o.hasNext()?o.getNext():null),l?f.W(Ah(l)):f.done()}).next(()=>{for(;l;)r(l,null),l=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,l=[o.popLast().toArray(),o.lastSegment(),Mg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $a(e).G(IDBKeyRange.bound(l,c,!0)).next(h=>{s==null||s.incrementDocumentReadCount(h.length);let f=Br();for(const p of h){const m=this.rr(fe.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);m.isFoundDocument()&&(kd(n,m)||i.has(m.key))&&(f=f.insert(m.key,m))}return f})}getAllFromCollectionGroup(e,n,r,i){let s=Br();const o=gP(n,r),l=gP(n,ai.max());return $a(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,l,!0)},(c,h,f)=>{const p=this.rr(fe.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);s=s.insert(p.key,p),s.size===i&&f.done()}).next(()=>s)}newChangeBuffer(e){return new Kee(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return mP(e).get("remoteDocumentGlobalKey").next(n=>(Le(!!n),n))}nr(e,n){return mP(e).put("remoteDocumentGlobalKey",n)}rr(e,n){if(n){const r=Pee(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ne.min())))return r}return Gt.newInvalidDocument(e)}}function nV(t){return new Wee(t)}class Kee extends tV{constructor(e,n){super(),this.ur=e,this.trackRemovals=n,this.cr=new Sa(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Bt((s,o)=>Je(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const l=this.cr.get(s);if(n.push(this.ur.removeEntry(e,s,l.readTime)),o.isValidDocument()){const c=tP(this.ur.serializer,o);i=i.add(s.path.popLast());const h=Vg(c);r+=h-l.size,n.push(this.ur.addEntry(e,s,c))}else if(r-=l.size,this.trackRemovals){const c=tP(this.ur.serializer,o.convertToNoDocument(Ne.min()));n.push(this.ur.addEntry(e,s,c))}}),i.forEach(s=>{n.push(this.ur.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ur.updateMetadata(e,r)),B.waitFor(n)}getFromCache(e,n){return this.ur.ir(e,n).next(r=>(this.cr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ur._r(e,n).next(({documents:r,ar:i})=>(i.forEach((s,o)=>{this.cr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function mP(t){return Gn(t,"remoteDocumentGlobal")}function $a(t){return Gn(t,"remoteDocumentsV14")}function Ah(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gP(t,e){const n=e.documentKey.path.toArray();return[t,Mg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function yP(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Je(n[s],r[s]),i)return i;return i=Je(n.length,r.length),i||(i=Je(n[n.length-2],r[r.length-2]),i||Je(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hee{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&lf(r.mutation,i,jr.empty(),rn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=et()){const i=ds();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=jh();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ds();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,et()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Br();const o=af(),l=function(){return af()}();return n.forEach((c,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof fo)?s=s.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),lf(f.mutation,h,f.mutation.getFieldMask(),rn.now())):o.set(h.key,jr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,f)=>o.set(h,f)),n.forEach((h,f)=>{var p;return l.set(h,new Hee(f,(p=o.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=af();let i=new Ut((o,l)=>o-l),s=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let f=r.get(c)||jr.empty();f=l.applyToLocalView(h,f),r.set(c,f);const p=(i.get(l.batchId)||et()).add(c);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,f=c.value,p=TF();f.forEach(m=>{if(!s.has(m)){const y=PF(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(ds());let l=-1,c=s;return o.next(h=>B.forEach(h,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?B.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{c=c.insert(f,m)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,et())).next(f=>({batchId:l,changes:EF(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let i=jh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=jh();return this.indexManager.getCollectionParents(e,s).next(l=>B.forEach(l,c=>{const h=function(p,m){return new ho(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,Gt.newInvalidDocument(f)))});let l=jh();return o.forEach((c,h)=>{const f=s.get(c);f!==void 0&&lf(f.mutation,h,jr.empty(),rn.now()),kd(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return B.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pn(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:pI(i.bundledQuery),readTime:Pn(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{constructor(){this.overlays=new Ut(fe.comparator),this.Pr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ds();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.It(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=ds(),s=n.length+1,o=new fe(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ut((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=s.get(h.largestBatchId);f===null&&(f=ds(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=ds(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return B.resolve(l)}It(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new hI(n,r));let s=this.Pr.get(n);s===void 0&&(s=et(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.Ir=new Bt(Bn.dr),this.Tr=new Bt(Bn.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new Bn(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new Bn(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new fe(new vt([])),r=new Bn(n,e),i=new Bn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new fe(new vt([])),r=new Bn(n,e),i=new Bn(n,e+1);let s=et();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Bn(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bn{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return fe.comparator(e.key,n.key)||Je(e.yr,n.yr)}static Er(e,n){return Je(e.yr,n.yr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yee{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Bt(Bn.dr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new uI(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Sr=this.Sr.add(new Bn(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bn(n,0),i=new Bn(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const l=this.br(o.yr);s.push(l)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(Je);return n.forEach(i=>{const s=new Bn(i,0),o=new Bn(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],l=>{r=r.add(l.yr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;fe.isDocumentKey(s)||(s=s.child(""));const o=new Bn(new fe(s),0);let l=new Bt(Je);return this.Sr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.yr)),!0)},o),B.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Le(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return B.forEach(n.mutations,i=>{const s=new Bn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new Bn(n,0),i=this.Sr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{constructor(e){this.Fr=e,this.docs=function(){return new Ut(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=Br();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Br();const o=n.path,l=new fe(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||tI(XM(f),r)<=0||(i.has(f.key)||kd(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){xe()}Mr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Jee(this)}getSize(e){return B.resolve(this.size)}}class Jee extends tV{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zee{constructor(e){this.persistence=e,this.Or=new Sa(n=>Il(n),Od),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.Nr=0,this.Br=new yI,this.targetCount=0,this.Lr=Al.Bn()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),B.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Al(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Qn(n),B.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n){this.kr={},this.overlays={},this.qr=new $r(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new Zee(this),this.indexManager=new Fee,this.remoteDocumentCache=function(i){return new Xee(i)}(r=>this.referenceDelegate.$r(r)),this.serializer=new GF(n),this.Ur=new Gee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qee,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new Yee(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const i=new ete(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(e,n){return B.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class ete extends ZM{constructor(e){super(),this.currentSequenceNumber=e}}class Qy{constructor(e){this.persistence=e,this.jr=new yI,this.Hr=null}static Jr(e){return new Qy(e)}get Yr(){if(this.Hr)return this.Hr;throw xe()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),B.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Yr,r=>{const i=fe.fromPath(r);return this.Zr(e,i).next(s=>{s||n.removeEntry(i,Ne.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return B.or([()=>B.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tte{constructor(e){this.serializer=e}B(e,n,r,i){const s=new Uy("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DC,{unique:!0}),c.createObjectStore("documentMutations")}(e),vP(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=B.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),vP(e)),o=o.next(()=>function(c){const h=c.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ne.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",f)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(c,h){return h.store("mutations").G().next(f=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DC,{unique:!0});const p=h.store("mutations"),m=f.map(y=>p.put(y));return B.waitFor(m)})}(e,s))),o=o.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ei(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ti(s)))),r<7&&i>=7&&(o=o.next(()=>this.ni(s))),r<8&&i>=8&&(o=o.next(()=>this.ri(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ii(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(c){const h=c.createObjectStore("documentOverlays",{keyPath:VZ});h.createIndex("collectionPathOverlayIndex",$Z,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",jZ,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(c){const h=c.createObjectStore("remoteDocumentsV14",{keyPath:bZ});h.createIndex("documentKeyIndex",AZ),h.createIndex("collectionGroupIndex",CZ)}(e)).next(()=>this.si(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.oi(e,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:NZ}).createIndex("sequenceNumberIndex",LZ,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:MZ}).createIndex("documentKeyIndex",FZ,{unique:!1})}(e))),o}ti(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=Vg(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ei(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next(i=>B.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",o).next(l=>B.forEach(l,c=>{Le(c.userId===s.userId);const h=Wa(this.serializer,c);return JF(e,s.userId,h).next(()=>{})}))}))}ni(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,l)=>{const c=new vt(o),h=function(p){return[0,Rr(p)]}(c);s.push(n.get(h).next(f=>f?B.resolve():(p=>n.put({targetId:0,path:Rr(p),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>B.waitFor(s))})}ri(e,n){e.createObjectStore("collectionParents",{keyPath:kZ});const r=n.store("collectionParents"),i=new gI,s=o=>{if(i.add(o)){const l=o.lastSegment(),c=o.popLast();return r.put({collectionId:l,parent:Rr(c)})}};return n.store("remoteDocuments").Z({Y:!0},(o,l)=>{const c=new vt(o);return s(c.popLast())}).next(()=>n.store("documentMutations").Z({Y:!0},([o,l,c],h)=>{const f=fs(l);return s(f.popLast())}))}ii(e){const n=e.store("targets");return n.Z((r,i)=>{const s=Uh(i),o=QF(this.serializer,s);return n.put(o)})}si(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const l=n.store("remoteDocumentsV14"),c=function(p){return p.document?new fe(vt.fromString(p.document.name).popFirst(5)):p.noDocument?fe.fromSegments(p.noDocument.path):p.unknownDocument?fe.fromSegments(p.unknownDocument.path):xe()}(o).path.toArray(),h={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(l.put(h))}).next(()=>B.waitFor(i))}oi(e,n){const r=n.store("mutations"),i=nV(this.serializer),s=new iV(Qy.Jr,this.serializer.ht);return r.G().next(o=>{const l=new Map;return o.forEach(c=>{var h;let f=(h=l.get(c.userId))!==null&&h!==void 0?h:et();Wa(this.serializer,c).keys().forEach(p=>f=f.add(p)),l.set(c.userId,f)}),B.forEach(l,(c,h)=>{const f=new zn(h),p=Hy.Pt(this.serializer,f),m=s.getIndexManager(f),y=Gy.Pt(f,this.serializer,m,s.referenceDelegate);return new rV(i,y,p,m).recalculateAndSaveOverlaysForDocumentKeys(new IE(n,$r.ae),c).next()})})}}function vP(t){t.createObjectStore("targetDocuments",{keyPath:OZ}).createIndex("documentTargetsIndex",DZ,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",PZ,{unique:!0}),t.createObjectStore("targetGlobal")}const P0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class vI{constructor(e,n,r,i,s,o,l,c,h,f,p=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this._i=s,this.window=o,this.document=l,this.ai=h,this.ui=f,this.ci=p,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.li=null,this.inForeground=!1,this.hi=null,this.Pi=null,this.Ii=Number.NEGATIVE_INFINITY,this.di=m=>Promise.resolve(),!vI.C())throw new re(q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qee(this,i),this.Ti=n+"main",this.serializer=new GF(c),this.Ei=new qi(this.Ti,this.ci,new tte(this.serializer)),this.Kr=new $ee(this.referenceDelegate,this.serializer),this.remoteDocumentCache=nV(this.serializer),this.Ur=new Oee,this.window&&this.window.localStorage?this.Ai=this.window.localStorage:(this.Ai=null,f===!1&&Cn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ri().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new re(q.FAILED_PRECONDITION,P0);return this.Vi(),this.mi(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Kr.getHighestSequenceNumber(e))}).then(e=>{this.qr=new $r(e,this.ai)}).then(()=>{this.Qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}gi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.k(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this._i.enqueueAndForget(async()=>{this.started&&await this.Ri()}))}Ri(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>sm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.pi(e).next(n=>{n||(this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.yi(e)).next(n=>this.isPrimary&&!n?this.wi(e).next(()=>!1):!!n&&this.Si(e).next(()=>!0))).catch(e=>{if(Ia(e))return oe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this._i.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}pi(e){return Ch(e).get("owner").next(n=>B.resolve(this.bi(n)))}Di(e){return sm(e).delete(this.clientId)}async Ci(){if(this.isPrimary&&!this.vi(this.Ii,18e5)){this.Ii=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Gn(n,"clientMetadata");return r.G().next(i=>{const s=this.Fi(i,18e5),o=i.filter(l=>s.indexOf(l)===-1);return B.forEach(o,l=>r.delete(l.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ai)for(const n of e)this.Ai.removeItem(this.Mi(n.clientId))}}fi(){this.Pi=this._i.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ri().then(()=>this.Ci()).then(()=>this.fi()))}bi(e){return!!e&&e.ownerId===this.clientId}yi(e){return this.ui?B.resolve(!0):Ch(e).get("owner").next(n=>{if(n!==null&&this.vi(n.leaseTimestampMs,5e3)&&!this.xi(n.ownerId)){if(this.bi(n)&&this.networkEnabled)return!0;if(!this.bi(n)){if(!n.allowTabSynchronization)throw new re(q.FAILED_PRECONDITION,P0);return!1}}return!(!this.networkEnabled||!this.inForeground)||sm(e).G().next(r=>this.Fi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,l=this.networkEnabled===i.networkEnabled;if(s||o&&l)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&oe("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Qr=!1,this.Oi(),this.Pi&&(this.Pi.cancel(),this.Pi=null),this.Ni(),this.Bi(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new IE(e,$r.ae);return this.wi(n).next(()=>this.Di(n))}),this.Ei.close(),this.Li()}Fi(e,n){return e.filter(r=>this.vi(r.updateTimeMs,n)&&!this.xi(r.clientId))}ki(){return this.runTransaction("getActiveClients","readonly",e=>sm(e).G().next(n=>this.Fi(n,18e5).map(r=>r.clientId)))}get started(){return this.Qr}getMutationQueue(e,n){return Gy.Pt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Vee(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return Hy.Pt(this.serializer,e)}getBundleCache(){return this.Ur}runTransaction(e,n,r){oe("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(c){return c===15?UZ:c===14?iF:c===13?rF:c===12?BZ:c===11?nF:void xe()}(this.ci);let o;return this.Ei.runTransaction(e,i,s,l=>(o=new IE(l,this.qr?this.qr.next():$r.ae),n==="readwrite-primary"?this.pi(o).next(c=>!!c||this.yi(o)).next(c=>{if(!c)throw Cn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)),new re(q.FAILED_PRECONDITION,JM);return r(o)}).next(c=>this.Si(o).next(()=>c)):this.qi(o).next(()=>r(o)))).then(l=>(o.raiseOnCommittedEvent(),l))}qi(e){return Ch(e).get("owner").next(n=>{if(n!==null&&this.vi(n.leaseTimestampMs,5e3)&&!this.xi(n.ownerId)&&!this.bi(n)&&!(this.ui||this.allowTabSynchronization&&n.allowTabSynchronization))throw new re(q.FAILED_PRECONDITION,P0)})}Si(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ch(e).put("owner",n)}static C(){return qi.C()}wi(e){const n=Ch(e);return n.get("owner").next(r=>this.bi(r)?(oe("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):B.resolve())}vi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Cn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Vi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.hi=()=>{this._i.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ri()))},this.document.addEventListener("visibilitychange",this.hi),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.hi&&(this.document.removeEventListener("visibilitychange",this.hi),this.hi=null)}mi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.li=()=>{this.Oi();const n=/(?:Version|Mobile)\/1[456]/;OY()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this._i.enterRestrictedMode(!0),this._i.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.li))}Bi(){this.li&&(this.window.removeEventListener("pagehide",this.li),this.li=null)}xi(e){var n;try{const r=((n=this.Ai)===null||n===void 0?void 0:n.getItem(this.Mi(e)))!==null;return oe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Cn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Oi(){if(this.Ai)try{this.Ai.setItem(this.Mi(this.clientId),String(Date.now()))}catch(e){Cn("Failed to set zombie client id.",e)}}Li(){if(this.Ai)try{this.Ai.removeItem(this.Mi(this.clientId))}catch{}}Mi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ch(t){return Gn(t,"owner")}function sm(t){return Gn(t,"clientMetadata")}function _I(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(e,n){let r=et(),i=et();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new wI(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Hi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new nte;return this.Yi(e,n,o).next(l=>{if(s.result=l,this.Wi)return this.Zi(e,n,o,l.size)})}).next(()=>s.result)}Zi(e,n,r,i){return r.documentReadCount<this.Gi?(pu()<=mt.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",mu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),B.resolve()):(pu()<=mt.DEBUG&&oe("QueryEngine","Query:",mu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(pu()<=mt.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",mu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):B.resolve())}Hi(e,n){if(qC(n))return B.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Lg(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=et(...s);return this.ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.Xi(n,l);return this.es(n,h,o,c.readTime)?this.Hi(e,Lg(n,null,"F")):this.ts(e,h,n,c)}))})))}Ji(e,n,r,i){return qC(n)||i.isEqual(Ne.min())?B.resolve(null):this.ji.getDocuments(e,r).next(s=>{const o=this.Xi(n,s);return this.es(n,o,r,i)?B.resolve(null):(pu()<=mt.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mu(n)),this.ts(e,o,n,YM(i,-1)).next(l=>l))})}Xi(e,n){let r=new Bt(_F(e));return n.forEach((i,s)=>{kd(e,s)&&(r=r.add(s))}),r}es(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(e,n,r){return pu()<=mt.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",mu(n)),this.ji.getDocumentsMatchingQuery(e,n,ai.min(),r)}ts(e,n,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rte{constructor(e,n,r,i){this.persistence=e,this.ns=n,this.serializer=i,this.rs=new Ut(Je),this.ss=new Sa(s=>Il(s),Od),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rV(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function oV(t,e,n,r){return new rte(t,e,n,r)}async function aV(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=et();for(const h of i){o.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}for(const h of s){l.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(h=>({cs:h,removedBatchIds:o,addedBatchIds:l}))})})}function ite(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n._s.newChangeBuffer({trackRemovals:!0});return function(l,c,h,f){const p=h.batch,m=p.keys();let y=B.resolve();return m.forEach(v=>{y=y.next(()=>f.getEntry(c,v)).next(w=>{const R=h.docVersions.get(v);Le(R!==null),w.version.compareTo(R)<0&&(p.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),f.addEntry(w)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=et();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function lV(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function ste(t,e){const n=me(t),r=e.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const l=[];e.targetChanges.forEach((f,p)=>{const m=i.get(p);if(!m)return;l.push(n.Kr.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Kr.addMatchingKeys(s,f.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken($n.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),function(w,R,T){return w.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,y,f)&&l.push(n.Kr.updateTargetData(s,y))});let c=Br(),h=et();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(uV(s,o,e.documentUpdates).next(f=>{c=f.ls,h=f.hs})),!r.isEqual(Ne.min())){const f=n.Kr.getLastRemoteSnapshotVersion(s).next(p=>n.Kr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return B.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(n.rs=i,s))}function uV(t,e,n){let r=et(),i=et();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Br();return n.forEach((l,c)=>{const h=s.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Ne.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):oe("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{ls:o,hs:i}})}function ote(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pc(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Kr.allocateTargetId(r).next(o=>(i=new qs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}async function mc(t,e,n){const r=me(t),i=r.rs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ia(o))throw o;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}function $g(t,e,n){const r=me(t);let i=Ne.min(),s=et();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,f){const p=me(c),m=p.ss.get(f);return m!==void 0?B.resolve(p.rs.get(m)):p.Kr.getTargetData(h,f)}(r,o,br(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ns.getDocumentsMatchingQuery(o,e,n?i:Ne.min(),n?s:et())).next(l=>(fV(r,vF(e),l),{documents:l,Ps:s})))}function cV(t,e){const n=me(t),r=me(n.Kr),i=n.rs.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.lt(s,e).next(o=>o?o.target:null))}function hV(t,e){const n=me(t),r=n.os.get(e)||Ne.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n._s.getAllFromCollectionGroup(i,e,YM(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(fV(n,e,i),i))}function fV(t,e,n){let r=t.os.get(e)||Ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.os.set(e,r)}async function ate(t,e,n,r){const i=me(t);let s=et(),o=Br();for(const h of n){const f=e.Is(h.metadata.name);h.document&&(s=s.add(f));const p=e.ds(h);p.setReadTime(e.Ts(h.metadata.readTime)),o=o.insert(f,p)}const l=i._s.newChangeBuffer({trackRemovals:!0}),c=await pc(i,function(f){return br(Nc(vt.fromString(`__bundle__/docs/${f}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",h=>uV(h,l,o).next(f=>(l.apply(h),f)).next(f=>i.Kr.removeMatchingKeysForTargetId(h,c.targetId).next(()=>i.Kr.addMatchingKeys(h,s,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,f.ls,f.hs)).next(()=>f.ls)))}async function lte(t,e,n=et()){const r=await pc(t,br(pI(e.bundledQuery))),i=me(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Pn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ur.saveNamedQuery(s,e);const l=r.withResumeToken($n.EMPTY_BYTE_STRING,o);return i.rs=i.rs.insert(l.targetId,l),i.Kr.updateTargetData(s,l).next(()=>i.Kr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Kr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Ur.saveNamedQuery(s,e))})}function _P(t,e){return`firestore_clients_${t}_${e}`}function wP(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function O0(t,e){return`firestore_targets_${t}_${e}`}class jg{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new re(i.error.code,i.error.message))),o?new jg(e,n,i.state,s):(Cn("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}As(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class uf{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new re(r.error.code,r.error.message))),s?new uf(e,r.state,i):(Cn("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}As(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bg{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=aI();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=eF(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Bg(e,s):(Cn("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class EI{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new EI(n.clientId,n.onlineState):(Cn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ME{constructor(){this.activeTargetIds=aI()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D0{constructor(e,n,r,i,s){this.window=e,this._i=n,this.persistenceKey=r,this.fs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.gs=this.ps.bind(this),this.ys=new Ut(Je),this.started=!1,this.ws=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ss=_P(this.persistenceKey,this.fs),this.bs=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.ys=this.ys.insert(this.fs,new ME),this.Ds=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Cs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.vs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Fs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Ms=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.gs)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.ki();for(const r of e){if(r===this.fs)continue;const i=this.getItem(_P(this.persistenceKey,r));if(i){const s=Bg.Es(r,i);s&&(this.ys=this.ys.insert(s.clientId,s))}}this.xs();const n=this.storage.getItem(this.Fs);if(n){const r=this.Os(n);r&&this.Ns(r)}for(const r of this.ws)this.ps(r);this.ws=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Bs(this.ys)}isActiveQueryTarget(e){let n=!1;return this.ys.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.ks(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(O0(this.persistenceKey,e));if(r){const i=uf.Es(e,r);i&&(n=i.state)}}return this.qs.Rs(e),this.xs(),n}removeLocalQueryTarget(e){this.qs.Vs(e),this.xs()}isLocalQueryTarget(e){return this.qs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(O0(this.persistenceKey,e))}updateQueryState(e,n,r){this.Qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.ks(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ks(e)}notifyBundleLoaded(e){this.$s(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.gs),this.removeItem(this.Ss),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return oe("SharedClientState","READ",e,n),n}setItem(e,n){oe("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){oe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ps(e){const n=e;if(n.storageArea===this.storage){if(oe("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ss)return void Cn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._i.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ds.test(n.key)){if(n.newValue==null){const r=this.Us(n.key);return this.Ws(r,null)}{const r=this.Gs(n.key,n.newValue);if(r)return this.Ws(r.clientId,r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(this.vs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(n.key===this.Fs){if(n.newValue!==null){const r=this.Os(n.newValue);if(r)return this.Ns(r)}}else if(n.key===this.bs){const r=function(s){let o=$r.ae;if(s!=null)try{const l=JSON.parse(s);Le(typeof l=="number"),o=l}catch(l){Cn("SharedClientState","Failed to read sequence number from WebStorage",l)}return o}(n.newValue);r!==$r.ae&&this.sequenceNumberHandler(r)}else if(n.key===this.Ms){const r=this.Ys(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Zs(i)))}}}else this.ws.push(n)})}}get qs(){return this.ys.get(this.fs)}xs(){this.setItem(this.Ss,this.qs.As())}Ls(e,n,r){const i=new jg(this.currentUser,e,n,r),s=wP(this.persistenceKey,this.currentUser,e);this.setItem(s,i.As())}ks(e){const n=wP(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Ks(e){const n={clientId:this.fs,onlineState:e};this.storage.setItem(this.Fs,JSON.stringify(n))}Qs(e,n,r){const i=O0(this.persistenceKey,e),s=new uf(e,n,r);this.setItem(i,s.As())}$s(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Ms,n)}Us(e){const n=this.Ds.exec(e);return n?n[1]:null}Gs(e,n){const r=this.Us(e);return Bg.Es(r,n)}zs(e,n){const r=this.Cs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return jg.Es(new zn(s),i,n)}Hs(e,n){const r=this.vs.exec(e),i=Number(r[1]);return uf.Es(i,n)}Os(e){return EI.Es(e)}Ys(e){return JSON.parse(e)}async js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Xs(e.batchId,e.state,e.error);oe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Js(e){return this.syncEngine.eo(e.targetId,e.state,e.error)}Ws(e,n){const r=n?this.ys.insert(e,n):this.ys.remove(e),i=this.Bs(this.ys),s=this.Bs(r),o=[],l=[];return s.forEach(c=>{i.has(c)||o.push(c)}),i.forEach(c=>{s.has(c)||l.push(c)}),this.syncEngine.no(o,l).then(()=>{this.ys=r})}Ns(e){this.ys.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Bs(e){let n=aI();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class dV{constructor(){this.ro=new ME,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new ME,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ute{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let om=null;function k0(){return om===null?om=function(){return 268435456+Math.round(2147483648*Math.random())}():om++,"0x"+om.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="WebChannelConnection";class fte extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(n,r,i,s,o){const l=k0(),c=this.Do(n,r);oe("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(h,s,o),this.vo(n,c,h,i).then(f=>(oe("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw Xi("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",c,"request:",i),f})}Fo(n,r,i,s,o,l){return this.bo(n,r,i,s,o)}Co(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Do(n,r){const i=cte[n];return`${this.po}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=k0();return new Promise((o,l)=>{const c=new lZ;c.setWithCredentials(!0),c.listenOnce(oZ.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case A0.NO_ERROR:const f=c.getResponseJson();oe(cr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case A0.TIMEOUT:oe(cr,`RPC '${e}' ${s} timed out`),l(new re(q.DEADLINE_EXCEEDED,"Request time out"));break;case A0.HTTP_ERROR:const p=c.getStatus();if(oe(cr,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const v=function(R){const T=R.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(T)>=0?T:q.UNKNOWN}(y.status);l(new re(v,y.message))}else l(new re(q.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new re(q.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{oe(cr,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);oe(cr,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)})}Mo(e,n,r){const i=k0(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iZ(),l=sZ(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Co(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");oe(cr,`Creating RPC '${e}' stream ${i}: ${f}`,c);const p=o.createWebChannel(f,c);let m=!1,y=!1;const v=new hte({ho:R=>{y?oe(cr,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(oe(cr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),oe(cr,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Po:()=>p.close()}),w=(R,T,S)=>{R.listen(T,I=>{try{S(I)}catch(E){setTimeout(()=>{throw E},0)}})};return w(p,tm.EventType.OPEN,()=>{y||oe(cr,`RPC '${e}' stream ${i} transport opened.`)}),w(p,tm.EventType.CLOSE,()=>{y||(y=!0,oe(cr,`RPC '${e}' stream ${i} transport closed`),v.mo())}),w(p,tm.EventType.ERROR,R=>{y||(y=!0,Xi(cr,`RPC '${e}' stream ${i} transport errored:`,R),v.mo(new re(q.UNAVAILABLE,"The operation could not be completed")))}),w(p,tm.EventType.MESSAGE,R=>{var T;if(!y){const S=R.data[0];Le(!!S);const I=S,E=I.error||((T=I[0])===null||T===void 0?void 0:T.error);if(E){oe(cr,`RPC '${e}' stream ${i} received error:`,E);const P=E.status;let O=function(W){const Y=On[W];if(Y!==void 0)return kF(Y)}(P),D=E.message;O===void 0&&(O=q.INTERNAL,D="Unknown error status: "+P+" with message "+E.message),y=!0,v.mo(new re(O,D)),p.close()}else oe(cr,`RPC '${e}' stream ${i} received:`,S),v.fo(S)}}),w(l,aZ.STAT_EVENT,R=>{R.stat===AC.PROXY?oe(cr,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===AC.NOPROXY&&oe(cr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Vo()},0),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(){return typeof window<"u"?window:null}function Nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t){return new wee(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n,r,i,s,o,l,c){this._i=e,this.Uo=r,this.Wo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new TI(e,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Cn(n.toString()),Cn("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{e(()=>{const i=new re(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dte extends mV{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=Iee(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ne.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ne.min():o.readTime?Pn(o.readTime):Ne.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=ed(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=kg(c)?{documents:UF(s,c)}:{query:zF(s,c)},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=FF(s,o.resumeToken);const h=PE(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(Ne.min())>0){l.readTime=dc(s,o.snapshotVersion.toTimestamp());const h=PE(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=xee(this.serializer,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=ed(this.serializer),n.removeTarget=e,this.n_(n)}}class pte extends mV{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=See(e.writeResults,e.commitTime),r=Pn(e.commitTime);return this.listener.T_(r,n)}return Le(!e.writeResults||e.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=ed(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>td(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mte extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new re(q.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new re(q.UNKNOWN,i.toString())})}Fo(e,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re(q.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class gte{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(Cn(n),this.p_=!1):oe("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yte{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(o=>{r.enqueueAndForget(async()=>{xa(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(c){const h=me(c);h.F_.add(4),await Fc(h),h.O_.set("Unknown"),h.F_.delete(4),await Vd(h)}(this))})}),this.O_=new gte(r,i)}}async function Vd(t){if(xa(t))for(const e of t.M_)await e(!0)}async function Fc(t){for(const e of t.M_)await e(!1)}function Yy(t,e){const n=me(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),xI(n)?SI(n):$c(n).Yo()&&II(n,e))}function nd(t,e){const n=me(t),r=$c(n);n.v_.delete(e),r.Yo()&&gV(n,e),n.v_.size===0&&(r.Yo()?r.e_():xa(n)&&n.O_.set("Unknown"))}function II(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$c(t).l_(e)}function gV(t,e){t.N_.Le(e),$c(t).h_(e)}function SI(t){t.N_=new gee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),$c(t).start(),t.O_.y_()}function xI(t){return xa(t)&&!$c(t).Jo()&&t.v_.size>0}function xa(t){return me(t).F_.size===0}function yV(t){t.N_=void 0}async function vte(t){t.v_.forEach((e,n)=>{II(t,e)})}async function _te(t,e){yV(t),xI(t)?(t.O_.b_(e),SI(t)):t.O_.set("Unknown")}async function wte(t,e,n){if(t.O_.set("Online"),e instanceof MF&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.v_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.v_.delete(l),i.N_.removeTarget(l))}(t,e)}catch(r){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ug(t,r)}else if(e instanceof km?t.N_.Ge(e):e instanceof LF?t.N_.Xe(e):t.N_.He(e),!n.isEqual(Ne.min()))try{const r=await lV(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.N_._t(o);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.v_.get(h);f&&s.v_.set(h,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,h)=>{const f=s.v_.get(c);if(!f)return;s.v_.set(c,f.withResumeToken($n.EMPTY_BYTE_STRING,f.snapshotVersion)),gV(s,c);const p=new qs(f.target,c,h,f.sequenceNumber);II(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){oe("RemoteStore","Failed to raise snapshot:",r),await Ug(t,r)}}async function Ug(t,e,n){if(!Ia(e))throw e;t.F_.add(1),await Fc(t),t.O_.set("Offline"),n||(n=()=>lV(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),t.F_.delete(1),await Vd(t)})}function vV(t,e){return e().catch(n=>Ug(t,n,e))}async function Vc(t){const e=me(t),n=fa(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;Ete(e);)try{const i=await ote(e.localStore,r);if(i===null){e.C_.length===0&&n.e_();break}r=i.batchId,Tte(e,i)}catch(i){await Ug(e,i)}_V(e)&&wV(e)}function Ete(t){return xa(t)&&t.C_.length<10}function Tte(t,e){t.C_.push(e);const n=fa(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function _V(t){return xa(t)&&!fa(t).Jo()&&t.C_.length>0}function wV(t){fa(t).start()}async function Ite(t){fa(t).A_()}async function Ste(t){const e=fa(t);for(const n of t.C_)e.d_(n.mutations)}async function xte(t,e,n){const r=t.C_.shift(),i=cI.from(r,e,n);await vV(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Vc(t)}async function Rte(t,e){e&&fa(t).I_&&await async function(r,i){if(function(o){return DF(o)&&o!==q.ABORTED}(i.code)){const s=r.C_.shift();fa(r).Xo(),await vV(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Vc(r)}}(t,e),_V(t)&&wV(t)}async function TP(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const r=xa(n);n.F_.add(3),await Fc(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),await Vd(n)}async function FE(t,e){const n=me(t);e?(n.F_.delete(2),await Vd(n)):e||(n.F_.add(2),await Fc(n),n.O_.set("Unknown"))}function $c(t){return t.B_||(t.B_=function(n,r,i){const s=me(n);return s.V_(),new dte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:vte.bind(null,t),Eo:_te.bind(null,t),c_:wte.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),xI(t)?SI(t):t.O_.set("Unknown")):(await t.B_.stop(),yV(t))})),t.B_}function fa(t){return t.L_||(t.L_=function(n,r,i){const s=me(n);return s.V_(),new pte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:Ite.bind(null,t),Eo:Rte.bind(null,t),E_:Ste.bind(null,t),T_:xte.bind(null,t)}),t.M_.push(async e=>{e?(t.L_.Xo(),await Vc(t)):(await t.L_.stop(),t.C_.length>0&&(oe("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new RI(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jc(t,e){if(Cn("AsyncQueue",`${e}: ${t}`),Ia(t))return new re(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=jh(),this.sortedSet=new Ut(this.comparator)}static emptySet(e){return new Ku(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ku)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ku;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.k_=new Ut(fe.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?e.type!==0&&r.type===3?this.k_=this.k_.insert(n,e):e.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.k_=this.k_.remove(n):e.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):xe():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class gc{constructor(e,n,r,i,s,o,l,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new gc(e,n,Ku.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bte{constructor(){this.Q_=void 0,this.listeners=[]}}class Ate{constructor(){this.queries=new Sa(e=>yF(e),Dd),this.onlineState="Unknown",this.K_=new Set}}async function bI(t,e){const n=me(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new bte),i)try{s.Q_=await n.onListen(r)}catch(o){const l=jc(o,`Initialization of query '${mu(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.listeners.push(e),e.U_(n.onlineState),s.Q_&&e.W_(s.Q_)&&CI(n)}async function AI(t,e){const n=me(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Cte(t,e){const n=me(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.listeners)l.W_(i)&&(r=!0);o.Q_=i}}r&&CI(n)}function Pte(t,e,n){const r=me(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function CI(t){t.K_.forEach(e=>{e.next()})}class PI{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(e,n){this.X_=e,this.byteLength=n}ea(){return"metadata"in this.X_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.serializer=e}Is(e){return _s(this.serializer,e)}ds(e){return e.metadata.exists?BF(this.serializer,e.document,!1):Gt.newNoDocument(this.Is(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Pn(e)}}class Dte{constructor(e,n,r){this.ta=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=EV(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++n;const r=vt.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ra(e){const n=new Map,r=new SP(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Is(i.metadata.name);for(const o of i.metadata.queries){const l=(n.get(o)||et()).add(s);n.set(o,l)}}return n}async complete(){const e=await ate(this.localStore,new SP(this.serializer),this.documents,this.ta.id),n=this.ra(this.documents);for(const r of this.queries)await lte(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function EV(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e){this.key=e}}class IV{constructor(e){this.key=e}}class SV{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=et(),this.mutatedKeys=et(),this.ua=_F(e),this.ca=new Ku(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new IP,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const m=i.get(f),y=kd(this.query,p)?p:null,v=!!m&&this.mutatedKeys.has(m.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let R=!1;m&&y?m.data.isEqual(y.data)?v!==w&&(r.track({type:3,doc:y}),R=!0):this.Ia(m,y)||(r.track({type:2,doc:y}),R=!0,(c&&this.ua(y,c)>0||h&&this.ua(y,h)<0)&&(l=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(c||h)&&(l=!0)),R&&(y?(o=o.add(y),s=w?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{ca:o,Pa:r,es:l,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.q_();s.sort((h,f)=>function(m,y){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return v(m)-v(y)}(h.type,f.type)||this.ua(h.doc,f.doc)),this.da(r);const o=n?this.Ta():[],l=this.aa.size===0&&this.current?1:0,c=l!==this._a;return this._a=l,s.length!==0||c?{snapshot:new gc(this.query,e.ca,i,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new IP,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=et(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new IV(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new TV(r))}),n}Ra(e){this.oa=e.Ps,this.aa=et();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return gc.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class kte{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Nte{constructor(e){this.key=e,this.ma=!1}}class Lte{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Sa(l=>yF(l),Dd),this.pa=new Map,this.ya=new Set,this.wa=new Ut(fe.comparator),this.Sa=new Map,this.ba=new yI,this.Da={},this.Ca=new Map,this.va=Al.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function Mte(t,e){const n=LI(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await pc(n.localStore,br(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await OI(n,e,r,l==="current",o.resumeToken),n.isPrimaryClient&&Yy(n.remoteStore,o)}return i}async function OI(t,e,n,r,i){t.Ma=(p,m,y)=>async function(w,R,T,S){let I=R.view.ha(T);I.es&&(I=await $g(w.localStore,R.query,!1).then(({documents:O})=>R.view.ha(O,I)));const E=S&&S.targetChanges.get(R.targetId),P=R.view.applyChanges(I,w.isPrimaryClient,E);return VE(w,R.targetId,P.Ea),P.snapshot}(t,p,m,y);const s=await $g(t.localStore,e,!0),o=new SV(e,s.Ps),l=o.ha(s.documents),c=Md.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(l,t.isPrimaryClient,c);VE(t,n,h.Ea);const f=new kte(e,n,o);return t.ga.set(e,f),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),h.snapshot}async function Fte(t,e){const n=me(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Dd(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await mc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),nd(n.remoteStore,r.targetId),yc(n,r.targetId)}).catch(Ta)):(yc(n,r.targetId),await mc(n.localStore,r.targetId,!0))}async function Vte(t,e,n){const r=MI(t);try{const i=await function(o,l){const c=me(o),h=rn.now(),f=l.reduce((y,v)=>y.add(v.key),et());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let v=Br(),w=et();return c._s.getEntries(y,f).next(R=>{v=R,v.forEach((T,S)=>{S.isValidDocument()||(w=w.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,v)).next(R=>{p=R;const T=[];for(const S of l){const I=dee(S,p.get(S.key).overlayedDocument);I!=null&&T.push(new fo(S.key,I,lF(I.value.mapValue),nn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,h,T,l)}).next(R=>{m=R;const T=R.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(y,R.batchId,T)})}).then(()=>({batchId:m.batchId,changes:EF(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let h=o.Da[o.currentUser.toKey()];h||(h=new Ut(Je)),h=h.insert(l,c),o.Da[o.currentUser.toKey()]=h}(r,i.batchId,n),await po(r,i.changes),await Vc(r.remoteStore)}catch(i){const s=jc(i,"Failed to persist write");n.reject(s)}}async function xV(t,e){const n=me(t);try{const r=await ste(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?Le(o.ma):i.removedDocuments.size>0&&(Le(o.ma),o.ma=!1))}),await po(n,r,e)}catch(r){await Ta(r)}}function xP(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const l=o.view.U_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=me(o);c.onlineState=l;let h=!1;c.queries.forEach((f,p)=>{for(const m of p.listeners)m.U_(l)&&(h=!0)}),h&&CI(c)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $te(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Ut(fe.comparator);o=o.insert(s,Gt.newNoDocument(s,Ne.min()));const l=et().add(s),c=new Ld(Ne.min(),new Map,new Ut(Je),o,l);await xV(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),NI(r)}else await mc(r.localStore,e,!1).then(()=>yc(r,e,n)).catch(Ta)}async function jte(t,e){const n=me(t),r=e.batch.batchId;try{const i=await ite(n.localStore,e);kI(n,r,null),DI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await po(n,i)}catch(i){await Ta(i)}}async function Bte(t,e,n){const r=me(t);try{const i=await function(o,l){const c=me(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return c.mutationQueue.lookupMutationBatch(h,l).next(p=>(Le(p!==null),f=p.keys(),c.mutationQueue.removeMutationBatch(h,p))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>c.localDocuments.getDocuments(h,f))})}(r.localStore,e);kI(r,e,n),DI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await po(r,i)}catch(i){await Ta(i)}}async function Ute(t,e){const n=me(t);xa(n.remoteStore)||oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const l=me(o);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>l.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Ca.get(r)||[];i.push(e),n.Ca.set(r,i)}catch(r){const i=jc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function DI(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function kI(t,e,n){const r=me(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function yc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||RV(t,r)})}function RV(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(nd(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),NI(t))}function VE(t,e,n){for(const r of n)r instanceof TV?(t.ba.addReference(r.key,e),zte(t,r)):r instanceof IV?(oe("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||RV(t,r.key)):xe()}function zte(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(oe("SyncEngine","New document in limbo: "+n),t.ya.add(r),NI(t))}function NI(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new fe(vt.fromString(e)),r=t.va.next();t.Sa.set(r,new Nte(n)),t.wa=t.wa.insert(n,r),Yy(t.remoteStore,new qs(br(Nc(n.path)),r,"TargetPurposeLimboResolution",$r.ae))}}async function po(t,e,n){const r=me(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((l,c)=>{o.push(r.Ma(c,e,n).then(h=>{if((h||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,h!=null&&h.fromCache?"not-current":"current"),h){i.push(h);const f=wI.$i(c.targetId,h);s.push(f)}}))}),await Promise.all(o),r.fa.c_(i),await async function(c,h){const f=me(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>B.forEach(h,m=>B.forEach(m.Qi,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>B.forEach(m.Ki,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Ia(p))throw p;oe("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const y=f.rs.get(m),v=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(v);f.rs=f.rs.insert(m,w)}}}(r.localStore,s))}async function qte(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const r=await aV(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(l=>{l.forEach(c=>{c.reject(new re(q.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await po(n,r.cs)}}function Wte(t,e){const n=me(t),r=n.Sa.get(e);if(r&&r.ma)return et().add(r.key);{let i=et();const s=n.pa.get(e);if(!s)return i;for(const o of s){const l=n.ga.get(o);i=i.unionWith(l.view.la)}return i}}async function Kte(t,e){const n=me(t),r=await $g(n.localStore,e.query,!0),i=e.view.Ra(r);return n.isPrimaryClient&&VE(n,e.targetId,i.Ea),i}async function Hte(t,e){const n=me(t);return hV(n.localStore,e).then(r=>po(n,r))}async function Gte(t,e,n,r){const i=me(t),s=await function(l,c){const h=me(l),f=me(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",p=>f.Fn(p,c).next(m=>m?h.localDocuments.getDocuments(p,m):B.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Vc(i.remoteStore):n==="acknowledged"||n==="rejected"?(kI(i,e,r||null),DI(i,e),function(l,c){me(me(l).mutationQueue).xn(c)}(i.localStore,e)):xe(),await po(i,s)):oe("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Qte(t,e){const n=me(t);if(LI(n),MI(n),e===!0&&n.Fa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await RP(n,r.toArray());n.Fa=!0,await FE(n.remoteStore,!0);for(const s of i)Yy(n.remoteStore,s)}else if(e===!1&&n.Fa!==!1){const r=[];let i=Promise.resolve();n.pa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(yc(n,o),mc(n.localStore,o,!0))),nd(n.remoteStore,o)}),await i,await RP(n,r),function(o){const l=me(o);l.Sa.forEach((c,h)=>{nd(l.remoteStore,h)}),l.ba.gr(),l.Sa=new Map,l.wa=new Ut(fe.comparator)}(n),n.Fa=!1,await FE(n.remoteStore,!1)}}async function RP(t,e,n){const r=me(t),i=[],s=[];for(const o of e){let l;const c=r.pa.get(o);if(c&&c.length!==0){l=await pc(r.localStore,br(c[0]));for(const h of c){const f=r.ga.get(h),p=await Kte(r,f);p.snapshot&&s.push(p.snapshot)}}else{const h=await cV(r.localStore,o);l=await pc(r.localStore,h),await OI(r,bV(h),o,!1,l.resumeToken)}i.push(l)}return r.fa.c_(s),i}function bV(t){return gF(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Yte(t){return function(n){return me(me(n).persistence).ki()}(me(t).localStore)}async function Xte(t,e,n,r){const i=me(t);if(i.Fa)return void oe("SyncEngine","Ignoring unexpected query state notification.");const s=i.pa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await hV(i.localStore,vF(s[0])),l=Ld.createSynthesizedRemoteEventForCurrentChange(e,n==="current",$n.EMPTY_BYTE_STRING);await po(i,o,l);break}case"rejected":await mc(i.localStore,e,!0),yc(i,e,r);break;default:xe()}}async function Jte(t,e,n){const r=LI(t);if(r.Fa){for(const i of e){if(r.pa.has(i)){oe("SyncEngine","Adding an already active target "+i);continue}const s=await cV(r.localStore,i),o=await pc(r.localStore,s);await OI(r,bV(s),o.targetId,!1,o.resumeToken),Yy(r.remoteStore,o)}for(const i of n)r.pa.has(i)&&await mc(r.localStore,i,!1).then(()=>{nd(r.remoteStore,i),yc(r,i)}).catch(Ta)}}function LI(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$te.bind(null,e),e.fa.c_=Cte.bind(null,e.eventManager),e.fa.xa=Pte.bind(null,e.eventManager),e}function MI(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jte.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bte.bind(null,e),e}function Zte(t,e,n){const r=me(t);(async function(s,o,l){try{const c=await o.getMetadata();if(await function(y,v){const w=me(y),R=Pn(v.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",T=>w.Ur.getBundleMetadata(T,v.id)).then(T=>!!T&&T.createTime.compareTo(R)>=0)}(s.localStore,c))return await o.close(),l._completeWith(function(y){return{taskState:"Success",documentsLoaded:y.totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}}(c)),Promise.resolve(new Set);l._updateProgress(EV(c));const h=new Dte(c,s.localStore,o.serializer);let f=await o.Oa();for(;f;){const m=await h.na(f);m&&l._updateProgress(m),f=await o.Oa()}const p=await h.complete();return await po(s,p.sa,void 0),await function(y,v){const w=me(y);return w.persistence.runTransaction("Save bundle","readwrite",R=>w.Ur.saveBundleMetadata(R,v))}(s.localStore,c),l._completeWith(p.progress),Promise.resolve(p.ia)}catch(c){return Xi("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class $E{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Fd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return oV(this.persistence,new sV,e.initialUser,this.serializer)}createPersistence(e){return new iV(Qy.Jr,this.serializer)}createSharedClientState(e){return new dV}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class AV extends $E{constructor(e,n,r){super(),this.Na=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await MI(this.Na.syncEngine),await Vc(this.Na.remoteStore),await this.persistence.gi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return oV(this.persistence,new sV,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Bee(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new SZ(n,this.persistence);return new IZ(e.asyncQueue,r)}createPersistence(e){const n=_I(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new vI(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,pV(),Nm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new dV}}class ene extends AV{constructor(e,n){super(e,n,!1),this.Na=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Na.syncEngine;this.sharedClientState instanceof D0&&(this.sharedClientState.syncEngine={Xs:Gte.bind(null,n),eo:Xte.bind(null,n),no:Jte.bind(null,n),ki:Yte.bind(null,n),Zs:Hte.bind(null,n)},await this.sharedClientState.start()),await this.persistence.gi(async r=>{await Qte(this.Na.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=pV();if(!D0.C(n))throw new re(q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=_I(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new D0(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class FI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qte.bind(null,this.syncEngine),await FE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ate}()}createDatastore(e){const n=Fd(e.databaseInfo.databaseId),r=function(s){return new fte(s)}(e.databaseInfo);return function(s,o,l,c){return new mte(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new yte(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>xP(this.syncEngine,n,0),function(){return EP.C()?new EP:new ute}())}createSyncEngine(e,n){return function(i,s,o,l,c,h,f){const p=new Lte(i,s,o,l,c,h);return f&&(p.Fa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=me(n);oe("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await Fc(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Cn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tne{constructor(e,n){this.ka=e,this.serializer=n,this.metadata=new Wn,this.buffer=new Uint8Array,this.qa=function(){return new TextDecoder("utf-8")}(),this.Qa().then(r=>{r&&r.ea()?this.metadata.resolve(r.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.X_)}`))},r=>this.metadata.reject(r))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(e===null)return null;const n=this.qa.decode(e),r=Number(n);isNaN(r)&&this.$a(`length string (${n}) is not valid number`);const i=await this.Ua(r);return new Ote(JSON.parse(i),e.length+r)}Wa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(this.buffer.length===0)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const n=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ga(){const e=await this.ka.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new re(q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(i,s){const o=me(i),l=ed(o.serializer)+"/documents",c={documents:s.map(m=>Zf(o.serializer,m))},h=await o.Fo("BatchGetDocuments",l,c,s.length),f=new Map;h.forEach(m=>{const y=Tee(o.serializer,m);f.set(y.key.toString(),y)});const p=[];return s.forEach(m=>{const y=f.get(m.toString());Le(!!y),p.push(y)}),p}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=fe.fromPath(r);this.mutations.push(new lI(i,this.precondition(i)))}),await async function(r,i){const s=me(r),o=ed(s.serializer)+"/documents",l={writes:i.map(c=>td(s.serializer,c))};await s.bo("Commit",o,l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw xe();n=Ne.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new re(q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ne.min())?nn.exists(!1):nn.updateTime(n):nn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ne.min()))throw new re(q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nn.updateTime(n)}return nn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.za=r.maxAttempts,this.Ho=new TI(this.asyncQueue,"transaction_retry")}run(){this.za-=1,this.ja()}ja(){this.Ho.Qo(async()=>{const e=new nne(this.datastore),n=this.Ha(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Ja(i)}))}).catch(r=>{this.Ja(r)})})}Ha(e){try{const n=this.updateFunction(e);return!Pd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ja(e){this.za>0&&this.Ya(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.ja(),Promise.resolve()))):this.deferred.reject(e)}Ya(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!DF(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zn.UNAUTHENTICATED,this.clientId=GM.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{oe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(oe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lm(t,e){t.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await aV(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function jE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VI(t);oe("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>TP(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>TP(e.remoteStore,s)),t._onlineComponents=e}function CV(t){return t.name==="FirebaseError"?t.code===q.FAILED_PRECONDITION||t.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function VI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!CV(n))throw n;Xi("Error using user provided cache. Falling back to memory cache: "+n),await Lm(t,new $E)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await Lm(t,new $E);return t._offlineComponents}async function Jy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await jE(t,t._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await jE(t,new FI))),t._onlineComponents}function PV(t){return VI(t).then(e=>e.persistence)}function $I(t){return VI(t).then(e=>e.localStore)}function OV(t){return Jy(t).then(e=>e.remoteStore)}function jI(t){return Jy(t).then(e=>e.syncEngine)}function sne(t){return Jy(t).then(e=>e.datastore)}async function vc(t){const e=await Jy(t),n=e.eventManager;return n.onListen=Mte.bind(null,e.syncEngine),n.onUnlisten=Fte.bind(null,e.syncEngine),n}function one(t){return t.asyncQueue.enqueue(async()=>{const e=await PV(t),n=await OV(t);return e.setNetworkEnabled(!0),function(i){const s=me(i);return s.F_.delete(0),Vd(s)}(n)})}function ane(t){return t.asyncQueue.enqueue(async()=>{const e=await PV(t),n=await OV(t);return e.setNetworkEnabled(!1),async function(i){const s=me(i);s.F_.add(0),await Fc(s),s.O_.set("Offline")}(n)})}function lne(t,e){const n=new Wn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const l=await function(h,f){const p=me(h);return p.persistence.runTransaction("read document","readonly",m=>p.localDocuments.getDocument(m,f))}(i,s);l.isFoundDocument()?o.resolve(l):l.isNoDocument()?o.resolve(null):o.reject(new re(q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=jc(l,`Failed to get document '${s} from cache`);o.reject(c)}}(await $I(t),e,n)),n.promise}function DV(t,e,n={}){const r=new Wn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,h){const f=new Xy({next:m=>{o.enqueueAndForget(()=>AI(s,p));const y=m.docs.has(l);!y&&m.fromCache?h.reject(new re(q.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?h.reject(new re(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new PI(Nc(l.path),f,{includeMetadataChanges:!0,Z_:!0});return bI(s,p)}(await vc(t),t.asyncQueue,e,n,r)),r.promise}function une(t,e){const n=new Wn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const l=await $g(i,s,!0),c=new SV(s,l.Ps),h=c.ha(l.documents),f=c.applyChanges(h,!1);o.resolve(f.snapshot)}catch(l){const c=jc(l,`Failed to execute query '${s} against cache`);o.reject(c)}}(await $I(t),e,n)),n.promise}function kV(t,e,n={}){const r=new Wn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,h){const f=new Xy({next:m=>{o.enqueueAndForget(()=>AI(s,p)),m.fromCache&&c.source==="server"?h.reject(new re(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new PI(l,f,{includeMetadataChanges:!0,Z_:!0});return bI(s,p)}(await vc(t),t.asyncQueue,e,n,r)),r.promise}function cne(t,e){const n=new Xy(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){me(i).K_.add(s),s.next()}(await vc(t),n)),()=>{n.La(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){me(i).K_.delete(s)}(await vc(t),n))}}function hne(t,e,n,r){const i=function(o,l){let c;return c=typeof o=="string"?NF().encode(o):o,function(f,p){return new tne(f,p)}(function(f,p){if(f instanceof Uint8Array)return bP(f,p);if(f instanceof ArrayBuffer)return bP(new Uint8Array(f),p);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),l)}(n,Fd(e));t.asyncQueue.enqueueAndForget(async()=>{Zte(await jI(t),i,r)})}function fne(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=me(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Ur.getNamedQuery(o,i))}(await $I(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t,e,n){if(!n)throw new re(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LV(t,e,n,r){if(e===!0&&r===!0)throw new re(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CP(t){if(!fe.isDocumentKey(t))throw new re(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PP(t){if(fe.isDocumentKey(t))throw new re(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe()}function Tt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zy(t);throw new re(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function MV(t,e){if(e<=0)throw new re(q.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NV((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $d{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new re(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OP(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fZ;switch(r.type){case"firstParty":return new gZ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=AP.get(n);r&&(oe("ComponentProvider","Removing Datastore"),AP.delete(n),r.terminate())}(this),Promise.resolve()}}function dne(t,e,n,r={}){var i;const s=(t=Tt(t,$d))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Xi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=zn.MOCK_USER;else{l=OL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new re(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new zn(h)}t._authCredentials=new dZ(new HM(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ar=class FV{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new FV(this.firestore,e,this._query)}},hn=class VV{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new VV(this.firestore,e,this._key)}},ea=class $V extends Ar{constructor(e,n,r){super(e,n,Nc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new fe(e))}withConverter(e){return new $V(this.firestore,e,this._path)}};function jV(t,e,...n){if(t=Mt(t),BI("collection","path",e),t instanceof $d){const r=vt.fromString(e,...n);return PP(r),new ea(t,null,r)}{if(!(t instanceof hn||t instanceof ea))throw new re(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return PP(r),new ea(t.firestore,null,r)}}function pne(t,e){if(t=Tt(t,$d),BI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new re(q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ar(t,null,function(r){return new ho(vt.emptyPath(),r)}(e))}function zg(t,e,...n){if(t=Mt(t),arguments.length===1&&(e=GM.V()),BI("doc","path",e),t instanceof $d){const r=vt.fromString(e,...n);return CP(r),new hn(t,null,new fe(r))}{if(!(t instanceof hn||t instanceof ea))throw new re(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return CP(r),new hn(t.firestore,t instanceof ea?t.converter:null,new fe(r))}}function BV(t,e){return t=Mt(t),e=Mt(e),(t instanceof hn||t instanceof ea)&&(e instanceof hn||e instanceof ea)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function UV(t,e){return t=Mt(t),e=Mt(e),t instanceof Ar&&e instanceof Ar&&t.firestore===e.firestore&&Dd(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mne{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new TI(this,"async_queue_retry"),this.ou=()=>{const n=Nm();n&&oe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=Nm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=Nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new Wn;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!Ia(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{this.nu=r,this.ru=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Cn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const i=RI.createAndSchedule(this,e,n,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&xe()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}function BE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class gne{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yne=-1;let Tn=class extends $d{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new mne}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zV(this),this._firestoreClient.terminate()}};function Qn(t){return t._firestoreClient||zV(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function zV(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,h,f){return new WZ(l,c,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,NV(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ine(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function vne(t,e){WV(t=Tt(t,Tn));const n=Qn(t);if(n._uninitializedComponentsProvider)throw new re(q.FAILED_PRECONDITION,"SDK cache is already specified.");Xi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new FI;return qV(n,i,new AV(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function _ne(t){WV(t=Tt(t,Tn));const e=Qn(t);if(e._uninitializedComponentsProvider)throw new re(q.FAILED_PRECONDITION,"SDK cache is already specified.");Xi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new FI;return qV(e,r,new ene(r,n.cacheSizeBytes))}function qV(t,e,n){const r=new Wn;return t.asyncQueue.enqueue(async()=>{try{await Lm(t,n),await jE(t,e),r.resolve()}catch(i){const s=i;if(!CV(s))throw s;Xi("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function wne(t){if(t._initialized&&!t._terminated)throw new re(q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wn;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!qi.C())return Promise.resolve();const i=r+"main";await qi.delete(i)}(_I(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Ene(t){return function(n){const r=new Wn;return n.asyncQueue.enqueueAndForget(async()=>Ute(await jI(n),r)),r.promise}(Qn(t=Tt(t,Tn)))}function Tne(t){return one(Qn(t=Tt(t,Tn)))}function Ine(t){return ane(Qn(t=Tt(t,Tn)))}function Sne(t,e){const n=Qn(t=Tt(t,Tn)),r=new gne;return hne(n,t._databaseId,e,r),r}function xne(t,e){return fne(Qn(t=Tt(t,Tn)),e).then(n=>n?new Ar(t,null,n.query):null)}function WV(t){if(t._initialized||t._terminated)throw new re(q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts($n.fromBase64String(e))}catch(n){throw new re(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ts($n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rne=/^__.*__$/;class bne{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lc(e,this.data,n,this.fieldTransforms)}}class KV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class tv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new tv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return qg(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(e.length===0)throw this.gu("Document fields must not be empty");if(HV(this.Tu)&&Rne.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class Ane{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fd(e)}wu(e,n,r,i=!1){return new tv({Tu:e,methodName:n,yu:r,path:wn.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $l(t){const e=t._freezeSettings(),n=Fd(t._databaseId);return new Ane(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nv(t,e,n,r,i,s={}){const o=t.wu(s.merge||s.mergeFields?2:0,e,n,i);WI("Data must be an object, but it was:",o,r);const l=YV(r,o);let c,h;if(s.merge)c=new jr(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const m=UE(e,p,n);if(!o.contains(m))throw new re(q.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);JV(f,m)||f.push(m)}c=new jr(f),h=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,h=o.fieldTransforms;return new bne(new tr(l),c,h)}class jd extends Vl{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.gu(`${this._methodName}() can only appear at the top level of your update data`):e.gu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jd}}function GV(t,e,n){return new tv({Tu:3,yu:e.settings.yu,methodName:t._methodName,Ru:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class UI extends Vl{_toFieldTransform(e){return new Nd(e.path,new hc)}isEqual(e){return e instanceof UI}}class Cne extends Vl{constructor(e,n){super(e),this.Su=n}_toFieldTransform(e){const n=GV(this,e,!0),r=this.Su.map(s=>jl(s,n)),i=new Sl(r);return new Nd(e.path,i)}isEqual(e){return this===e}}class Pne extends Vl{constructor(e,n){super(e),this.Su=n}_toFieldTransform(e){const n=GV(this,e,!0),r=this.Su.map(s=>jl(s,n)),i=new xl(r);return new Nd(e.path,i)}isEqual(e){return this===e}}class One extends Vl{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=new fc(e.serializer,xF(e.serializer,this.bu));return new Nd(e.path,n)}isEqual(e){return this===e}}function zI(t,e,n,r){const i=t.wu(1,e,n);WI("Data must be an object, but it was:",i,r);const s=[],o=tr.empty();Fl(r,(c,h)=>{const f=KI(e,c,n);h=Mt(h);const p=i.mu(f);if(h instanceof jd)s.push(f);else{const m=jl(h,p);m!=null&&(s.push(f),o.set(f,m))}});const l=new jr(s);return new KV(o,l,i.fieldTransforms)}function qI(t,e,n,r,i,s){const o=t.wu(1,e,n),l=[UE(e,r,n)],c=[i];if(s.length%2!=0)throw new re(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(UE(e,s[m])),c.push(s[m+1]);const h=[],f=tr.empty();for(let m=l.length-1;m>=0;--m)if(!JV(h,l[m])){const y=l[m];let v=c[m];v=Mt(v);const w=o.mu(y);if(v instanceof jd)h.push(y);else{const R=jl(v,w);R!=null&&(h.push(y),f.set(y,R))}}const p=new jr(h);return new KV(f,p,o.fieldTransforms)}function QV(t,e,n,r=!1){return jl(n,t.wu(r?4:3,e))}function jl(t,e){if(XV(t=Mt(t)))return WI("Unsupported field value:",e,t),YV(t,e);if(t instanceof Vl)return function(r,i){if(!HV(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&e.Tu!==4)throw e.gu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=jl(l,i.fu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=rn.fromDate(r);return{timestampValue:dc(i.serializer,s)}}if(r instanceof rn){const s=new rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dc(i.serializer,s)}}if(r instanceof ev)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ts)return{bytesValue:FF(i.serializer,r._byteString)};if(r instanceof hn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:dI(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${Zy(r)}`)}(t,e)}function YV(t,e){const n={};return sF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fl(t,(r,i)=>{const s=jl(i,e.Au(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function XV(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rn||t instanceof ev||t instanceof Ts||t instanceof hn||t instanceof Vl)}function WI(t,e,n){if(!XV(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Zy(n);throw r==="an object"?e.gu(t+" a custom object"):e.gu(t+" "+r)}}function UE(t,e,n){if((e=Mt(e))instanceof da)return e._internalPath;if(typeof e=="string")return KI(t,e);throw qg("Field path arguments must be of type string or ",t,!1,void 0,n)}const Dne=new RegExp("[~\\*/\\[\\]]");function KI(t,e,n){if(e.search(Dne)>=0)throw qg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new da(...e.split("."))._internalPath}catch{throw qg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new re(q.INVALID_ARGUMENT,l+t+c)}function JV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kne extends rd{data(){return super.data()}}function rv(t,e){return typeof e=="string"?KI(t,e):e instanceof da?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HI{}class Bd extends HI{}function Co(t,e,...n){let r=[];e instanceof HI&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof GI).length,l=s.filter(c=>c instanceof iv).length;if(o>1||o>0&&l>0)throw new re(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class iv extends Bd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new iv(e,n,r)}_apply(e){const n=this._parse(e);return t$(e._query,n),new Ar(e.firestore,e.converter,CE(e._query,n))}_parse(e){const n=$l(e.firestore);return function(s,o,l,c,h,f,p){let m;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new re(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){kP(p,f);const y=[];for(const v of p)y.push(DP(c,s,v));m={arrayValue:{values:y}}}else m=DP(c,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||kP(p,f),m=QV(l,o,p,f==="in"||f==="not-in");return ft.create(h,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Nne(t,e,n){const r=e,i=rv("where",t);return iv._create(i,r,n)}class GI extends HI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new GI(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)t$(o,c),o=CE(o,c)}(e._query,n),new Ar(e.firestore,e.converter,CE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QI extends Bd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new QI(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new re(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new re(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new qu(s,o);return function(h,f){if(sI(h)===null){const p=qy(h);p!==null&&n$(h,p,f.field)}}(i,l),l}(e._query,this._field,this._direction);return new Ar(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ho(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Lne(t,e="asc"){const n=e,r=rv("orderBy",t);return QI._create(r,n)}class sv extends Bd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new sv(e,n,r)}_apply(e){return new Ar(e.firestore,e.converter,Lg(e._query,this._limit,this._limitType))}}function Mne(t){return MV("limit",t),sv._create("limit",t,"F")}function Fne(t){return MV("limitToLast",t),sv._create("limitToLast",t,"L")}class ov extends Bd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ov(e,n,r)}_apply(e){const n=e$(e,this.type,this._docOrFields,this._inclusive);return new Ar(e.firestore,e.converter,function(i,s){return new ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function Vne(...t){return ov._create("startAt",t,!0)}function $ne(...t){return ov._create("startAfter",t,!1)}class av extends Bd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new av(e,n,r)}_apply(e){const n=e$(e,this.type,this._docOrFields,this._inclusive);return new Ar(e.firestore,e.converter,function(i,s){return new ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function jne(...t){return av._create("endBefore",t,!1)}function Bne(...t){return av._create("endAt",t,!0)}function e$(t,e,n,r){if(n[0]=Mt(n[0]),n[0]instanceof rd)return function(s,o,l,c,h){if(!c)throw new re(q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const f=[];for(const p of Wu(s))if(p.field.isKeyField())f.push(Tl(o,c.key));else{const m=c.data.field(p.field);if(zy(m))throw new re(q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){const y=p.field.canonicalString();throw new re(q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}f.push(m)}return new ha(f,h)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=$l(t.firestore);return function(o,l,c,h,f,p){const m=o.explicitOrderBy;if(f.length>m.length)throw new re(q.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let v=0;v<f.length;v++){const w=f[v];if(m[v].field.isKeyField()){if(typeof w!="string")throw new re(q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof w}`);if(!oI(o)&&w.indexOf("/")!==-1)throw new re(q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${w}' contains a slash.`);const R=o.path.child(vt.fromString(w));if(!fe.isDocumentKey(R))throw new re(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const T=new fe(R);y.push(Tl(l,T))}else{const R=QV(c,h,w);y.push(R)}}return new ha(y,p)}(t._query,t.firestore._databaseId,i,e,n,r)}}function DP(t,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new re(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oI(e)&&n.indexOf("/")!==-1)throw new re(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vt.fromString(n));if(!fe.isDocumentKey(r))throw new re(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tl(t,new fe(r))}if(n instanceof hn)return Tl(t,n._key);throw new re(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zy(n)}.`)}function kP(t,e){if(!Array.isArray(t)||t.length===0)throw new re(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t$(t,e){if(e.isInequality()){const r=qy(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new re(q.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=sI(t);s!==null&&n$(t,i,s)}const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new re(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function n$(t,e,n){if(!n.isEqual(e))throw new re(q.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class YI{convertValue(e,n="none"){switch(El(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new ev(vn(e.latitude),vn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yf(e));default:return null}}convertTimestamp(e){const n=aa(e);return new rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);Le(HF(r));const i=new ua(r.get(1),r.get(3)),s=new fe(r.popFirst(5));return i.isEqual(n)||Cn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Une extends YI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let oo=class extends rd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},cf=class extends oo{data(e={}){return super.data(e)}},pa=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new rl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cf(this._firestore,this._userDataWriter,r.key,r,new rl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new cf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new rl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new cf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new rl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:zne(l.type),doc:c,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function zne(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}function r$(t,e){return t instanceof oo&&e instanceof oo?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof pa&&e instanceof pa&&t._firestore===e._firestore&&UV(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qne(t){t=Tt(t,hn);const e=Tt(t.firestore,Tn);return DV(Qn(e),t._key).then(n=>XI(e,t,n))}class Bl extends YI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function Wne(t){t=Tt(t,hn);const e=Tt(t.firestore,Tn),n=Qn(e),r=new Bl(e);return lne(n,t._key).then(i=>new oo(e,r,t._key,i,new rl(i!==null&&i.hasLocalMutations,!0),t.converter))}function Kne(t){t=Tt(t,hn);const e=Tt(t.firestore,Tn);return DV(Qn(e),t._key,{source:"server"}).then(n=>XI(e,t,n))}function Hne(t){t=Tt(t,Ar);const e=Tt(t.firestore,Tn),n=Qn(e),r=new Bl(e);return ZV(t._query),kV(n,t._query).then(i=>new pa(e,r,t,i))}function Gne(t){t=Tt(t,Ar);const e=Tt(t.firestore,Tn),n=Qn(e),r=new Bl(e);return une(n,t._query).then(i=>new pa(e,r,t,i))}function Qne(t){t=Tt(t,Ar);const e=Tt(t.firestore,Tn),n=Qn(e),r=new Bl(e);return kV(n,t._query,{source:"server"}).then(i=>new pa(e,r,t,i))}function NP(t,e,n){t=Tt(t,hn);const r=Tt(t.firestore,Tn),i=lv(t.converter,e,n);return Ud(r,[nv($l(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,nn.none())])}function LP(t,e,n,...r){t=Tt(t,hn);const i=Tt(t.firestore,Tn),s=$l(i);let o;return o=typeof(e=Mt(e))=="string"||e instanceof da?qI(s,"updateDoc",t._key,e,n,r):zI(s,"updateDoc",t._key,e),Ud(i,[o.toMutation(t._key,nn.exists(!0))])}function Yne(t){return Ud(Tt(t.firestore,Tn),[new Mc(t._key,nn.none())])}function Xne(t,e){const n=Tt(t.firestore,Tn),r=zg(t),i=lv(t.converter,e);return Ud(n,[nv($l(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,nn.exists(!1))]).then(()=>r)}function i$(t,...e){var n,r,i;t=Mt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||BE(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges};if(BE(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,h,f;if(t instanceof hn)h=Tt(t.firestore,Tn),f=Nc(t._key.path),c={next:p=>{e[o]&&e[o](XI(h,t,p))},error:e[o+1],complete:e[o+2]};else{const p=Tt(t,Ar);h=Tt(p.firestore,Tn),f=p._query;const m=new Bl(h);c={next:y=>{e[o]&&e[o](new pa(h,m,p,y))},error:e[o+1],complete:e[o+2]},ZV(t._query)}return function(m,y,v,w){const R=new Xy(w),T=new PI(y,R,v);return m.asyncQueue.enqueueAndForget(async()=>bI(await vc(m),T)),()=>{R.La(),m.asyncQueue.enqueueAndForget(async()=>AI(await vc(m),T))}}(Qn(h),f,l,c)}function Jne(t,e){return cne(Qn(t=Tt(t,Tn)),BE(e)?e:{next:e})}function Ud(t,e){return function(r,i){const s=new Wn;return r.asyncQueue.enqueueAndForget(async()=>Vte(await jI(r),i,s)),s.promise}(Qn(t),e)}function XI(t,e,n){const r=n.docs.get(e._key),i=new Bl(t);return new oo(t,i,e._key,r,new rl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zne={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ere=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=$l(e)}set(e,n,r){this._verifyNotCommitted();const i=$o(e,this._firestore),s=lv(i.converter,n,r),o=nv(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,nn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=$o(e,this._firestore);let o;return o=typeof(n=Mt(n))=="string"||n instanceof da?qI(this._dataReader,"WriteBatch.update",s._key,n,r,i):zI(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,nn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=$o(e,this._firestore);return this._mutations=this._mutations.concat(new Mc(n._key,nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function $o(t,e){if((t=Mt(t)).firestore!==e)throw new re(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tre=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=$l(n)}get(n){const r=$o(n,this._firestore),i=new Une(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return xe();const o=s[0];if(o.isFoundDocument())return new rd(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new rd(this._firestore,i,r._key,null,r.converter);throw xe()})}set(n,r,i){const s=$o(n,this._firestore),o=lv(s.converter,r,i),l=nv(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,l),this}update(n,r,i,...s){const o=$o(n,this._firestore);let l;return l=typeof(r=Mt(r))=="string"||r instanceof da?qI(this._dataReader,"Transaction.update",o._key,r,i,s):zI(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,l),this}delete(n){const r=$o(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=$o(e,this._firestore),r=new Bl(this._firestore);return super.get(e).then(i=>new oo(this._firestore,r,n._key,i._document,new rl(!1,!1),n.converter))}};function nre(t,e,n){t=Tt(t,Tn);const r=Object.assign(Object.assign({},Zne),n);return function(s){if(s.maxAttempts<1)throw new re(q.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,l){const c=new Wn;return s.asyncQueue.enqueueAndForget(async()=>{const h=await sne(s);new rne(s.asyncQueue,h,l,o,c).run()}),c.promise}(Qn(t),i=>e(new tre(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rre(){return new jd("deleteField")}function ire(){return new UI("serverTimestamp")}function sre(...t){return new Cne("arrayUnion",t)}function ore(...t){return new Pne("arrayRemove",t)}function are(t){return new One("increment",t)}(function(e,n=!0){(function(i){kc=i})(xy),wl(new io("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Tn(new pZ(r.getProvider("auth-internal")),new vZ(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new re(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ua(h.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),vs(CC,"4.2.0",e),vs(CC,"4.2.0","esm2017")})();const lre={apiKey:"AIzaSyD7w6wRVPsf0DaH2YARMaFKXWJHjPsSd3s",authDomain:"pokemon-go-gym.firebaseapp.com",projectId:"pokemon-go-gym",storageBucket:"pokemon-go-gym.appspot.com",messagingSenderId:"48932195856",appId:"1:48932195856:web:93f21318228a7976e34495"};Pc.initializeApp(lre);const ure="@firebase/firestore-compat",cre="0.3.18";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new re("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(){if(typeof Uint8Array>"u")throw new re("unimplemented","Uint8Arrays are not available in this environment.")}function FP(){if(!zZ())throw new re("unimplemented","Blobs are unavailable in Firestore in this environment.")}let s$=class zE{constructor(e){this._delegate=e}static fromBase64String(e){return FP(),new zE(Ts.fromBase64String(e))}static fromUint8Array(e){return MP(),new zE(Ts.fromUint8Array(e))}toBase64(){return FP(),this._delegate.toBase64()}toUint8Array(){return MP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t){return hre(t,["next","error","complete"])}function hre(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fre{enableIndexedDbPersistence(e,n){return vne(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return _ne(e._delegate)}clearIndexedDbPersistence(e){return wne(e._delegate)}}class o${constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ua||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Xi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){dne(this._delegate,e,n,r)}enableNetwork(){return Tne(this._delegate)}disableNetwork(){return Ine(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,LV("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Ene(this._delegate)}onSnapshotsInSync(e){return Jne(this._delegate,e)}get app(){if(!this._appCompat)throw new re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _c(this,jV(this._delegate,e))}catch(n){throw Tr(n,"collection()","Firestore.collection()")}}doc(e){try{return new Si(this,zg(this._delegate,e))}catch(n){throw Tr(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Er(this,pne(this._delegate,e))}catch(n){throw Tr(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return nre(this._delegate,n=>e(new a$(this,n)))}batch(){return Qn(this._delegate),new l$(new ere(this._delegate,e=>Ud(this._delegate,e)))}loadBundle(e){return Sne(this._delegate,e)}namedQuery(e){return xne(this._delegate,e).then(n=>n?new Er(this,n):null)}}class uv extends YI{constructor(e){super(),this.firestore=e}convertBytes(e){return new s$(new Ts(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Si.forKey(n,this.firestore,null)}}function dre(t){cZ(t)}class a${constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new uv(e)}get(e){const n=il(e);return this._delegate.get(n).then(r=>new id(this._firestore,new oo(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=il(e);return r?(JI("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=il(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=il(e);return this._delegate.delete(n),this}}class l${constructor(e){this._delegate=e}set(e,n,r){const i=il(e);return r?(JI("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=il(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=il(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Cl{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new cf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sd(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Cl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Cl(e,new uv(e),n),i.set(n,s)),s}}Cl.INSTANCES=new WeakMap;class Si{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new uv(e)}static forPath(e,n,r){if(e.length%2!==0)throw new re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Si(n,new hn(n._delegate,r,new fe(e)))}static forKey(e,n,r){return new Si(n,new hn(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new _c(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _c(this.firestore,jV(this._delegate,e))}catch(n){throw Tr(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Mt(e),e instanceof hn?BV(this._delegate,e):!1}set(e,n){n=JI("DocumentReference.set",n);try{return n?NP(this._delegate,e,n):NP(this._delegate,e)}catch(r){throw Tr(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?LP(this._delegate,e):LP(this._delegate,e,n,...r)}catch(i){throw Tr(i,"updateDoc()","DocumentReference.update()")}}delete(){return Yne(this._delegate)}onSnapshot(...e){const n=u$(e),r=c$(e,i=>new id(this.firestore,new oo(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return i$(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Wne(this._delegate):(e==null?void 0:e.source)==="server"?n=Kne(this._delegate):n=qne(this._delegate),n.then(r=>new id(this.firestore,new oo(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Si(this.firestore,e?this._delegate.withConverter(Cl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Tr(t,e,n){return t.message=t.message.replace(e,n),t}function u$(t){for(const e of t)if(typeof e=="object"&&!qE(e))return e;return{}}function c$(t,e){var n,r;let i;return qE(t[0])?i=t[0]:qE(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class id{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Si(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return r$(this._delegate,e._delegate)}}class sd extends id{data(e){const n=this._delegate.data(e);return hZ(n!==void 0),n}}class Er{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new uv(e)}where(e,n,r){try{return new Er(this.firestore,Co(this._delegate,Nne(e,n,r)))}catch(i){throw Tr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Er(this.firestore,Co(this._delegate,Lne(e,n)))}catch(r){throw Tr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Er(this.firestore,Co(this._delegate,Mne(e)))}catch(n){throw Tr(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Er(this.firestore,Co(this._delegate,Fne(e)))}catch(n){throw Tr(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Er(this.firestore,Co(this._delegate,Vne(...e)))}catch(n){throw Tr(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Er(this.firestore,Co(this._delegate,$ne(...e)))}catch(n){throw Tr(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Er(this.firestore,Co(this._delegate,jne(...e)))}catch(n){throw Tr(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Er(this.firestore,Co(this._delegate,Bne(...e)))}catch(n){throw Tr(n,"endAt()","Query.endAt()")}}isEqual(e){return UV(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Gne(this._delegate):(e==null?void 0:e.source)==="server"?n=Qne(this._delegate):n=Hne(this._delegate),n.then(r=>new WE(this.firestore,new pa(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=u$(e),r=c$(e,i=>new WE(this.firestore,new pa(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return i$(this._delegate,n,r)}withConverter(e){return new Er(this.firestore,e?this._delegate.withConverter(Cl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class pre{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new sd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class WE{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Er(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new sd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new pre(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new sd(this._firestore,r))})}isEqual(e){return r$(this._delegate,e._delegate)}}class _c extends Er{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Si(this.firestore,e):null}doc(e){try{return e===void 0?new Si(this.firestore,zg(this._delegate)):new Si(this.firestore,zg(this._delegate,e))}catch(n){throw Tr(n,"doc()","CollectionReference.doc()")}}add(e){return Xne(this._delegate,e).then(n=>new Si(this.firestore,n))}isEqual(e){return BV(this._delegate,e._delegate)}withConverter(e){return new _c(this.firestore,e?this._delegate.withConverter(Cl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function il(t){return Tt(t,hn)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(...e){this._delegate=new da(...e)}static documentId(){return new ZI(wn.keyField().canonicalString())}isEqual(e){return e=Mt(e),e instanceof da?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this._delegate=e}static serverTimestamp(){const e=ire();return e._methodName="FieldValue.serverTimestamp",new Ga(e)}static delete(){const e=rre();return e._methodName="FieldValue.delete",new Ga(e)}static arrayUnion(...e){const n=sre(...e);return n._methodName="FieldValue.arrayUnion",new Ga(n)}static arrayRemove(...e){const n=ore(...e);return n._methodName="FieldValue.arrayRemove",new Ga(n)}static increment(e){const n=are(e);return n._methodName="FieldValue.increment",new Ga(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mre={Firestore:o$,GeoPoint:ev,Timestamp:rn,Blob:s$,Transaction:a$,WriteBatch:l$,DocumentReference:Si,DocumentSnapshot:id,Query:Er,QueryDocumentSnapshot:sd,QuerySnapshot:WE,CollectionReference:_c,FieldPath:ZI,FieldValue:Ga,setLogLevel:dre,CACHE_SIZE_UNLIMITED:yne};function gre(t,e){t.INTERNAL.registerComponent(new io("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},mre)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yre(t){gre(t,(e,n)=>new o$(e,n,new fre)),t.registerVersion(ure,cre)}yre(Pc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$="firebasestorage.googleapis.com",f$="storageBucket",vre=2*60*1e3,_re=10*60*1e3,wre=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn extends _a{constructor(e,n,r=0){super(N0(e),`Firebase Storage: ${n} (${N0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return N0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xt||(Xt={}));function N0(t){return"storage/"+t}function eS(){const t="An unknown error occurred, please check the error payload for server response.";return new dn(Xt.UNKNOWN,t)}function Ere(t){return new dn(Xt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Tre(t){return new dn(Xt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ire(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dn(Xt.UNAUTHENTICATED,t)}function Sre(){return new dn(Xt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function xre(t){return new dn(Xt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function d$(){return new dn(Xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function p$(){return new dn(Xt.CANCELED,"User canceled the upload/download.")}function Rre(t){return new dn(Xt.INVALID_URL,"Invalid URL '"+t+"'.")}function bre(t){return new dn(Xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Are(){return new dn(Xt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+f$+"' property when initializing the app?")}function m$(){return new dn(Xt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Cre(){return new dn(Xt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Pre(){return new dn(Xt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Ore(t){return new dn(Xt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Hu(t){return new dn(Xt.INVALID_ARGUMENT,t)}function g$(){return new dn(Xt.APP_DELETED,"The Firebase app was deleted.")}function y$(t){return new dn(Xt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hf(t,e){return new dn(Xt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ph(t){throw new dn(Xt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=fr.makeFromUrl(e,n)}catch{return new fr(e,"")}if(r.path==="")return r;throw bre(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function h(E){E.path_=decodeURIComponent(E.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${f}/b/${i}/o${m}`,"i"),v={bucket:1,path:3},w=n===h$?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",T=new RegExp(`^https?://${w}/${i}/${R}`,"i"),I=[{regex:l,indices:c,postModify:s},{regex:y,indices:v,postModify:h},{regex:T,indices:{bucket:1,path:2},postModify:h}];for(let E=0;E<I.length;E++){const P=I[E],O=P.regex.exec(e);if(O){const D=O[P.indices.bucket];let N=O[P.indices.path];N||(N=""),r=new fr(D,N),P.postModify(r);break}}if(r==null)throw Rre(e);return r}}class Dre{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kre(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function c(){return l===2}let h=!1;function f(...R){h||(h=!0,e.apply(null,R))}function p(R){i=setTimeout(()=>{i=null,t(y,c())},R)}function m(){s&&clearTimeout(s)}function y(R,...T){if(h){m();return}if(R){m(),f.call(null,R,...T);return}if(c()||o){m(),f.call(null,R,...T);return}r<64&&(r*=2);let I;l===1?(l=2,I=0):I=(r+Math.random())*1e3,p(I)}let v=!1;function w(R){v||(v=!0,m(),!h&&(i!==null?(R||(l=2),clearTimeout(i),p(0)):R||(l=1)))}return p(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function Nre(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lre(t){return t!==void 0}function Mre(t){return typeof t=="function"}function Fre(t){return typeof t=="object"&&!Array.isArray(t)}function cv(t){return typeof t=="string"||t instanceof String}function VP(t){return tS()&&t instanceof Blob}function tS(){return typeof Blob<"u"&&!DL()}function KE(t,e,n,r){if(r<e)throw Hu(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Hu(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function v$(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ul;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ul||(ul={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre{constructor(e,n,r,i,s,o,l,c,h,f,p,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=p,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,v)=>{this.resolve_=y,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new am(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const c=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===ul.NO_ERROR,c=s.getStatus();if(!l||_$(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===ul.ABORT;r(!1,new am(!1,null,f));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new am(h,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Lre(c)?s(c):s()}catch(c){o(c)}else if(l!==null){const c=eS();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?g$():p$();o(c)}else{const c=d$();o(c)}};this.canceled_?n(!1,new am(!1,null,!0)):this.backoffId_=kre(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Nre(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class am{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function $re(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function jre(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Bre(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Ure(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zre(t,e,n,r,i,s,o=!0){const l=v$(t.urlParams),c=t.url+l,h=Object.assign({},t.headers);return Bre(h,e),$re(h,n),jre(h,s),Ure(h,r),new Vre(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qre(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Wre(...t){const e=qre();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(tS())return new Blob(t);throw new dn(Xt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Kre(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hre(t){if(typeof atob>"u")throw Ore("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class L0{constructor(e,n){this.data=e,this.contentType=n||null}}function w$(t,e){switch(t){case xi.RAW:return new L0(E$(e));case xi.BASE64:case xi.BASE64URL:return new L0(T$(t,e));case xi.DATA_URL:return new L0(Qre(e),Yre(e))}throw eS()}function E$(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Gre(t){let e;try{e=decodeURIComponent(t)}catch{throw hf(xi.DATA_URL,"Malformed data URL.")}return E$(e)}function T$(t,e){switch(t){case xi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw hf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case xi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw hf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Hre(e)}catch(i){throw i.message.includes("polyfill")?i:hf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class I${constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw hf(xi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Xre(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Qre(t){const e=new I$(t);return e.base64?T$(xi.BASE64,e.rest):Gre(e.rest)}function Yre(t){return new I$(t).contentType}function Xre(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){let r=0,i="";VP(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(VP(this.data_)){const r=this.data_,i=Kre(r,e,n);return i===null?null:new js(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new js(r,!0)}}static getBlob(...e){if(tS()){const n=e.map(r=>r instanceof js?r.data_:r);return new js(Wre.apply(null,n))}else{const n=e.map(o=>cv(o)?w$(xi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new js(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(t){let e;try{e=JSON.parse(t)}catch{return null}return Fre(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jre(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Zre(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function S$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eie(t,e){return e}class _r{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||eie}}let lm=null;function tie(t){return!cv(t)||t.length<2?t:S$(t)}function hv(){if(lm)return lm;const t=[];t.push(new _r("bucket")),t.push(new _r("generation")),t.push(new _r("metageneration")),t.push(new _r("name","fullPath",!0));function e(s,o){return tie(o)}const n=new _r("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new _r("size");return i.xform=r,t.push(i),t.push(new _r("timeCreated")),t.push(new _r("updated")),t.push(new _r("md5Hash",null,!0)),t.push(new _r("cacheControl",null,!0)),t.push(new _r("contentDisposition",null,!0)),t.push(new _r("contentEncoding",null,!0)),t.push(new _r("contentLanguage",null,!0)),t.push(new _r("contentType",null,!0)),t.push(new _r("metadata","customMetadata",!0)),lm=t,lm}function nie(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new fr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function rie(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return nie(r,t),r}function x$(t,e,n){const r=nS(e);return r===null?null:rie(t,r,n)}function iie(t,e,n,r){const i=nS(e);if(i===null||!cv(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(h=>{const f=t.bucket,p=t.fullPath,m="/b/"+o(f)+"/o/"+o(p),y=Ra(m,n,r),v=v$({alt:"media",token:h});return y+v})[0]}function rS(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="prefixes",jP="items";function sie(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[$P])for(const i of n[$P]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new fr(e,s));r.prefixes.push(o)}if(n[jP])for(const i of n[jP]){const s=t._makeStorageReference(new fr(e,i.name));r.items.push(s)}return r}function oie(t,e,n){const r=nS(n);return r===null?null:sie(t,e,r)}class mo{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t){if(!t)throw eS()}function fv(t,e){function n(r,i){const s=x$(t,i,e);return ws(s!==null),s}return n}function aie(t,e){function n(r,i){const s=oie(t,e,i);return ws(s!==null),s}return n}function lie(t,e){function n(r,i){const s=x$(t,i,e);return ws(s!==null),iie(s,i,t.host,t._protocol)}return n}function Bc(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Sre():i=Ire():n.getStatus()===402?i=Tre(t.bucket):n.getStatus()===403?i=xre(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function dv(t){const e=Bc(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Ere(t.path)),s.serverResponse=i.serverResponse,s}return n}function R$(t,e,n){const r=e.fullServerUrl(),i=Ra(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new mo(i,s,fv(t,n),o);return l.errorHandler=dv(e),l}function uie(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),l=Ra(o,t.host,t._protocol),c="GET",h=t.maxOperationRetryTime,f=new mo(l,c,aie(t,e.bucket),h);return f.urlParams=s,f.errorHandler=Bc(e),f}function cie(t,e,n){const r=e.fullServerUrl(),i=Ra(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new mo(i,s,lie(t,n),o);return l.errorHandler=dv(e),l}function hie(t,e,n,r){const i=e.fullServerUrl(),s=Ra(i,t.host,t._protocol),o="PATCH",l=rS(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=t.maxOperationRetryTime,f=new mo(s,o,fv(t,r),h);return f.headers=c,f.body=l,f.errorHandler=dv(e),f}function fie(t,e){const n=e.fullServerUrl(),r=Ra(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(c,h){}const l=new mo(r,i,o,s);return l.successCodes=[200,204],l.errorHandler=dv(e),l}function die(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function b$(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=die(null,e)),r}function pie(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let I="";for(let E=0;E<2;E++)I=I+Math.random().toString().slice(2);return I}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const h=b$(e,r,i),f=rS(h,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+c+"--",y=js.getBlob(p,r,m);if(y===null)throw m$();const v={name:h.fullPath},w=Ra(s,t.host,t._protocol),R="POST",T=t.maxUploadRetryTime,S=new mo(w,R,fv(t,n),T);return S.urlParams=v,S.headers=o,S.body=y.uploadData(),S.errorHandler=Bc(e),S}class Wg{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function iS(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ws(!1)}return ws(!!n&&(e||["active"]).indexOf(n)!==-1),n}function mie(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=b$(e,r,i),l={name:o.fullPath},c=Ra(s,t.host,t._protocol),h="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},p=rS(o,n),m=t.maxUploadRetryTime;function y(w){iS(w);let R;try{R=w.getResponseHeader("X-Goog-Upload-URL")}catch{ws(!1)}return ws(cv(R)),R}const v=new mo(c,h,y,m);return v.urlParams=l,v.headers=f,v.body=p,v.errorHandler=Bc(e),v}function gie(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(h){const f=iS(h,["active","final"]);let p=null;try{p=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ws(!1)}p||ws(!1);const m=Number(p);return ws(!isNaN(m)),new Wg(m,r.size(),f==="final")}const o="POST",l=t.maxUploadRetryTime,c=new mo(n,o,s,l);return c.headers=i,c.errorHandler=Bc(e),c}const BP=256*1024;function yie(t,e,n,r,i,s,o,l){const c=new Wg(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw Cre();const h=c.total-c.current;let f=h;i>0&&(f=Math.min(f,i));const p=c.current,m=p+f;let y="";f===0?y="finalize":h===f?y="upload, finalize":y="upload";const v={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${c.current}`},w=r.slice(p,m);if(w===null)throw m$();function R(E,P){const O=iS(E,["active","final"]),D=c.current+f,N=r.size();let W;return O==="final"?W=fv(e,s)(E,P):W=null,new Wg(D,N,O==="final",W)}const T="POST",S=e.maxUploadRetryTime,I=new mo(n,T,R,S);return I.headers=v,I.body=w.uploadData(),I.progressCallback=l||null,I.errorHandler=Bc(t),I}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vie={STATE_CHANGED:"state_changed"},Ir={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function M0(t){switch(t){case"running":case"pausing":case"canceling":return Ir.RUNNING;case"paused":return Ir.PAUSED;case"success":return Ir.SUCCESS;case"canceled":return Ir.CANCELED;case"error":return Ir.ERROR;default:return Ir.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ie{constructor(e,n,r){if(Mre(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class wie{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ul.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ul.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ul.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ph("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ph("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ph("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ph("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ph("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Eie extends wie{initXhr(){this.xhr_.responseType="text"}}function ls(){return new Eie}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=hv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Xt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(_$(i.status,[]))if(s)i=d$();else{this.sleepTime=Math.max(this.sleepTime*2,wre),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Xt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=mie(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ls,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=gie(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,ls,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=BP*this._chunkMultiplier,n=new Wg(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=yie(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const l=this._ref.storage._makeRequest(o,ls,i,s,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){BP*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=R$(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ls,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=pie(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ls,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=p$(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=M0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new _ie(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(M0(this._state)){case Ir.SUCCESS:fu(this._resolve.bind(null,this.snapshot))();break;case Ir.CANCELED:case Ir.ERROR:const n=this._reject;fu(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(M0(this._state)){case Ir.RUNNING:case Ir.PAUSED:e.next&&fu(e.next.bind(e,this.snapshot))();break;case Ir.SUCCESS:e.complete&&fu(e.complete.bind(e))();break;case Ir.CANCELED:case Ir.ERROR:e.error&&fu(e.error.bind(e,this._error))();break;default:e.error&&fu(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this._service=e,n instanceof fr?this._location=n:this._location=fr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Pl(e,n)}get root(){const e=new fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return S$(this._location.path)}get storage(){return this._service}get parent(){const e=Jre(this._location.path);if(e===null)return null;const n=new fr(this._location.bucket,e);return new Pl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw y$(e)}}function Tie(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new A$(t,new js(e),n)}function Iie(t){const e={prefixes:[],items:[]};return C$(t,e).then(()=>e)}async function C$(t,e,n){const i=await P$(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await C$(t,e,i.nextPageToken)}function P$(t,e){e!=null&&typeof e.maxResults=="number"&&KE("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=uie(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,ls)}function Sie(t){t._throwIfRoot("getMetadata");const e=R$(t.storage,t._location,hv());return t.storage.makeRequestWithTokens(e,ls)}function xie(t,e){t._throwIfRoot("updateMetadata");const n=hie(t.storage,t._location,e,hv());return t.storage.makeRequestWithTokens(n,ls)}function Rie(t){t._throwIfRoot("getDownloadURL");const e=cie(t.storage,t._location,hv());return t.storage.makeRequestWithTokens(e,ls).then(n=>{if(n===null)throw Pre();return n})}function bie(t){t._throwIfRoot("deleteObject");const e=fie(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ls)}function O$(t,e){const n=Zre(t._location.path,e),r=new fr(t._location.bucket,n);return new Pl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aie(t){return/^[A-Za-z]+:\/\//.test(t)}function Cie(t,e){return new Pl(t,e)}function D$(t,e){if(t instanceof sS){const n=t;if(n._bucket==null)throw Are();const r=new Pl(n,n._bucket);return e!=null?D$(r,e):r}else return e!==void 0?O$(t,e):t}function Pie(t,e){if(e&&Aie(e)){if(t instanceof sS)return Cie(t,e);throw Hu("To use ref(service, url), the first argument must be a Storage instance.")}else return D$(t,e)}function UP(t,e){const n=e==null?void 0:e[f$];return n==null?null:fr.makeFromBucketSpec(n,t)}function Oie(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:OL(i,t.app.options.projectId))}class sS{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=h$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vre,this._maxUploadRetryTime=_re,this._requests=new Set,i!=null?this._bucket=fr.makeFromBucketSpec(i,this._host):this._bucket=UP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,e):this._bucket=UP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){KE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){KE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Dre(g$());{const o=zre(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const zP="@firebase/storage",qP="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Die="storage";function kie(t,e,n){return t=Mt(t),Tie(t,e,n)}function Nie(t){return t=Mt(t),Sie(t)}function Lie(t,e){return t=Mt(t),xie(t,e)}function Mie(t,e){return t=Mt(t),P$(t,e)}function Fie(t){return t=Mt(t),Iie(t)}function Vie(t){return t=Mt(t),Rie(t)}function $ie(t){return t=Mt(t),bie(t)}function WP(t,e){return t=Mt(t),Pie(t,e)}function jie(t,e){return O$(t,e)}function Bie(t,e,n,r={}){Oie(t,e,n,r)}function Uie(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new sS(n,r,i,e,xy)}function zie(){wl(new io(Die,Uie,"PUBLIC").setMultipleInstances(!0)),vs(zP,qP,""),vs(zP,qP,"esm2017")}zie();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new um(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new um(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(typeof n=="function"?s=o=>n(new um(o,this,this._ref)):s={next:n.next?o=>n.next(new um(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class HP{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Xs(e,this._service))}get items(){return this._delegate.items.map(e=>new Xs(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=jie(this._delegate,e);return new Xs(n,this.storage)}get root(){return new Xs(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new Xs(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new KP(kie(this._delegate,e,n),this)}putString(e,n=xi.RAW,r){this._throwIfRoot("putString");const i=w$(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new KP(new A$(this._delegate,new js(i.data,!0),s),this)}listAll(){return Fie(this._delegate).then(e=>new HP(e,this.storage))}list(e){return Mie(this._delegate,e||void 0).then(n=>new HP(n,this.storage))}getMetadata(){return Nie(this._delegate)}updateMetadata(e){return Lie(this._delegate,e)}getDownloadURL(){return Vie(this._delegate)}delete(){return this._throwIfRoot("delete"),$ie(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw y$(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(GP(e))throw Hu("ref() expected a child path but got a URL, use refFromURL instead.");return new Xs(WP(this._delegate,e),this)}refFromURL(e){if(!GP(e))throw Hu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{fr.makeFromUrl(e,this._delegate.host)}catch{throw Hu("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xs(WP(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){Bie(this._delegate,e,n,r)}}function GP(t){return/^[A-Za-z]+:\/\//.test(t)}const qie="@firebase/storage-compat",Wie="0.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kie="storage-compat";function Hie(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new k$(n,r)}function Gie(t){const e={TaskState:Ir,TaskEvent:vie,StringFormat:xi,Storage:k$,Reference:Xs};t.INTERNAL.registerComponent(new io(Kie,Hie,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(qie,Wie)}Gie(Pc);const pv=Pc.firestore(),Qie=async()=>{const t=await pv.collection("tier_collections").get();if(!t){console.log("tier collection is not exists.");return}const e=t.docs.map(r=>({tier:r.id,data:r.data()}));return await Promise.all(e)},Yie=()=>{const{handleTierPokemon:t,bestDamage:e,storeAllPokemon:n}=Or();x.useEffect(()=>{Qie().then(r=>{const i=r.sort((l,c)=>l.data.Order-c.data.Order),s={};for(let l=0;l<i.length;l++){const c=i[l].tier;s[c]||(s[c]=[]),s[c].push(i[l].data.Names)}const o=n.reduce((l,c)=>{if(c===void 0)return l;const{enName:h}=c,f=Object.keys(s).find(p=>s[p][0].includes(h));return f&&(l[f]||(l[f]=[]),l[f].push(c)),l},{});o&&t(o)})},[e])},Xie=async(t,e)=>(await t.get()).exists?(console.log(`${e} is ready exist!`),!0):(console.log(`${e} is not exist!`),!1),Jie=(t,e,n)=>{const{Types:r,zhName:i,enName:s,pokeId:o,sprite:l}=n,c=pv.batch();c.set(t,{enName:s});for(let h=0;h<e;h++){const f=t.collection("shards").doc(h.toString());c.set(f,{count:0})}return c.commit()},Zie=(t,e,n)=>{const r=Math.floor(Math.random()*e).toString();return t.collection("shards").doc(r).update("count",Pc.firestore.FieldValue.increment(n))},ese=async()=>{console.log("get all pokemon order");const t=await pv.collection("popular_pokemon_v2").get();if(!t)return;const e=t.docs.map(async r=>{const i=r.data().enName,o=await r.ref.collection("shards").get();if(!o)return;let l=0;return o.forEach(c=>{l+=c.data().count}),{enName:i,total:l}});return await Promise.all(e)},tse=t=>{try{t.forEach((e,n)=>{nse({value:e,zhName:n})}),console.log("post success")}catch(e){console.log("post error",e)}},nse=async t=>{console.log("post data to firebase");const{zhName:e,value:n}=t,r=10,i=pv.collection("popular_pokemon_v2").doc(e);await Xie(i,e)||Jie(i,r,n).then(o=>console.log(`Create new pokemon ${e} successful.`)).catch(o=>console.log(`Something wrong when create pokemon, msg:${o.message}`)),await Zie(i,r,n.amount).then(o=>console.log(`${e} count is increase`)).catch(o=>console.log(o.message))},rse=()=>{const{handlePopularPokemon:t}=Or();x.useEffect(()=>{ese().then(e=>{e.sort((n,r)=>r.total-n.total),t(e)})},[])},ise=()=>b.jsx("div",{style:{width:"100%",textAlign:"center"},children:b.jsx("div",{className:"loading"})}),sse=x.lazy(()=>I8(()=>Promise.resolve().then(()=>ZG),void 0)),ose=()=>{const{selectImg:t,showInfo_bestDamage:e,showType_bestDamage:n,bestDamage:r,tierPokemon:i}=Or();if(t.length!==0)return r.length===0?b.jsx("p",{className:"best-damage-no-data",children:"沒有共同相剋的屬性!"}):Object.keys(i).length>0?b.jsx(iL,{showInfo_select:e.type,showType_select:n.type,displayTier:i,bestDamage:r}):b.jsxs(b.Fragment,{children:[b.jsx("p",{}),b.jsx("p",{className:"best-damage-no-data",children:"目前沒有推薦屬性的神奇寶貝"})]})},ase=()=>{const{page:t,clickImg:e,selectImg:n,AddRemoveImg:r,RemoveImg:i,showInfo_select:s,showType_select:o,showInfo_beenSelect:l,showType_beenSelect:c,showInfo_bestDamage:h,showType_bestDamage:f,storeAllPokemon:p,bestDamage:m,tierPokemon:y}=Or();return{}.NODE_ENV==="production"&&console.log("production"),_Y(),rse(),Yie(),x.useEffect(()=>{const v=w=>(w.preventDefault(),e.size>0&&tse(e),w.returnValue="Are you sure you want to exit?");return window.addEventListener("beforeunload",v),()=>{window.removeEventListener("beforeunload",v)}},[e]),b.jsx("main",{children:b.jsxs("section",{className:"hero",children:[b.jsx(c0,{title:n0[0].title,typeClass:s.type,id:Gi,children:b.jsx(x.Suspense,{fallback:b.jsx(ise,{}),children:b.jsx(sse,{showInfo_select:s.type,showType_select:o.type,displayCharacter:p.slice(0,t),handleClick:r,id:Gi})})}),b.jsx(c0,{title:n0[1].title,typeClass:l.type,id:X1,children:b.jsx(sL,{showInfo_select:l.type,showType_select:c.type,displayCharacter:n,handleClick:i})}),b.jsx(c0,{title:n0[2].title,typeClass:h.type,id:pd,children:b.jsx(ose,{})})]})})},F0=()=>b.jsx(b.Fragment,{children:b.jsxs(k8,{children:[b.jsx(ase,{}),b.jsx(Qk,{})]})}),lse=()=>{const t=new Date().getFullYear(),{textColor:e,bgColor:n}=Ac();return b.jsx("footer",{className:`bg-${n} p-3`,children:b.jsx("div",{className:"container",children:b.jsxs("p",{className:"text-center",children:["Copyright © ",t," Pokemon Gym. All Rights Reserved."]})})})},use="/pokemon-Gym/assets/logo-0fa1e8ab.png";function cse(t){return dd({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z",clipRule:"evenodd"}}]})(t)}function hse(t){return dd({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.768 3.96v.001l-.002-.005a9.08 9.08 0 0 0-.218-.779c-.13-.394.21-.8.602-.67.29.096.575.205.855.328l.01.005A10.002 10.002 0 0 1 12 22a10.002 10.002 0 0 1-9.162-5.985l-.004-.01a9.722 9.722 0 0 1-.329-.855c-.13-.392.277-.732.67-.602.257.084.517.157.78.218l.004.002A9 9 0 0 0 14.999 6a9.09 9.09 0 0 0-.231-2.04ZM16.5 6c0 5.799-4.701 10.5-10.5 10.5-.426 0-.847-.026-1.26-.075A8.5 8.5 0 1 0 16.425 4.74c.05.413.075.833.075 1.259Z"}}]})(t)}function fse(t){return dd({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 19a7 7 0 1 1 0-14 7 7 0 0 1 0 14Zm0-1.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 1 0 0 11Zm-5.657.157a.75.75 0 0 1 0 1.06l-1.768 1.768a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.767-1.768a.75.75 0 0 1 1.061 0ZM3.515 3.515a.75.75 0 0 1 1.06 0l1.768 1.768a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L3.515 4.575a.75.75 0 0 1 0-1.06ZM12 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 12 0ZM4 12a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 12Zm8 8a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 12 20Zm12-8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 24 12Zm-6.343 5.657a.75.75 0 0 1 1.06 0l1.768 1.768a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-1.768-1.767a.75.75 0 0 1 0-1.061Zm2.828-14.142a.75.75 0 0 1 0 1.06l-1.768 1.768a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l1.767-1.768a.75.75 0 0 1 1.061 0Z"}}]})(t)}const dse=()=>{const{isDarkMode:t,handleIsDarkMode:e}=Ac();return b.jsx(b.Fragment,{children:b.jsx(Yp,{expand:"md","data-bs-theme":"dark",className:"bg-primary",children:b.jsxs(oT,{expand:"md",children:[b.jsxs(Yp.Brand,{as:Fo,to:"Gym",children:[b.jsx("img",{src:use,width:"30",height:"30",className:"d-inline-block align-top",alt:"Welcome to pokemon gym"}),b.jsx("span",{className:"text-capitalize",children:"pokemon gym"})]}),b.jsx(Yp.Toggle,{"aria-controls":"responsive-navbar-nav",children:b.jsx(cse,{})}),b.jsx(Yp.Collapse,{id:"responsive-navbar-nav",className:"justify-content-end",children:b.jsxs(Eh,{children:[b.jsx("div",{className:"theme-toggle",onClick:()=>{e()},children:t?b.jsx(hse,{}):b.jsx(fse,{})}),b.jsx(Eh.Link,{as:Fo,to:"About",children:"關於"}),b.jsx(Eh.Link,{as:Fo,to:"Pokedex",children:"圖鑑"}),b.jsx(Eh.Link,{as:Fo,to:"Gym",children:"道館"}),b.jsx(Eh.Link,{as:Fo,to:"Login",children:"登入/註冊"})]})})]})})})},pse=()=>b.jsx(b.Fragment,{children:b.jsxs(BG,{children:[b.jsx(dse,{}),b.jsx(Qk,{}),b.jsx(lse,{})]})}),V0=()=>b.jsxs("div",{id:"error-page",className:"text-center pt-5",children:[b.jsx("h1",{className:"text-danger",children:"Oops!"}),b.jsx("p",{className:"text-secondary",children:"Sorry, an unexpected error has occurred."})]}),mse="/pokemon-Gym/assets/personal-avatar-234ffb1f.jpg",gse=()=>b.jsx("section",{className:"text-center",children:b.jsxs(oT,{children:[b.jsx("h1",{children:"關於"}),b.jsx("hr",{}),b.jsxs(zA,{className:"justify-content-md-center",children:[b.jsx(Fh,{md:"5",children:b.jsx("p",{children:"Pokemon Gym是一款在打道館時，可以快速選擇相抗衡角色的網頁工具。"})}),b.jsx(Fh,{md:"5",children:b.jsx("p",{children:"開發理念在於不需要記下屬性相抗表、角色屬性，只需要透過搜尋、選擇，自動幫使用者帶出推薦的資料，節省查詢角色、開新視窗，進一步透過塞選屬性功能，在多選時也能夠帶出推薦的屬性。"})})]}),b.jsxs(zA,{className:"justify-content-md-center align-items-end",children:[b.jsx(Fh,{md:"auto",children:b.jsx("img",{id:"avatar",src:mse,alt:"personal avatar"})}),b.jsx(Fh,{md:"6",children:b.jsx("div",{style:{fontSize:"0.8rem"},children:"本網頁由PaddyTian獨立開發，使用JavaScript, React開發，了解更多可以留言私訊。"})})]})]})}),du=t=>t.map(({name:e})=>md.filter(({enName:n})=>e===n)[0]),yse=({title:t,detail_item:e,textColor:n})=>b.jsxs(b.Fragment,{children:[b.jsx("h6",{className:`text-${n}`,children:t}),b.jsx("div",{className:"mb-2",children:e.length===0?b.jsx("span",{className:`text-${n}`,children:"-"}):e.map(({zhName:r,bgColor:i})=>b.jsx("span",{className:"ps-2 pe-2 ms-1 me-1 rounded-3 text-light",style:{backgroundColor:i,cursor:"pointer"},children:r},Hi()))})]}),QP=()=>{const{isDarkMode:t,bgColor:e,textColor:n}=Ac(),{storeAllTypes:r}=Or();let i=Wk(),{type:s}=q7(),o=md.filter(W=>W.enName===s)[0],l=o==null?void 0:o.zhName,c=o==null?void 0:o.bgColor,h=r.filter(W=>W.name===s)[0],{damage_relations:f}=h||{},{double_damage_from:p,double_damage_to:m,half_damage_from:y,half_damage_to:v,no_damage_from:w,no_damage_to:R}=f||{},T=du(p),S=du(m),I=du(y),E=du(v),P=du(w),O=du(R);function D(){i(-1)}const N=[{title:"效果絕佳",detail_item:S},{title:"效果不好",detail_item:E},{title:"沒有效果",detail_item:O},{title:"遭受效果絕佳",detail_item:T},{title:"遭受效果不好",detail_item:I},{title:"沒有傷害",detail_item:P}];return b.jsxs($s,{show:!0,onHide:D,id:"typeView",fullscreen:"xs-down",children:[b.jsx($s.Header,{closeButton:!0,className:t?"bg-darkBg":"text-white-50",children:b.jsxs($s.Title,{children:[b.jsx("span",{style:{color:c},children:l}),b.jsx("span",{className:`text-${n}`,children:"屬性"})]})}),b.jsx($s.Body,{className:t?"bg-darkBg":"text-white-50",children:N.map(({title:W,detail_item:Y})=>b.jsx(yse,{title:W,detail_item:Y,textColor:n},Hi()))})]})},YP=()=>b.jsx("section",{className:"text-center fst-italic",children:b.jsx(oT,{children:b.jsx("h3",{children:"Coming Soon..."})})}),cm=!!{}.VITE_BASE_PATH,vse=l8([{path:"/pokemon-Gym",element:b.jsx(pse,{}),errorElement:b.jsx(V0,{}),children:[{errorElement:b.jsx(V0,{}),children:[{index:!0,element:b.jsx(F0,{})},{path:{}.VITE_BASE_PATH||"",element:b.jsx(F0,{}),children:[{path:"type/:type",element:b.jsx(QP,{})}]},{path:cm?"/Gym":"Gym",element:b.jsx(F0,{}),children:[{path:"type/:type",element:b.jsx(QP,{})}]},{path:cm?"/About":"About",element:b.jsx(gse,{})},{path:cm?"/Pokedex":"Pokedex",element:b.jsx(YP,{})},{path:cm?"/Login":"Login",element:b.jsx(YP,{})},{path:"*",element:b.jsx(V0,{})}]}]},{basename:"/pokemon-Gym"}]),_se=new Aq;$0.createRoot(document.getElementById("root")).render(b.jsx(Qt.StrictMode,{children:b.jsxs(Uq,{client:_se,children:[b.jsx(g8,{router:vse}),b.jsx(Gq,{initialIsOpen:!1})]})}));
